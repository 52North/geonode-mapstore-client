(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./MapStore2/web/client/actions/mapInfo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LOAD_FEATURE_INFO",(function(){return a})),r.d(t,"ERROR_FEATURE_INFO",(function(){return i})),r.d(t,"EXCEPTIONS_FEATURE_INFO",(function(){return s})),r.d(t,"CHANGE_MAPINFO_STATE",(function(){return l})),r.d(t,"NEW_MAPINFO_REQUEST",(function(){return c})),r.d(t,"PURGE_MAPINFO_RESULTS",(function(){return u})),r.d(t,"CHANGE_MAPINFO_FORMAT",(function(){return p})),r.d(t,"SHOW_MAPINFO_MARKER",(function(){return f})),r.d(t,"HIDE_MAPINFO_MARKER",(function(){return d})),r.d(t,"SHOW_REVERSE_GEOCODE",(function(){return m})),r.d(t,"HIDE_REVERSE_GEOCODE",(function(){return y})),r.d(t,"GET_VECTOR_INFO",(function(){return g})),r.d(t,"NO_QUERYABLE_LAYERS",(function(){return b})),r.d(t,"CLEAR_WARNING",(function(){return h})),r.d(t,"FEATURE_INFO_CLICK",(function(){return v})),r.d(t,"UPDATE_FEATURE_INFO_CLICK_POINT",(function(){return w})),r.d(t,"TOGGLE_HIGHLIGHT_FEATURE",(function(){return S})),r.d(t,"TOGGLE_MAPINFO_STATE",(function(){return j})),r.d(t,"UPDATE_CENTER_TO_MARKER",(function(){return O})),r.d(t,"CHANGE_PAGE",(function(){return x})),r.d(t,"CLOSE_IDENTIFY",(function(){return M})),r.d(t,"CHANGE_FORMAT",(function(){return P})),r.d(t,"TOGGLE_SHOW_COORD_EDITOR",(function(){return E})),r.d(t,"EDIT_LAYER_FEATURES",(function(){return T})),r.d(t,"SET_CURRENT_EDIT_FEATURE_QUERY",(function(){return C})),r.d(t,"SET_MAP_TRIGGER",(function(){return _})),r.d(t,"TOGGLE_EMPTY_MESSAGE_GFI",(function(){return L})),r.d(t,"toggleEmptyMessageGFI",(function(){return k})),r.d(t,"loadFeatureInfo",(function(){return I})),r.d(t,"errorFeatureInfo",(function(){return A})),r.d(t,"exceptionsFeatureInfo",(function(){return D})),r.d(t,"noQueryableLayers",(function(){return R})),r.d(t,"clearWarning",(function(){return N})),r.d(t,"newMapInfoRequest",(function(){return G})),r.d(t,"getVectorInfo",(function(){return F})),r.d(t,"changeMapInfoState",(function(){return U})),r.d(t,"purgeMapInfoResults",(function(){return z})),r.d(t,"changeMapInfoFormat",(function(){return B})),r.d(t,"showMapinfoMarker",(function(){return V})),r.d(t,"hideMapinfoMarker",(function(){return W})),r.d(t,"revGeocodeInfo",(function(){return q})),r.d(t,"showMapinfoRevGeocode",(function(){return H})),r.d(t,"hideMapinfoRevGeocode",(function(){return Z})),r.d(t,"toggleMapInfoState",(function(){return Y})),r.d(t,"updateCenterToMarker",(function(){return X})),r.d(t,"featureInfoClick",(function(){return J})),r.d(t,"updateFeatureInfoClickPoint",(function(){return K})),r.d(t,"toggleHighlightFeature",(function(){return Q})),r.d(t,"changePage",(function(){return $})),r.d(t,"closeIdentify",(function(){return ee})),r.d(t,"changeFormat",(function(){return te})),r.d(t,"toggleShowCoordinateEditor",(function(){return re})),r.d(t,"editLayerFeatures",(function(){return ne})),r.d(t,"setCurrentEditFeatureQuery",(function(){return oe})),r.d(t,"setMapTrigger",(function(){return ae}));var n=r("./MapStore2/web/client/api/Nominatim.js"),o=r.n(n),a="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",s="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",d="HIDE_MAPINFO_MARKER",m="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",g="GET_VECTOR_INFO",b="NO_QUERYABLE_LAYERS",h="CLEAR_WARNING",v="FEATURE_INFO_CLICK",w="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",S="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",j="TOGGLE_MAPINFO_STATE",O="UPDATE_CENTER_TO_MARKER",x="IDENTIFY:CHANGE_PAGE",M="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",E="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",T="IDENTIFY:EDIT_LAYER_FEATURES",C="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",L="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",k=function(){return{type:L}};function I(e,t,r,n,o){return{type:a,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:o}}function A(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function D(e,t,r,n){return{type:s,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function R(){return{type:b}}function N(){return{type:h}}function G(e,t){return{type:c,reqId:e,request:t}}function F(e,t,r,n){return{type:g,layer:e,request:t,metadata:r,queryableLayers:n}}function U(e){return{type:l,enabled:e}}function z(){return{type:u}}function B(e){return{type:p,infoFormat:e}}function V(){return{type:f}}function W(){return{type:d}}function q(e){return{type:m,reverseGeocodeData:e.data}}function H(e){return function(t){o.a.reverseGeocode(e).then((function(e){t(q(e))})).catch((function(e){t(q(e))}))}}function Z(){return{type:y}}function Y(){return{type:j}}function X(e){return{type:O,status:e}}function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function K(e){return{type:w,point:e}}function Q(e){return{type:S,enabled:e}}function $(e){return{type:x,index:e}}var ee=function(){return{type:M}},te=function(e){return{type:P,format:e}},re=function(e){return{type:E,showCoordinateEditor:e}},ne=function(e){return{type:T,layer:e}},oe=function(e){return{type:C,query:e}},ae=function(e){return{type:_,trigger:e}}},"./MapStore2/web/client/api/Nominatim.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/url/url.js"),a=r("./node_modules/object-assign/index.js"),i={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(e,t){var r=a({q:e},i,t||{}),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return n.get(s)},reverseGeocode:function(e,t){var r=a({lat:e.lat,lon:e.lng},t||{},i),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return n.get(s)}};e.exports=s},"./MapStore2/web/client/api/identify.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/rxjs/Rx.js"),a=r("./MapStore2/web/client/utils/MapInfoUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/libs/ajax.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.attachJSON,p=a.itemId,f=void 0===p?null:p,m=function(t){return o.Observable.defer((function(){return l.a.get(e,{params:t})}))},y=function(t){return i.a.getIdentifyFlow(r,e,t)},g=i.a.getIdentifyFlow(r,e,t)?y:m;return s&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?o.Observable.forkJoin(g(t),g(d(d({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return o.Observable.of({})}))).map((function(e){var t=u(e,2),r=t[0],o=t[1];return d(d({},r),{},{features:o&&o.features&&o.features.filter((function(e){return!!Object(n.isNil)(f)||e.id===f})),featuresCrs:o&&o.crs&&Object(c.parseURN)(o.crs)})})):g(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Object(n.isString)(e)?e:d(d({},e),{},{features:e.features&&e.features.filter((function(e){return!f||e.id===f}))}),features:e.features&&e.features.filter((function(e){return!f||e.id===f})),featuresCrs:e&&e.crs&&Object(c.parseURN)(e.crs)}}))}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.context.intl?f.createElement(d,{id:this.props.msgId,values:this.props.msgParams}):f.createElement("span",null,this.props.msgId||"")}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(m,"propTypes",{msgId:p.string.isRequired,msgParams:p.object}),u(m,"contextTypes",{intl:p.object}),e.exports=m},"./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js");r("./MapStore2/web/client/components/I18N/css/formControlIntl.css");var g=r("./node_modules/react-numeric-input/index.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,r,n,u=c(f);function f(){var e;i(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=u.call.apply(u,[this].concat(r))),"parse",(function(t){var r=t;if(NaN!==r&&"NaN"!==r){var n=e.context&&e.context.intl&&e.context.intl.locale||"en-US",o=new Intl.NumberFormat(n),a=o.formatToParts(12345.6),i=Array.from({length:10}).map((function(e,t){return o.format(t)})),s=new Map(i.map((function(e,t){return[e,t]}))),l=new RegExp("[".concat(a.find((function(e){return"group"===e.type})).value,"]"),"g"),c=new RegExp("[".concat(a.find((function(e){return"decimal"===e.type})).value,"]")),u=new RegExp("[".concat(i.join(""),"]"),"g");return(r=r.trim().replace(l,"").replace(c,".").replace(u,(function(e){return s.get(e)})))?+r:NaN}return""})),d(p(e),"format",(function(t){if(!isNaN(t)&&"NaN"!==t){var r=e.context&&e.context.intl&&e.context.intl.locale||"en-US";return new Intl.NumberFormat(r,{minimumFractionDigits:0,maximumFractionDigits:20}).format(t)}return""})),e}return t=f,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.onChange,t.onBlur),n=t.disabled,i=(t.type,t.step),s=t.value,l=t.defaultValue,c=a(t,["onChange","onBlur","disabled","type","step","value","defaultValue"]);return y.createElement(g,o({id:"intl-numeric",step:i},c,void 0!==s?{value:this.format(s)}:{defaultValue:this.format(l)},{format:this.format,onKeyUp:function(e){e.target.setSelectionRange(-1,-1)},onChange:function(t){null===t?e.props.onChange(""):e.props.onChange(t.toString())},onBlur:function(t){r&&(t.target.value=e.parse(t.target.value),r(t))},disabled:n||!1,parse:this.parse,onKeyPress:function(e){null!==e.key.match(/^[a-zA-Z]*$/)&&e.preventDefault()},componentClass:"input",className:"form-control"}))}}])&&s(t.prototype,r),n&&s(t,n),f}(y.Component);d(b,"propTypes",{type:m.oneOfType([m.string,m.number]),value:m.oneOfType([m.string,m.number]),defaultValue:m.oneOfType([m.string,m.number]),onChange:m.func,step:m.number,locale:m.string,disabled:m.bool,onBlur:m.func}),d(b,"contextTypes",{intl:m.object}),e.exports=b},"./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./MapStore2/web/client/utils/MapInfoUtils.js"),g=r("./MapStore2/web/client/components/I18N/HTML.jsx"),b=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=r("./node_modules/react-bootstrap/es/index.js"),v=h.Alert,w=h.Panel,S=h.Accordion,j=r("./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx"),O=r("./MapStore2/node_modules/lodash/lodash.js"),x=O.isEmpty,M=O.reverse,P=r("./MapStore2/web/client/utils/IdentifyUtils.js").getFormatForResponse,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),r=e.props.responses.map((function(e){return void 0===e?{}:e})),n=e.props.renderEmpty?t.getValidResponses(r,e.props.renderEmpty):r,o=t.getNoValidResponses(e.props.responses),a=e.props.requests.length===o.length;return{validResponses:n,currResponse:e.getCurrentResponse(n[e.props.index]),emptyResponses:a,invalidResponses:o}})),f(u(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t],!0)})),f(u(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),r=t.invalidResponses,n=t.emptyResponses;if(0===e.props.missingResponses&&n)return null;var o=0!==r.length;if(e.props.renderEmpty||(o=o&&0===e.props.missingResponses),o){var a=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?d.createElement(v,{bsStyle:"info"},d.createElement(b,{msgId:"noInfoForLayers"}),d.createElement("b",null,a.join(", "))):null}return null})),f(u(e),"renderPage",(function(t){var r=e.props.viewers[e.props.format];return r?d.createElement(r,{response:t}):null})),f(u(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?d.createElement(v,{bsStyle:"danger"},d.createElement("h4",null,d.createElement(g,{msgId:"noFeatureInfo"}))):null})),f(u(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(r,n){var a,i,s=r.response,l=r.layerMetadata,c=P(r,e.props),u=e.props.header;return(null==l||null===(a=l.viewer)||void 0===a?void 0:a.type)&&(i=y.getViewer(l.viewer.type)),d.createElement(w,{eventKey:n,key:n,collapsible:e.props.collapsible,header:u?d.createElement("span",null,d.createElement(u,o({size:t.length},e.props.headerOptions,l,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},d.createElement(j,{response:s,format:c,viewers:i||e.props.viewers,layer:l}))}))})),f(u(e),"containerStyle",(function(t){return x(t)&&e.props.isMobile?{height:"100%"}:{display:x(t)?"none":"block"}})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,r=this.getResponseProperties(),n=r.currResponse,a=r.emptyResponses,i=[this.renderEmptyLayers(),d.createElement(t,o({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(n),className:"swipeable-view"}),this.renderPages())];return i=this.props.isMobile?i:M(i),d.createElement("div",{className:"mapstore-identify-viewer"},a?this.renderEmptyPages():i.map((function(e){return e})))}}])&&i(t.prototype,r),n&&i(t,n),p}(d.Component);f(E,"propTypes",{format:m.string,collapsible:m.bool,requests:m.array,responses:m.array,missingResponses:m.number,container:m.oneOfType([m.object,m.func]),header:m.oneOfType([m.object,m.func]),headerOptions:m.object,validator:m.func,viewers:m.object,style:m.object,containerProps:m.object,index:m.number,onNext:m.func,onPrevious:m.func,onUpdateIndex:m.func,setIndex:m.func,showEmptyMessageGFI:m.bool,renderEmpty:m.bool,loaded:m.bool,isMobile:m.bool}),f(E,"defaultProps",{format:y.getDefaultInfoFormatValue(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:S,validator:y.getValidator,viewers:y.getViewers(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1}),e.exports=E},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Glyphicon,g=m.Button,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?d.createElement(g,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"})):d.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"}))})),p(c(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?d.createElement(g,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"})):d.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"}))})),e}return t=u,(r=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return d.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),d.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(b,"propTypes",{title:f.string,index:f.number,size:f.number,container:f.oneOfType([f.object,f.func]),useButtons:f.bool,onPrevious:f.func,onNext:f.func,btnClassName:f.string}),p(b,"defaultProps",{useButtons:!0}),e.exports=b},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withHandlers,a=n.defaultProps,i=r("./MapStore2/web/client/utils/MapInfoUtils.js"),s=o({onNext:function(e){var t=e.index,r=void 0===t?0:t,n=e.setIndex,o=void 0===n?function(){}:n,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,r+1))}},onPrevious:function(e){var t=e.index,r=e.setIndex,n=void 0===r?function(){}:r;return function(){n(Math.max(0,t-1))}}}),l=a({format:i.getDefaultInfoFormatValue(),validator:i.getValidator});e.exports={defaultViewerHandlers:s,defaultViewerDefaultProps:l}},"./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx":function(e,t,r){var n,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js");e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,r,n,o=c(a);function a(){var e;i(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"onTouchStart",(function(t){var r=t.touches[0];e.startX=r.pageX,e.startY=r.pageY,e.setState({scrolling:!1})})),d(p(e),"onTouchMove",(function(t){var r=t.touches[0],n=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-r.pageY)>Math.abs(e.startX-r.pageX))t.stopPropagation();else{var o=e.startX<r.pageX?"left":"right";(n&&"left"===o&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft||n&&"right"===o&&n.clientWidth+n.scrollLeft!==n.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),d(p(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),d(p(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?y.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=a,(r=[{key:"render",value:function(){return y.createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&s(t.prototype,r),n&&s(t,n),a}(y.Component),d(n,"propTypes",{format:m.string,viewers:m.oneOfType([m.func,m.object]),response:m.oneOfType([m.string,m.object,m.node]),layer:m.object}),o)},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Badge,y=r("./MapStore2/node_modules/lodash/lodash.js").isString,g=r("./MapStore2/web/client/utils/LocaleUtils.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onMouseOver",(function(){var t=y(e.props.helpText)?e.props.helpText:g.getMessageById(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement(m,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(b,"propTypes",{id:f.string,helpText:f.oneOfType([f.string,f.element]),isVisible:f.bool,changeHelpText:f.func,changeHelpwinVisibility:f.func,className:f.string}),p(b,"contextTypes",{messages:f.object}),p(b,"defaultProps",{helpText:"",isVisible:!1}),e.exports=b},"./MapStore2/web/client/components/map/cesium/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/cesium/Layers.js"),g=r("./node_modules/object-assign/index.js"),b=r("./node_modules/prop-types/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"updateZIndex",(function(t){var r=t||e.props.position,n=e.props.map.imageryLayers._layers.reduce((function(t,r,n){return e.provider===r?n:t}),-1),o=e.props.map.imageryLayers._layers.reduce((function(e,t,n){return-1===e&&r<t._position?n:e}),-1);-1===o&&(o=n);var a=o-n;0!==a&&Array.apply(null,{length:Math.abs(a)}).map(Number.call,Number).forEach((function(){e.props.map.imageryLayers[a>0?"raise":"lower"](e.provider)}))})),d(p(e),"setLayerVisibility",(function(t,r){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?(e.addLayer(r),e.updateZIndex()):e.removeLayer())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.provider&&(e.provider.alpha=t)})),d(p(e),"createLayer",(function(t,r,n,o,a){if(t){var i=g({},r,n?{zIndex:n}:null,{securityToken:a});e.layer=y.createLayer(t,i,o),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),null===e.layer&&e.props.onCreationError(r)}})),d(p(e),"updateLayer",(function(t,r){var n=y.updateLayer(t.type,e.layer,a(a({},t.options),{},{securityToken:t.securityToken}),a(a({},r.options),{},{securityToken:r.securityToken}),e.props.map);n&&(e.removeLayer(),e.layer=n,e.addLayer(t))})),d(p(e),"addLayerInternal",(function(t){t.options.useForElevation?e.props.map.terrainProvider=e.layer:(e.provider=e.props.map.imageryLayers.addImageryProvider(e.layer),e.provider._position=e.props.position,void 0!==t.options.opacity&&(e.provider.alpha=t.options.opacity))})),d(p(e),"addLayer",(function(t){if(e.layer&&!e.layer.detached&&(e.addLayerInternal(t),e.props.options.refresh&&e.layer.updateParams)){var r=0;e.refreshTimer=setInterval((function(){var n=e.layer.updateParams(g({},e.props.options.params,{_refreshCounter:r++}));e.removeLayer(),e.layer=n,e.addLayerInternal(t)}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(t){var r=t||e.provider;r&&e.props.map.imageryLayers.remove(r)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,r=e.options&&!1!==e.options.visibility;this.setLayerVisibility(r,e);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;if(this.setLayerOpacity(n),e.position!==this.props.position&&(this.updateZIndex(e.position),this.provider&&(this.provider._position=e.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&e.options.visibility&&Object.keys(this.props.options.params).reduce((function(r,n){return e.options.params[n]!==t.props.options.params[n]||r}),!1)){var o=this.provider,a=this.layer.updateParams(e.options.params);this.layer=a,this.addLayer(e),setTimeout((function(){t.removeLayer(o)}),1e3)}this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?m.Children.map(this.props.children,(function(r){return r?m.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return m.createElement(m.Fragment,null,r)}return y.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(h,"propTypes",{map:b.object,type:b.string,options:b.object,onCreationError:b.func,position:b.number,securityToken:b.string}),e.exports=h},"./MapStore2/web/client/components/map/cesium/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./MapStore2/web/client/libs/cesium.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/rxjs/Rx.js"),g=r("./node_modules/react/index.js"),b=r("./node_modules/react-dom/index.js"),h=r("./MapStore2/web/client/utils/ConfigUtils.js"),v=r("./MapStore2/web/client/utils/cesium/ClickUtils.js"),w=r("./MapStore2/web/client/utils/MapUtils.js"),S=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=r("./node_modules/object-assign/index.js"),O=r("./MapStore2/node_modules/lodash/lodash.js").throttle,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"state",{}),f(u(e),"onClick",(function(t,r){if(e.props.onClick&&null!==r.position){var n=t.camera.pickEllipsoid(r.position,t.scene.globe.ellipsoid),o=v.getMouseXYZ(t,r)||n&&d.Cartographic.fromCartesian(n);if(o){var a=180*o.latitude/Math.PI,i=180*o.longitude/Math.PI,s=(90-a)/180*e.props.standardHeight*(e.props.zoom+1),l=(180+i)/360*e.props.standardWidth*(e.props.zoom+1);e.props.onClick({pixel:{x:l,y:s},height:e.props.mapOptions&&e.props.mapOptions.terrainProvider?o.height:void 0,cartographic:o,latlng:{lat:a,lng:i},crs:"EPSG:4326"})}}})),f(u(e),"onMouseMove",(function(t){if(e.props.onMouseMove&&t.endPosition){var r=e.map.camera.pickEllipsoid(t.endPosition,e.map.scene.globe.ellipsoid),n=v.getMouseXYZ(e.map,t)||r&&d.Cartographic.fromCartesian(r);if(n){var o=Math.round(n.height);e.props.onMouseMove({y:180*n.latitude/Math.PI,x:180*n.longitude/Math.PI,z:o,crs:"EPSG:4326"})}}})),f(u(e),"getDocument",(function(){return e.props.document||document})),f(u(e),"getMapOptions",(function(e){var t={};if(e.terrainProvider){var r=e.terrainProvider,n=r.type,a=o(r,["type"]);switch(n){case"cesium":t.terrainProvider=new d.CesiumTerrainProvider(a);break;case"ellipsoid":t.terrainProvider=new d.EllipsoidTerrainProvider}}return j({},e,t)})),f(u(e),"getCenter",(function(){var t=e.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}})),f(u(e),"getZoomFromHeight",(function(t){return Math.log2(e.props.zoomToHeight/t)+1})),f(u(e),"getHeightFromZoom",(function(t){return e.props.zoomToHeight/Math.pow(2,t-1)})),f(u(e),"gestureStartListener",(function(e){e.preventDefault()})),f(u(e),"setMousePointer",(function(t){e.map&&(b.findDOMNode(u(e)).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto")})),f(u(e),"_updateMapPositionFromNewProps",(function(t){var r=e.getCenter(),n=e.getZoomFromHeight(r.height),o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)<=1e-12},a=!o(t.center.x,r.longitude)||!o(t.center.y,r.latitude),i=t.zoom!==n;if(a||i){var s={destination:d.Cartesian3.fromDegrees(t.center.x,t.center.y,e.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};e.setView(s)}})),f(u(e),"setView",(function(t){e.props.mapOptions&&e.props.mapOptions.flyTo?e.map.camera.flyTo(t,e.props.mapOptions.defaultFlightOptions):e.map.camera.setView(t)})),f(u(e),"subscribeClickEvent",(function(t){var r={LEFT_UP:d.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:d.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:d.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:d.ScreenSpaceEventType.PINCH_START,PINCH_END:d.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:d.ScreenSpaceEventType.PINCH_MOVE},n=new y.Subject,o=new y.Subject;Object.keys(r).forEach((function(t){return e.hand.setInputAction((function(e){o.next({type:r[t],movement:e}),n.next({type:r[t],movement:e})}),r[t])})),o.filter((function(e){return e.type===r.PINCH_END})).switchMap((function(){return y.Observable.of(!0).concat(y.Observable.of(!1).delay(500))})).startWith(!1).switchMap((function(e){return e?y.Observable.never():n})).filter((function(e){return e.type===r.LEFT_DOWN})).switchMap((function(e){var t=e.movement;return n.filter((function(e){return e.type===r.LEFT_CLICK})).takeUntil(y.Observable.timer(500).merge(n.filter((function(e){return e.type!==r.LEFT_UP&&e.type!==r.LEFT_CLICK||e.type===r.LEFT_UP&&(n=t&&t.position,o=e.movement&&e.movement.position,!(n&&o&&n.x===o.x&&n.y===o.y));var n,o}))))})).subscribe((function(r){var n=r.movement;return e.onClick(t,n)})),e.clickStream$=n,e.pauserStream$=o})),f(u(e),"registerHooks",(function(){e.props.hookRegister.registerHook(w.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crs,o=r.duration,a=S.reprojectBbox(t,n,"EPSG:4326");if(e.map.camera.flyTo){var i=d.Rectangle.fromDegrees(a[0],a[1],a[2],a[3]);e.map.camera.flyTo({destination:i,duration:o,complete:e.updateMapInfoState})}}))})),f(u(e),"updateMapInfoState",(function(){var t=e.getCenter(),r=e.getZoomFromHeight(t.height),n={height:Math.round(e.props.standardWidth*(r+1)),width:Math.round(e.props.standardHeight*(r+1))};e.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},r,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},n,e.props.id,e.props.projection,{orientation:{heading:e.map.camera.heading,pitch:e.map.camera.pitch,roll:e.map.camera.roll}})})),e}return t=p,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.getDocument().addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var e=new d.Viewer(this.getDocument().getElementById(this.props.id),j({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));e.scene.globe.baseColor=d.Color.WHITE,e.imageryLayers.removeAll(),e.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new d.ScreenSpaceEventHandler(e.scene.canvas),this.subscribeClickEvent(e),this.hand.setInputAction(O(this.onMouseMove.bind(this),500),d.ScreenSpaceEventType.MOUSE_MOVE),e.camera.setView({destination:d.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=e,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,e)),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),this.getDocument().removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?g.Children.map(this.props.children,(function(n){return n?g.cloneElement(n,{map:t,projection:r,onCreationError:e.props.onCreationError}):null})):null;return g.createElement("div",{id:this.props.id},n)}}])&&i(t.prototype,r),n&&i(t,n),p}(g.Component);f(x,"propTypes",{id:m.string,document:m.object,center:h.PropTypes.center,zoom:m.number.isRequired,mapStateSource:h.PropTypes.mapStateSource,projection:m.string,onMapViewChanges:m.func,onCreationError:m.func,onClick:m.func,onMouseMove:m.func,mapOptions:m.object,standardWidth:m.number,standardHeight:m.number,mousePointer:m.string,zoomToHeight:m.number,registerHooks:m.bool,hookRegister:m.object,viewerOptions:m.object}),f(x,"defaultProps",{id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,hookRegister:w,viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}}),e.exports=x},"./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("bing",(function(e){var t=e.apiKey;return new o.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:o.BingMapsStyle[e.name.toUpperCase()]})}))},"./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./node_modules/object-assign/index.js"),i=function(){var e=[o.Math.toRadians(.05),o.Math.toRadians(.1),o.Math.toRadians(.2),o.Math.toRadians(.5),o.Math.toRadians(1),o.Math.toRadians(2),o.Math.toRadians(5),o.Math.toRadians(10)];function t(e,t){var r=e||{};this._tilingScheme=r.tilingScheme||new o.GeographicTilingScheme,this._color=r.color&&new o.Color(r.color[0],r.color[1],r.color[2],r.color[3])||new o.Color(1,1,1,.4),this._tileWidth=r.tileWidth||256,this._tileHeight=r.tileHeight||256,this._ready=!0,this._sexagesimal=r.sexagesimal||!1,this._numLines=r.numLines||50,this._scene=t,this._labels=new o.LabelCollection,t.primitives.add(this._labels),this._polylines=new o.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;var n=document.createElement("canvas");n.width=256,n.height=256,this._canvas=n}var r=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),n=Object.defineProperties;function a(e){return e<.01?3:e<.1?2:e<1?1:0}return r&&n||(n=function(e){return e}),n(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,r,n){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new o.Cartographic(e,t,10)),text:r,font:"normal",fillColor:this._color,outlineColor:this._color,style:o.LabelStyle.FILL,pixelOffset:new o.Cartesian2(5,n?5:-5),eyeOffset:o.Cartesian3.ZERO,horizontalOrigin:o.HorizontalOrigin.LEFT,verticalOrigin:n?o.VerticalOrigin.BOTTOM:o.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var r=0,n=0,i=0;i<e.length&&r<(t.north-t.south)/10;i++)r=e[i];for(var s=0;s<e.length&&n<(t.east-t.west)/10;s++)n=e[s];var l=(t.west<0?Math.ceil(t.west/n):Math.floor(t.west/n))*n,c=(t.south<0?Math.ceil(t.south/r):Math.floor(t.south/r))*r,u=(t.east<0?Math.ceil(t.east/r):Math.floor(t.east/r))*r,p=(t.north<0?Math.ceil(t.north/n):Math.floor(t.north/n))*n;l=Math.max(l-2*n,-Math.PI),u=Math.min(u+2*n,Math.PI),c=Math.max(c-2*r,-Math.PI/2),p=Math.min(p+2*n,Math.PI/2);for(var f=this._ellipsoid,d=o.Math.toRadians(1),m=c+Math.floor((p-c)/r/2)*r,y=l;y<u;y+=n){for(var g=[],b=c;b<p;b+=d)g.push(new o.Cartographic(y,b));g.push(new o.Cartographic(y,p)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(g),width:.75,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var h=o.Math.toDegrees(y);this.makeLabel(y,m,this._sexagesimal?this._decToSex(h):h.toFixed(a(n)),!1)}for(var v=l+Math.floor((u-l)/n/2)*n,w=c;w<p;w+=r){for(var S=[],j=l;j<u;j+=d)S.push(new o.Cartographic(j,w));S.push(new o.Cartographic(u,w)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(S),width:1,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var O=o.Math.toDegrees(w);this.makeLabel(v,w,this._sexagesimal?this._decToSex(O):O.toFixed(a(r)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var r=Math.floor(t),n=(60*(Math.abs(t)-r)).toFixed(2);return"60.00"===n&&(r+=1,e="0.00"),[r,":",n].join("")},t.prototype._getExtentView=function(){for(var e=this._scene.camera,t=this._scene.canvas,r=[e.pickEllipsoid(new o.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,t.height),this._ellipsoid)],n=0;n<4;n++)if(void 0===r[n])return o.Rectangle.MAX_VALUE;return o.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(r))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();n.registerType("graticule",{create:function(e,t){var r=t.scene,n=new i(a({tileWidth:512,tileHeight:512,numLines:10},e||{}),r);return e.visibility&&n.setVisible(!0),n}})},"./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,i=r("./node_modules/object-assign/index.js");n.registerType("marker",{create:function(e,t){var r=i({},{point:{pixelSize:5,color:o.Color.RED,outlineColor:o.Color.WHITE,outlineWidth:2}},e.style),n=t.entities.add(i({position:o.Cartesian3.fromDegrees(e.point.lng,e.point.lat)},r));return{detached:!0,point:n,remove:function(){t.entities.remove(n)}}},update:function(e,t,r,n){return a(t.point,r.point)?null:(e.remove(),this.create(t,n))}})},"./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("osm",(function(){return o.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})}))},"./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./node_modules/eventlistener/eventlistener.js"),i=function(){function e(e){this._scene=e.scene;var t=document.createElement("div");t.className="infoWindow",this._div=t;var r=document.createElement("div");r.className="frame",this._div.appendChild(r);var n=document.createElement("div");n.className="content",r.appendChild(n),e.container.appendChild(t),this._content=n,this.setVisible(!0)}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(o.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,r){this.setPosition(e,t),this.setContent(r),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){var e=6356752.314245179,t=this._scene.camera.position,r=t.x/6378137,n=t.y/6378137,o=t.z/e,a=r*r+n*n+o*o-1,i=this._position,s=i.x/6378137-r,l=i.y/6378137-n,c=i.z/e-o,u=-(s*r+l*n+c*o);u>a&&u*u/(s*s+l*l+c*c)>a?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var e=o.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){var t=Math.floor(e.x)-this._div.clientWidth/2+"px",r=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=r}}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}();n.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}return r}(document.getElementById(e.id),e),n=new i(t);n.showAt(e.position.y,e.position.x,r),n.setVisible(!0);var o=t.scene.primitives.add(n);return{detached:!0,info:o,remove:function(){t.scene.primitives.remove(o)}}}})},"./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/cesium.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/TileConfigProvider.js"),l=r("./MapStore2/web/client/utils/ConfigUtils.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r.n(u);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){this.proxy=e}function y(){}m.prototype.getURL=function(e){var t=function(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}(e),r=t.url,n=t.queryString;return 0===r.indexOf("//")&&(r=location.protocol+r),p.a.getProxyUrl()+encodeURIComponent(r+n)},y.prototype.getURL=function(e){return e},o.a.registerType("tileprovider",(function(e){var t,r=f(s.default.getLayerConfig(e.provider,e),2),n=r[0],o=r[1],a=c.a.getProxyUrl({});a&&(t=o.noCors||p.a.needProxy(n));var l,u,d=o.credits,g=d?new i.a.Credit(d.text,d.imageUrl,d.link):o.attribution;return new i.a.UrlTemplateImageryProvider({url:(l=n,u=o,l.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],t=arguments[1]?arguments[1]:arguments[2],r=u[t];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(u)),r}))),enablePickFeatures:!1,subdomains:o.subdomains,maximumLevel:o.maxZoom,minimumLevel:o.minZoom,credit:g,proxy:t?new m(a):new y})}))},"./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/utils/cesium/Layers.js"),s=r("./MapStore2/web/client/libs/cesium.js"),l=r("./MapStore2/web/client/utils/cesium/BILTerrainProvider.js")(s),c=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r("./node_modules/object-assign/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js").isArray,d=r("./MapStore2/web/client/utils/cesium/WMSUtils.js"),m=r("./MapStore2/web/client/utils/LayersUtils.js"),y=m.getAuthenticationParam,g=m.getURLs,b=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,h=r("./MapStore2/web/client/utils/SecurityUtils.js"),v=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;function w(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function S(e){this.proxy=e}function j(){}function O(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}S.prototype.getURL=function(e){var t=w(e),r=t.url,n=t.queryString;return u.getProxyUrl()+encodeURIComponent(r+n)},j.prototype.getURL=function(e){var t=w(e);return t.url+t.queryString};var x=function e(t){var r;return t.useForElevation?new l(function(e){var t,r=c.getProxyUrl({}),n=e.url;return r&&(t=u.needProxy(e.url)&&r)&&(n=t+encodeURIComponent(n)),p({url:n,layerName:e.name})}(t)):((r=t.singleTile?new s.SingleTileImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1,r=b(e),n=p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},r||{},y(e));return{url:(f(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+O(h.addAuthenticationToSLD(n,e))}}(t)):new s.WebMapServiceImageryProvider(function(e){var t,r=void 0!==e.opacity?e.opacity:1,n=b(e),o=c.getProxyUrl({});o&&(t=u.needProxy(e.url)&&o);var a=e.credits,i=a?new s.Credit(a.text||a.title,a.imageUrl,a.link):e.attribution;return p({url:"{s}",credit:i,subdomains:g(f(e.url)?e.url:[e.url]),proxy:t&&new S(t)||new j,layers:e.name,enablePickFeatures:!1,parameters:p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:r,tiled:void 0===e.tiled||e.tiled,width:e.tileSize||256,height:e.tileSize||256},p({},e._v_?{_v_:e._v_}:{},n||{},y(e)))})}(t))).updateParams=function(r){var n=p({},t,{params:p({},t.params||{},r)});return e(n)},r)};i.registerType("wms",{create:x,update:function(e,t,r){var n=t&&t.params,a=r&&r.params,i=o(o({},n),a);return Object.keys(o(o(o({},t),r),i)).filter((function(e){return d.PARAM_OPTIONS.indexOf(e.toLowerCase())>=0})).filter((function(e){return(void 0===r[e]?a&&a[e]:r[e])!==(void 0===t[e]?n&&n[e]:t[e])})).length>0||t.securityToken!==r.securityToken||t.tileSize!==r.tileSize?x(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/ProxyUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/WMTSUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/libs/cesium.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/LayersUtils.js"),m=r("./node_modules/object-assign/index.js"),y=r.n(m),g=r("./MapStore2/node_modules/lodash/lodash.js"),b=r("./node_modules/url/url.js"),h=r.n(b),v=r("./MapStore2/web/client/utils/VectorTileUtils.js");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function x(e){this.proxy=e}function M(){}x.prototype.getURL=function(e){var t=O(e),r=t.url,n=t.queryString;return l.a.getProxyUrl()+encodeURIComponent(r+n)},M.prototype.getURL=function(e){var t=O(e);return t.url+t.queryString};var P=function(e){return e.indexOf("EPSG:4326")>=0?new f.a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new f.a.WebMercatorTilingScheme:null},E=function(e,t){var r=u.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return{tileMatrixSet:r,matrixIds:function(e,t){return e.length>t?Object(g.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e}(e.matrixIds&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(Object(g.isObject)(e)&&e[t]||Object(g.isArray)(e)&&e||[]).map((function(e){return e.identifier}))}(e.matrixIds,r)||function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t}(e))}};function T(e){var t="EPSG:4326",r=E(e,t),n=r.tileMatrixSet,o=r.matrixIds;if(0===o.length){var a=E(e,t="EPSG:3857");n=a.tileMatrixSet,o=a.matrixIds}var s,c=i.a.getProxyUrl({});c&&(s=l.a.needProxy(e.url)&&c);var u,p=(u=e.matrixIds&&e.matrixIds[n],function(e,t,r){return u&&u[r]&&!u[r].ranges||e<=parseInt(Object(g.get)(u[r],"ranges.cols.max"),10)&&e>=parseInt(Object(g.get)(u[r],"ranges.cols.min"),10)&&t<=parseInt(Object(g.get)(u[r],"ranges.rows.max"),10)&&t>=parseInt(Object(g.get)(u[r],"ranges.rows.min"),10)}),f=h.a.format({query:S({},Object(d.getAuthenticationParam)(e))});return y()({url:Object(g.head)(Object(d.getURLs)(Object(g.isArray)(e.url)?e.url:[e.url],f)),format:(Object(v.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",isValid:p,layer:e.name,style:e.style||"",tileMatrixLabels:o,tilingScheme:P(t,e.matrixIds[n]),proxy:s&&new x(s)||new M,enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:n,maximumLevel:30,parameters:S({},Object(d.getAuthenticationParam)(e))})}var C=function e(t){var r,n=T(t),o=(r=new f.a.WebMapTileServiceImageryProvider(n)).requestImage;return r.requestImage=function(e,t,a){return n.isValid(e,t,a)?o.bind(r)(e,t,a):new Promise((function(){}))},r.updateParams=function(r){var n=y()({},t,{params:y()({},t.params||{},r)});return e(n)},r};o.a.registerType("wmts",{create:C,update:function(e,t,r){return t.securityToken!==r.securityToken||r.format!==t.format?C(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js"),OSMLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js"),WMSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js"),MarkerLayer:r("./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js"),OverlayLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js")}},"./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),g=r("./MapStore2/node_modules/lodash/lodash.js"),b=g.head,h=g.last,v=g.isNil,w=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet-draw/dist/leaflet.draw.js"),w.Draw.Polygon.prototype._calculateFinishDistance=function(e){if(this._markers.length>0){var t=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),r=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),n=new w.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(n.getLatLng());return Math.min(t.distanceTo(o),r.distanceTo(o))}return 1/0};var S=r("./MapStore2/web/client/utils/MapUtils.js"),j=S.isSimpleGeomType,O=S.getSimpleGeomType,x=r("./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js").boundsToOLExtent,M=r("./node_modules/object-assign/index.js"),P=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),E=r("./MapStore2/web/client/utils/leaflet/Vector.js").pointToLayer,T=Math.PI/180,C=function(e,t,r){if("EPSG:4326"===r)return{center:t,srs:r,radius:e};var n=e/40075017*360/Math.cos(T*t[1]),o=P.reproject(t,"EPSG:4326",r);if(n){var a=P.reproject([t[0]+n,t[1]],"EPSG:4326",r);return{center:o,srs:r,radius:Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))}}return{center:o,srs:r,radius:e}},_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===r||void 0===e)return{center:t,projection:r,radius:e};var n=P.reproject({x:t.lng,y:t.lat},r,"EPSG:4326");if(void 0===e)return{center:n,projection:r,radius:e};var o=P.reproject([t.lng+e,t.lat],r,"EPSG:4326"),a=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),i=a*Math.cos(T*n.y)*40075017/360;return{center:n,projection:"EPSG:4326",radius:i}},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.drawing=!0})),d(p(e),"onDrawCreated",(function(t){e.drawing=!1;var r,n=t.layer,o=n.toGeoJSON();"marker"===t.layerType?r=w.latLngBounds(o.geometry.coordinates,o.geometry.coordinates):(n._map||(n._map=e.props.map,n._renderer=e.props.map.getRenderer(n),n._project()),r=n.getBounds());var a=x(r),i=r.getCenter();i=[i.lng,i.lat];var s=o.geometry.coordinates,l="EPSG:4326",c=o.geometry.type,u=n.getRadius?n.getRadius():0;if("circle"===t.layerType){o.projection="EPSG:4326",l="EPSG:3857",a=P.reprojectBbox(a,"EPSG:4326",l);var p=C(n._mRadius,i,l);i=p.center,u=p.radius,s=P.calculateCircleCoordinates(i,u,100),o.radius=n.getRadius?n.getRadius():0,i=[i.x,i.y],c="Polygon"}e.drawLayer.addData(o);var f={type:c,extent:a,center:i,coordinates:s,radius:u,projection:l};e.props.options&&e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner);var d=e.convertFeaturesToGeoJson(t.layer,e.props);e.props.onEndDrawing(f,e.props.drawOwner),e.props.onGeometryChanged([d],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"")})),d(p(e),"onUpdateGeom",(function(t,r){var n=e.convertFeaturesToGeoJson(t,r);r.onGeometryChanged([n],r.drawOwner)})),d(p(e),"addLayer",(function(t){e.clean();var r=w.geoJson(null,{pointToLayer:function(e,t){var r=_(e.radius,t,e.projection),n=r.center,o=r.radius;return w.circle(n,o||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});e.props.map.addLayer(r),t.features&&t.features.length>0&&r.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod)),e.drawLayer=r})),d(p(e),"addGeojsonLayer",(function(t){var r=t.features,n=t.projection,o=t.style;e.clean();var a=w.geoJson(r,{style:function(e){return e.style||o},pointToLayer:function(e,t){var r=P.reproject({x:t.lng,y:t.lat},n,"EPSG:4326");return E(w.latLng(r.y,r.x),e,o)}});e.drawLayer=a.addTo(e.props.map)})),d(p(e),"replaceFeatures",(function(t){e.drawLayer?(e.drawLayer.clearLayers(),"Circle"===e.props.drawMethod?(e.drawLayer.options.pointToLayer=function(e,t){var r=_(e.radius,t,e.projection),n=r.center,o=r.radius;return w.circle(n,o||5)},e.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):e.drawLayer.options.pointToLayer=function(e,r){var n=P.reproject({x:r.lng,y:r.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return E(w.latLng(n.y,n.x),e,t.style)},e.drawLayer.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod))):e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})})),d(p(e),"endDrawing",(function(t){e.replaceFeatures(t);var r=h(t.features);"Circle"!==e.props.drawMethod||!r||v(r.center)||v(r.radius)?r&&e.props.onEndDrawing(r,e.props.drawOwner):e.props.onEndDrawing(a(a({},r),{},{coordinates:P.calculateCircleCoordinates(r.center,r.radius,100)}),e.props.drawOwner)})),d(p(e),"addDrawInteraction",(function(t){e.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):e.addLayer(t),e.props.map.on("draw:created",e.onDrawCreated,p(e)),e.props.map.on("draw:drawstart",e.onDrawStart,p(e)),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?e.drawControl=new w.Draw.Polyline(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?e.drawControl=new w.Draw.Polygon(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?e.drawControl=new w.Draw.Rectangle(e.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?e.drawControl=new w.Draw.Circle(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(e.drawControl=new w.Draw.Marker(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawControl.enable()})),d(p(e),"addDrawOrEditInteractions",(function(t){var r,n=b(t.features);n&&n.geometry&&n.geometry.type&&!j(n.geometry.type)&&("GeometryCollection"===n.geometry.type?r=n.geometry.geometries.map((function(e){return e.coordinates.map((function(t,r){return{type:"Feature",properties:a({},n.properties),id:e.type+r,geometry:{coordinates:t,type:O(e.type)}}}))})):(r=n.geometry.coordinates.map((function(e,t){return{type:"Feature",properties:a({},n.properties),id:n.geometry.type+t,geometry:{coordinates:e,type:O(n.geometry.type)}}})),n={type:"FeatureCollection",features:r}));var o=M({},t,{features:[n||{}]});e.drawLayer?(e.drawLayer.clearLayers(),e.drawLayer.addData(e.convertFeaturesPolygonToPoint(o.features,o.drawMethod))):e.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map((function(e){return P.reprojectGeoJson(e,t.options.featureProjection,"EPSG:4326")})):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&e.addEditInteraction(o),t.options.drawEnabled&&e.addDrawInteraction(o)})),d(p(e),"addEditInteraction",(function(t){e.clean(),e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:M({},t.style,{poly:{icon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new w.DivIcon({iconSize:new w.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var r=e.drawLayer.getLayers();setTimeout((function(){r.forEach((function(r){r.getLayers&&r.getLayers()&&r.getLayers().length?r.getLayers().forEach((function(r){r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable()})):(r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable())}))}),0),e.editControl=new w.Control.Draw({edit:{featureGroup:e.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable()})),d(p(e),"removeAllInteractions",(function(){e.removeEditInteraction(),e.removeDrawInteraction()})),d(p(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.props.options&&e.props.options.stopAfterDrawing&&(e.drawControl.setOptions({repeatMode:!1}),e.props.onDrawStopped()),e.drawControl.disable(),e.drawControl=null,e.props.map.off("draw:created",e.onDrawCreated,p(e)),e.props.map.off("draw:drawstart",e.onDrawStart,p(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),d(p(e),"removeEditInteraction",(function(){e.drawLayer&&(e.drawLayer.getLayers().forEach((function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach((function(e){e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable()})):(e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable())})),e.editControl=null);e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable()})),d(p(e),"cleanAndStop",(function(){e.removeAllInteractions(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"clean",(function(){e.removeEditInteraction(),e.removeDrawInteraction(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"convertFeaturesPolygonToPoint",(function(e,t){return"Circle"===t?e.map((function(e){var t=void 0!==e.center&&void 0!==e.radius?_(e.radius,{lat:e.center.y,lng:e.center.x},e.projection):e,r=t.center,n=t.projection,o=t.radius;return a(a({},e),{},{coordinates:r?[r.x,r.y]:e.coordinates,center:r||e.center,projection:n||e.projection,radius:void 0!==o?o:e.radius,type:"Point"})})):e})),d(p(e),"convertFeaturesToGeoJson",(function(t,r){var n;if(j(r.drawMethod))n=t.toGeoJSON().geometry;else{if("GeometryCollection"===r.drawMethod)return{type:"GeometryCollection",geometries:e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()})).map((function(e){return"FeatureCollection"===e.type?{type:"Multi"+e.features[0].geometry.type,coordinates:e.features.map((function(e){return e.geometry.coordinates}))}:{type:e.geometry.type,coordinates:e.geometry.coordinates}}))};var o=e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()}));n={type:r.drawMethod,coordinates:o.reduce((function(e,t){return e.concat([t.geometry.coordinates])}),[])}}return M({},t.toGeoJSON(),{geometry:n})})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(t&&(w.drawLocal=t),this.props.drawStatus!==e.drawStatus||"replace"===e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addGeojsonLayer({features:e.features,projection:e.options&&e.options.featureProjection||"EPSG:4326",style:e.style&&e.style[e.drawMethod]||e.style});break;case"start":this.addDrawInteraction(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(e);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(L,"displayName","DrawSupport"),d(L,"propTypes",{map:m.object,drawOwner:m.string,drawStatus:m.string,drawMethod:m.string,options:m.object,features:m.array,onChangeDrawingStatus:m.func,onGeometryChanged:m.func,onDrawStopped:m.func,onEndDrawing:m.func,messages:m.object,style:m.object}),d(L,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}}),e.exports=L},"./MapStore2/web/client/components/map/leaflet/Feature.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),g=r("./MapStore2/node_modules/lodash/lodash.js"),b=g.isEqual,h=g.isArray,v=g.castArray,w=r("./node_modules/object-assign/index.js"),S=r("./node_modules/axios/index.js"),j=r("./MapStore2/web/client/utils/leaflet/Vector.js").geometryToLayer,O=r("./MapStore2/web/client/utils/VectorStyleUtils.js").createStylesAsync,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"createLayer",(function(t){t.geometry&&e.addFeature(a(a({},t),{},{style:t.style&&v(t.style)||void 0})),t.features&&t.features.forEach((function(r){var n=w({},t,{type:r.type,geometry:r.geometry,style:r.style&&v(r.style)||void 0,properties:r.properties});e.addFeature(n)}))})),d(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){b(e.properties,this.props.properties)&&b(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(h(e.style)){var r=O(e.style);S.all(r).then((function(r){t.addLayer(e,r)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var r=this,n=j({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(n),n.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},r.props.options.handleClickOnLayer?r.props.options.id:null)})),n.setOpacity||(n.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=a({},t);var r=t.opacity,o=void 0===r?1:r,i=t.fillOpacity,s=void 0===i?1:i,l=t.color,c=t.fillColor,u=t.radius,p=t.weight,f={color:l,fillColor:c,radius:u,weight:p,opacity:o*e,fillOpacity:s*e};n.setStyle&&n.setStyle(f)}),this._layers.push(n)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(x,"propTypes",{msId:m.oneOfType([m.string,m.number]),type:m.string,styleName:m.string,properties:m.object,container:m.object,geometry:m.object,features:m.array,style:m.object,onClick:m.func,options:m.object}),e.exports=x},"./MapStore2/web/client/components/map/leaflet/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),g=r("./MapStore2/web/client/utils/leaflet/Layers.js"),b=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),d(p(e),"generateOpts",(function(t,r,n){return b({},t,r?{zIndex:r,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:n})})),d(p(e),"updateZIndex",(function(t){var r=t||e.props.position;r&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(r)})),d(p(e),"createLayer",(function(t,r,n,o){if(t){var a=e.generateOpts(r,n,o);e.layer=g.createLayer(t,a),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),e.forceUpdate()}})),d(p(e),"updateLayer",(function(t,r){var n=g.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(r.options,r.position,r.securityToken));n&&(e.removeLayer(),e.layer=n,e.addLayer())})),d(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(b({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),d(p(e),"isValid",(function(){if(e.layer){var t=g.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(r,n){switch(n){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return r&&t.props[n]===e[n];case"options":return r&&(t.props[n]===e[n]||h(a(a({},t.props[n]),{},{loading:!1}),a(a({},e[n]),{},{loading:!1})));default:return r}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?y.Children.map(this.props.children,(function(r){return r?y.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return y.createElement(y.Fragment,null,r)}return g.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(v,"propTypes",{map:m.object,type:m.string,srs:m.string,options:m.object,position:m.number,zoomOffset:m.number,onCreationError:m.func,onClick:m.func,securityToken:m.string}),d(v,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=v},"./MapStore2/web/client/components/map/leaflet/Locate.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js"),r("./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");var g={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:1/0,watch:!0}};m.Control.MSLocate=m.Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new m.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};m.extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},m.extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=y({},this.options.strings,e)}});var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),p(c(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new m.Control.MSLocate(g),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map))}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(b,"displayName","Locate"),p(b,"propTypes",{map:f.object,status:f.string,messages:f.object,changeLocateState:f.func,onLocateError:f.func}),p(b,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}}),e.exports=b},"./MapStore2/web/client/components/map/leaflet/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./MapStore2/web/client/libs/leaflet.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/ConfigUtils.js"),g=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),b=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/web/client/utils/MapUtils.js"),v=r("./node_modules/rxjs/Rx.js"),w=r("./MapStore2/node_modules/lodash/lodash.js").throttle;r("./MapStore2/web/client/components/map/leaflet/SingleClick.js");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),p(c(e),"getDocument",(function(){return e.props.document||document})),p(c(e),"getResolutions",(function(){return e.props.resolutions})),p(c(e),"_updateMapPositionFromNewProps",(function(t){var r=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},n=t.center,o=e.props.center,a=e.map.getCenter(),i=r(n.x,o.x)&&r(n.y,o.y)||r(n.x,a.lng)&&r(n.y,a.lat),s=t.zoom,l=e.props.zoom,c=e.map.getZoom(),u=s===l||s===c;i||u?u?i||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(c(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),r={height:e.map.getSize().y,width:e.map.getSize().x},n=e.map.getCenter();e.props.onMapViewChanges({x:n.lng,y:n.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection)})),p(c(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(c(e),"mouseMoveEvent",(function(t){var r=t.latlng.wrap();e.props.onMouseMove({x:r.lng||0,y:r.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(r,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(c(e),"registerHooks",(function(){e.props.hookRegister.registerHook(h.EXTENT_TO_ZOOM_HOOK,(function(t){var r=g.reproject([t[0],t[1]],e.props.projection,"EPSG:4326"),n=g.reproject([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[r.y,r.x],[n.y,n.x]])-1})),e.props.hookRegister.registerHook(h.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(h.COMPUTE_BBOX_HOOK,(function(t,r){var n=f.latLng([t.y,t.x]),o=e.map._getNewPixelOrigin(n,r),a=new f.Bounds(o,o.add(e.map.getSize())),i=e.map.unproject(a.getBottomLeft(),r),s=e.map.unproject(a.getTopRight(),r),l=new f.LatLngBounds(i,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(h.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){var r=g.reproject(t,e.props.projection,"EPSG:4326"),n=e.map.latLngToContainerPoint([r.y,r.x]);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){var r=e.map.containerPointToLatLng(t),n=g.reproject([r.lng,r.lat],"EPSG:4326",e.props.projection);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,a=r.maxZoom,i=r.duration,s=n&&f.point(n.left||0,n.top||0),l=n&&f.point(n.right||0,n.bottom||0),c=g.reprojectBbox(t,o,"EPSG:4326");e.map.fitBounds([[c[1],c[0]],[c[3],c[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:a,duration:i,animate:0!==i&&void 0})}))})),p(c(e),"addLayerObservable",(function(t,r){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&r&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new v.Subject,t.layer.layerLoadStream$=new v.Subject,t.layer.layerErrorStream$=new v.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(r){var n=t.layer._ms2LoadingTileCount||r&&r.length||0;r&&r.length>0&&e.props.onLayerError(r[0].target.layerId,n,r.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=f.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/h.getGoogleMercatorResolutions(0,23)[0];this.crs=b({},f.CRS.EPSG3857,{scale:function(r){return e.call(f.CRS.EPSG3857,r)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,r=void 0===t?{}:t,n=r.restrictedExtent&&r.crs&&g.reprojectBbox(r.restrictedExtent,r.crs,"EPSG:4326"),o=b({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:n&&f.latLngBounds([[n[1],n[0]],[n[3],n[2]]]),maxBoundsViscosity:n&&1,minZoom:r&&r.minZoom,maxZoom:r&&r.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),a=f.map(this.getDocument().getElementById(this.props.id),b({zoomControl:!1},o)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=a,this.props.zoomControl&&(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=f.control.attribution(),this.attribution.addTo(this.map);var i=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(i.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),i.querySelector(".leaflet-control-container .leaflet-control-attribution")&&i.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(i.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}})}));var s=w(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var r=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,r)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(r){e.props.onLayerLoading(r.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(r){e.props.onLayerLoad(r.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var r=e.limits,n=void 0===r?{}:r,o=this.props.limits;if(n.restrictedExtent!==(o&&o.restrictedExtent)){var a=n.restrictedExtent&&n.crs&&g.reprojectBbox(n.restrictedExtent,n.crs,"EPSG:4326");this.map.setMaxBounds(n.restrictedExtent&&f.latLngBounds([[a[1],a[0]],[a[3],a[2]]]))}n.minZoom!==(o&&o.minZoom)&&this.map.setMinZoom(n.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?m.Children.map(this.props.children,(function(n){return n?m.cloneElement(n,{map:t,projection:r,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return m.createElement("div",{id:this.props.id,style:this.props.style},n)}}])&&a(t.prototype,r),n&&a(t,n),u}(m.Component);p(S,"propTypes",{id:d.string,document:d.object,center:y.PropTypes.center,zoom:d.number.isRequired,mapStateSource:y.PropTypes.mapStateSource,style:d.object,projection:d.string,onMapViewChanges:d.func,onClick:d.func,onRightClick:d.func,mapOptions:d.object,limits:d.object,zoomControl:d.bool,mousePointer:d.string,onMouseMove:d.func,onLayerLoading:d.func,onLayerLoad:d.func,onLayerError:d.func,resize:d.number,measurement:d.object,changeMeasurementState:d.func,registerHooks:d.bool,interactive:d.bool,resolutions:d.array,hookRegister:d.object,onCreationError:d.func,onMouseOut:d.func}),p(S,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:h,style:{},interactive:!0,resolutions:h.getGoogleMercatorResolutions(0,23),onMouseOut:function(){}}),e.exports=S},"./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/libs/leaflet.js"),w=r("./MapStore2/node_modules/lodash/lodash.js").slice,S=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=S.reproject,O=S.calculateAzimuth,x=S.calculateDistance,M=S.transformLineToArcs,P=r("./MapStore2/web/client/utils/MeasureUtils.js"),E=P.convertUom,T=P.getFormattedBearingValue;r("./node_modules/leaflet-draw/dist/leaflet.draw.js");var C={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};v.getMeasureWithTreshold=function(e,t,r,n,o,a,i){return e>t?v.GeometryUtil.formattedNumber(E(e,r,n),o[n])+" "+i:v.GeometryUtil.formattedNumber(e,o[r])+" "+a};var _=v.GeometryUtil.readableDistance;v.GeometryUtil.readableDistance=function(e,t,r,n,o,a){if(!a)return _.apply(null,arguments);if("Bearing"===a.geomType)return a.bearing;var i=v.Util.extend({},C,o),s=a.uom.length,l=s.unit,c=s.label,u=v.GeometryUtil.formattedNumber(E(e,"m",l),i[l])+" "+c;return a.useTreshold&&(t&&(u=v.getMeasureWithTreshold(e,1e3,"m","km",i,"m","km")),"mi"===l&&(u=v.getMeasureWithTreshold(E(e,"m","yd"),1760,"yd","mi",i,"yd","mi"))),u};var L=v.GeometryUtil.readableArea;v.GeometryUtil.readableArea=function(e,t,r,n){if(!n)return L.apply(null,arguments);var o=n.uom.area,a=o.unit,i=o.label,s=v.Util.extend({},C,r),l=v.GeometryUtil.formattedNumber(E(e,"sqm",a),s[a])+" "+i;return n.useTreshold&&(t&&(l=v.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===a&&(l=v.getMeasureWithTreshold(E(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var k=v.Draw.Polygon.prototype._getMeasurementString;v.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return k.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=v.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var r={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+v.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,r)}return t};var I=v.Draw.Polyline.prototype._getMeasurementString;v.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return I.apply(this,arguments);var e,t=this._currentLatLng,r=this._markers[this._markers.length-1].getLatLng();e=v.GeometryUtil.isVersion07x()?r&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(r)*(this.options.factor||1):this._measurementRunningTotal||0:r&&t?this._measurementRunningTotal+this._map.distance(t,r)*(this.options.factor||1):this._measurementRunningTotal||0;var n={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?T(this.options.bearing,this.options.trueBearing):0};return v.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,n)};var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(d(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),y(d(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var r=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(r=h({},r,{geometry:h({},r.geometry,{coordinates:M(r.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var n=e.drawControl._marker.getLatLng(),o={x:n.lng,y:n.lat,srs:"EPSG:4326"},a=h({},e.props.measurement,{point:o,feature:r});e.props.changeMeasurementState(a)}else{var i=h({},e.props.measurement,{feature:r});e.props.changeMeasurementState(i)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([r]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.on("click",e.restartDrawing,d(e))}),100)})),y(d(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=w(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=w(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=w(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),y(d(e),"addArcsToMap",(function(t){e.removeLastLayer();var r=t.map((function(e){return h({},e,{geometry:h({},e.geometry,{coordinates:M(e.geometry.coordinates)})})}));e.arcLayer=v.geoJson(r,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),r&&r.length>0&&e.arcLayer.addData(r)})),y(d(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,r=0,n=0,o=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var a=e.drawControl._markers.reduce((function(e,t){var r=t.getLatLng(),n=r.lng,o=r.lat;return[].concat(i(e),[[n,o]])}),[]);t=x(a,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(i(e.drawControl._poly.getLatLngs()),[o]);r=v.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(n=e.calculateBearing());var l=h({},e.props.measurement,{point:null,len:t,area:r,bearing:n});e.props.changeMeasurementState(l)}})),y(d(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),y(d(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,d(e)),e.props.map.on("draw:drawstart",e.onDrawStart,d(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.on("mousemove",e.updateBearing,d(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,d(e)),"Point"===t.measurement.geomType)e.drawControl=new v.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var r=e.uomLengthOptions(t);e.drawControl=new v.Draw.Polyline(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{repeatMode:!1,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var n=e.uomAreaOptions(t);e.drawControl=new v.Draw.Polygon(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n),{},{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),y(d(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,d(e)),e.props.map.off("draw:drawstart",e.onDrawStart,d(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.off("mousemove",e.updateBearing,d(e)),e.props.map.off("click",e.restartDrawing,d(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),y(d(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),y(d(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),y(d(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),y(d(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),y(d(e),"calculateBearing",(function(){var t,r=e.drawControl._currentLatLng,n=e.drawControl._markers,o=[n[0].getLatLng().lng,n[0].getLatLng().lat];return 1===n.length?t=[r.lng,r.lat]:2===n.length&&(t=[n[1].getLatLng().lng,n[1].getLatLng().lat]),o=j(o,"EPSG:4326",e.props.projection),t=j(t,"EPSG:4326",e.props.projection),O(o,t,e.props.projection)})),y(d(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(a(a({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var r=this.uomAreaOptions(e);this.drawControl.setOptions(a(a({},r),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(v.drawLocal=e),null}}])&&c(t.prototype,r),n&&c(t,n),s}(b.Component);y(A,"displayName","MeasurementSupport"),y(A,"propTypes",{map:g.object,metric:g.bool,feet:g.bool,nautic:g.bool,enabled:g.bool,useTreshold:g.bool,projection:g.string,measurement:g.object,changeMeasurementState:g.func,messages:g.object,uom:g.object,updateOnMouseMove:g.bool}),y(A,"contextTypes",{messages:g.object}),y(A,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=A},"./MapStore2/web/client/components/map/leaflet/Overview.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./MapStore2/web/client/utils/leaflet/Layers.js"),g=r("./node_modules/object-assign/index.js");r("./MapStore2/web/client/components/map/leaflet/overview.css");var b={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){var e=g({},b,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(y.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new d(t[0],e):t.length>1&&(this.overview=new d(m.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(h,"displayName","Overview"),u(h,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),u(h,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=h},"./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return E}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dom/index.js"),i=r.n(a),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./MapStore2/web/client/libs/leaflet.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/isString.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/PopupUtils.js"),m=r("./MapStore2/web/client/components/map/popups/index.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e,t){var r=new MutationObserver((function(){e.update()}));e.once("remove",(function(){r&&r.disconnect(),r=null})),r.observe(t,{attributes:!0,childList:!0,subtree:!0})},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,r,n,a=S(s);function s(){var e;h(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return M(O(e=a.call.apply(a,[this].concat(r))),"updatePopup",(function(){(e._popups||[]).map((function(e){return e.popup.update()}))})),M(O(e),"popupClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.target,n=(r=void 0===r?{}:r).options,o=(n=void 0===n?{}:n).id;o&&e.props.onPopupClose(o)})),M(O(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,a=e.props.map.getSize();return(e._popups||[]).forEach((function(t){var r=t.popup;r.off("remove",e.popupClose),r&&e.props.map.removeLayer(r)})),e._popups=n.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=.9*a.x,n=.9*a.y,i=t.id,s=t.position.coordinates,l=t.component,c=t.content,p=t.className,f=t.maxWidth,m=void 0===f?r:f,y=t.maxHeight,g=void 0===y?n:y,h=t.autoPan,v=void 0===h||h,w=t.offset,S=void 0===w?[0,7]:w,j=m>r?r:m,O=g>n?n:g,x=d.b(i,p);x.setAttribute("style","max-width: ".concat(j,"px; max-height: ").concat(O,"px")),d.a(x,c);var M=u.a.popup({id:i,autoClose:!1,closeOnClick:!1,autoPan:v,autoPanPadding:u.a.point(70,70),maxWidth:j,maxHeight:O,className:"ms-leaflet-popup",offset:S}).setContent(x);return M.once("remove",e.popupClose),l&&P(M,x),M.setLatLng(s),o.addLayer(M),b({popup:M},t)})),e._popups})),M(O(e),"stopPropagationOnMouseMove",(function(e){e.stopPropagation()})),M(O(e),"fireMouseOutEvent",(function(){e.props.map.fireEvent("mouseout")})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&(this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"componentDidMount",value:function(){this.props.map&&this.props.map.on("resize",this.updatePopup)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){var e=this;(this._popups||[]).forEach((function(t){var r,n,o=t.popup;o.off("remove",e.popupClose),o&&(null===(r=e.props.map)||void 0===r||null===(n=r.removeLayer)||void 0===n||n.call(r,o))})),this.props.map&&(this.props.map.off("resize",this.updatePopup),this.props.map.getContainer().removeEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().removeEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"renderPopups",value:function(){return this.preparePopups().filter((function(e){return!!e.component})).map((function(e){var t=e.popup,r=e.props,n=void 0===r?{}:r,a=e.component,s=e.id,l=t.getContent(),c=f()(a)&&m.default[a]||a,u=o.a.isValidElement(c)&&c||o.a.createElement(c,n);return l?i.a.createPortal(u,l,s):null}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&v(t.prototype,r),n&&v(t,n),s}(o.a.Component);M(E,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),M(E,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/libs/leaflet.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){if(this.scalebar=d.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(m,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),u(m,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=m},"./MapStore2/web/client/components/map/leaflet/SingleClick.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");n.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),n.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",n.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},"./MapStore2/web/client/components/map/leaflet/img/toggle.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/map/leaflet/img/toggle.svg":function(e,t,r){e.exports=r.p+"toggle.svg"},"./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/web/client/utils/leaflet/Layers.js");r("./node_modules/leaflet-plugins/layer/tile/Bing.js");var a=r("./node_modules/object-assign/index.js");n.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+n.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),o=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,a=document.createElement("script");a.type="text/javascript",a.src=o,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},n.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},o.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=a({},r,{zoomOffset:e.zoomOffset})),new n.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),n.registerType("google",(function(e){return o.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),a=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),n.registerType("graticule",{create:function(e){var t=a({interval:20,showOriginLabel:!0,redraw:"move"},e);return o?new o(t):null},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/mapquest.js");a.registerType("mapquest",{create:function(e){return i?i.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!i}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("osm",(function(e){return o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),i=r.n(a);o.a.registerType("tms",(function(e){return i.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o.a.registerType("tileprovider",(function(e){var t=u(s.default.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),2),r=t[0],n=t[1];return i.a.tileLayer(r,n)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isNil,a=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=a.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return a.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){!function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))}(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(o(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=o(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(o),i=r("./MapStore2/web/client/utils/ColorUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/leaflet/Layers.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),f=r("./MapStore2/web/client/api/WFS.js"),d=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){e.fireEvent("loading");var r=Object(p.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return Object(f.getFeature)(t.url,t.name,g({outputFormat:"application/json",maxFeatures:1e3,srsname:l.a.normalizeSRS("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},v=function(e){var t=e||{},r=t.color,n=t.fillColor;return g(g({},m(t,["color","fillColor"])),{},{color:Object(i.colorToRgbaStr)(r,1),fillColor:Object(i.colorToRgbaStr)(n,1)})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return v(t)},S=function(e,t){var r=w(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},j=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=w(e),o=function(t,n){return"marker"===e.styleName?a.a.marker(n,r):a.a.circleMarker(n,r)},i=new a.a.GeoJSON(t,{pointToLayer:o,style:r});return i.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=g({},i.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,o=t.opacity,a=void 0===o?1:o,s=g(g({},t),{},{opacity:a*e,fillOpacity:n*e});i.setStyle(v(s)),j(i,e)},i.on("layeradd",(function(){S(i,e),i.setOpacity(Object(n.isNil)(i.opacity)?e.opacity:i.opacity)})),i};u.a.registerType("wfs",{create:function(e){var t=O(e);return h(t,e),t.opacity=Object(n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),Object(d.needsReload)(r,t)&&h(e,t),Object(n.isEqual)(t.style,r.style)||S(e,t),t.styleName!==r.styleName){var o=e.toGeoJSON().features;return O(t,o)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/utils/leaflet/Layers.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,c=r("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=r("./MapStore2/web/client/libs/leaflet.js"),p=r("./node_modules/object-assign/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=f.isArray,m=f.isNil,y=r("./MapStore2/web/client/utils/SecurityUtils.js"),g=r("./MapStore2/web/client/utils/ElevationUtils.js"),b=r("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,h=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;r("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=u.extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=u.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&u.Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),o=n.add([r,r]),a=this._crs.project(t.unproject(n,e.z)),i=this._crs.project(t.unproject(o,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,a.x,a.y,i.x].join(","):[a.x,i.y,i.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);g.loadTile(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=g.getElevation(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:o.createElement(a,{msgId:n.message})}catch(e){return o.createElement(a,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(r,n)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,r){return new u.TileLayer.ElevationWMS(e,t,r)};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return m(e[r])?t:p(t,n({},r,e[r]))}),{})};function w(e){var t=void 0!==e.opacity?e.opacity:1,r=l(e),n=p({},e.baseParams,{attribution:e.credits&&b(e.credits),layers:e.name,styles:e.style||"",format:(h(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",SRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},r||{}));return y.addAuthenticationToSLD(n,e)}function S(e){return e.map((function(e){return e.split("?")[0]}))}i.registerType("wms",{create:function(e){var t=S(d(e.url)?e.url:[e.url]),r=v(w(e)||{});return t.forEach((function(t){return y.addAuthenticationParameter(t,r,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],r):u.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var o=S(d(t.url)?t.url:[t.url]),a=w(t)||{};return o.forEach((function(e){return y.addAuthenticationParameter(e,a,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(o[0],a):u.tileLayer.multipleUrlWMS(o,a)}var i=p({},c.filterWMSParamOptions(w(r)),y.addAuthenticationToSLD(r.params||{},r)),s=p({},c.filterWMSParamOptions(w(t)),y.addAuthenticationToSLD(t.params||{},t)),l=Object.keys(s).filter((function(e){return s[e]!==i[e]})),f=Object.keys(i).filter((function(e){return i[e]!==s[e]})),m={};return f.length>0&&e.removeParams(f,l.length>0),l.length>0&&(m=l.reduce((function(e,t){return p({},e,n({},t,s[t]))}),m),e.setParams(v(p(m,m.params,y.addAuthenticationToSLD(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/libs/leaflet.js"),l=r.n(s),c=r("./node_modules/object-assign/index.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/SecurityUtils.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/WMTSUtils.js"),m=r.n(d),y=r("./MapStore2/web/client/utils/leaflet/WMTS.js"),g=r.n(y),b=r("./MapStore2/node_modules/lodash/lodash.js"),h=r("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,r){return new g.a(e,t,r)};var v=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(b.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=m.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(h.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return f.a.addAuthenticationParameter(t,r,e.securityToken)}));var n=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=m.a.getTileMatrix(e,n),a=o.tileMatrixSet,s=o.matrixIds;return l.a.tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};o.a.registerType("wmts",{create:v,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?v(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:r("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:r("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Me}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/node_modules/lodash/concat.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/head.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/find.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/slice.js"),f=r.n(p),d=r("./MapStore2/node_modules/lodash/omit.js"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/isArray.js"),g=r.n(y),b=r("./MapStore2/node_modules/lodash/last.js"),h=r.n(b),v=r("./MapStore2/node_modules/lodash/filter.js"),w=r.n(v),S=r("./MapStore2/node_modules/lodash/isNil.js"),j=r.n(S),O=r("./MapStore2/node_modules/lodash/castArray.js"),x=r.n(O),M=r("./node_modules/prop-types/index.js"),P=r.n(M),E=r("./node_modules/object-assign/index.js"),T=r.n(E),C=r("./node_modules/uuid/index.js"),_=r.n(C),L=r("./node_modules/axios/index.js"),k=r.n(L),I=r("./MapStore2/web/client/utils/MapUtils.js"),A=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),D=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),R=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),N=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),G=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),F=r("./node_modules/ol/format/GeoJSON.js"),U=r("./node_modules/ol/Feature.js"),z=r("./node_modules/ol/source/Vector.js"),B=r("./node_modules/ol/layer/Vector.js"),V=r("./node_modules/ol/interaction/Draw.js"),W=r("./node_modules/ol/geom/MultiPoint.js"),q=r("./node_modules/ol/geom/Polygon.js"),H=r("./node_modules/ol/geom/Point.js"),Z=r("./node_modules/ol/geom/LineString.js"),Y=r("./node_modules/ol/geom/MultiLineString.js"),X=r("./node_modules/ol/geom/MultiPolygon.js"),J=r("./node_modules/ol/geom/Circle.js"),K=r("./node_modules/ol/geom/GeometryCollection.js"),Q=r("./node_modules/ol/style/Style.js"),$=r("./node_modules/ol/style/Fill.js"),ee=r("./node_modules/ol/style/Stroke.js"),te=r("./node_modules/ol/style/Text.js"),re=r("./node_modules/ol/style/Circle.js"),ne=r("./node_modules/ol/Collection.js"),oe=r("./node_modules/ol/events/condition.js"),ae=r("./node_modules/ol/interaction/DoubleClickZoom.js"),ie=r("./node_modules/ol/interaction/Translate.js"),se=r("./node_modules/ol/interaction/Modify.js"),le=r("./node_modules/ol/interaction/Select.js"),ce=r("./node_modules/ol/Observable.js"),ue=r("./node_modules/ol/extent.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=je(e);if(t){var o=je(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return we(this,r)}}function we(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe=new F.a,Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,r,n,o=ve(a);function a(){var e;ge(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Oe(Se(e=o.call.apply(o,[this].concat(r))),"getNewFeature",(function(t,r,n,o){return new U.a({geometry:e.createOLGeometry({type:t,coordinates:r,radius:n,center:o})})})),Oe(Se(e),"getMapCrs",(function(){return e.props.map.getView().getProjection().getCode()})),Oe(Se(e),"updateFeatureStyles",(function(t){t&&t.length>0&&t.forEach((function(t){if(t.style){var r=e.toOlFeature(t);r&&r.setStyle(t.style?Object(G.d)(t):e.toOlStyle(t.style,t.selected))}}))})),Oe(Se(e),"updateOnlyFeatureStyles",(function(t){e.drawLayer&&e.drawLayer.getSource().getFeatures().forEach((function(e){var r=l()(t.features).features||t.features,n=u()(r,(function(t){return t.properties.id===e.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(x()(n.style));k.a.all(o).then((function(t){e.setStyle((function(){return Object(G.e)(ye(ye({},n),{},{style:t}))}))}))}}))})),Oe(Se(e),"addLayer",(function(t,r){var n,o=e.convertGeometryTypeToStyleType(t.drawMethod);n=function(e){var r=l()(t.features)&&u()(l()(t.features).features,(function(t){return t.properties.id===e.getProperties().id}))||null;if(r){var n=Object(D.createStylesAsync)(x()(r.style));return k.a.all(n).then((function(t){e.setStyle((function(){return Object(G.e)(ye(ye({},r),{},{style:t}))}))})),null}return Object(G.e)({style:G.a[o]})},e.geojson=new F.a,e.drawSource=new z.a,e.drawLayer=new B.a({source:e.drawSource,zIndex:1e8,style:n}),e.props.map.addLayer(e.drawLayer),r&&e.addInteractions(t);var a=l()(t.features);if(a&&a.features&&a.features.length){var i=a.features.filter((function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled}));return e.addFeatures(T()({},t,{features:[ye(ye({},a),{},{features:i})]}))}return e.addFeatures(t)})),Oe(Se(e),"addFeatures",(function(t){var r,n=t.features,o=t.drawMethod,a=t.options,i=e.getMapCrs();if(n.forEach((function(t){if("FeatureCollection"===t.type){var n=(new F.a).readFeatures(t);n=n.map((function(e){return Object(R.a)(e,i)})),e.drawSource=new z.a({features:n}),e.drawLayer.setSource(e.drawSource)}else{var s=null,l=t;l.geometry&&"GeometryCollection"!==l.geometry.type&&(l=Object(A.reprojectGeoJson)(l,l.featureProjection,i).geometry),"GeometryCollection"!==l.type&&("Circle"===o&&l&&(l.properties&&l.properties.center||l.center)?(s=[(s=l.properties&&l.properties.center?Object(A.reproject)(l.properties.center,"EPSG:4326",i):l.center).x,s.y],r=new U.a({geometry:e.createOLGeometry({type:"Circle",center:s,projection:"EPSG:3857",radius:l.properties&&l.properties.radius||l.radius,options:a})})):r=new U.a({geometry:e.createOLGeometry(l.geometry?l.geometry:ye(ye(ye({},l),l.properties),{},{center:s}))}),r.setProperties(t.properties),e.drawSource.addFeature(r))}})),0===n.length&&(a.editEnabled||a.drawEnabled))a.transformToFeatureCollection?(e.drawSource=new z.a({features:(new F.a).readFeatures({type:"FeatureCollection",features:[]})}),e.drawLayer.setSource(e.drawSource)):(r=new U.a({geometry:e.createOLGeometry({type:o,coordinates:null})}),e.drawSource.addFeature(r));else{if(n[0]&&"GeometryCollection"===n[0].type){e.drawSource=new z.a({features:(new F.a).readFeatures(n[0])});var s=e.replacePolygonsWithCircles(e.drawSource.getFeatures()[0]);e.drawSource.getFeatures()[0].getGeometry().setGeometries(s),e.drawLayer.setSource(e.drawSource)}n[0]&&n[0].geometry&&"GeometryCollection"===n[0].geometry.type&&(r=Object(A.reprojectGeoJson)(n[0],a.featureProjection,i).geometry,e.drawSource=new z.a({features:(new F.a).readFeatures(r)}),e.drawSource.getFeatures()[0].set("textGeometriesIndexes",n[0].properties&&n[0].properties.textGeometriesIndexes),e.drawSource.getFeatures()[0].set("textValues",n[0].properties&&n[0].properties.textValues),e.drawSource.getFeatures()[0].set("circles",n[0].properties&&n[0].properties.circles),e.drawLayer.setSource(e.drawSource))}return e.updateFeatureStyles(n),r})),Oe(Se(e),"replaceFeatures",(function(t){var r;return e.drawLayer?(e.drawSource.clear(),r=e.addFeatures(t),t.style&&e.drawLayer.setStyle((function(r){var n=u()(l()(t.features).features,(function(e){return e.properties.id===r.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(x()(n.style));return k.a.all(o).then((function(e){r.setStyle((function(){return Object(G.e)(ye(ye({},n),{},{style:e}))}))})),null}var a=e.convertGeometryTypeToStyleType(t.drawMethod);return Object(G.e)({style:G.a[a]})}))):r=e.addLayer(t,t.options&&t.options.drawEnabled||!1),r})),Oe(Se(e),"endDrawing",(function(t){var r=e.replaceFeatures(t);if(r){var n=e.fromOLFeature(r);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(n.radius=t.features[0].radius),e.props.onEndDrawing(n,t.drawOwner)}})),Oe(Se(e),"addDrawInteraction",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new V.a(e.drawPropertiesForGeometryType(t,n,e.drawSource,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(t){var n=t.feature.clone();if(n.set("id",_.a.v1()),"Circle"===e.props.drawMethod&&"Circle"===n.getGeometry().getType()){var o=n.getGeometry().getRadius(),a=n.getGeometry().getCenter();n.setGeometry(e.polygonFromCircle(a,o))}var i=e.fromOLFeature(n,r);e.props.onEndDrawing(i,e.props.drawOwner),e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,e.props.features.concat([i])),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Oe(Se(e),"toMulti",(function(e){return"Point"===e.getType()?new W.a([e.getCoordinates()]):e})),Oe(Se(e),"handleDrawAndEdit",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new V.a(e.drawPropertiesForGeometryType(Object(I.getSimpleGeomType)(t),n,Object(I.isSimpleGeomType)(t)?e.drawSource:null,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(n){var a=n.feature.clone(),i=_.a.v1();a.set("id",i);var s,c,p,f=a.getGeometry(),d=e.drawLayer.getSource().getFeatures(),m=e.props.features;if(e.props.options.transformToFeatureCollection){var y;if("Circle"===t){p="Polygon";var g=f.getRadius(),b=f.getCenter(),v=e.polygonCoordsFromCircle(b,g);y=e.getNewFeature(p,v),b=Object(A.reproject)(b,e.getMapCrs(),"EPSG:4326",!1);var w=o&&o.features&&o.features.length&&o.features[0]&&o.features[0].features&&o.features[0].features.length&&o.features[0].features.filter((function(e){return e.properties.isDrawing}))[0].properties.id||i;y.setProperties({isCircle:!0,radius:g,center:[b.x,b.y],id:w,crs:e.getMapCrs()})}else if("Polygon"===t){p=e.props.drawMethod;var S=f.getCoordinates();S[0].push(S[0][0]),y=e.getNewFeature(p,S)}else{p="Text"===t?"Point":e.props.drawMethod;var j=f.getCoordinates();y=e.getNewFeature(p,j),"Text"===t&&y.setProperties({isText:!0,valueText:"."})}var O=d.length>=1?fe(e.replaceCirclesWithPolygonsInFeatureColl(d)):[];y.getProperties().id||y.setProperties({id:_.a.v1()});var x=[].concat(fe(O),[y]),M=xe.writeFeaturesObject(x),P=new z.a({features:(new F.a).readFeatures(M)});e.drawLayer.setSource(P);var E=Object(A.reprojectGeoJson)(M,e.getMapCrs(),"EPSG:4326");e.props.onGeometryChanged([E],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(E,e.props.drawOwner),e.props.onDrawingFeatures([h()(E.features)])}else{if("Circle"===t){p="Polygon";var C=f.getRadius(),L=f.getCenter(),k=e.polygonCoordsFromCircle(L,C),D=e.toMulti(e.createOLGeometry({type:p,coordinates:k}));if(1===m.length&&m[0]&&!m[0].geometry)s=[],c=new K.default([D]);else if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var R=e.replaceCirclesWithPolygons(l()(d));c=new K.default([].concat(fe(R),[D]))}else c=new K.default([s,D]);a.setGeometry(c)}else if("Text"===t||"MultiPoint"===t){var N=f.getCoordinates();p="MultiPoint";var G=e.toMulti(e.createOLGeometry({type:p,coordinates:[N]}));if(1!==m.length||m[0].geometry)if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var U=e.replaceCirclesWithPolygons(l()(d));c=new K.default([].concat(fe(U),[G]))}else(c=s.clone()).appendPoint(G.getPoint(0));else s=[],c=G.clone();a.setGeometry(c)}else if(!Object(I.isSimpleGeomType)(t)){var B;c=null,s=1!==m.length||m[0].geometry?e.toMulti(l()(d).getGeometry()):e.toMulti(e.createOLGeometry({type:t,coordinates:null}));var V=d.map((function(e){return"GeometryCollection"===e.getGeometry().getType()?e.getGeometry().getGeometries():e.getGeometry()}));"GeometryCollection"===d[0].getGeometry().getType()&&(V=V[0]);var W=u()(V,(function(e){return e.getType()===t}));if(W?e.appendToMultiGeometry(t,W,f):B=e.toMulti(e.createOLGeometry({type:t,coordinates:f.getCoordinates()})),f.getType()!==Object(I.getSimpleGeomType)(s.getType())){var q=l()(d).getGeometry().getGeometries?e.replaceCirclesWithPolygons(l()(d)):[];if(W){var H=q.map((function(e){return e.getType()===W.getType()?W:e}));c=new K.default(H)}else c="GeometryCollection"===s.getType()?new K.default([].concat(fe(q),[B])):"Text"===t?new K.default([B]):new K.default([s,B]);a.setGeometry(c)}else a.setGeometry(W)}var Z=e.props.features[0].properties;"Text"===t&&(Z=T()({},e.props.features[0].properties,{textValues:(e.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(e.props.features[0].properties.textGeometriesIndexes||[]).concat([a.getGeometry().getGeometries().length-1])})),"Circle"===t&&(Z=T()({},Z,{circles:(e.props.features[0].properties.circles||[]).concat([a.getGeometry().getGeometries().length-1])}));var Y=e.fromOLFeature(a,r,Z),X=new z.a({features:(new F.a).readFeatures(Y)});e.drawLayer.setSource(X);var J=Object(A.reprojectGeoJson)(xe.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326");"Polygon"===J.geometry.type&&J.geometry.coordinates[0].push(J.geometry.coordinates[0][0]),e.props.onGeometryChanged([J],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(Y,e.props.drawOwner),Y=Object(A.reprojectGeoJson)(Y,e.getMapCrs(),"EPSG:4326");var Q=Object(I.isSimpleGeomType)(e.props.drawMethod)&&"GeometryCollection"!==e.props.features[0].geometry.type?e.props.features.map((function(t){return ye(ye({},t),{},{featureProjection:e.getMapCrs()})})).concat([ye(ye({},Y),{},{type:"Feature",geometry:{type:Y.type,coordinates:Y.coordinates},featureProjection:e.getMapCrs(),properties:Z})]):[ye(ye({},Y),{},{properties:Z})];e.props.options.stopAfterDrawing?e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,Q):e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,Q.map((function(t){return Object(A.reprojectGeoJson)(t,"EPSG:4326",e.getMapCrs())})),T()({},e.props.options,{featureProjection:e.getMapCrs()})),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))}})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Oe(Se(e),"drawPropertiesForGeometryType",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={source:e.drawSource||n,type:t,style:"Marker"===t?Object(G.b)(o.style):new Q.default({fill:new $.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ee.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new re.default({radius:5,stroke:new ee.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new $.default({color:"rgba(255, 255, 255, 0.2)"})})}),features:new ne.a,condition:oe.c},i={};switch(t){case"BBOX":i.type="LineString",i.maxPoints=2,i.geometryFunction=function(e,t){var r=t;r||(r=new q.b([]));var n=e[0],o=e[1];return r.setCoordinates([[n,[n[0],o[1]],o,[o[0],n[1]],n]]),r};break;case"Circle":i.maxPoints=100,o.options&&o.options.geodesic?i.geometryFunction=function(t,r){var n=r;n||(n=new q.b([])).setProperties({geodesicCenter:fe(t[0])},!0);var o=e.props.map.getView().getProjection().getCode(),a=fe(t).map((function(t){return e.reprojectCoordinatesToWGS84(t,o)})),i=Object(A.calculateDistance)(a,"haversine"),s=Object(q.a)(a[0],i).clone().transform("EPSG:4326",o).getCoordinates();return n.setCoordinates(s),n}:i.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(i.maxPoints=r);var s="Text"===t||"Marker"===t?"Point":t;i.type=s,i.geometryFunction=function(t,r){var n=r;return n||(n=e.createOLGeometry({type:s,coordinates:null,options:o.options})),n.setCoordinates(t),n};break;default:return{}}return T()({},a,i)})),Oe(Se(e),"setDoubleClickZoomEnabled",(function(t){for(var r=e.props.map.getInteractions(),n=0;n<r.getLength();n++){var o=r.item(n);if(o instanceof ae.a){o.setActive(t);break}}})),Oe(Se(e),"updateFeatureExtent",(function(t){var r=t.features.getArray(),n=e.props.features.map((function(t){var n=l()(r.filter((function(r){return e.fromOLFeature(r).id===t.id})));return n?T()({},t,{geometry:n.geometry,center:n.center,extent:n.extent,coordinate:n.coordinates,radius:n.radius}):t}));e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,n)})),Oe(Se(e),"addInteractions",(function(t){e.clean(),e.drawLayer||e.addLayer(t),e.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(e.addSelectInteraction(),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:e.selectInteraction.getFeatures()}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",e.updateFeatureExtent),e.props.map.addInteraction(e.translateInteraction),e.addTranslateListener(),e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction),e.modifyInteraction=new se.a({features:e.selectInteraction.getFeatures(),condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.props.map.addInteraction(e.modifyInteraction)),e.drawSource.clear(),t.features.length>0&&e.addFeatures(t)})),Oe(Se(e),"addSingleClickListener",(function(e,t){return t.map.on("singleclick",e)})),Oe(Se(e),"addDrawOrEditInteractions",(function(t){e.state&&e.state.keySingleClickCallback&&Object(ce.b)(e.state.keySingleClickCallback);e.clean();var r,n=Object(A.reprojectGeoJson)(l()(t.features),t.options.featureProjection,e.getMapCrs())||{};r=n&&n.features&&n.features.length?T()({},t,{features:[n]}):n&&n.properties&&n.properties.isCircle?T()({},t,{features:[]}):T()({},t,{features:n.geometry?[ye(ye({},n.geometry),{},{properties:n.properties})]:[]}),e.drawLayer?(e.drawSource.clear(),e.addFeatures(r)):e.addLayer(r),t.options.editEnabled&&(e.addModifyInteraction(t),!1!==t.options.translateEnabled&&e.addTranslateInteraction(),t.options.addClickCallback&&e.setState({keySingleClickCallback:e.addSingleClickListener((function(r){if(e.drawSource&&t.options){var n,o=e.drawSource.getFeatures(),a=0,i=o&&o.length&&o.filter((function(e,t){return e.getProperties().canEdit&&(a=t),e.getProperties().canEdit}))[0]||null,s=i&&i.getGeometry()&&i.getGeometry().getCoordinates&&i.getGeometry().getCoordinates()||[],l=[],c=t.drawMethod;switch(c){case"Polygon":l=s.length?Object(N.isCompletePolygon)(s)?[(l=(l=f()(s[0],0,s[0].length-1)).concat([r.coordinate])).concat([s[0][0]])]:s[0].length>1?[[].concat(fe(s[0]),[r.coordinate,s[0][0]])]:[[].concat(fe(s[0]),[r.coordinate])]:[[r.coordinate]],(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(fe(s),[r.coordinate]):[r.coordinate],(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"Circle":c="Polygon";var u=i&&i.getProperties()&&i.getProperties().radius||1e4,p=r.coordinate,d=e.polygonCoordsFromCircle(p,u);n=e.getNewFeature(c,d),p=Object(A.reproject)(p,e.getMapCrs(),"EPSG:4326",!1),n.setProperties(m()(i&&i.getProperties()||{},"geometry")),n.setProperties({isCircle:!0,radius:u,center:[p.x,p.y]});break;case"Text":c="Point",(n=e.getNewFeature(c,r.coordinate)).setProperties(m()(i&&i.getProperties()||{},"geometry")),n.setProperties({isText:!0,valueText:i&&i.getProperties()&&i.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=r.coordinate,(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"))}var y={type:"Feature",geometry:{coordinates:fe(Object(A.reprojectGeoJson)(xe.writeFeaturesObject([n.clone()]),e.getMapCrs(),"EPSG:4326").features[0].geometry.coordinates),type:c},properties:ye({},m()(n.getProperties(),"geometry"))};e.props.onDrawingFeatures([y]),n=Object(R.a)(n,e.getMapCrs()),o[a]=n,e.drawSource=new z.a({features:o}),e.drawLayer.setSource(e.drawSource),e.addModifyInteraction(t)}}),t)})),t.options&&t.options.selectEnabled&&e.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&e.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)})),Oe(Se(e),"addSelectInteraction",(function(t,r){var n;if(e.selectInteraction&&e.props.map.removeInteraction(e.selectInteraction),t&&(n=u()(e.drawSource.getFeatures(),(function(e){return e.getProperties().id===t.properties.id})))&&e.selectFeature(n),e.selectInteraction=new le.a({layers:[e.drawLayer],features:new ne.a(t&&n?[n]:null)}),n){var o=e.convertGeometryTypeToStyleType(r.drawMethod);n.setStyle(Object(G.d)(ye(ye({},r),{},{style:ye(ye({},r.style),{},{type:o,highlight:!0,useSelectedStyle:r.options.useSelectedStyle})}),!1,r.features[0]&&r.features[0].properties&&r.features[0].properties.valueText&&[r.features[0].properties.valueText]||[]))}e.selectInteraction.on("select",(function(t){var r=e.selectInteraction.getFeatures().getArray(),n=[];return r.length&&(n=e.props.features.map((function(n){var o;if("FeatureCollection"===n.type&&r.length>0){var a=l()(r);if(e.selectFeature(a),a.getGeometry&&"Circle"===a.getGeometry().getType()){var i=a.getGeometry().getRadius(),s=Object(A.reproject)(a.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326");a.setProperties({center:[s.x,s.y],radius:i}),a=e.replaceCircleWithPolygon(a.clone())}return e.drawSource.getFeatures().forEach((function(t){t.getProperties().id===a.getProperties().id?e.selectFeature(a):e.deselectFeature(t)})),Object(A.reprojectGeoJson)(xe.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326")}return o=r.reduce((function(e,t){return t.get("id")===n.id||e}),!1),T()({},n,{selected:o,selectedFeature:t.selected})})),e.props.onSelectFeatures(n)),0===r.length?(e.props.onSelectFeatures([]),e.drawSource.getFeatures().map((function(t){return e.deselectFeature(t)})),null):null})),e.props.map.addInteraction(e.selectInteraction)})),Oe(Se(e),"selectFeature",(function(e){e.setProperties({selected:!0})})),Oe(Se(e),"deselectFeature",(function(e){e.setProperties({selected:!1})})),Oe(Se(e),"removeDrawInteraction",(function(){e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,setTimeout((function(){return e.props.map.enableEventListener("singleclick")}),500),setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),250))})),Oe(Se(e),"removeInteractions",(function(){e.removeDrawInteraction(),e.selectInteraction&&(e.props.map.enableEventListener("singleclick"),e.props.map.removeInteraction(e.selectInteraction)),e.modifyInteraction&&(e.props.map.removeInteraction(e.modifyInteraction),e.props.map.un("singleclick")),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction)})),Oe(Se(e),"clean",(function(t){t||e.removeInteractions(),e.drawLayer&&(e.props.map.removeLayer(e.drawLayer),e.geojson=null,e.drawLayer=null,e.drawSource=null)})),Oe(Se(e),"fromOLFeature",(function(t,r,n){var o=t.getGeometry(),a=e.props.map.getView().getProjection().getCode(),s=o.getType();if(o.getCoordinates){var l,c=o.getExtent(),u=o.getProperties(),p=u&&u.geodesicCenter||Object(ue.x)(c),f=o.getCoordinates();if(r&&(f=i()(r,f),o.setCoordinates(f)),"Circle"===e.props.drawMethod)if(e.props.options.geodesic){var d=[fe(p),fe(f[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(A.calculateDistance)(d,"haversine")}else l=e.calculateRadius(p,f);return T()({},{id:t.get("id"),type:s,extent:c,center:p,coordinates:f,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}var m=o.getGeometries().map((function(o,s){var l,c=o.getExtent(),u=Object(ue.x)(c),p=o.getCoordinates();if(r&&(p=i()(r,p),o.setCoordinates(p)),n.circles&&-1!==n.circles.indexOf(s))if(e.props.options.geodesic){var f=[fe(u),fe(p[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(A.calculateDistance)(f,"haversine")}else l=e.calculateRadius(u,p);else l=0;return T()({},{id:t.get("id"),type:o.getType(),extent:c,center:u,coordinates:p,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}));return T()({},{type:"Feature",id:t.get("id"),style:e.fromOlStyle(t.getStyle()),geometry:{type:"GeometryCollection",geometries:m},projection:a})})),Oe(Se(e),"reprojectCoordinatesToWGS84",(function(e,t){var r=Object(A.reproject)(e,t,"EPSG:4326");return[r.x,r.y]})),Oe(Se(e),"toOlFeature",(function(t){return l()(e.drawSource.getFeatures().filter((function(e){return e.get("id")===t.id})))})),Oe(Se(e),"fromOlStyle",(function(t){return t?{fillColor:e.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}})),Oe(Se(e),"toOlStyle",(function(t,r,n){var o=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof o&&(o=e.hexToRgb(o).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(o[3]=t.fillTransparency);var a=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";r&&(a="#4a90e2"),a=e.hexToRgb(a).concat([t&&t.opacity||1]);var i=new Q.default({fill:new $.default({color:o}),stroke:new ee.default({color:a,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new te.default({text:t&&t.text?t.text:"",fill:new $.default({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new ee.default({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===n?[].concat(fe(Object(G.c)({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[i]):t&&(t.iconUrl||t.iconGlyph)?Object(G.c)({style:t}):i})),Oe(Se(e),"hexToRgb",(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null})),Oe(Se(e),"componentToHex",(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})),Oe(Se(e),"rgbToHex",(function(t){return"#"+e.componentToHex(t[0])+e.componentToHex(t[1])+e.componentToHex(t[2])})),Oe(Se(e),"addModifyInteraction",(function(t){e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction);var r=t&&t.options&&t.options.editFilter;e.modifyFeatureColl=new ne.a(w()(e.drawLayer.getSource().getFeatures(),r)),e.modifyInteraction=new se.a({features:e.modifyFeatureColl,condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.modifyInteraction.on("modifyend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(A.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),t.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r.clone())}return Object(A.reprojectGeoJson)(xe.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,!1,"editing","editing")})),e.props.map.addInteraction(e.modifyInteraction)})),Oe(Se(e),"addTranslateInteraction",(function(){e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:new ne.a(e.drawLayer.getSource().getFeatures())}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(A.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r)}return t.getProperties()&&t.getProperties().selected&&e.props.onSelectFeatures([Object(A.reprojectGeoJson)(xe.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")]),Object(A.reprojectGeoJson)(xe.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,e.props.drawOwner,!1,"Text"===e.props.drawMethod,"Circle"===e.props.drawMethod)})),e.addTranslateListener(),e.props.map.addInteraction(e.translateInteraction)})),Oe(Se(e),"createOLGeometry",(function(t){var r=t.type,n=t.coordinates,o=t.radius,a=t.center,i=t.geometries,s=t.projection,l=t.options,c=void 0===l?{}:l;return"GeometryCollection"===r?i&&i.length?new K.default(i.map((function(t){return e.olGeomFromType({type:t.type})}))):new K.default([]):e.olGeomFromType({type:r,coordinates:n,radius:o,center:a,projection:s,options:c})})),Oe(Se(e),"olGeomFromType",(function(t){var r,n=t.type,o=t.coordinates,a=t.radius,i=t.center,s=t.projection,l=t.options;switch(n){case"Point":case"Marker":case"Text":r=new H.a(o||[]);break;case"LineString":r=new Z.a(o||[]);break;case"MultiPoint":r=new W.a(o||[]);break;case"MultiLineString":r=new Y.a(o||[]);break;case"MultiPolygon":r=new X.a(o||[]);break;default:var c=g()(i)?{x:i[0],y:i[1]}:i,u=s&&!isNaN(parseFloat(a))&&c&&!j()(c.x)&&!j()(c.y)&&!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y));(r=u?l.geodesic?Object(q.a)(e.reprojectCoordinatesToWGS84([c.x,c.y],s),a,100).clone().transform("EPSG:4326",s):Object(q.c)(new J.a([c.x,c.y],a),100):new q.b(o&&g()(o[0])?o:[]))&&u&&l.geodesic&&r.setProperties({geodesicCenter:[c.x,c.y]},!0)}return r})),Oe(Se(e),"convertGeometryTypeToStyleType",(function(e){switch(e){case"BBOX":return"LineString";default:return e}})),Oe(Se(e),"appendToMultiGeometry",(function(e,t,r){switch(e){case"MultiPoint":t.appendPoint(r);break;case"MultiLineString":t.appendLineString(r);break;case"MultiPolygon":var n=r.getCoordinates();n[0].push(n[0][0]),r.setCoordinates(n),t.appendPolygon(r)}})),Oe(Se(e),"calculateRadius",(function(e,t){return g()(t)&&g()(t[0])&&g()(t[0][0])?Math.sqrt(Math.pow(e[0]-t[0][0][0],2)+Math.pow(e[1]-t[0][0][1],2)):100})),Oe(Se(e),"polygonFromCircle",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(q.c)(new J.a(e,t),r)})),Oe(Se(e),"polygonCoordsFromCircle",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.polygonFromCircle(t,r,n).getCoordinates()})),Oe(Se(e),"replaceCirclesWithPolygonsInFeatureColl",(function(t){return t.map((function(t){return"Circle"!==t.getGeometry().getType()?t:e.replaceCircleWithPolygon(t)}))})),Oe(Se(e),"replaceCircleWithPolygon",(function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var r=t.getGeometry().getCenter(),n=t.getGeometry().getRadius();return t.setGeometry(e.polygonFromCircle(r,n)),t}return t})),Oe(Se(e),"replaceCirclesWithPolygons",(function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map((function(r,n){if("Circle"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getCenter(),a=r.getRadius();return e.polygonFromCircle(o,a)}return r}))})),Oe(Se(e),"replacePolygonsWithCircles",(function(t){return t.getGeometry().getGeometries().map((function(r,n){if("Polygon"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getExtent(),a=Object(ue.x)(o),i=e.calculateRadius(a,r.getCoordinates());return new J.a(a,i)}return r}))})),Oe(Se(e),"addTranslateListener",(function(){document.addEventListener("keydown",(function(t){t.altKey&&"AltLeft"===t.code&&e.translateInteraction.setActive(!0)})),document.addEventListener("keyup",(function(t){"AltLeft"===t.code&&e.translateInteraction.setActive(!1)}))})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.drawLayer&&this.updateFeatureStyles(e.features),!e.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addLayer(e);break;case"start":this.addInteractions(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(e);break;case"updateStyle":this.updateOnlyFeatureStyles(e);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&be(t.prototype,r),n&&be(t,n),a}(o.a.Component);Oe(Me,"propTypes",{map:P.a.object,drawOwner:P.a.string,drawStatus:P.a.string,drawMethod:P.a.string,options:P.a.object,features:P.a.array,onChangeDrawingStatus:P.a.func,onGeometryChanged:P.a.func,onDrawStopped:P.a.func,onDrawingFeatures:P.a.func,onSelectFeatures:P.a.func,onEndDrawing:P.a.func,style:P.a.object}),Oe(Me,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}})},"./MapStore2/web/client/components/map/openlayers/Feature.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return C}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./node_modules/axios/index.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/node_modules/lodash/find.js"),p=r.n(u),f=r("./MapStore2/node_modules/lodash/castArray.js"),d=r.n(f),m=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),y=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),g=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),b=r("./node_modules/ol/format/GeoJSON.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,r,n,o=x(a);function a(){var e;S(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(P(e=o.call.apply(o,[this].concat(r))),"addFeatures",(function(t){var r=new b.a,n=null,o=!1;"FeatureCollection"===t.type?(n={features:!!Object(c.isUndefined)(t.properties.visibility)||t.properties.visibility?t.features:[]},o=!!t.features):(n={geometry:t.geometry},o=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates));t.container&&o&&(e._feature=r.readFeatures(w({type:t.type,properties:t.properties,id:t.msId},n),{dataProjection:t.featuresCrs}),e._feature.map((function(e){var r=e;return e.getProperties().isCircle&&(r=Object(y.a)(e,t.crs||"EPSG:3857",t.featuresCrs)).setGeometry(r.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs)),r})).forEach((function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")})),t.style&&t.style!==t.layerStyle&&e._feature.forEach((function(e){var r=[],n={};"FeatureCollection"===t.type?(n=p()(t.features,(function(t){return t.properties.id===e.getProperties().id})),r=Object(g.createStylesAsync)(d()(n.style))):(r=Object(g.createStylesAsync)(d()(t.style)),n={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),l.a.all(r).then((function(t){e.setStyle((function(){return Object(m.e)(w(w({},n),{},{style:t}))}))}))})),t.container.getSource().addFeatures(e._feature))})),T(P(e),"removeFromContainer",(function(){if(e._feature)if(Array.isArray(e._feature)){var t=e.props.container.getSource();e._feature.map((function(e){var r=e.getId();void 0!==r&&t.getFeatureById(r)?t.removeFeature(t.getFeatureById(r)):t.removeFeature(e)}))}else e.props.container.getSource().removeFeature(e._feature)})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(e){return!(Object(c.isEqual)(e.properties,this.props.properties)&&Object(c.isEqual)(e.geometry,this.props.geometry)&&Object(c.isEqual)(e.features,this.props.features)&&Object(c.isEqual)(e.crs,this.props.crs)&&Object(c.isEqual)(e.style,this.props.style))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.removeFromContainer(),this.addFeatures(e)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}])&&j(t.prototype,r),n&&j(t,n),a}(o.a.Component);T(C,"propTypes",{type:i.a.string,layerStyle:i.a.object,style:i.a.object,properties:i.a.object,crs:i.a.string,container:i.a.object,features:i.a.array,geometry:i.a.object,msId:i.a.oneOfType([i.a.string,i.a.number]),featuresCrs:i.a.string}),T(C,"defaultProps",{featuresCrs:"EPSG:4326"})},"./MapStore2/web/client/components/map/openlayers/Layer.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return L}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r.n(l),u=r("./node_modules/object-assign/index.js"),p=r.n(u),f=r("./node_modules/rxjs/Rx.js"),d=r.n(f),m=r("./MapStore2/node_modules/lodash/isNumber.js"),y=r.n(m),g=r("./MapStore2/node_modules/lodash/isArray.js"),b=r.n(g),h=r("./MapStore2/node_modules/lodash/omit.js"),v=r.n(h),w=r("./MapStore2/node_modules/lodash/isEqual.js"),S=r.n(w);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,r,n,o=P(a);function a(){var e;O(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(T(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&e.layer&&e.isValid()&&e.layer.setVisible(t)})),_(T(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity(t)})),_(T(e),"generateOpts",(function(t,r,n,o,a){return p()({},t,y()(r)?{zIndex:r}:null,{srs:n,onError:function(){e.props.onCreationError(t)},securityToken:o,env:a})})),_(T(e),"createLayer",(function(t,r,n,o,a){if(t){var i=e.generateOpts(r,n,c.a.normalizeSRS(e.props.srs),o,a);e.layer=s.default.createLayer(t,i,e.props.map,e.props.mapId);var l=s.default.isCompatible(t,i);if(e.layer&&!e.layer.detached){var u=e.props.map,p=u&&u.getView().getProjection().getExtent(),f=r&&r.bbox&&r.bbox.bounds,d=p&&c.a.reprojectBbox(p,e.props.srs,"EPSG:4326"),m=f&&c.a.reprojectBbox(c.a.getExtentFromNormalized(f,e.props.srs).extent,"EPSG:4326");m&&2===m.length&&b()(m[1])&&(m=m[1]),(d&&m&&!c.a.isBboxCompatible(c.a.getPolygonFromExtent(d),c.a.getPolygonFromExtent(m))||!l)&&e.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),e.addLayer(r)}e.layer&&e.layer.get&&e.layer.get("getElevation")&&e.props.map.set("elevationLayer",e.layer),e.forceUpdate()}})),_(T(e),"updateLayer",(function(t,r){if(t.position===r.position&&t.srs===r.srs&&t.securityToken===r.securityToken){if(t.options===r.options)return;if(S()(v()(t.options,["loading"]),v()(r.options,["loading"])))return}var n=s.default.updateLayer(e.props.type,e.layer,e.generateOpts(t.options,t.position,t.projection,t.securityToken,t.env),e.generateOpts(r.options,r.position,r.projection,r.securityToken,r.env),e.props.map,e.props.mapId);n&&(e.props.map.removeLayer(e.layer),e.layer=n,e.addLayer(t.options))})),_(T(e),"addLayer",(function(t){if(e.isValid()){e.props.map.addLayer(e.layer);var r=new d.a.Subject,n=new d.a.Subject;t.handleClickOnLayer&&e.layer.set("handleClickOnLayer",!0),e.layer.getSource().on("tileloadstart",(function(){0===e.tilestoload?(e.props.onLayerLoading(t.id),e.tilestoload++):e.tilestoload++})),e.layer.getSource().on("tileloadend",(function(){r.next({type:"tileloadend"}),e.tilestoload--,0===e.tilestoload&&n.next()})),e.layer.getSource().on("tileloaderror",(function(t){r.next({type:"tileloaderror",event:t}),e.tilestoload--,0===e.tilestoload&&n.next()})),r.bufferWhen((function(){return n})).subscribe({next:function(r){var n=r.filter((function(e){return"tileloaderror"===e.type}));n.length>0&&(t&&!t.hideErrors||!t)?(e.props.onLayerLoad(t.id,{error:!0}),e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.tileLoadEndStream$=r,e.tileStopStream$=n;var o=new d.a.Subject,a=new d.a.Subject;if(e.layer.getSource().on("imageloadstart",(function(){0===e.imagestoload?(e.props.onLayerLoading(t.id),e.imagestoload++):e.imagestoload++})),e.layer.getSource().on("imageloadend",(function(){e.imagestoload--,o.next({type:"imageloadend"}),0===e.imagestoload&&a.next()})),e.layer.getSource().on("imageloaderror",(function(t){e.imagestoload--,o.next({type:"imageloaderror",event:t}),0===e.imagestoload&&a.next()})),o.bufferWhen((function(){return a})).subscribe({next:function(r){var n=r.filter((function(e){return"imageloaderror"===e.type}));n.length>0?(e.props.onLayerLoad(t.id,{error:!0}),(t&&!t.hideErrors||!t)&&e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.imageLoadEndStream$=o,e.imageStopStream$=a,t.refresh){var i=0;e.refreshTimer=setInterval((function(){e.layer.getSource().updateParams(p()({},t.params,{_refreshCounter:i++}))}),t.refresh)}}})),_(T(e),"isValid",(function(){var t=s.default.isValid(e.props.type,e.layer);return e.valid=t,t})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken,this.props.env)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.layer&&this.layer.setZIndex&&this.layer.setZIndex(e.position),this.props.options&&this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),s.default.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?i.a.Children.map(this.props.children,(function(r){return r?i.a.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return i.a.createElement(i.a.Fragment,null,r)}return s.default.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}])&&x(t.prototype,r),n&&x(t,n),a}(i.a.Component);_(L,"propTypes",{onWarning:o.a.func,maxExtent:o.a.array,map:o.a.object,mapId:o.a.string,srs:o.a.string,type:o.a.string,options:o.a.object,onLayerLoading:o.a.func,onLayerError:o.a.func,onCreationError:o.a.func,onLayerLoad:o.a.func,position:o.a.number,observables:o.a.array,securityToken:o.a.string,env:o.a.array}),_(L,"defaultProps",{observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"})},"./MapStore2/web/client/components/map/openlayers/Locate.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=(r("./MapStore2/web/client/utils/openlayers/olPopUp.css"),r("./node_modules/object-assign/index.js")),l=r.n(s),c=r("./node_modules/ol/util.js"),u=r("./node_modules/ol/Object.js"),p=r("./node_modules/ol/Overlay.js"),f=r("./node_modules/ol/Feature.js"),d=r("./node_modules/ol/source/Vector.js"),m=r("./node_modules/ol/layer/Vector.js"),y=r("./node_modules/ol/Geolocation.js"),g=r("./node_modules/ol/geom/Point.js"),b=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/GeometryCollection.js"),v=r("./node_modules/ol/style/Style.js"),w=r("./node_modules/ol/style/Fill.js"),S=r("./node_modules/ol/style/Stroke.js"),j=r("./node_modules/ol/style/Circle.js"),O=function(){var e=document.createElement("div");e.setAttribute("class","ol-popup");var t=document.createElement("a");t.setAttribute("class","ol-popup-close-btn"),t.setAttribute("href","#close"),t.innerHTML="x";var r=document.createElement("div");r.setAttribute("class","ol-popup-cnt-wrapper");var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt"),r.appendChild(n);var o=document.createElement("div");o.setAttribute("class","ol-popup-tip-wrapper");var a=document.createElement("div");return a.setAttribute("class","ol-popup-tip"),o.appendChild(a),e.appendChild(t),e.appendChild(r),e.appendChild(o),e}(),x=function(e,t){u.a.call(this,{state:"DISABLED"}),this.map=e;var r={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=l()({},r,t||{}),this.geolocate=new y.a({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.updateHandler=this._updatePosFt.bind(this),this.geolocate.on("change:position",this.updateHandler),this.popup=O,this.popup.hidden=!0,this.popCnt=O.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new p.a({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new m.a({source:new d.a({useSpatialIndex:!1})}),this.posFt=new f.a({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt),this.clickHandler=this.mapClick.bind(this),this.stopHandler=this.stopFollow.bind(this),this.errorHandler=this.options.onLocationError.bind(this)};Object(c.d)(x,u.a),x.prototype.start=function(){this.geolocate.on("error",this.errorHandler),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.clickHandler),this.map.on("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p?this._updatePosFt():this.set("state","LOCATING")},x.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p&&this._updatePosFt()},x.prototype.stop=function(){this.geolocate.un("error",this.errorHandler),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.clickHandler),this.map.un("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.un("pointerdrag",this.stopHandler),this.set("state","DISABLED")},x.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopHandler),this.set("state","ENABLED")},x.prototype._updatePosFt=function(){var e=this.get("state"),t=this.follow?"FOLLOWING":"ENABLED";t!==e&&this.set("state",t);var r=this.geolocate.getPosition();this.p=r;var n=new g.a([parseFloat(r[0]),parseFloat(r[1])]);if(this.options.drawCircle){var o=new b.a([parseFloat(r[0]),parseFloat(r[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new h.default([n,o]))}else this.posFt.setGeometry(new h.default([n]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(n),this.options.remainActive||this.geolocate.setTracking(!1)},x.prototype.updateView=function(e){this.follow&&(this.map.getView().setCenter(e.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},x.prototype._updatePopUpCnt=function(){var e,t;this.options.metric?(e=this.geolocate.getAccuracy(),t=this.options.strings.metersUnit):(e=Math.round(3.2808399*this.geolocate.getAccuracy()),t=this.options.strings.feetUnit);var r=this.options.strings.popup.replace("{distance}",e);this.popCnt.innerHTML=r.replace("{unit}",t),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},x.prototype.onLocationError=function(e){alert(e.message)},x.prototype.mapClick=function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,(function(e){return e}));t&&"_locate-pos"===t.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(O.hidden=!0)},x.prototype._getDefaultStyles=function(){return new v.default({image:new j.default({radius:6,fill:new w.default({color:"rgba(42,147,238,0.7)"}),stroke:new S.default({color:"rgba(19,106,236,1)",width:2})}),fill:new w.default({color:"rgba(19,106,236,0.15)"}),stroke:new S.default({color:"rgba(19,106,236,1)",width:2})})},x.prototype.setStrings=function(e){this.options.strings=l()({},this.options.strings,e)};var M=x;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",(function(){return R}));var D={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,r,n,o=_(a);function a(){var e;E(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(k(e=o.call.apply(o,[this].concat(r))),"onStateChange",(function(t){e.props.status!==t&&e.props.changeLocateState(t)})),A(k(e),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),A(k(e),"configureLocate",(function(t){var r=e.locate.get("state");"ENABLED"===t&&"DISABLED"===r?e.locate.start():"FOLLOWING"===t&&"ENABLED"===r?e.locate.startFollow():"DISABLED"===t&&e.locate.stop()})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.map&&(this.locate=new M(this.props.map,D),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",(function(t){e.onStateChange(t.target.get(t.key))})),this.configureLocate(this.props.status))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.status!==this.props.status&&this.configureLocate(e.status),e.messages!==this.props.messages&&this.locate.setStrings(e.messages)}},{key:"render",value:function(){return null}}])&&T(t.prototype,r),n&&T(t,n),a}(i.a.Component);A(R,"displayName","Locate"),A(R,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,changeLocateState:o.a.func,onLocateError:o.a.func}),A(R,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}})},"./MapStore2/web/client/components/map/openlayers/Map.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/ol/interaction.js"),o=r("./node_modules/ol/interaction/DragPan.js"),a=r("./node_modules/ol/interaction/MouseWheelZoom.js"),i=r("./node_modules/ol/control/util.js"),s=r("./node_modules/ol/Map.js"),l=r("./node_modules/ol/View.js"),c=r("./node_modules/ol/proj.js"),u=r("./node_modules/ol/control/Zoom.js"),p=r("./node_modules/ol/proj/Units.js"),f=r("./node_modules/ol/extent.js"),d=r("./MapStore2/web/client/libs/proj4.js"),m=r.n(d),y=r("./node_modules/ol/proj/proj4.js"),g=r("./node_modules/prop-types/index.js"),b=r.n(g),h=r("./node_modules/react/index.js"),v=r.n(h),w=r("./node_modules/object-assign/index.js"),S=r.n(w),j=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=r.n(j),x=r("./MapStore2/web/client/utils/ConfigUtils.js"),M=r.n(x),P=r("./MapStore2/web/client/utils/MapUtils.js"),E=r.n(P),T=r("./node_modules/ol/proj/Projection.js"),C=function(e,t,r,n,o){Object(c.addProjection)(new T.a({code:e,extent:t,worldExtent:r,axisOrientation:n,units:o}))},_=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),L=r("./MapStore2/node_modules/lodash/lodash.js");r("./node_modules/ol/ol.css"),r("./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return N(this,r)}}function N(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(b,e);var t,r,d,g=R(b);function b(){var e;I(this,b);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(G(e=g.call.apply(g,[this].concat(r))),"getDocument",(function(){return e.props.document||document})),U(G(e),"getResolutions",(function(){if(e.props.mapOptions&&e.props.mapOptions.view&&e.props.mapOptions.view.resolutions)return e.props.mapOptions.view.resolutions;var t=void 0!==e.props.mapOptions.minZoom?e.props.mapOptions.minZoom:0,r=void 0!==e.props.mapOptions.maxZoom?e.props.mapOptions.maxZoom:28,n=void 0!==e.props.mapOptions.zoomFactor?e.props.mapOptions.zoomFactor:2,o=e.map.getView().getProjection(),a=o.getExtent(),i=(a?Object(f.E)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256,s=(a?Object(f.A)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256;i<=s?(1,s/=Math.round(s/i)):(1,i/=Math.round(i/s));var l=Math.max(i,s),c=l/Math.pow(2,28),u=e.props.mapOptions.maxResolution;void 0!==u?t=0:u=l/Math.pow(n,t);var d=e.props.mapOptions.minResolution;return void 0===d&&(d=void 0!==e.props.mapOptions.maxZoom?void 0!==e.props.mapOptions.maxResolution?u/Math.pow(n,r):l/Math.pow(n,r):c),r=t+Math.floor(Math.log(u/d)/Math.log(n)),Array.apply(0,Array(r-t+1)).map((function(e,t){return u/Math.pow(n,t)}))})),U(G(e),"mouseMoveEvent",(function(t){if(!t.dragging&&t.coordinate){var r=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation"),n=t.coordinate.slice(),o=Object(c.toLonLat)(n,e.props.projection),a=o[0]/360%1*360;a<-180?a+=360:a>180&&(a-=360),e.props.onMouseMove({y:o[1]||0,x:a||0,z:e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation")(n,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:o[1],lng:a,z:r&&r(n,t.pixel)||void 0},lat:o[1],lng:a,rawPos:t.coordinate.slice()})}})),U(G(e),"updateMapInfoState",(function(){var t=e.map.getView(),r=t.getCenter(),n=t.getProjection().getExtent(),o=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(o)||r&&r[0]>=n[0]&&r[0]<=n[2]&&r[1]>=n[1]&&r[1]<=n[3]){var a=e.normalizeCenter(t.getCenter()),i=t.calculateExtent(e.map.getSize()),s={width:e.map.getSize()[0],height:e.map.getSize()[1]};e.props.onMapViewChanges({x:a[0]||0,y:a[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:o,rotation:t.getRotation()},s,e.props.id,e.props.projection)}})),U(G(e),"haveResolutionsChanged",(function(t){var r=e.props.mapOptions&&e.props.mapOptions.view?e.props.mapOptions.view.resolutions:void 0,n=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!Object(L.isEqual)(r,n)})),U(G(e),"createView",(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.restrictedExtent&&o.crs&&O.a.reprojectBbox(o.restrictedExtent,o.crs,O.a.normalizeSRS(r)),i=!n||n&&!n.view?S()({},n,{extent:a}):S()({},n),s=S()({},{projection:O.a.normalizeSRS(r),center:[e.x,e.y],zoom:t,minZoom:o.minZoom},i||{});return new l.a(s)})),U(G(e),"_updateMapPositionFromNewProps",(function(t){var r=e.map.getView(),n=e.props.center;if(!(t.center.y===n.y&&t.center.x===n.x)){var o=O.a.reproject({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);r.setCenter([o.x,o.y])}Math.round(t.zoom)!==e.props.zoom&&r.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||e.bbox&&void 0!==e.bbox.rotation&&t.bbox.rotation!==e.props.bbox.rotation)&&r.setRotation(t.bbox.rotation)})),U(G(e),"normalizeCenter",(function(t){var r=O.a.reproject({x:t[0],y:t[1]},e.props.projection,"EPSG:4326",!0);return[r.x,r.y]})),U(G(e),"setMousePointer",(function(t){e.map&&(e.map.getViewport().style.cursor=t||"auto")})),U(G(e),"registerHooks",(function(){e.props.hookRegister.registerHook(E.a.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(E.a.RESOLUTION_HOOK,(function(){return e.map.getView().getResolution()})),e.props.hookRegister.registerHook(E.a.COMPUTE_BBOX_HOOK,(function(t,r){var n=O.a.reproject([t.x,t.y],"EPSG:4326",e.props.projection),o=e.createView(n,r,e.props.projection,e.props.mapOptions&&e.props.mapOptions.view,e.props.limits),a=e.map.getSize(),i=o.calculateExtent(a);return{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:e.props.projection,rotation:e.map.getView().getRotation()}})),e.props.hookRegister.registerHook(E.a.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){return e.map.getPixelFromCoordinate(t)})),e.props.hookRegister.registerHook(E.a.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){return e.map.getCoordinateFromPixel(t)})),e.props.hookRegister.registerHook(E.a.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,a=r.maxZoom,i=r.duration,s=O.a.reprojectBbox(t,o,e.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===o&&Object(L.isArray)(t)&&-180===t[0]&&-90===t[1]&&(s=e.map.getView().getProjection().getExtent());var l=a;s&&s[0]===s[2]&&s[1]===s[3]&&Object(L.isNil)(l)&&(l=21),e.map.getView().fit(s,{size:e.map.getSize(),padding:n&&[n.top||0,n.right||0,n.bottom||0,n.left||0],maxZoom:l,duration:i})}))})),e}return t=b,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.projectionDefs.forEach((function(e){var t=m.a.defs(e.code);C(e.code,e.extent,e.worldExtent,e.axisOrientation||t.axis||"enu",t.units||"m")}));var t=O.a.reproject([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);Object(y.a)(m.a);var r=S()(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),l=Object(n.a)(S()({dragPan:!1,mouseWheelZoom:!1},r,{}));void 0!==r&&void 0!==r.dragPan||(this.dragPanInteraction=new o.a({kinetic:!1}),l.extend([this.dragPanInteraction])),void 0!==r&&void 0!==r.mouseWheelZoom||(this.mouseWheelInteraction=new a.a({duration:0}),l.extend([this.mouseWheelInteraction]));var u=Object(i.a)(S()({zoom:this.props.zoomControl,attributionOptions:S()({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:this.getDocument().querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),p=new s.default({layers:[],controls:u,interactions:l,maxTilesLoading:1/0,target:this.getDocument().getElementById(this.props.id)||"".concat(this.props.id),view:this.createView(t,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=p,this.map.disabledListeners={},this.map.disableEventListener=function(t){e.map.disabledListeners[t]=!0},this.map.enableEventListener=function(t){delete e.map.disabledListeners[t]},this.map.getViewport().addEventListener("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),p.on("moveend",this.updateMapInfoState),p.on("singleclick",(function(t){if(e.props.onClick&&!e.map.disabledListeners.singleclick){var r=e.map.getView(),n=t.coordinate.slice(),o=r.getProjection().getExtent();if("EPSG:4326"===e.props.projection&&(n[0]=O.a.normalizeLng(n[0])),"EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection||(n=Object(c.toLonLat)(n,e.props.projection),o=O.a.reprojectBbox(o,e.props.projection,"EPSG:4326")),n[0]>=o[0]&&n[0]<=o[2]&&n[1]>=o[1]&&n[1]<=o[3]){var a,i;a="EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection?O.a.reproject(n,e.props.projection,"EPSG:4326"):{x:n[0],y:n[1]},e.markerPresent=!1,p.forEachFeatureAtPixel(t.pixel,(function(t,r){if(r&&r.get("handleClickOnLayer")){var n=t.getGeometry();if(!e.markerPresent&&"Point"===n.getType()){e.markerPresent=!0,i=r.get("msId");var o=Object(c.toLonLat)(n.getFirstCoordinate(),e.props.projection);a={x:o[0],y:o[1]}}}}));var s=O.a.normalizeLng(a.x),l=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation");e.props.onClick({pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:a.y,lng:s,z:l&&l(n,t.pixel)||void 0},rawPos:t.coordinate.slice(),modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}},i)}}}));var f=Object(L.throttle)(this.mouseMoveEvent,100);p.on("pointermove",f),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?this.map.addControl(new u.a):this.map.removeControl(this.map.getControls().getArray().filter((function(e){return e instanceof u.a}))[0])),this.map&&(this.props.mapOptions&&this.props.mapOptions.interactions)!==(e.mapOptions&&e.mapOptions.interactions)){var r=e.mapOptions.interactions||{},n=this.map.getInteractions().getArray();Object.keys(r).forEach((function(e){var o=_.a[e]||{},a=o.Instance,i=o.options,s=Object(L.find)(n,(function(t){return _.a[e]&&t instanceof a}));s?s.setActive(r[e]):r[e]&&a&&t.map.addInteraction(new a(i))}))}if(this.map&&this.props.id!==e.mapStateSource&&this._updateMapPositionFromNewProps(e),this.map&&e.resize!==this.props.resize&&setTimeout((function(){t.map.updateSize()}),0),this.map&&(this.props.projection!==e.projection||this.haveResolutionsChanged(e))||this.props.limits!==e.limits){if(this.props.projection!==e.projection||this.props.limits!==e.limits){var o=e.projection,a=O.a.reproject([e.center.x,e.center.y],"EPSG:4326",o);this.map.setView(this.createView(a,e.zoom,e.projection,e.mapOptions&&e.mapOptions.view,e.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach((function(e){var t=e.getSource();t.getTileLoadFunction&&t.setTileLoadFunction(t.getTileLoadFunction())})),this.map.render()}}},{key:"componentWillUnmount",value:function(){var e=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&this.getDocument().querySelector(this.props.mapOptions.attribution.container);if(e&&e.querySelector(".ol-attribution"))try{e.removeChild(e.querySelector(".ol-attribution"))}catch(e){}this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var e=this,t=this.map,r=t?v.a.Children.map(this.props.children,(function(r){return r?v.a.cloneElement(r,{map:t,mapId:e.props.id,onLayerLoading:e.props.onLayerLoading,onLayerError:e.props.onLayerError,onLayerLoad:e.props.onLayerLoad,projection:e.props.projection,onCreationError:e.props.onCreationError}):null})):null;return v.a.createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&A(t.prototype,r),d&&A(t,d),b}(v.a.Component);U(z,"propTypes",{id:b.a.string,document:b.a.object,style:b.a.object,center:M.a.PropTypes.center,zoom:b.a.number.isRequired,mapStateSource:M.a.PropTypes.mapStateSource,projection:b.a.string,projectionDefs:b.a.array,onMapViewChanges:b.a.func,onResolutionsChange:b.a.func,onClick:b.a.func,mapOptions:b.a.object,zoomControl:b.a.bool,mousePointer:b.a.string,onMouseMove:b.a.func,onLayerLoading:b.a.func,onLayerLoad:b.a.func,onLayerError:b.a.func,resize:b.a.number,measurement:b.a.object,changeMeasurementState:b.a.func,registerHooks:b.a.bool,hookRegister:b.a.object,interactive:b.a.bool,onCreationError:b.a.func,bbox:b.a.object,wpsBounds:b.a.object,onWarning:b.a.func,maxExtent:b.a.array,limits:b.a.object,onMouseOut:b.a.func}),U(z,"defaultProps",{id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:E.a,interactive:!0,onMouseOut:function(){}});t.default=z},"./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return V}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r("./MapStore2/web/client/utils/MeasureUtils.js"),u=r("./MapStore2/web/client/utils/ImmutableUtils.js"),p=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),f=r("./MapStore2/web/client/utils/LocaleUtils.js"),d=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),m=r("./node_modules/ol/geom/Polygon.js"),y=r("./node_modules/ol/geom/LineString.js"),g=r("./node_modules/ol/Overlay.js"),b=r("./node_modules/ol/source/Vector.js"),h=r("./node_modules/ol/layer/Vector.js"),v=r("./node_modules/ol/Feature.js"),w=r("./node_modules/ol/style/Style.js"),S=r("./node_modules/ol/style/Fill.js"),j=r("./node_modules/ol/style/Stroke.js"),O=r("./node_modules/ol/style/Circle.js"),x=r("./node_modules/ol/interaction/Draw.js"),M=r("./node_modules/ol/format/GeoJSON.js"),P=r("./node_modules/ol/Observable.js"),E=r("./node_modules/ol/sphere.js");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return G(this,r)}}function G(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){return e.getView().getProjection().getCode()},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,r,n,o=N(a);function a(){var e;A(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return z(F(e=o.call.apply(o,[this].concat(r))),"getLength",(function(t,r){if("Bearing"===r.measurement.geomType&&t.length>1)return Object(l.calculateAzimuth)(t[0],t[1],B(r.map));var n=e.reprojectedCoordinatesIn4326(t);return Object(l.calculateDistance)(n,r.measurement.lengthFormula)})),z(F(e),"getArea",(function(t){return e.calculateGeodesicArea(t.getLinearRing(0).getCoordinates())})),z(F(e),"validateCoords",(function(e){return e.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))}))})),z(F(e),"updateFeatures",(function(t){var r=e.source.getFeatures();e.removeMeasureTooltips(),e.removeSegmentLengthOverlays(),e.source.clear(),e.textLabels=[],e.segmentLengths=[];var n=t.measurement.features.map((function(n,o){if(Object(s.get)(n,"properties.disabled"))return[n,r&&r[o]&&r[o].getGeometry()];var a=n.geometry.type,i=Object(s.get)(n,"properties.values",[]),u="bearing"===(i[0]||{}).type||!(i[0]||{}).type&&t.measurement.bearingMeasureEnabled,p="Polygon"===a?n.geometry.coordinates[0]:n.geometry.coordinates,f=e.reprojectedCoordinatesFrom4326(p),d="Polygon"===a?new m.b([f]):new y.a(f),g={Point:function(){return p},LineString:function(){return u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula)},Polygon:function(){return e.getArea(d)}},b={LineString:function(){return e.formatLengthValue(u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,u,t.measurement.trueBearing)},Polygon:function(){return e.formatAreaValue(e.getArea(d),t.uom)}};if(!u)for(var h=0;h<p.length-1;++h){e.createSegmentLengthOverlay();var v=Object(l.calculateAzimuth)(p[h],p[h+1],"EPSG:4326"),w=Object(l.calculateDistance)([p[h],p[h+1]],t.measurement.lengthFormula),S=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(v,e.props.measurement.trueBearing)||"",j=e.formatLengthValue(w,t.uom,u)+S;Object(s.last)(e.segmentOverlayElements).innerHTML=j,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(f[h],f[h+1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:j,position:Object(l.midpoint)(p[h],p[h+1],!0)},e.segmentLengths[e.segmentOverlays.length-1]={value:w,type:u?"bearing":"length"}}if(e.createMeasureTooltip(),"Polygon"===a&&e.createMeasureTooltip(),e.tooltipCoord="LineString"===a?Object(s.last)(f):e.tooltipCoord=d.getInteriorPoint().getCoordinates(),Object(s.last)(e.measureTooltipElements).innerHTML=b[a](),Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.measureTooltipElements.length-1]={value:g[a](),type:"Polygon"===a?"area":u?"bearing":"length"},"Polygon"===a){var O=Object(l.calculateDistance)(p,t.measurement.lengthFormula);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(O,t.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:O,type:"length"},e.perimeterTooltipCoord=Object(s.last)(f),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord),e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])}var x=I({},n);return x.properties=n.properties?I({},n.properties):{},x.properties.values=[{value:(g[a]||function(){return null})(),formattedValue:(b[a]||function(){return null})(),position:"Polygon"===a?Object(l.pointObjectToArray)(Object(l.reproject)(d.getInteriorPoint().getCoordinates(),B(t.map),"EPSG:4326")):Object(s.last)(p),type:(i[0]||{}).type||(t.measurement.pointMeasureEnabled?"point":t.measurement.lineMeasureEnabled?"length":t.measurement.areaMeasureEnabled?"area":t.measurement.bearingMeasureEnabled?"bearing":void 0)}].concat(_("Polygon"===a?[{value:Object(l.calculateDistance)(p,t.measurement.lengthFormula),formattedValue:e.formatLengthValue(Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,!1),position:Object(s.last)(p),uom:t.uom,type:"length"}]:[])),[x,d]})),o=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]}));e.source.addFeatures(a.filter((function(e){return!!e})).map((function(e){return new v.a({geometry:e})})));var i=_(e.textLabels);o.map((function(e){var t,r,n=!!(null===(t=e.properties)||void 0===t||null===(r=t.values)||void 0===r?void 0:r.find((function(e){return"bearing"===e.type}))),o="Polygon"===e.geometry.type,a=o||n?0:1,s=o?e.geometry.coordinates[0]:e.geometry.coordinates,l=o?s.length-1:n?0:s.length;return e.geometry.textLabels=i.splice(0,l-a)||[],e})),e.props.changeGeometry(o),e.props.setTextLabels(_(e.textLabels));for(var u=0;u<e.measureTooltipElements.length;++u)e.measureTooltipElements[u]&&(e.measureTooltipElements[u].className="tooltip tooltip-static");for(var p=0;p<e.segmentOverlayElements.length;++p)e.segmentOverlayElements[p]&&(e.segmentOverlayElements[p].className="segment-overlay segment-overlay-static")})),z(F(e),"updateMeasures",(function(t){var r=function(r){var n=r.type,o=r.value;return"length"===n?e.formatLengthValue(o,t.uom,!1):"area"===n?e.formatAreaValue(o,t.uom):e.formatLengthValue(o,t.uom,!0,t.measurement.trueBearing)};e.outputValues=e.outputValues||[],e.segmentOverlayElements=e.segmentOverlayElements||[],e.textLabels=e.textLabels||[];for(var n=0;n<e.outputValues.length;++n)e.outputValues[n]&&(e.measureTooltipElements[n].innerHTML=r(e.outputValues[n]));for(var o=0;o<e.segmentOverlayElements.length;++o)if(e.segmentOverlayElements[o]){var a=r(e.segmentLengths[o]),i=e.textLabels[o].text,s=i.indexOf(" | ");i=i.replace(i.substring(0,-1!==s?s:i.length),a),e.segmentOverlayElements[o].innerHTML=i,e.textLabels[o].text=i}e.drawing||e.props.setTextLabels(_(e.textLabels));var l=(t.measurement.features||[]).map((function(e){return I(I({},e),e.properties?{properties:I(I({},e.properties),{},{values:(e.properties.values||[]).map((function(e){return I(I({},e),{},{formattedValue:r({type:e.type,value:e.value})})}))})}:{})}));e.props.changeGeometry(l)})),z(F(e),"addFeature",(function(t){var r=!1;e.source||(e.source=new b.a,r=!0);var n=Object(l.reprojectGeoJson)(t,"EPSG:4326",B(e.props.map)).geometry,o=new v.a({geometry:Object(d.b)(n)});e.source.addFeature(o),r&&e.measureLayer.setSource(e.source)})),z(F(e),"resetGeometry",(function(){e.source.clear(),e.props.resetGeometry()})),z(F(e),"saveDrawState",(function(){var t,r,n,o;e.savedDrawState={textLabels:e.textLabels.slice(),segmentLengths:e.segmentLengths.slice(),measureTooltipsLength:null!==(t=null===(r=e.measureTooltips)||void 0===r?void 0:r.length)&&void 0!==t?t:0,segmentOverlaysLength:null!==(n=null===(o=e.segmentOverlays)||void 0===o?void 0:o.length)&&void 0!==n?n:0}})),z(F(e),"discardDrawState",(function(){e.savedDrawState=null})),z(F(e),"restoreDrawState",(function(){if(e.savedDrawState){e.textLabels=e.savedDrawState.textLabels,e.segmentLengths=e.savedDrawState.segmentLengths;for(var t=e.savedDrawState.measureTooltipsLength;t<e.measureTooltips.length;++t)e.props.map.removeOverlay(e.measureTooltips[t]),e.measureTooltipElements[t].parentNode.removeChild(e.measureTooltipElements[t]);for(var r=e.savedDrawState.segmentOverlaysLength;r<e.segmentOverlays.length;++r)e.props.map.removeOverlay(e.segmentOverlays[r]),e.segmentOverlayElements[r].parentNode.removeChild(e.segmentOverlayElements[r]);e.measureTooltips.splice(e.savedDrawState.measureTooltipsLength),e.measureTooltipElements.splice(e.savedDrawState.measureTooltipsLength),e.outputValues.splice(e.savedDrawState.measureTooltipsLength),e.segmentOverlays.splice(e.savedDrawState.segmentOverlaysLength),e.segmentOverlayElements.splice(e.savedDrawState.segmentOverlaysLength),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.savedDrawState=null}})),z(F(e),"addDrawInteraction",(function(t){var r,n,o=t.measurement.startEndPoint;if(e.continueLineMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continueLine"),e.continuePolygonMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continuePolygon"),e.drawInteraction&&e.removeDrawInteraction(),!e.vector){e.source=new b.a;var a=[new w.default({fill:new S.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new j.default({color:"#ffcc33",width:2}),image:new O.default({radius:7,fill:new S.default({color:"#ffcc33"})})})],i=[],d=o||!0===o;if(d||void 0===o){var g=d?void 0===o?{}:o:t.startEndPoint;i=Object(p.f)(g.startPointOptions,g.endPointOptions)}var v=[].concat(a,_(i));e.vector=new h.a({source:e.source,zIndex:1e6,style:v}),e.props.map.addLayer(e.vector)}n="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,r=new x.a({source:new b.a,type:n,style:new w.default({fill:new S.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new j.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new O.default({radius:5,stroke:new j.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new S.default({color:"rgba(255, 255, 255, 0.2)"})})})}),e.clickListener=e.props.map.on("click",(function(){return e.updateMeasurementResults(e.props)})),e.props.updateOnMouseMove&&e.props.map.on("pointermove",(function(){return e.updateMeasurementResults(e.props)})),e.props.map.on("pointermove",(function(t){return e.pointerMoveHandler(t)})),r.on("drawstart",(function(t){var r,n;e.sketchFeature=t.feature,e.drawing=!0,e.textId=(null===(r=e.props.measurement)||void 0===r||null===(n=r.features)||void 0===n?void 0:n.length)||0,e.textLabels||(e.textLabels=[]),e.segmentLengths||(e.segmentLengths=[]),e.props.measurement.disableLabels||(e.saveDrawState(),e.createMeasureTooltip("Polygon"===e.props.measurement.geomType?[0,0]:void 0),"Polygon"===e.props.measurement.geomType&&e.createMeasureTooltip(),"Polygon"===e.props.measurement.geomType&&e.createSegmentLengthOverlay()),e.listener=e.sketchFeature.getGeometry().on("change",(function(t){var r,n,o=t.target;if(o instanceof m.b){n={value:e.getArea(o),type:"area"},r=e.formatAreaValue(n.value,e.props.uom),e.tooltipCoord=o.getInteriorPoint().getCoordinates();var a=o.getCoordinates()[0],i=[];if(!e.props.measurement.disableLabels&&((void 0===e.curPolygonLength||e.curPolygonLength<a.length)&&(e.createSegmentLengthOverlay(),e.curPolygonLength=a.length),a.length>2)){i.push(Object(l.midpoint)(a[a.length-1],a[a.length-2],!0)),i.push(Object(l.midpoint)(a[a.length-2],a[a.length-3],!0));for(var u=0;u<i.length;++u){var p=a.slice(a.length-2-u,a.length-u),f=e.getLength(p,e.props),d=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(p[0],p[1],B(e.props.map)),e.props.measurement.trueBearing)||"",g=e.formatLengthValue(f,e.props.uom,!1)+d;e.segmentOverlayElements[e.segmentOverlays.length-u-1].innerHTML=g,e.segmentOverlays[e.segmentOverlays.length-u-1].setPosition(i[u]),e.segmentLengths[e.segmentOverlays.length-u-1]={value:f,type:"length"},e.textLabels[e.segmentOverlays.length-u-1]={text:g,position:Object(l.pointObjectToArray)(Object(l.reproject)(i[u],B(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId}}}}else if(o instanceof y.a){var b=o.getCoordinates(),h=[b[b.length-2],b[b.length-1]];e.props.measurement.disableLabels||e.props.measurement.bearingMeasureEnabled||!(void 0===e.curLineStringLength||e.curLineStringLength<b.length)||(e.createSegmentLengthOverlay(),e.curLineStringLength=b.length);var v=e.getLength(b,e.props),w=e.getLength(h,e.props);if(r=e.formatLengthValue(v,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing),e.tooltipCoord=o.getLastCoordinate(),!e.props.measurement.disableLabels&&!e.props.measurement.bearingMeasureEnabled){var S=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(h[0],h[1],B(e.props.map)),e.props.measurement.trueBearing)||"",j=e.formatLengthValue(w,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing)+S;Object(s.last)(e.segmentOverlayElements).innerHTML=j,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(h[0],h[1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:j,position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(l.midpoint)(h[0],h[1],!0),B(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId},e.segmentLengths[e.segmentOverlays.length-1]={value:w,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}n={value:v,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}if(!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).innerHTML=r,Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.outputValues.length-1]=n,o instanceof m.b)){var O=o.getCoordinates()[0],x=e.getLength(3===O.length?Object(s.dropRight)(O):O,e.props);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(x,e.props.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:x,type:"length"},e.perimeterTooltipCoord=o.getLastCoordinate(),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord)}}))})),r.on("drawend",(function(t){var r;e.drawing=!1;var n=Object(s.get)(e.props.measurement,"features",[]),o=t.feature.getGeometry(),a=o.getCoordinates(),i=new M.a,c={Point:function(){return Object(l.reproject)(a,B(e.props.map),"EPSG:4326")},LineString:function(){return e.getLength(a,e.props)},Polygon:function(){return e.getArea(o)},Bearing:function(){return Object(l.calculateAzimuth)(a[0],a[1],B(e.props.map))}},p={LineString:function(){return e.formatLengthValue(e.getLength(a,e.props),e.props.uom,!1)},Polygon:function(){return e.formatAreaValue(e.getArea(o),e.props.uom)},Bearing:function(){return e.formatLengthValue(Object(l.calculateAzimuth)(a[0],a[1],B(e.props.map)),e.props.uom,!0,e.props.measurement.trueBearing)}},f=Object(l.reprojectGeoJson)(i.writeFeatureObject(t.feature.clone()),B(e.props.map),"EPSG:4326");f.properties=f.properties||{},f.properties.values=[{value:(c[e.props.measurement.geomType]||function(){return null})(),formattedValue:(p[e.props.measurement.geomType]||function(){return null})(),position:Object(l.pointObjectToArray)(Object(l.reproject)("Polygon"===e.props.measurement.geomType?o.getInteriorPoint().getCoordinates():Object(s.last)(a),B(e.props.map),"EPSG:4326")),type:e.props.measurement.pointMeasureEnabled?"point":e.props.measurement.lineMeasureEnabled?"length":e.props.measurement.areaMeasureEnabled?"area":e.props.measurement.bearingMeasureEnabled?"bearing":void 0}].concat(_("Polygon"===e.props.measurement.geomType?[{value:(e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,formattedValue:e.formatLengthValue((e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,e.props.uom,!1),position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(s.last)(a[0]),B(e.props.map),"EPSG:4326")),uom:e.props.uom,type:"length"}]:[]));var d=I({},f);if(e.props.measurement.lineMeasureEnabled){var m=d.geometry.coordinates,y=Object(l.transformLineToArcs)(m);if(!e.props.measurement.disableLabels){e.removeLastSegment();for(var g=0;g<m.length-1;++g){var b=y[100*g+50];b&&(e.textLabels[e.segmentOverlays.length-m.length+1+g].position=b,e.segmentOverlays[e.segmentOverlays.length-m.length+1+g].setPosition(Object(l.pointObjectToArray)(Object(l.reproject)(b,"EPSG:4326",B(e.props.map)))))}}d=Object(u.set)("geometry.coordinates",y,d)}else!e.props.measurement.disableLabels&&e.props.measurement.areaMeasureEnabled&&(e.textLabels.splice(e.segmentOverlays.length-2,1),e.props.map.removeOverlay(e.segmentOverlays[e.segmentOverlays.length-2]),e.segmentOverlayElements[e.segmentOverlays.length-2].parentNode.removeChild(e.segmentOverlayElements[e.segmentOverlays.length-2]),e.segmentOverlayElements.splice(e.segmentOverlays.length-2,1),e.segmentOverlays.splice(e.segmentOverlays.length-2,1));var h="bearing"===(null===(r=f.properties.values[0])||void 0===r?void 0:r.type)?"Bearing":f.geometry.type;if(f.geometry.textLabels=e.textLabels.filter((function(t){return t.type===h&&t.textId===e.textId})).map((function(e){e.textId,e.type;return C(e,["textId","type"])})),e.props.changeGeometry([].concat(_(n),[f])),e.props.setTextLabels(_(e.textLabels)),e.addFeature(d),!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).className="tooltip tooltip-static",Object(s.last)(e.measureTooltips).setOffset([0,-7]),"Polygon"===e.props.measurement.geomType&&(e.measureTooltipElements[e.measureTooltipElements.length-2].className="tooltip tooltip-static",e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])),e.segmentOverlayElements))for(var v=0;v<e.segmentOverlayElements.length;++v)e.segmentOverlayElements[v]&&(e.segmentOverlayElements[v].className="segment-overlay segment-overlay-static");Object(P.b)(e.listener),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.discardDrawState()})),e.props.map.addInteraction(r),e.createHelpTooltip(),e.drawInteraction=r,e.measureLayer=e.vector})),z(F(e),"removeLastSegment",(function(){e.textLabels.pop(),e.segmentLengths.pop(),e.props.map.removeOverlay(Object(s.last)(e.segmentOverlays)),Object(s.last)(e.segmentOverlayElements).parentNode.removeChild(Object(s.last)(e.segmentOverlayElements)),e.segmentOverlays.pop(),e.segmentOverlayElements.pop()})),z(F(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.removeHelpTooltip(),e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.sketchFeature=null,e.props.map.un("click",(function(){return e.updateMeasurementResults(e.props)}),F(e)),Object(P.b)(e.clickListener),e.props.updateOnMouseMove&&e.props.map.un("pointermove",(function(){return e.updateMeasurementResults(e.props)}),F(e)))})),z(F(e),"pointerMoveHandler",(function(e){if(!e.dragging){var t=Object(f.getMessageById)(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var r=this.sketchFeature.getGeometry();r instanceof m.b?t=this.continuePolygonMsg:r instanceof y.a&&(t=this.continueLineMsg)}this.helpTooltipElement.innerHTML=t,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}})),z(F(e),"updateMeasurementResults",(function(t){if(e.sketchFeature){var r=e.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&r.length>1&&r.length>2){for(e.drawInteraction.sketchCoords_=[r[0],r[1],r[0]];e.sketchFeature.getGeometry().getCoordinates().length>3;)e.drawInteraction.removeLastPoint();e.sketchFeature.getGeometry().setCoordinates([r[0],r[1]]),e.drawInteraction.sketchFeature_=e.sketchFeature,e.drawInteraction.finishDrawing()}}})),z(F(e),"reprojectedCoordinatesFrom4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,"EPSG:4326",B(e.props.map));return[r.x,r.y]}))})),z(F(e),"reprojectedCoordinatesIn4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,B(e.props.map),"EPSG:4326");return[r.x,r.y]}))})),z(F(e),"calculateGeodesicArea",(function(t){if(t.length>=4){var r=e.reprojectedCoordinatesIn4326(t);return Math.abs(Object(E.a)(new m.b([r]),{projection:"EPSG:4326"}))}return 0})),z(F(e),"createHelpTooltip",(function(){e.removeHelpTooltip(),e.helpTooltipElement=document.createElement("div"),e.helpTooltipElement.className="tooltip hidden",e.helpTooltip=new g.a({element:e.helpTooltipElement,offset:[15,0],positioning:"center-left"}),e.props.map.addOverlay(e.helpTooltip)})),z(F(e),"createMeasureTooltip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,-15];e.measureTooltipElements||(e.measureTooltipElements=[]),e.measureTooltips||(e.measureTooltips=[]),e.outputValues||(e.outputValues=[]);var r=document.createElement("div");r.className="tooltip tooltip-measure",r.style.display=e.props.measurement.showLabel?"":"none",e.measureTooltipElements.push(r);var n=new g.a({element:r,offset:t,positioning:"bottom-center"});e.props.map.addOverlay(n),e.measureTooltips.push(n),e.outputValues.push(null)})),z(F(e),"createSegmentLengthOverlay",(function(t){e.segmentOverlayElements||(e.segmentOverlayElements=[]),e.segmentOverlays||(e.segmentOverlays=[]);var r=document.createElement("div");r.className="segment-overlay",r.style.display=e.props.measurement.showSegmentLengths&&!t?"":"none",e.segmentOverlayElements.push(r);var n=new g.a({element:r,offset:[0,0],positioning:"center-center"});e.props.map.addOverlay(n),e.segmentOverlays.push(n)})),z(F(e),"formatLengthValue",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n)return Object(c.getFormattedBearingValue)(t,o);var a=r&&r.length,i=a.label,l=a.unit,u=Object(s.round)(Object(c.convertUom)(t,"m",l),2);return e.props.formatNumber(u)+" "+i})),z(F(e),"formatAreaValue",(function(t,r){var n=r&&r.area,o=n.label,a=n.unit,i=Object(s.round)(Object(c.convertUom)(t,"sqm",a),2);return e.props.formatNumber(i)+" "+o})),z(F(e),"removeHelpTooltip",(function(){e.helpTooltipElement&&e.helpTooltipElement.parentNode&&e.helpTooltipElement.parentNode.removeChild(e.helpTooltipElement),e.helpTooltip&&e.props.map.removeOverlay(e.helpTooltip)})),z(F(e),"removeMeasureTooltips",(function(){(e.measureTooltips||[]).forEach((function(t){e.props.map.removeOverlay(t)}));for(var t=document.getElementsByClassName("tooltip-static")||[],r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);t=document.getElementsByClassName("tooltip-measure")||[];for(var n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);e.measureTooltips=[],e.measureTooltipElements=[],e.outputValues=[]})),z(F(e),"removeSegmentLengthOverlays",(function(){(e.segmentOverlays||[]).forEach((function(t){e.props.map.removeOverlay(t)})),(e.segmentOverlayElements||[]).forEach((function(e){e.parentNode.removeChild(e)})),e.segmentOverlays=[],e.segmentOverlayElements=[]})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.measureTooltipElements&&e.measurement.showLabel!==this.props.measurement.showLabel)for(var t=0;t<this.measureTooltipElements.length;++t)this.measureTooltipElements[t]&&(this.measureTooltipElements[t].style.display=e.measurement.showLabel?"":"none");if(this.segmentOverlayElements&&e.measurement.showSegmentLengths)for(var r=0;r<this.segmentOverlayElements.length;++r)this.segmentOverlayElements[r]&&(this.segmentOverlayElements[r].style.display=e.measurement.showSegmentLengths?"":"none");(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&(this.restoreDrawState(),this.addDrawInteraction(e)),e.measurement.geomType||(this.removeDrawInteraction(),this.removeMeasureTooltips(),this.removeSegmentLengthOverlays(),this.textLabels=[],this.segmentLengths=[],this.props.map.removeLayer(this.measureLayer),this.vector=null,this.measureLayer=null,e.measurement.features&&e.measurement.features.length>0&&this.props.changeGeometry([]),e.measurement.textLabels&&e.measurement.textLabels.length>0&&this.props.setTextLabels([]),this.source&&(this.source.clear(),this.source=null));var n=this.props.measurement.features,o=e.measurement.features;e.measurement.updatedByUI&&!Object(s.isEqual)(n,o)?this.updateFeatures(e):e.measurement.updatedByUI&&!Object(s.isEqual)(this.props.uom,e.uom)&&this.updateMeasures(e)}},{key:"render",value:function(){return null}}])&&D(t.prototype,r),n&&D(t,n),a}(o.a.Component);z(V,"propTypes",{startEndPoint:i.a.object,map:i.a.object,measurement:i.a.object,enabled:i.a.bool,uom:i.a.object,formatNumber:i.a.func,changeMeasurementState:i.a.func,updateMeasures:i.a.func,resetGeometry:i.a.func,changeGeometry:i.a.func,updateOnMouseMove:i.a.bool,setTextLabels:i.a.func}),z(V,"contextTypes",{messages:i.a.object}),z(V,"defaultProps",{changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(e){return e},setTextLabels:function(){},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1})},"./MapStore2/web/client/components/map/openlayers/Overview.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isFinite.js"),p=r.n(u),f=r("./node_modules/ol/control/OverviewMap.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("./MapStore2/web/client/components/map/openlayers/overview.css");var j={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"»",label:"«",collapsed:!0,collapsible:!0},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,r,n,o=b(a);function a(){var e;m(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return S(v(e=o.call.apply(o,[this].concat(r))),"dragstart",(function(t){e.dragging||(e.dragBox=e.box.cloneNode(),e.dragBox.setAttribute("class","ol-overview-dargbox"),e.dragBox.style.position="relative",e.box.appendChild(e.dragBox),""===e.box.style.top?e.offsetStartTop=0:e.offsetStartTop=parseInt(e.box.style.top.slice(0,-2),10),""===e.box.style.left?e.offsetStartLeft=0:e.offsetStartLeft=parseInt(e.box.style.left.slice(0,-2),10),e.mouseStartTop=t.pageY,e.mouseStartLeft=t.pageX,e.dragging=!0)})),S(v(e),"draggingel",(function(t){!0===e.dragging&&(e.dragBox.style.top=e.offsetStartTop+t.pageY-e.mouseStartTop+"px",e.dragBox.style.left=e.offsetStartLeft+t.pageX-e.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())})),S(v(e),"dragend",(function(){if(!0===e.dragging){var t={};t.top=""===e.dragBox.style.top?0:parseInt(e.dragBox.style.top.slice(0,-2),10),t.left=""===e.dragBox.style.left?0:parseInt(e.dragBox.style.left.slice(0,-2),10),e.box.removeChild(e.dragBox),delete e.dragBox,e.dragging=!1,e.setNewExtent(t)}})),S(v(e),"setNewExtent",(function(t){var r=e.box.offsetWidth,n=e.box.offsetHeight,o=e.props.map.getSize(),a=t.left*Math.abs(o[0]/r),i=t.top*Math.abs(o[1]/n);a=p()(a)?a:0,i=p()(i)?i:0;var s=[0+a,o[1]+i],l=[o[0]+a,0+i],c=e.props.map.getCoordinateFromPixel(s)||[0,0],u=e.props.map.getCoordinateFromPixel(l)||[0,0],f=[c[0],c[1],u[0],u[1]];e.props.map.getView().fit(f,o,{nearest:!0})})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.layers.forEach((function(e){t.push(s.default.createLayer(e.type,e.options||{}))}));var r=c()({},j,this.props.overviewOpt,{layers:t});this.overview=new f.a(r),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(t){e.dragstart(t),e.box.onmousemove=function(t){e.draggingel(t)},e.overview.element.onmousemove=function(t){e.draggingel(t)},e.box.onmouseup=function(){e.dragend(),e.overview.element.onmousemove=null,e.box.onmousemove=null,e.box.onmouseup=null}}}},{key:"render",value:function(){return null}}])&&y(t.prototype,r),n&&y(t,n),a}(i.a.Component);S(O,"displayName","Overview"),S(O,"propTypes",{id:o.a.string,map:o.a.object,overviewOpt:o.a.object,layers:o.a.array}),S(O,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]})},"./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return P}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dom/index.js"),i=r.n(a),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./node_modules/ol/Overlay.js"),u=r("./MapStore2/node_modules/lodash/isString.js"),p=r.n(u),f=r("./MapStore2/web/client/utils/PopupUtils.js"),d=r("./MapStore2/web/client/components/map/popups/index.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(r.coordinates))}));return n.observe(t,{attributes:!0,childList:!0,subtree:!0}),n},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,r,n,a=w(s);function s(){var e;b(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(j(e=a.call.apply(a,[this].concat(r))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),x(j(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var r,n=t.popup,a=t.id,s=t.component,l=t.content,c=t.props,u=t.containerStyle,m=n.getElement(),y=p()(s)&&d.default[s]||s;return y?r=o.a.isValidElement(y)&&y||o.a.createElement(y,c):l&&(r=f.c(l)?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l),m&&i.a.createPortal(o.a.createElement("div",{className:"map-popup-ol",key:a,onMouseUp:e.convertToClick},o.a.createElement("div",{className:"ol-popup-content-wrapper"},o.a.createElement("div",{className:"ol-popup-content",style:u},r)),o.a.createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(a)}},"x")),m)}))})),x(j(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),x(j(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),x(j(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,a=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,r=e.observer;r&&r.disconnect(),t&&o.removeOverlay(t)})),e._popups=n.map((function(e){var t=Math.round(.9*a[0])-40,r=Math.round(.9*a[1])-40,n=e.id,i=e.position.coordinates,s=e.className,l=e.maxWidth,u=void 0===l?t:l,p=e.maxHeight,d=void 0===p?r:p,m=e.autoPan,y=void 0!==m&&m,b=e.autoPanMargin,h=void 0===b?20:b,v=e.offset,w=void 0===v?[0,0]:v,S=e.autoPanAnimation,j=void 0===S?{duration:200}:S,O=u>t?t:u,x=d>r?r:d,P=f.b(n,s),E=new c.a({id:n,element:P,autoPan:y,offset:w,autoPanMargin:h,autoPanAnimation:j,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:i});return o.addOverlay(E),g({popup:E,observer:M(E,P,{coordinates:i}),containerStyle:{maxWidth:O,maxHeight:x}},e)})),e._popups})),x(j(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&h(t.prototype,r),n&&h(t,n),s}(o.a.Component);x(P,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),x(P,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./node_modules/object-assign/index.js"),l=r.n(s),c=r("./node_modules/ol/control/ScaleLine.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,r,n,o=m(a);function a(){return p(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){this.scalebar=new c.a(l()({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){if(this.props.container&&document.querySelector(".ol-scale-line"))try{document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}catch(e){}}},{key:"render",value:function(){return null}}])&&f(t.prototype,r),n&&f(t,n),a}(i.a.Component);b(h,"propTypes",{map:o.a.object,className:o.a.string,minWidth:o.a.number,units:o.a.oneOf(["degrees","imperial","nautical","metric","us"]),container:o.a.string}),b(h,"defaultProps",{map:null,className:"ol-scale-line",minWidth:64,units:"metric"})},"./MapStore2/web/client/components/map/openlayers/VectorStyle.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/lodash/isNil.js"),o=r.n(n),a=r("./MapStore2/node_modules/lodash/trim.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/isString.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/isArray.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/castArray.js"),f=r.n(p),d=r("./MapStore2/node_modules/lodash/head.js"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/last.js"),g=r.n(y),b=r("./MapStore2/node_modules/lodash/find.js"),h=r.n(b),v=r("./MapStore2/node_modules/lodash/isObject.js"),w=r.n(v),S=r("./MapStore2/web/client/utils/ColorUtils.js"),j=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=r("./MapStore2/web/client/utils/MarkerUtils.js"),x=r.n(O),M=r("./MapStore2/node_modules/lodash/isNumber.js"),P=r.n(M),E=r("./node_modules/ol/style/Style.js"),T=r("./node_modules/ol/style/Icon.js"),C=r("./node_modules/ol/style/Text.js"),_=r("./node_modules/ol/style/Fill.js"),L=r("./MapStore2/web/client/utils/openlayers/highlight.png"),k=r.n(L),I=x.a.markers.extra,A=I.icons[0],D=I.icons[1],R=I.size[1],N=x.a.getGlyphs("fontawesome"),G=function(e,t){var r=e.highlight,n=e.rotation,o=void 0===n?0:n;return r?[new E.default({image:new T.default({anchor:[.5,t],rotation:o,anchorXUnits:"fraction",anchorYUnits:"pixels",src:k.a,scale:.5})})]:[]},F={extra:{getIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e.style&&e.style.rotation)?0:e.style.rotation;return[new E.default({image:new T.default({rotation:t,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:D})}),new E.default({image:new T.default({rotation:t,src:A,anchor:[I.size[0]/2,I.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:I.size,offset:[I.colors.indexOf(e.style.iconColor||"blue")*I.size[0],I.shapes.indexOf(e.style.iconShape||"circle")*I.size[1]]}),text:new C.default({rotation:t,text:N[e.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-I.size[1]/3,fill:new _.default({color:"#FFFFFF"})})})].concat(G(e.style,2*(R+15)))}},standard:{getIcon:function(e){var t=e.style,r=e.iconAnchor,n=o()(t&&t.rotation)?0:t.rotation,a=t.iconAnchor||r,i=[new E.default({image:new T.default({anchor:a||[.5,1],anchorXUnits:t.anchorXUnits||(a||0===a?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(a||0===a?"pixels":"fraction"),size:u()(t.size)?t.size:P()(t.size)?[t.size,t.size]:void 0,rotation:n,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];t.shadowUrl&&(i=[new E.default({image:new T.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),i[0]]);var s=u()(t.size)?t.size[1]:P()(t.size)?t.size:0;return s=s>32?s+.75*s:R+10,i.concat(G(t,s))}},html:{getIcon:function(){return null}}},U=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),z=r("./node_modules/ol/style/Circle.js"),B=r("./node_modules/ol/style/Stroke.js"),V=r("./node_modules/ol/geom/Point.js"),W=r("./node_modules/ol/geom/LineString.js"),q=r("./node_modules/es6-promise/dist/es6-promise.js"),H=r("./MapStore2/web/client/libs/ajax.js"),Z=r.n(H),Y=r("./node_modules/geostyler-openlayers-parser/build/dist/OlStyleParser.js"),X=r.n(Y),J=r("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),K=r.n(J),Q=r("./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png"),$=r.n(Q),ee=r("./node_modules/object-assign/index.js"),te=r.n(ee),re=r("./MapStore2/web/client/utils/ImmutableUtils.js");function ne(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=[0,153,255,1],ce=new z.default({radius:5,fill:null,stroke:new B.default({color:"red",width:1})}),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,a=e.applyToPolygon,i=void 0!==a&&a;return new E.default({image:new z.default({radius:r,fill:new _.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new V.a(m()(n)):null}})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,a=e.applyToPolygon,i=void 0!==a&&a;return new E.default({image:new z.default({radius:r,fill:new _.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new V.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:g()(n))}})},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ue(e),pe(t)]},de=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new E.default({text:new C.default({offsetY:-4*Math.sqrt(e.fontSize),textAlign:e.textAlign||"center",text:t||"",font:e.font,fill:new _.default({color:Object(S.colorToRgbaStr)(e.stroke||e.color||"#000000",e.opacity||1)}),stroke:r?new B.default({color:[255,255,255,1],width:2}):null}),image:r?new z.default({radius:5,fill:null,stroke:new B.default({color:Object(S.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null})},me={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},ye={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ge={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},be={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:me,MultiPoint:me,LineString:ye,MultiLineString:ye,Polygon:ge,MultiPolygon:ge},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new B.default(e.style?e.style.stroke||{color:e.style.color||t.color,lineDash:l()(e.style.dashArray)&&i()(e.style.dashArray).split(" ")||t.lineDash,width:e.style.weight||t.width,lineCap:e.style.lineCap||"round",lineJoin:e.style.lineJoin||"round",lineDashOffset:e.style.dashOffset||0}:ie({},t))}},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new _.default(e.style?e.style.fill||{color:Object(S.colorToRgbaStr)(e.style.fillColor,e.style.fillOpacity)||t.color}:ie({},t))}},we={Point:function(){return[new E.default({image:ce})]},LineString:function(e){return[new E.default(te()({},he(e,{color:"blue",width:3})))]},MultiLineString:function(e){return[new E.default(te()({},he(e,{color:"blue",width:3})))]},MultiPoint:function(){return[new E.default({image:ce})]},MultiPolygon:function(e){return[new E.default(te()({},he(e),ve(e)))]},Polygon:function(e){return[new E.default(te()({},he(e),ve(e)))]},GeometryCollection:function(e){return[new E.default(te()({},he(e),ve(e),{image:new z.default({radius:10,fill:null,stroke:new B.default({color:"magenta"})})}))]},Circle:function(){return[new E.default({stroke:new B.default({color:"red",width:2}),fill:new _.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(e){return[new E.default({image:new T.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:$.a})}),new E.default({image:new T.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:K.a}),text:new C.default({text:e.label,scale:1.25,offsetY:8,fill:new _.default({color:"#000000"}),stroke:new B.default({color:"#FFFFFF",width:2})})})]}},Se=function(e,t){var r=e.getGeometry().getType();return we[r](t&&t.style&&t.style[r]&&{style:ie({},t.style[r])}||t||{})};function je(e){if(e.style.iconUrl)return F.standard.getIcon(e);var t=e.style.iconLibrary||"extra";return F[t]?F[t].getIcon(e):null}var Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:be},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=t.style[e]||t.style;if("MultiLineString"===e||"LineString"===e){var s=[new E.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new E.default(i?{stroke:new B.default(i&&i.stroke?i.stroke:{color:Object(S.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:r?ce:null}:{stroke:new B.default(be[e]&&be[e].stroke?be[e].stroke:{color:Object(S.colorToRgbaStr)(t.style&&be[e].color||"#0000FF",be[e].opacity||1),lineDash:t.style.highlight?[10]:[0],width:be[e].weight||1})})],l=t.style.useSelectedStyle?fe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(ne(l),s)}if(("MultiPoint"===e||"Point"===e)&&(i.iconUrl||i.iconGlyph))return r?new E.default({image:ce}):je({style:ie(ie({},i),{},{highlight:t.style.highlight||t.style.useSelectedStyle})});if("Circle"===e&&a){var c=[new E.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+4}):null}),new E.default({stroke:new B.default(i&&i.stroke?i.stroke:{color:t.style.useSelectedStyle?le:Object(S.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),fill:new _.default(i.fill?i.fill:{color:Object(S.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||.2)})}),new E.default({image:t.style.useSelectedStyle?new z.default({radius:3,fill:new _.default(i.fill?i.fill:{color:le})}):null,geometry:function(e){var t=e.getGeometry();if("Circle"===t.getType()){var r=t.getCenter();return new V.a(r)}return null}})];return c}if("Text"===e&&i.font)return[de(i,n[0],t.style.useSelectedStyle||t.style.highlight)];if("MultiPolygon"===e||"Polygon"===e){var u=[new E.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new E.default({stroke:new B.default(i.stroke?i.stroke:{color:t.style.useSelectedStyle?le:Object(S.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:r?ce:null,fill:new _.default(i.fill?i.fill:{color:Object(S.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||1)})})],p=t.style.useSelectedStyle?fe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(u,ne(p))}return o};function xe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.styleName&&!e.overrideOLStyle)return function(t){if("marker"===e.styleName)switch(t.getGeometry().getType()){case"Point":case"MultiPoint":return we.marker(e)}return we[e.styleName](e)};var n,a=e.nativeStyle,i=r,s=0,l=e.style&&e.style.type||(e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:void 0);if("FeatureCollection"===l||e.features&&e.features[0]&&"FeatureCollection"===e.features[0].type)return function(r){var o=this||r;n=o.getGeometry()&&o.getGeometry().getType();var a=o&&o.getProperties();a&&a.isCircle&&(n="Circle",s=a.radius),a&&a.isText&&(n="Text",i=[a.valueText]);var l=Object(re.set)("style.useSelectedStyle",a.canEdit,e);return Oe(n,l,t,i,null,s)};if(e&&e.properties&&e.properties.isText)return n="Text",i=[e.properties.valueText],Oe(n,e,t,i,null,s);if(e&&e.properties&&e.properties.isCircle)return n="Circle",s=e.properties.radius,Oe(n,e,t,i,null,s);if(!a&&e.style){if(a={stroke:new B.default(e.style.stroke?e.style.stroke:{color:Object(S.colorToRgbaStr)(e.style&&e.style.color||"#0000FF",o()(e.style.opacity)?1:e.style.opacity),lineDash:e.style.highlight?[10]:[0],width:e.style.weight||1}),fill:new _.default(e.style.fill?e.style.fill:{color:Object(S.colorToRgbaStr)(e.style&&e.style.fillColor||"#0000FF",o()(e.style.fillOpacity)?1:e.style.fillOpacity)})},"Point"===l&&(a={image:new z.default(te()({},a,{radius:e.style.radius||5}))}),e.style.iconUrl||e.style.iconGlyph){var c=je(e);return a=function(t){var r=this||t;switch(n=r.getGeometry().getType()){case"Point":case"MultiPoint":return c;default:return Se(r,e)}}}return a=new E.default(a),"GeometryCollection"===l?a=function(o){var a,i=this||o;n=i.getGeometry().getType();var s=i.get("textGeometriesIndexes")||[],l=i.get("circles")||[],c=i.get("textValues");return"GeometryCollection"===i.getGeometry().getType()?i.getGeometry().getGeometries().reduce((function(o,i,p){if(("Point"===(n=i.getType())||"MultiPoint"===n)&&s.length&&-1!==s.indexOf(p)){var f=Oe("Text",e,t,[c[s.indexOf(p)]]);return f.setGeometry(i),o.concat([f])}if("Polygon"===n&&l.length&&-1!==l.indexOf(p)){var d=Oe("Circle",e,t,[]);return d.setGeometry(i),o.concat([d])}if("Point"===n||"MultiPoint"===n)return a=je({style:ie(ie({},e.style[n]),{},{highlight:e.style.highlight})}),o.concat(a.map((function(e){return e.setGeometry(i),e})));var m=Oe(n,e,t,r);return u()(m)?m.forEach((function(e){return e.setGeometry(i)})):m.setGeometry(i),o.concat([m])}),[]):"Point"===n||"MultiPoint"===n?(a=je({style:ie(ie({},e.style[n]),{},{highlight:e.style.highlight})}),t?new E.default({image:ce,geometry:i.getGeometry()}):a.map((function(e){return e.setGeometry(i.getGeometry()),e}))):Oe(n,e,t,r)}:("Circle"===l&&(s=e.features&&e.features.length&&e.features[0].properties&&e.features[0].properties.radius||10),Oe(l,e,t,r,a,s))}return a||Se}function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"b",(function(){return Le})),r.d(t,"e",(function(){return ze})),r.d(t,"d",(function(){return Be})),r.d(t,"c",(function(){return Ve})),r.d(t,"f",(function(){return We})),r.d(t,"a",(function(){return qe}));var Te=new X.a,Ce={white:[255,255,255,1],blue:[0,153,255,1],width:3},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(U.isCircleStyle)(e)?new z.default({stroke:t,fill:r,radius:e.radius||5}):null},Le=function(e){if(Object(U.isMarkerStyle)(e)){if(e.iconUrl)return F.standard.getIcon({style:e});var t=e.iconLibrary||"extra";if(F[t])return F[t].getIcon({style:e})}return null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(U.isStrokeStyle)(e)?new B.default(e.stroke&&w()(e.stroke)?e.stroke:{color:e.highlight?Ce.blue:Object(S.colorToRgbaStr)(e.color||e.stroke||"#0000FF",o()(e.opacity)?1:e.opacity),width:o()(e.weight)?1:e.weight,lineDash:l()(e.dashArray)&&i()(e.dashArray).split(" ")||u()(e.dashArray)&&e.dashArray||[0],lineCap:e.lineCap||"round",lineJoin:e.lineJoin||"round",lineDashOffset:e.dashOffset||0}):null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(U.isFillStyle)(e)?new _.default(e.fill&&w()(e.fill)?e.fill:{color:Object(S.colorToRgbaStr)(e.fillColor||"#0000FF",o()(e.fillOpacity)?1:e.fillOpacity)}):null},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return Object(U.isTextStyle)(e)?new C.default({fill:r,offsetY:e.offsetY||-4*Math.sqrt(e.fontSize),rotation:e.textRotationDeg?e.textRotationDeg/180*Math.PI:0,textAlign:e.textAlign||"center",text:e.label||n&&n.properties&&n.properties.valueText||"New",font:e.font||"Arial",stroke:e.highlight?new B.default({color:[255,255,255,1],width:2}):t,image:e.highlight?new z.default({radius:5,fill:null,stroke:new B.default({color:Object(S.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null}):null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,a=e.applyToPolygon,i=void 0!==a&&a;return new E.default({image:new z.default({radius:r,fill:new _.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new V.a(m()(n)):null}})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,a=e.applyToPolygon,i=void 0!==a&&a;return new E.default({image:new z.default({radius:r,fill:new _.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new V.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:g()(n))}})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},n=[];return h()(e,(function(e){return"startPoint"===e.geometry&&e.filtering}))||n.push(De(Pe({},t))),h()(e,(function(e){return"endPoint"===e.geometry&&e.filtering}))||n.push(Re(Pe({},r))),n};Object(U.registerGeometryFunctions)("centerPoint",(function(e){var t=e.getGeometry(),r=t.getExtent(),n=t.getCenter&&t.getCenter()||[r[2]-r[0],r[3]-r[1]];return new V.a(n)}),"Point"),Object(U.registerGeometryFunctions)("lineToArc",(function(e){var t=e.getGeometry().getType();if("LineString"===t||"MultiPoint"===t){var r=e.getGeometry().getCoordinates();return r=Object(j.transformLineToArcs)(r.map((function(e){var t=Object(j.reproject)(e,"EPSG:3857","EPSG:4326");return[t.x,t.y]}))),new W.a(r.map((function(e){var t=Object(j.reproject)(e,"EPSG:4326","EPSG:3857");return[t.x,t.y]})))}return e.getGeometry()}),"LineString"),Object(U.registerGeometryFunctions)("startPoint",(function(e){var t=e.getGeometry(),r="Polygon"===t.getType()?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new V.a(m()(r)):null}),"Point"),Object(U.registerGeometryFunctions)("endPoint",(function(e){var t=e.getGeometry(),r=t.getType(),n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new V.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:g()(n))}),"Point");var Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?function(t){var r=e.geometry||"centerPoint";return U.geometryFunctions[r].func(t)}:function(e){return e.getGeometry()}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(e.filtering)||e.filtering},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Fe(t,e);if(n){var o=ke(t),a=Ie(t),i=_e(t,o,a);if(Object(U.isMarkerStyle)(t))return Le(t).map((function(e){return e.setGeometry(Ge(t)),e}));if(Object(U.isSymbolStyle)(t))return F.standard.getIcon({style:t}).map((function(e){return e.setGeometry(Ge(t)),e}));var s=Ae(t,o,a,e),l=t.zIndex,c=new E.default({geometry:Ge(t),image:i,text:s,stroke:!s&&!i&&o||null,fill:!s&&!i&&a||null,zIndex:l});return[c].concat(e&&e.properties&&e.properties.canEdit&&!e.properties.isCircle?Ne(r):[])}return new E.default({})},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=e.style;if(t){var r=u()(t)?t:f()(t);return r.reduce((function(t,n){return t.concat(Ue(e,n,r))}),[])}return[]},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.style&&e.style.url)return Z.a.get(e.style.url).then((function(t){return Object(U.getStyleParser)(e.style.format).readStyle(t.data).then((function(e){return Te.writeStyle(e)}))}));if(e.style&&"geostyler"===e.style.format)return Te.writeStyle(e.style.styleObj);var n=xe(e,t,r);return e.asPromise?new q.Promise((function(e){e(n)})):n},Ve=je,We=fe,qe=be},"./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},"./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/layer/Tile.js"),a=r("./node_modules/ol/source/BingMaps.js"),i=function e(t,r){t.getSource&&"error"===t.getSource().getState()&&r.onError&&r.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,r),1e3)};n.default.registerType("bing",{create:function(e){var t=e.apiKey,r=e.maxNativeZoom||19,n=new o.a({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,source:new a.a({key:t,imagerySet:e.name,maxZoom:r})});return setTimeout(i.bind(null,n,e),1e3),n},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},"./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js":function(e,t,r){"use strict";r.r(t);var n,o,a=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./node_modules/react/index.js"),s=r.n(i),l=r("./node_modules/ol/proj.js"),c={},u="ontouchstart"in window,p=u?"touchstart":"mousedown",f=u?"touchmove":"mousemove",d=u?"touchend":"mouseup";a.default.registerType("google",{create:function(e,t,r){if(document.getElementById(r+"gmaps")){var o=window.google;n||(n={HYBRID:o.maps.MapTypeId.HYBRID,SATELLITE:o.maps.MapTypeId.SATELLITE,ROADMAP:o.maps.MapTypeId.ROADMAP,TERRAIN:o.maps.MapTypeId.TERRAIN}),c[r]||(c[r]=new o.maps.Map(document.getElementById(r+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),c[r].setMapTypeId(n[e.name]);var a=document.getElementById(r+"gmaps"),i=function(){if(c[r]&&"hidden"!==a.style.visibility){var e=Object(l.transform)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");c[r].setCenter(new o.maps.LatLng(e[1],e[0]))}},s=function(){c[r]&&"hidden"!==a.style.visibility&&c[r].setZoom(t.getView().getZoom())},u=function(e,t){var r=t[0],n=t[1],o=[[r/2,n/2],[-r/2,n/2],[-r/2,-n/2],[r/2,-n/2]].map((function(t){return r=t,n=e*Math.PI/180,o=r[0],a=r[1],[o*Math.cos(n)-a*Math.sin(n),o*Math.sin(n)+a*Math.cos(n)];var r,n,o,a})),a=o.map((function(e){return e[0]})),i=o.map((function(e){return e[1]})),s=Math.max.apply(null,a),l=Math.min.apply(null,a),c=Math.max.apply(null,i),u=Math.min.apply(null,i),p=Math.abs(c)+Math.abs(u);return{width:Math.abs(s)+Math.abs(l),height:p}},m=function(){if("hidden"!==a.style.visibility){var e=180*t.getView().getRotation()/Math.PI;a.style.transform="rotate("+e+"deg)",o.maps.event.trigger(c[r],"resize")}},y=function(){var e=t.getView();e.on("change:center",i),e.on("change:resolution",s),e.on("change:rotation",m)};t.on("change:view",y),y(),i(),s();var g=t.getViewport(),b=document.getElementById(r+"gmaps").style.transform,h=!1,v=!1;g.addEventListener(p,(function(){h=!0})),g.addEventListener(d,(function(){v&&h&&function(){var e=document.getElementById(r+"gmaps").style.transform;if(c[r]&&e!==b&&-1!==e.indexOf("rotate")){var n=parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),s=u(-n,t.getSize());a.style.width=s.width+"px",a.style.height=s.height+"px",a.style.left=Math.round((t.getSize()[0]-s.width)/2)+"px",a.style.top=Math.round((t.getSize()[1]-s.height)/2)+"px",o.maps.event.trigger(c[r],"resize"),i()}}(),b=document.getElementById(r+"gmaps").style.transform,h=!1})),g.addEventListener(f,(function(){v=h}))}return null},render:function(e,t,r){o||(o=e.name);var a={zIndex:0};if(!0===e.visibility){var i=document.getElementById(r+"gmaps");i&&(i.style.visibility="visible"),c[r]&&n&&(c[r].setMapTypeId(n[e.name]),c[r].setTilt(0))}else a.visibility="hidden";if(o===e.name){var l=document.getElementById(r+"gmaps");return l&&(l.style.visibility=e.visibility?"visible":"hidden"),s.a.createElement("div",{id:r+"gmaps",className:"fill",style:a})}return null},update:function(e,t,r,n,o){if(c[o]){var a=window.google;if(!r.visibility&&t.visibility){var i=n.getView(),s=Object(l.transform)(i.getCenter(),"EPSG:3857","EPSG:4326");c[o].setCenter(new a.maps.LatLng(s[1],s[0])),c[o].setZoom(i.getZoom())}}},remove:function(e,t,r){o===e.name&&(o=void 0,delete c[r])}})},"./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/Graticule.js"),a=r("./node_modules/ol/style/Stroke.js");n.default.registerType("graticule",{create:function(e,t){var r=new o.a({strokeStyle:e.style||new a.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return r.setMap(t),{detached:!0,remove:function(){r.setMap(null)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js":function(e,t,r){"use strict";r.r(t),r("./MapStore2/web/client/utils/openlayers/Layers.js").default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},"./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/source/OSM.js"),a=r("./node_modules/ol/layer/Tile.js");n.default.registerType("osm",{create:function(e){return new a.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.a})}})},"./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/eventlistener/eventlistener.js"),a=r.n(o),i=r("./node_modules/ol/Overlay.js");n.default.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];a.a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var i=r.getElementsByTagName("a"),s=0;s<i.length;s++)a.a.add(i[s],"click",t.onLink);return r}(document.getElementById(e.id),e);document.body.appendChild(r);var n=new i.a({id:e.id,element:r,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(n),{detached:!0,remove:function(){t.removeOverlay(n)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/openlayers/Layers.js"),a=r("./node_modules/ol/source/XYZ.js"),i=r("./node_modules/ol/tilegrid/TileGrid.js"),s=r("./node_modules/ol/layer/Tile.js");o.default.registerType("tms",{create:function(e){return new s.a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.get)(e,"bbox.bounds",{}),r=t.minx,o=t.miny,s=t.maxx,l=t.maxy,c={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},u=new a.a(c),p=u.getTileGrid();if(e.forceDefaultTileGrid){var f=p.getExtent(),d=[f[0],f[1]],m=new i.a({origin:d,extent:e.bbox&&[r,o,s,l],resolutions:p.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,m),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",m)}else e.tileSets&&u.setTileGridForProjection(e.srs,new i.a({origin:e.origin,extent:e.bbox&&[r,o,s,l],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));var y={msId:e.id,extent:e.bbox&&[r,o,s,l],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u};return y}(e))}})},"./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/object-assign/index.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./MapStore2/web/client/utils/TileConfigProvider.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/TileProviderUtils.js"),u=r("./node_modules/ol/source/XYZ.js"),p=r("./node_modules/ol/layer/Tile.js");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a.default.registerType("tileprovider",{create:function(e){var t=f(i.default.getLayerConfig(e.provider,e),2),r=t[0],n=t[1];return n.url=r,new p.a(function(e){var t,r,n,a,i,s,p,d,m,y=e.url.match(/(\{s\})/)?Object(c.getUrls)(e):[Object(c.template)(e.url,e)],g=o()({},{urls:y,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),b=new u.a(g);return o()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:b},e.bounds?{extent:(t=e.bounds,r=e.srs?e.srs:"EPSG:3857",n=f(t,2),a=f(n[0],2),i=a[0],s=a[1],p=f(n[1],2),d=p[0],m=p[1],l.a.reprojectBbox([s,i,m,d],"EPSG:4326",l.a.normalizeSRS(r)))}:{})}(n))}})},"./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=r("./MapStore2/node_modules/lodash/isEqual.js"),i=r.n(a),s=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/layer/Vector.js");n.default.registerType("vector",{create:function(e){var t=new s.a({features:[]}),r=Object(o.d)(e);return new l.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity})},update:function(e,t,r){var n=r.crs||r.srs||"EPSG:3857",a=t.crs||t.srs||"EPSG:3857";a!==n&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(n,a)})),i()(r.style,t.style)&&r.styleName===t.styleName||e.setStyle(Object(o.d)(t))},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/head.js"),o=r.n(n),a=r("./node_modules/url/url.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/MapUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/openlayers/Layers.js"),f=r("./MapStore2/web/client/utils/SecurityUtils.js"),d=r.n(f),m=r("./node_modules/ol/proj.js"),y=r("./node_modules/ol/extent.js"),g=r("./node_modules/ol/tilegrid/TileGrid.js"),b=r("./node_modules/ol/layer/VectorTile.js"),h=r("./node_modules/ol/source/VectorTile.js"),v=r("./node_modules/ol/format/MVT.js"),w=r("./MapStore2/web/client/utils/VectorTileUtils.js"),S=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=l.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=Object(m.get)(t),n=r.getMetersPerUnit(),a=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},s=a.identifier,c=a.tileMatrix,p=a.boundingBox,f=c&&c.map((function(e){return e.scaleDenominator})),j=u.a.getResolutions(),x=e.resolutions||f&&f.map((function(e){return 28e-5*e/n}))||j,E="ne"===r.getAxisOrientation().substr(0,2),T=c&&c.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topLeftCorner;return t})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=P(e,2),r=t[0],n=t[1];return E?[n,r]:[r,n]})),C=c&&c.map((function(e){return[e.tileWidth,e.tileHeight]})),_=e.bbox,L=_?Object(y.a)([parseFloat(_.bounds.minx),parseFloat(_.bounds.miny),parseFloat(_.bounds.maxx),parseFloat(_.bounds.maxy)],Object(m.getTransform)(_.crs,e.srs)):null,k=p&&p.lowerCorner&&p.upperCorner?[].concat(M(p.lowerCorner),M(p.upperCorner)):null,I=new g.a({extent:k,minZoom:0,origins:T,origin:T?void 0:[20037508.3428,-20037508.3428],resolutions:x,tileSizes:C,tileSize:C?void 0:[256,256]}),A=(e.url||"").replace(/\{tilingSchemeId\}/,s).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),D={};d.a.addAuthenticationParameter(A,D,e.securityToken);var R=decodeURI(A),N=i.a.format({query:O({},D)}),G=Object(w.isVectorFormat)(e.format)&&S.a[e.format]||v.a,F=new h.a({format:new G({dataProjection:t,layerName:"_layer_"}),tileGrid:I,url:R+N}),U=new b.a({extent:L,msId:e.id,source:F,visible:!1!==e.visibility,zIndex:e.zIndex});return Object(S.b)(e.vectorStyle,U),U};p.default.registerType("wfs3",{create:C,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs?C(t):null},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=r("./node_modules/ol/source/Vector.js"),i=r("./node_modules/ol/layer/Vector.js"),s=r("./node_modules/ol/format/GeoJSON.js"),l=r("./MapStore2/web/client/api/WFS.js"),c=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),u=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t){return function(r,n,o){var a=Object(c.optionsToVendorParams)(t),i=o.getCode(),s=function(){e.removeLoadedExtent(r)};Object(l.getFeature)(t.url,t.name,f({outputFormat:"application/json",srsname:i},a)).then((function(t){200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):s()})).catch((function(e){s()}))}},y=function(e,t){return Object(o.d)(f(f({},e),{},{style:f(f({},e.style||{}),{},{type:t})}))},g=function(e,t){return e.geometryType?e.setStyle(y(t,e.geometryType)):Object(l.describeFeatureType)(t.url,t.name).then(u.extractGeometryType).then((function(r){e.geometryType=r,e.setStyle(y(t,r))}))};n.default.registerType("wfs",{create:function(e){var t=new a.a({format:new s.a});t.setLoader(m(t,e));var r=Object(o.d)(e),n=new i.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity});return g(n,e),n},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.crs||r.srs||"EPSG:3857",o=t.crs||t.srs||"EPSG:3857",a=e.getSource();o!==n&&a.forEachFeature((function(e){e.getGeometry().transform(n,o)})),Object(u.needsReload)(r,t)&&(a.setLoader(m(a,t)),a.clear(),a.refresh()),t.style===r.style&&t.styleName===r.styleName||g(e,t)},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/node_modules/lodash/isNil.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isEqual.js"),p=r.n(u),f=r("./MapStore2/node_modules/lodash/union.js"),d=r.n(f),m=r("./MapStore2/node_modules/lodash/isArray.js"),y=r.n(m),g=r("./node_modules/object-assign/index.js"),b=r.n(g),h=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),v=r.n(h),w=r("./MapStore2/web/client/utils/ProxyUtils.js"),S=r.n(w),j=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),O=r("./MapStore2/web/client/utils/SecurityUtils.js"),x=r.n(O),M=r("./MapStore2/web/client/utils/LayersUtils.js"),P=r("./MapStore2/web/client/utils/MapUtils.js"),E=r.n(P),T=r("./MapStore2/web/client/utils/ElevationUtils.js"),C=r.n(T),_=r("./node_modules/ol/layer/Image.js"),L=r("./node_modules/ol/source/ImageWMS.js"),k=r("./node_modules/ol/proj.js"),I=r("./node_modules/ol/tilegrid/TileGrid.js"),A=r("./node_modules/ol/layer/Tile.js"),D=r("./node_modules/ol/source/TileWMS.js"),R=r("./node_modules/ol/source/VectorTile.js"),N=r("./node_modules/ol/layer/VectorTile.js"),G=r("./MapStore2/web/client/utils/VectorTileUtils.js"),F=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js"),U=r("./MapStore2/web/client/utils/LayerLocalizationUtils.js");function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=Object(j.optionsToVendorParams)(e),r=b()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!c()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},b()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:Object(U.generateEnvString)(e.env)}:{}));return x.a.addAuthenticationToSLD(r,e)}function q(e,t){var r=t;S.a.needProxy(t)&&(r=S.a.getProxyUrl()+encodeURIComponent(t));e.getImage().src=r}function H(e){return e.join(":")}function Z(e,t,r){var n=r;e&&S.a.needProxy(r)&&(n=S.a.getProxyUrl()+encodeURIComponent(r));var o=t.getTileCoord();t.getImage().src="",C.a.loadTile(n,o,H(o))}function Y(e){try{var t=function(e,t){var r=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,r.getView().getZoom())}(this,e),r=this.getSource().getTileGrid().getTileSize(),n=C.a.getElevation(H(t),function(e,t,r){var n=e.getSource().getTileGrid(),o=n.getTileCoordExtent(r),a=n.getTileSize()/(o[2]-o[0]);return{x:Math.floor((t[0]-o[0])*a),y:Math.floor((o[3]-t[1])*a)}}(this,e,t),r,this.get("nodata"));return n.available?n.value:o.a.createElement(i.a,{msgId:n.message})}catch(e){return o.a.createElement(i.a,{msgId:"elevationLoadingError"})}}var X=function(e){return e&&Object(M.creditsToAttribution)(e)||void 0},J=function(e,t){var r=function(e){return e.map((function(e){return e.split("?")[0]}))}(y()(e.url)?e.url:[e.url]),n=W(e)||{};r.forEach((function(t){return x.a.addAuthenticationParameter(t,n,e.securityToken)}));var o=Object(G.isVectorFormat)(e.format);if(e.singleTile&&!o)return new _.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new L.default({url:r[0],crossOrigin:e.crossOrigin,attributions:X(e.credits),params:n,ratio:e.ratio||1})});var a,i=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",s=Object(k.get)(v.a.normalizeSRS(e.srs||i,e.allowedSRS)).getExtent(),l=function(e,t){return t.useForElevation?b()({},e,{tileLoadFunction:Z.bind(null,[t.forceProxy])}):t.forceProxy?b()({},e,{tileLoadFunction:q}):e}({attributions:X(e.credits),urls:r,crossOrigin:e.crossOrigin,params:n,tileGrid:new I.a({extent:s,resolutions:e.resolutions||E.a.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[s[0],s[1]]})},e),c=new D.default(B({},l)),u={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex};return(a=o?new N.a(B(B({},u),{},{source:new R.a(B(B({},l),{},{format:new F.a[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,r){return c.tileUrlFunction(e,t,r)}}))})):new A.a(B(B({},u),{},{source:c}))).set("map",t),o&&(a.set("wmsSource",c),e.vectorStyle&&Object(F.b)(e.vectorStyle,a)),e.useForElevation&&(a.set("nodata",e.nodata),a.set("getElevation",Y.bind(a))),a};s.default.registerType("wms",{create:J,update:function(e,t,r,n){var o=Object(G.isVectorFormat)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||Object(G.isVectorFormat)(e.format)!==Object(G.isVectorFormat)(t.format)||Object(G.isVectorFormat)(e.format)&&Object(G.isVectorFormat)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize}(r,t))return J(t,n);var a=!1;o&&t.vectorStyle&&!p()(t.vectorStyle,r.vectorStyle||{})&&(Object(F.b)(t.vectorStyle,e),a=!0);var i=e.get("wmsSource")||e.getSource(),s=o?e.getSource():null;if(r.srs!==t.srs){var l=Object(k.get)(v.a.normalizeSRS(t.srs,t.allowedSRS)).getExtent();if(t.singleTile&&!o)e.setExtent(l);else{var u=new I.a({extent:l,resolutions:t.resolutions||E.a.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[l[0],l[1]]});i.tileGrid=u,s&&(s.tileGrid=u)}a=!0}r.credits!==t.credits&&t.credits&&(i.setAttributions(X(t.credits)),a=!0);var f,m,y=!1;if(r&&i&&i.updateParams&&(r.params&&t.params?y=d()(Object.keys(r.params),Object.keys(t.params)).reduce((function(e,n){return t.params[n]!==r.params[n]||e}),!1):(!r.params&&t.params||r.params&&!t.params)&&(y=!0),f=W(r),m=W(t),y=y||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return f[t]!==m[t]||e}),!1),a=a||y),a&&(i.refresh&&i.refresh(),s&&(s.clear(),s.refresh()),y)){var g=b()(m,x.a.addAuthenticationToSLD(Object(j.optionsToVendorParams)(t)||{},t));i.updateParams(b()(g,Object.keys(f||{}).reduce((function(e,t){return c()(g[t])?b()(e,V({},t,void 0)):e}),{})))}return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/node_modules/lodash/castArray.js"),a=r.n(o),i=r("./MapStore2/node_modules/lodash/head.js"),s=r.n(i),l=r("./MapStore2/node_modules/lodash/last.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r.n(u),f=r("./MapStore2/web/client/utils/WMTSUtils.js"),d=r.n(f),m=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),y=r.n(m),g=r("./MapStore2/web/client/utils/MapUtils.js"),b=r.n(g),h=r("./MapStore2/web/client/utils/VectorTileUtils.js"),v=r("./node_modules/url/url.js"),w=r.n(v),S=r("./node_modules/ol/proj.js"),j=r("./node_modules/ol/extent.js"),O=r("./node_modules/ol/layer/Tile.js"),x=r("./node_modules/ol/layer/VectorTile.js"),M=r("./node_modules/ol/source/WMTS.js"),P=r("./node_modules/ol/source/VectorTile.js"),E=r("./node_modules/ol/tilegrid/WMTS.js"),T=r("./node_modules/ol/format/MVT.js"),C=r("./node_modules/ol/format/GeoJSON.js"),_=r("./node_modules/ol/format/TopoJSON.js"),L=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js");function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D={"application/vnd.mapbox-vector-tile":T.a,"application/json;type=geojson":C.a,"application/json;type=topojson":_.a};var R=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,r=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(a()(e.url),t),n=y.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=Object(S.get)(n),i=o.getMetersPerUnit(),s=d.a.getTileMatrix(e,n),l=s.tileMatrixSetName,u=s.tileMatrixSet,f=s.matrixIds,m=u&&(null==u?void 0:u.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),g=b.a.getResolutions(),v=e.resolutions||m&&m.map((function(e){return 28e-5*e/i}))||g,T="ne"===o.getAxisOrientation().substr(0,2),C=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TopLeftCorner;return t&&y.a.parseString(t)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y;return T?[r,t]:[t,r]})),_=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,r=e.MatrixHeight;return[parseInt(t,10),parseInt(r,10)]})),k=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,r=e.TileHeight;return[parseInt(t,10),parseInt(r,10)]})),A=e.bbox,R=A?Object(j.a)([parseFloat(A.bounds.minx),parseFloat(A.bounds.miny),parseFloat(A.bounds.maxx),parseFloat(A.bounds.maxy)],Object(S.getTransform)(A.crs,e.srs)):o.getExtent(),N=Object(j.B)(R,o.getExtent());Object(j.H)(N)&&(N=o.getExtent());var G={};r.forEach((function(t){return p.a.addAuthenticationParameter(t,G,e.securityToken)}));var F=w.a.format({query:I({},G)}),U=e.maxResolution||c()(g.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return v[0]/e*256<.5}))),z=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",B=Object(h.isVectorFormat)(z),V={requestEncoding:t,urls:r.map((function(e){return e+F})),layer:e.name,version:e.version||"1.0.0",matrixSet:l,format:z,style:e.style||"",tileGrid:new E.b({origins:C,origin:C?void 0:[20037508.3428,-20037508.3428],resolutions:v,matrixIds:d.a.limitMatrix((f||d.a.getDefaultMatrixId(e)||[]).map((function(e){return e.identifier})),v.length),sizes:_,extent:N,tileSizes:k,tileSize:!k&&(e.tileSize||[256,256])}),wrapX:!0},W=new M.a(V),q=new(B?x.a:O.a)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,maxResolution:U,visible:!1!==e.visibility,source:B?new P.a(I(I({},V),{},{format:new D[e.format]({dataProjection:n}),tileUrlFunction:function(){return W.tileUrlFunction.apply(W,arguments)}})):W});return B&&q.setStyle(Object(L.d)(e)),q};n.default.registerType("wmts",{create:R,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs||r.format!==t.format||r.style!==t.style?R(t):null},isCompatible:function(e){return!!s()(y.a.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var r=d.a.getTileMatrix(t,e),n=r.tileMatrixSetName,o=r.tileMatrixSet;return o?y.a.getEPSGCode(o["ows:SupportedCRS"])===e:n===e}(t,e)})))}})},"./MapStore2/web/client/components/map/openlayers/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js").default,GoogleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js").default,GraticuleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js").default,MapQuest:r("./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js").default,OSMLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js").default,OverlayLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js").default,TMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js").default,TileProviderLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js").default,VectorLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js").default,WFSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js").default,WFS3Layer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js").default,WMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js").default,WMTSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js").default}},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),i=r.n(a),s=r("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=r("./node_modules/react-redux/es/index.js"),u=r("./node_modules/reselect/es/index.js"),p=r("./MapStore2/web/client/selectors/mapInfo.js"),f=r("./MapStore2/web/client/actions/mapInfo.js"),d=r("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/lodash.js"),g=r("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),b=r.n(g),h=r("./MapStore2/web/client/selectors/map.js").isMouseMoveIdentifyActiveSelector,v=Object(l.compose)(Object(c.connect)(Object(u.createSelector)(p.indexSelector,(function(e){return{index:e}})),{setIndex:f.changePage}),Object(l.defaultProps)({index:0,responses:[]})),w=Object(u.createSelector)([p.responsesSelector,p.validResponsesSelector,p.requestsSelector,p.generalInfoFormatSelector,p.showEmptyMessageGFISelector,h,p.isLoadedResponseSelector],(function(e,t,r,n,o,a,i){return{responses:e,validResponses:t,requests:r,format:n,showEmptyMessageGFI:o,missingResponses:(r||[]).length-(e||[]).length,renderEmpty:a,loaded:i}})),S=Object(l.compose)(Object(c.connect)(w),Object(l.defaultProps)({responses:[],container:function(e){var t=e.index,r=e.children;return o.a.createElement(o.a.Fragment,null,Object(y.isArray)(r)&&r[t]||r)},header:b.a}),v,s.defaultViewerDefaultProps,s.defaultViewerHandlers,i()((function(e){var t=e.loaded;return Object(y.isUndefined)(t)})))(m.a);r.d(t,"IDENTIFY_POPUP",(function(){return j}));var j="identify";t.default={identify:S}},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/react-bootstrap/es/index.js"),m=d.Button,y=d.ButtonGroup,g=d.Glyphicon,b=r("./MapStore2/web/client/components/misc/Dialog.jsx"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return f.createElement(b,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:h({},this.props.style,{display:this.props.show?"block":"none"})},f.createElement("span",{role:"header"},f.createElement("span",{className:"user-panel-title"},this.props.title),f.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?f.createElement(g,{glyph:this.props.closeGlyph}):f.createElement("span",null,"×"))),f.createElement("div",{role:"body"},this.props.children),f.createElement("div",{role:"footer"},f.createElement(y,null,f.createElement(m,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),f.createElement(m,{onClick:this.props.onClose},this.props.closeText))))}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(w,"propTypes",{show:p.bool,draggable:p.bool,onClose:p.func,onConfirm:p.func,onSave:p.func,modal:p.bool,closeGlyph:p.string,style:p.object,buttonSize:p.string,inputStyle:p.object,title:p.node,confirmButtonContent:p.node,confirmButtonDisabled:p.bool,closeText:p.node,confirmButtonBSStyle:p.string}),u(w,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:f.createElement(v,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:f.createElement(v,{msgId:"confirm"})||"Confirm",closeText:f.createElement(v,{msgId:"close"}),includeCloseButton:!0}),e.exports=w},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-draggable/dist/react-draggable.js"),b=r("./node_modules/react-spinkit/dist/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?m.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},m.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},m.createElement(v,{msgId:"loading"}),m.createElement(b,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),d(p(e),"renderRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),d(p(e),"hasRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),d(p(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=m.createElement("div",{id:this.props.id,style:a({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},m.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),m.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?m.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):m.createElement("span",null)),r=this.props.draggable?m.createElement(g,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=h({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?m.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(w,"propTypes",{id:y.string.isRequired,style:y.object,backgroundStyle:y.object,className:y.string,maskLoading:y.bool,containerClassName:y.string,headerClassName:y.string,bodyClassName:y.string,footerClassName:y.string,onClickOut:y.func,modal:y.bool,start:y.object,draggable:y.bool,bounds:y.oneOfType([y.string,y.object])}),d(w,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),e.exports=w},"./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/MapInfoUtils.js"),l=r.n(s),c=r("./node_modules/react-select/dist/react-select.es.js"),u=r("./node_modules/react-bootstrap/es/index.js"),p=r("./MapStore2/web/client/components/misc/Overlay.jsx"),f=r.n(p);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.text,r=e.placement,a=e.bsStyle,i=e.left,s=e.top,l=e.title,c=e.glyph,p=e.id,m=Object(n.useRef)(),y=d(Object(n.useState)(!1),2),g=y[0],b=y[1];return o.a.createElement("span",{className:"mapstore-info-popover",onMouseLeave:function(){return b(!1)}},o.a.createElement(u.Glyphicon,{onMouseEnter:function(){b(!0)},ref:function(e){m.current=e},className:"text-".concat(a),glyph:c}),o.a.createElement(f.a,{placement:r,show:g,target:function(){return m.current}},o.a.createElement(u.Popover,{id:p,placement:r,positionLeft:i,positionTop:s,title:l},o.a.createElement("div",{style:{display:"flex"}},t))))};y.propTypes={id:i.a.string,title:i.a.string,text:i.a.string,glyph:i.a.string,bsStyle:i.a.string,placement:i.a.string,left:i.a.number,top:i.a.number,trigger:i.a.oneOfType([i.a.array,i.a.bool])},y.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info"};var g=y,b=r("./MapStore2/web/client/components/I18N/HTML.jsx"),h=r.n(b);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=e.id,r=e.label,n=e.infoFormat,a=e.availableInfoFormat,i=e.popoverMessage,s=e.disabled,l=e.onInfoFormatChange,p=e.selectProps,f=Object.keys(a).reduce((function(e,t){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return e===a[t]}))?e:S(S({},e),{},j({},t,a[t]))}),{}),d=Object.keys(f).map((function(e){return{value:f[e],label:e}})),m=o.a.createElement(o.a.Fragment,null,"   ",i&&o.a.createElement(g,{text:o.a.createElement(h.a,{msgId:i})}),o.a.createElement(c.default,v({},p,{id:t,value:n,clearable:!1,disabled:s,options:d,onChange:function(e){return l(null==e?void 0:e.value)}})));return r?o.a.createElement(u.FormGroup,{bsSize:"small"},o.a.createElement(u.ControlLabel,null,r),m):m}O.propTypes={id:i.a.string,label:i.a.oneOfType([i.a.func,i.a.string,i.a.object]),availableInfoFormat:i.a.object,infoFormat:i.a.string,popoverMessage:i.a.string,onInfoFormatChange:i.a.func,disabled:i.a.bool,selectProps:i.a.object},O.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:l.a.getAvailableInfoFormat(),infoFormat:l.a.getDefaultInfoFormatValue(),popoverMessage:"",onInfoFormatChange:function(){},selectProps:{}};t.default=O},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/prop-types/index.js"),l=function(e){return e>100?"full":e>40?"medium":"small"},c=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,a=e.className,s=e.hidden;return i.createElement("div",{className:a,style:o({width:t,height:t,overflow:"hidden"},n)},!s&&i.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};c.propTypes={size:s.number,className:s.string,style:s.object},e.exports=c},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,r){var n=r("./node_modules/react/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return n.createElement("div",{style:r,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/react-container-dimensions/lib/index.js").default,l=r("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(e){var t=e.width,r=e.height,n=e.className,a=void 0===n?"loader-container":n,c=e.contentStyle,u=void 0===c?{}:c;return i.createElement("div",{className:a},i.createElement(s,null,(function(e){var n=e.width,a=void 0===n?200:n,s=e.height,c=void 0===s?200:s,p=t||(c>0?Math.min(a,c):a),f=r||(c>0?Math.min(a,c):a),d=Math.min(p,f);return i.createElement(l,{size:d,style:o({padding:d/10,margin:"auto",display:"flex"},u)})})))}},"./MapStore2/web/client/components/misc/Overlay.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").Overlay)},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").OverlayTrigger)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-overlays/es/index.js").Portal)},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,a=r("./MapStore2/web/client/components/misc/Dialog.jsx"),i=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=r("./node_modules/recompose/es/Recompose.js").withState,l=r("./node_modules/react-addons-css-transition-group/index.js"),c=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),u={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};e.exports=s("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,r=void 0!==t&&t,s=e.loading,f=e.loadingText,d=e.onClose,m=void 0===d?function(){}:d,y=e.title,g=void 0===y?"":y,b=e.clickOutEnabled,h=void 0===b||b,v=e.showClose,w=void 0===v||v,S=e.disabledClose,j=void 0!==S&&S,O=e.showFullscreen,x=void 0!==O&&O,M=e.fullscreenType,P=void 0===M?"full":M,E=e.buttons,T=void 0===E?[]:E,C=e.size,_=void 0===C?"":C,L=e.bodyClassName,k=void 0===L?"":L,I=e.children,A=e.draggable,D=void 0!==A&&A,R=e.fullscreenState,N=e.onFullscreen,G=e.fade,F=void 0!==G&&G,U=e.fitContent,z=e.modalClassName,B=void 0===z?"":z,V=e.dialogClassName,W=void 0===V?"":V,q=e.enableFooter,H=void 0===q||q,Z=u[_]||"",Y=x&&"expanded"===R&&p.className[P]||"",X=r?n.createElement("div",{className:"modal-fixed ".concat(B," ")+(D?"ms-draggable":"")},n.createElement(a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?m:function(){},containerClassName:"ms-resizable-modal",draggable:D,modal:!0,className:"modal-dialog modal-content"+Z+Y+W+(U?" ms-fit-content":"")},n.createElement("span",{role:"header"},n.createElement("h4",{className:"modal-title"},n.createElement("div",{className:"ms-title"},g),x&&p.className[P]&&n.createElement(o,{className:"ms-header-btn",onClick:function(){return N("expanded"===R?"collapsed":"expanded")},glyph:p.glyph[R][P]}),w&&m&&n.createElement(o,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:j}))),n.createElement("div",{role:"body",className:k},I),H&&n.createElement("div",{style:{display:"flex"},role:"footer"},n.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},s?n.createElement(c,null):null),n.createElement("div",{className:"ms-resizable-modal-loading-text"},s?f:null),n.createElement(i,{buttons:T})))):null;return F?n.createElement(l,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},X):X}))},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dropzone/dist/index.js"),i=r.n(a),s=r("./MapStore2/web/client/components/misc/Loader.jsx"),l=r.n(s),c=r("./MapStore2/web/client/utils/ThumbnailUtils.js"),u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=r.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=Object(n.forwardRef)((function(e,t){var r=e.className,a=void 0===r?"ms-thumbnail":r,s=e.label,u=e.loading,y=e.message,g=e.error,b=e.thumbnail,h=e.removeGlyph,v=void 0===h?"trash":h,w=e.removeTooltipId,S=void 0===w?"removeThumbnail":w,j=e.style,O=void 0===j?{}:j,x=e.maxFileSize,M=void 0===x?5e5:x,P=e.supportedImageTypes,E=void 0===P?["image/png","image/jpeg","image/jpg"]:P,T=e.thumbnailOptions,C=e.dropZoneProps,_=void 0===C?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:C,L=e.onUpdate,k=void 0===L?function(){}:L,I=e.onError,A=void 0===I?function(){}:I,D=e.onRemove,R=e.toolbarButtons,N=Object(n.useRef)(),G=m(Object(n.useState)(),2),F=G[0],U=G[1];Object(n.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]);if(u||F)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""," ms-loading")},o.a.createElement(l.a,{size:70}));var z=o.a.createElement(p.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:R||[{glyph:v,visible:!(!D||!b),tooltipId:S,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==D||D()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""),style:O},s,o.a.createElement(i.a,f({},_,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==E.indexOf(r);U(!0),function(e,t){return new Promise((function(r){var n=e;if(null==n?void 0:n[0]){var o=n[0],a=new FileReader;return a.onload=function(e){return r(t?Object(c.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return r({data:null})}))}(e,T).then((function(t){var r=t.data,o=t.size;return N.current?(U(!1),n&&r&&o<M?k(r,e):A([].concat(d(n?[]:["FORMAT"]),d(r&&o>=M?["SIZE"]:[])),e)):null})).catch((function(e){return N.current?(U(!1),A(e)):null}))}}),b?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(b,")"),backgroundSize:(null==T?void 0:T.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},y),z):o.a.createElement("div",{className:"dropzone-content-image"},y,z,g&&o.a.createElement("div",{className:"dropzone-errors"},g))))}));t.default=b},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/utils/ConfigUtils.js");e.exports=function(e){return function(t){return o.createElement(e,n({},t,{container:document.querySelector("."+(a.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js").branch,a=r("./MapStore2/node_modules/lodash/lodash.js").omit,i=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");e.exports=o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),i,(function(e){return function(t){return n.createElement(e,a(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.branch,p=r("./node_modules/react-dnd/lib/index.js").DragSource,f=r("./node_modules/react-dnd/lib/index.js").DropTarget,d={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}};e.exports=u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),c(p("row",d,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),f("row",{drop:function(e,t){var r=t.getItem();r.sortId!==e.sortId&&e.onSort(e.sortId,r.sortId,{id:e.id,containerId:e.containerId},{id:r.id,containerId:r.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var r=t.connectDragSource,a=t.connectDragPreview,i=t.connectDropTarget,l=t.isDragging,c=t.isOver,u=o(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),p=u.draggingItem&&u.draggingItem.sortId<u.sortId,f=u.draggingItem&&u.draggingItem.containerId===u.containerId,d=f&&l?" ms-dragging":"",m=f&&c?" ms-over":"",y=f&&p?" ms-above":" ms-below";return a(i(s.createElement("div",{className:"ms-dragg".concat(d).concat(m," ").concat(y)},s.createElement("div",null,s.createElement(e,n({},u,{connectDragSource:r,isDragging:l,isOver:c,onDrop:function(e){return e.stopPropagation()}}))))))}})))},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").branch,i=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),s=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return a(e,(function(){return function(e){var a=e.loaderProps;return o.createElement(r,n({},t,a))}}))}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./MapStore2/web/client/utils/LocaleUtils.js").getMessageById,l=r("./node_modules/prop-types/index.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.castArray,p=c.isArray,f=c.isNil,d=c.isString,m=r("./node_modules/recompose/es/Recompose.js"),y=m.getContext,g=m.mapProps,b=m.compose,h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(p(t))return t.map((function(n){var o=s(e,n[r]||d(n)&&n||"");return a(a({},n),{},i({},r,f(o)?t:o))}));var n=s(e,t);return f(n)?t:n},v=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return a(a({},n),{},i({},o,e[o]&&h(t,e[o],r)))}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return b(y({messages:l.object}),g((function(r){var o=r.messages,i=n(r,["messages"]);return a(a({},i),u(e).reduce(v(i,o,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/recompose/es/Recompose.js"),d=f.branch,m=f.toClass,y=r("./node_modules/prop-types/index.js"),g=r("./MapStore2/node_modules/lodash/lodash.js").omit,b=r("./node_modules/react-bootstrap/es/index.js").Popover,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");e.exports=d((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,t);var r,n,l,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"renderPopover",value:function(){return p.createElement(b,g(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=m(e);return p.createElement(t,g(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return p.createElement("span",null,p.createElement(h,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&a(r.prototype,n),l&&a(r,l),u}(p.Component),u(t,"propTypes",{popover:y.object}),u(t,"defaultProps",{popover:{trigger:!0}}),r}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").branch,i=r("./node_modules/react-bootstrap/es/index.js").Tooltip,s=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),l=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r("./MapStore2/node_modules/lodash/lodash.js").omit;e.exports=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,a=t.tooltipId,c=t.tooltipPosition,u=void 0===c?"top":c,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,m=t.args,y=t.customOverlayTrigger,g=void 0===y?s:y,b=n(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args","customOverlayTrigger"]);return o.createElement(g,{trigger:p,id:d,key:f,placement:u,overlay:o.createElement(i,{id:"tooltip-"+f},a?o.createElement(l,{msgId:a,msgParams:{data:m}}):r)},o.createElement(e,b))}}),(function(e){return function(t){return o.createElement(e,c(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js").debounce,g=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-dom/index.js"),h=r("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js").default;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,r=e.querySelector,n=e.closest,a=void 0!==n&&n;return function(e){var n,l;return l=n=function(n){s(u,n);var l=c(u);function u(e){var n;return o(this,u),d(p(n=l.call(this,e)),"findDomNode",(function(){if(!n.isMounded)return null;var e=b.findDOMNode(p(n));return e&&a&&r?e.closest(r||"*"):e&&(r?e.querySelector(r):e)})),n.width=void 0,n.height=void 0,n.skipOnMount=e.skipOnMount,n.onResize=y((function(){var e;return(e=n.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),n.ro=new h((function(e){e.forEach((function(e){var t=e.contentRect,r=t.width,o=t.height,a=n.props.handleWidth&&n.width!==r,i=n.props.handleHeight&&n.height!==o;n.skipOnMount||!a&&!i||n.onResize({width:r,height:o}),n.width=r,n.height=o,n.skipOnMount=!1}))})),n}return i(u,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return m.createElement(e,this.props)}}]),u}(m.Component),d(n,"propTypes",{handleWidth:g.bool,handleHeight:g.bool,onResize:g.func}),d(n,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/switch/SwitchButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},p.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),p.createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(d,"propTypes",{className:f.string,checked:f.bool,onChange:f.func,onClick:f.func}),u(d,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}}),e.exports=d},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/react/index.js"),i=r("./node_modules/react-bootstrap/es/index.js").ButtonGroup,s=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),l=r("./node_modules/react-addons-css-transition-group/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,c=e.btnGroupProps,u=void 0===c?{}:c,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,m=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,y=function(){return r.map((function(e,t){var r=e.visible,i=void 0===r||r,l=e.Element,c=e.renderButton,u=o(e,["visible","Element","renderButton"]);return i?c||(l&&a.createElement(l,n({key:u.key||t},u))||a.createElement(s,n({key:u.key||t},f,u))):null}))};return a.createElement(i,u,m?a.createElement(l,m,y()):y())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/react/index.js"),i=r("./node_modules/recompose/es/Recompose.js").compose,s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/node_modules/lodash/lodash.js").omit,c=r("./node_modules/react-bootstrap/es/index.js"),u=c.Button,p=c.Glyphicon,f=r("./MapStore2/web/client/components/misc/Loader.jsx"),d=r("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),m=r("./MapStore2/web/client/components/misc/enhancers/popover.js");e.exports=i(d,m)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,i=e.text,c=void 0===i?"":i,d=e.textId,m=e.glyphClassName,y=void 0===m?"":m,g=e.loaderProps,b=void 0===g?{}:g,h=e.children,v=o(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return a.createElement(u,l(v,["pullRight","confirmNo","confirmYes"]),t&&!r?a.createElement(p,{glyph:t,className:y}):null,d?a.createElement(s,{msgId:d}):c,r?a.createElement(f,n({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},b)):null,h)}))},"./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/react-dom/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Popover,g=m.Glyphicon,b=r("./MapStore2/web/client/components/misc/Overlay.jsx"),h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"renderPopover",value:function(){return p.createElement(y,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return p.createElement(g,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return p.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?p.createElement(h,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),p.createElement(b,{placement:this.props.placement,show:!0,target:function(){return f.findDOMNode(e.target)}},this.renderPopover())])}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(v,"propTypes",{id:d.string,title:d.string,text:d.string,glyph:d.string,bsStyle:d.string,placement:d.string,left:d.number,top:d.number,trigger:d.oneOfType([d.array,d.bool])}),u(v,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]}),e.exports=v},"./MapStore2/web/client/libs/cesium.js":function(e,t){e.exports=window.Cesium},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/observables/epics.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./node_modules/rxjs/Rx.js"),i=r("./MapStore2/node_modules/lodash/lodash.js").castArray,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,n(t))};e.exports={wrapStartStop:function(e,t,r){return function(n){return(r?s(n,i(e)).catch(r):s(n,i(e))).concat(a.Observable.from(i(t)))}}}},"./MapStore2/web/client/observables/wms.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/rxjs/Rx.js").Observable,s=r("./MapStore2/web/client/libs/ajax.js"),l=r("./MapStore2/web/client/api/WMS.js"),c=r("./MapStore2/web/client/utils/LayersUtils.js"),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),f=r("./node_modules/url/url.js"),d=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,m=r("./MapStore2/node_modules/lodash/lodash.js").head,y=r("./MapStore2/web/client/libs/proj4.js").default,g=function(e){return i.defer((function(){return s.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,a=e.url,i=f.parse(n.url||a,!0);return f.format(o(o({},i),{},{search:void 0,query:o(o({},i.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(d)},b=function(e){return i.defer((function(){return l.getCapabilities(c.getCapabilitiesUrl(e))})).let(d).map((function(t){return l.parseLayerCapabilities(t,e)}))};e.exports={getLayerCapabilities:b,describeLayer:g,addSearch:function(e){return g(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.owsURL;return o(o({},e),{},{params:{},search:r?{type:"wfs",url:u.cleanAuthParamsFromURL(r)}:void 0})}))},getNativeCrs:function(e){return i.of(e).filter((function(e){return!e.nativeCrs})).switchMap((function(e){return b(e).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(e.crs)||"EPSG:3587";if(!p.determineCrs(t)){var r=2===t.split(":").length?t.split(":")[1]:"3857";return i.fromPromise(p.fetchProjRemotely(t,p.getProjUrl(r)).then((function(e){return y.defs(t,e.data),t})))}return i.of(t)}))}))}}},"./MapStore2/web/client/plugins/BurgerMenu.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var b=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,w=r("./node_modules/object-assign/index.js"),S=r("./node_modules/react-bootstrap/es/index.js"),j=S.DropdownButton,O=S.Glyphicon,x=S.MenuItem,M=v((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:b.createElement(O,{glyph:"menu-hamburger"})}}))(j),P=function(e){var t=e.children,r=g(e,["children"]);return b.createElement("div",r,t)},E=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),T=r("./MapStore2/web/client/plugins/locale/Message.jsx"),C=r("./MapStore2/web/client/utils/PluginsUtils.js").createPlugin;r("./MapStore2/web/client/plugins/burgermenu/burgermenu.css");var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,n,a=p(i);function i(){var e;l(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(d(e=a.call.apply(a,[this].concat(r))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return w({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[]))})),y(d(e),"getTools",(function(){return[{element:b.createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(o(e.props.items.map((function(t){return s(s({},t),function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.map((function(e){return s(s({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:P,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:x,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return r.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:n,childPanels:e.getPanels(r),innerProps:o}:{}}(t.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=i,(r=[{key:"render",value:function(){return b.createElement(E,{id:this.props.id,className:"square-button",container:M,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:x,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&c(t.prototype,r),n&&c(t,n),i}(b.Component);y(_,"propTypes",{id:h.string,dispatch:h.func,items:h.array,title:h.node,onItemClick:h.func,controls:h.object,mapType:h.string,panelStyle:h.object,panelClassName:h.string}),y(_,"contextTypes",{messages:h.object,router:h.object}),y(_,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:b.createElement(x,{header:!0},b.createElement(T,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"}),e.exports=C("BurgerMenu",{component:v((function(e){return{controls:e.controls}}))(_),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js");r("./MapStore2/web/client/plugins/omnibar/omnibar.css");var m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){var n,o;return{name:t.name+r,panel:e,cfg:(null==t||null===(n=t.cfg)||void 0===n||null===(o=n.toolsCfg)||void 0===o?void 0:o[r])||{}}})))}),[])})),p(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement(y,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return d.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return d.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(g,"propTypes",{className:f.string,style:f.object,items:f.array,id:f.string,mapType:f.string}),p(g,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),e.exports={OmniBarPlugin:m(g,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-redux/es/index.js").connect,h=r("./node_modules/redux/es/index.js").compose,v=r("./MapStore2/web/client/actions/help.js"),w=v.changeHelpText,S=v.changeHelpwinVisibility,j=b((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:w,changeHelpwinVisibility:S})(r("./MapStore2/web/client/components/help/HelpBadge.jsx")),O=r("./MapStore2/web/client/components/I18N/Message.jsx"),x=r("./node_modules/react-bootstrap/es/index.js"),M=x.Button,P=x.Tooltip,E=x.Panel,T=x.Collapse,C=x.Glyphicon,_=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),L=r("./MapStore2/web/client/actions/controls.js"),k=L.setControlProperty,I=L.toggleControl,A=r("./MapStore2/node_modules/lodash/lodash.js").partial,D=r("./node_modules/object-assign/index.js"),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,a=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(f(e=a.call.apply(a,[this].concat(r))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),m(f(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var r=function(){return{}},n={};return t.exclusive?(r=function(r){return{active:r.controls&&r.controls[e.props.stateSelector]&&r.controls[e.props.stateSelector].active===t.name}},n[e.props.eventSelector]=k.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(r=function(r){return{bsStyle:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},n[e.props.eventSelector]=I.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(n[e.props.eventSelector]=A(t.action,e.context),r=t.selector||r),b(r,n,(function(t,r,n){return e.mergeHandlers(i(i({},n),t),r)}))(e.props.tool)})),m(f(e),"renderTool",(function(t,r){if(t.element)return t.element;var n=t.help?y.createElement(j,{className:"mapstore-helpbadge",helpText:t.help}):y.createElement("span",null),a=t.tooltip?y.createElement(O,{msgId:t.tooltip}):null,i=e.getTool(t),s=e.getToolConfig(t),l=t.childTools||[];return e.addTooltip(y.createElement(i,o({},s,{pluginCfg:t.cfg,tooltip:a,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:n,key:t.name||"tool"+r,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?y.createElement(C,{glyph:t.cfg.glyph}):t.icon,n," ",t.text,l.length>0&&y.createElement(p,o({},t.innerProps,{mapType:e.props.mapType,tools:l,panels:t.childPanels}))),t)})),m(f(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),m(f(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var r=t.panel,n=y.createElement(r,o({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),a=t.title?y.createElement(O,{msgId:t.title}):null;return t.wrap?y.createElement(T,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},y.createElement(E,{header:a,style:e.props.panelStyle,className:e.props.panelClassName},n)):n}))})),m(f(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(r,n){return D(r,m({},n,e[n]?h(e[n],t[n]):t[n]))}),e)})),m(f(e),"addTooltip",(function(t,r){if(r.tooltip){var n=y.createElement(P,{id:e.props.id+"-"+r.name+"-tooltip"},y.createElement(O,{msgId:r.tooltip}));return y.createElement(_,{key:e.props.id+"-"+r.name+"-overlay",rootClose:!0,placement:"left",overlay:n},t)}return t})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props.container;return y.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},y.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&l(t.prototype,r),n&&l(t,n),p}(y.Component);m(R,"propTypes",{id:g.string.isRequired,container:g.func,containerWrapperStyle:g.object,tool:g.func,className:g.string,style:g.object,tools:g.array,panels:g.array,mapType:g.string,toolStyle:g.string,activeStyle:g.string,toolSize:g.string,stateSelector:g.string.isRequired,eventSelector:g.string,panelStyle:g.object,panelClassName:g.string,activePanel:g.string,toolCfg:g.object}),m(R,"contextTypes",{messages:g.object,router:g.object}),m(R,"defaultProps",{container:E,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:M,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),e.exports=R},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect;e.exports=n((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(r("./MapStore2/web/client/components/I18N/Message.jsx"))},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/product/assets/symbols/symbolMissing.svg":function(e,t,r){e.exports=r.p+"symbolMissing.svg"},"./MapStore2/web/client/selectors/backgroundselector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"metadataSourceSelector",(function(){return s})),r.d(t,"modalParamsSelector",(function(){return l})),r.d(t,"backgroundListSelector",(function(){return c})),r.d(t,"isDeletedIdSelector",(function(){return u})),r.d(t,"removedBackgroundsThumbIdsSelector",(function(){return p})),r.d(t,"confirmDeleteBackgroundModalSelector",(function(){return f})),r.d(t,"backgroundControlsSelector",(function(){return d})),r.d(t,"allowBackgroundsDeletionSelector",(function(){return m})),r.d(t,"backgroundLayersSelector",(function(){return y}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/layers.js"),a=r("./MapStore2/web/client/selectors/maptype.js"),i=r("./MapStore2/web/client/utils/LayersUtils.js"),s=function(e){return e.backgroundSelector&&e.backgroundSelector.source},l=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},c=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},u=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.removedBackgroundsThumbIds},f=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},d=function(e){return e.controls&&e.controls.backgroundSelector||{}},m=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},y=Object(n.createSelector)(o.layersSelector,a.mapTypeSelector,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return Object(i.invalidateUnsupportedLayer)(e,t)}))||[]}))},"./MapStore2/web/client/selectors/catalog.js":function(e,t,r){"use strict";r.r(t),r.d(t,"staticServicesSelector",(function(){return c})),r.d(t,"servicesSelector",(function(){return u})),r.d(t,"servicesSelectorWithBackgrounds",(function(){return p})),r.d(t,"selectedStaticServiceTypeSelector",(function(){return f})),r.d(t,"tileSizeOptionsSelector",(function(){return d})),r.d(t,"groupSelector",(function(){return m})),r.d(t,"savingSelector",(function(){return y})),r.d(t,"resultSelector",(function(){return g})),r.d(t,"serviceListOpenSelector",(function(){return b})),r.d(t,"newServiceSelector",(function(){return h})),r.d(t,"newServiceTypeSelector",(function(){return v})),r.d(t,"selectedCatalogSelector",(function(){return w})),r.d(t,"selectedServiceTypeSelector",(function(){return S})),r.d(t,"selectedServiceLayerOptionsSelector",(function(){return j})),r.d(t,"searchOptionsSelector",(function(){return O})),r.d(t,"loadingErrorSelector",(function(){return x})),r.d(t,"loadingSelector",(function(){return M})),r.d(t,"selectedServiceSelector",(function(){return P})),r.d(t,"modeSelector",(function(){return E})),r.d(t,"layerErrorSelector",(function(){return T})),r.d(t,"searchTextSelector",(function(){return C})),r.d(t,"activeSelector",(function(){return _})),r.d(t,"authkeyParamNameSelector",(function(){return L})),r.d(t,"pageSizeSelector",(function(){return k})),r.d(t,"delayAutoSearchSelector",(function(){return I})),r.d(t,"catalogSearchInfoSelector",(function(){return A}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/web/client/selectors/map.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return Object(o.get)(e,"catalog.default.staticServices")},u=function(e){return Object(o.get)(e,"catalog.services")},p=Object(n.createSelector)(c,u,(function(e,t){return s(s({},t),Object(o.pick)(e,"default_map_backgrounds"))})),f=function(e){return Object(o.get)(e,'catalog.default.staticServices["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),"csw")},d=function(e){return Object(o.get)(e,"catalog.default.tileSizes",[256,512])},m=function(e){return Object(o.get)(e,"controls.metadataexplorer.group")},y=function(e){return Object(o.get)(e,"catalog.saving")},g=function(e){return Object(o.get)(e,"catalog.result")},b=function(e){return Object(o.get)(e,"catalog.openCatalogServiceList")},h=function(e){return Object(o.get)(e,"catalog.newService")},v=function(e){return Object(o.get)(e,"catalog.newService.type","csw")},w=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"]'))},S=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),f(e))},j=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].layerOptions'),{})},O=function(e){return Object(o.get)(e,"catalog.searchOptions")},x=function(e){return Object(o.get)(e,"catalog.loadingError")},M=function(e){return Object(o.get)(e,"catalog.loading",!1)},P=function(e){return Object(o.get)(e,"catalog.selectedService")},E=function(e){return Object(o.get)(e,"catalog.mode","view")},T=function(e){return Object(o.get)(e,"catalog.layerError")},C=function(e){return Object(o.get)(e,"catalog.searchOptions.text","")},_=function(e){return"metadataexplorer"===Object(o.get)(e,"controls.toolbar.active")||Object(o.get)(e,"controls.metadataexplorer.enabled")},L=function(e){return(Object(o.get)(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},k=function(e){return Object(o.get)(e,"catalog.pageSize",4)},I=function(e){return Object(o.get)(e,"catalog.delayAutoSearch",1e3)},A=Object(n.createStructuredSelector)({projection:a.projectionSelector})},"./MapStore2/web/client/selectors/timeline.js":function(e,t,r){"use strict";r.r(t),r.d(t,"rangeSelector",(function(){return h})),r.d(t,"rangeDataSelector",(function(){return v})),r.d(t,"isCollapsed",(function(){return w})),r.d(t,"isAutoSelectEnabled",(function(){return S})),r.d(t,"isMapSync",(function(){return j})),r.d(t,"timeStampToItems",(function(){return O})),r.d(t,"valuesToItems",(function(){return x})),r.d(t,"rangeDataToItems",(function(){return M})),r.d(t,"getTimeItems",(function(){return P})),r.d(t,"itemsSelector",(function(){return E})),r.d(t,"loadingSelector",(function(){return T})),r.d(t,"selectedLayerSelector",(function(){return C})),r.d(t,"selectedLayerData",(function(){return _})),r.d(t,"selectedLayerName",(function(){return L})),r.d(t,"selectedLayerTimeDimensionConfiguration",(function(){return k})),r.d(t,"selectedLayerUrl",(function(){return I})),r.d(t,"currentTimeRangeSelector",(function(){return A})),r.d(t,"selectedLayerDataRangeSelector",(function(){return D})),r.d(t,"timelineLayersSelector",(function(){return R})),r.d(t,"hasLayers",(function(){return N})),r.d(t,"isVisible",(function(){return G})),r.d(t,"multidimOptionsSelectorCreator",(function(){return F}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/reselect/es/index.js"),a=r("./MapStore2/web/client/utils/ReselectUtils.js"),i=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=r("./MapStore2/web/client/utils/TimeUtils.js"),l=r("./MapStore2/web/client/selectors/dimension.js"),c=r("./MapStore2/web/client/selectors/map.js"),u=r("./MapStore2/web/client/selectors/layers.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){return Object(n.get)(e,"timeline.range")},v=function(e){return Object(n.get)(e,"timeline.rangeData")},w=function(e){return Object(n.get)(e,"timeline.settings.collapsed")},S=function(e){return Object(n.get)(e,"timeline.settings.autoSelect")},j=function(e){return Object(n.get)(e,"timeline.settings.mapSync")},O=function(e,t){var r=y(e.split("/"),3),n=r[0],o=r[1],a=r[2];if(a&&"0"!==a){var i=Object(s.analyzeIntervalInRange)({start:n,end:o,duration:a},t),l=i.count,c=i.start,u=i.end;return l>50?[{start:n,end:o,duration:a,type:"range",content:"".concat(l," items")}]:Object(s.timeIntervalToSequence)({start:c,end:u,duration:a}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(n).getTime())?null:[{start:new Date(n),end:new Date(o||n),type:o?"range":"point"}]},x=function(e,t){return(e||[]).reduce((function(e,r){return[].concat(m(e),m(O(r,t)))}),[]).filter((function(e){return e&&e.start}))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return x(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var r=e.histogram.domain.split("/"),n=y(r,3),o=n[0],a=n[1],i=n[2],l=Math.max.apply(Math,m(e.histogram.values)),c=Object(s.timeIntervalToIntervalSequence)({start:o,end:a,duration:i});return e.histogram.values.map((function(e,t){return f(f({},c[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/l,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!Object(s.isTimeDomainInterval)(e.domain)?x(e.values||e.domain.split(","),t):r&&r.histogram?M(r,t):[]},E=Object(a.createShallowSelector)(l.timeDataSelector,h,v,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(Object.keys(e).map((function(n){return P(e[n],t,r[n]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(f({content:" "},e),{},{group:n})}))})).reduce((function(e,t){return[].concat(m(e),m(t))}),[]))})),T=function(e){return Object(n.get)(e,"timeline.loading")},C=function(e){return Object(n.get)(e,"timeline.selectedLayer")},_=function(e){return Object(u.getLayerFromId)(e,C(e))},L=function(e){return _(e)&&_(e).name},k=function(e){return _(e)&&_(e).dimensions&&Object(n.head)(_(e).dimensions.filter((function(e){return"time"===e.name})))},I=function(e){return Object(n.get)(k(e),"source.url")},A=Object(o.createSelector)(l.currentTimeSelector,l.offsetTimeSelector,(function(e,t){return{start:e,end:t}})),D=function(e){return Object(l.layerDimensionRangeSelector)(e,C(e))},R=l.layersWithTimeDataSelector,N=Object(o.createSelector)(R,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0})),G=function(e){return!w(e)&&N(e)},F=function(e){return function(t){var r=(Object(c.mapSelector)(t)||{}).bbox;if(!r)return{};var o=Object(l.layerDimensionDataSelectorCreator)(e,"time")(t),a=Object(n.get)(o,"source.version"),s=Object.keys(r.bounds).reduce((function(e,t){return f(f({},e),{},d({},t,parseFloat(r.bounds[t])))}),{});if(!s||!j(t))return{};if("1.1"!==a){var u=Object(l.layerDimensionDataSelectorCreator)(e,"space")(t),p=Object(n.get)(u,"domain.CRS");if(!p||!s||!j(t))return{};var m=y(Object(i.reprojectBbox)(s,Object(c.projectionSelector)(t),p),4),g=m[0],b=m[1],h=m[2],v=m[3];return h<g&&"EPSG:4326"===p&&(h+=360),{bbox:"".concat(g,",").concat(b,",").concat(h,",").concat(v),crs:p}}var w=s.minx,S=s.miny,O=s.maxx,x=s.maxy,M=r.crs;return{bbox:"".concat(w,",").concat(S,",").concat(O,",").concat(x,",").concat(M)}}}},"./MapStore2/web/client/utils/AnnotationsUtils.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/uuid/v1.js"),c=r("./MapStore2/web/client/utils/LocaleUtils.js"),u=r("./MapStore2/web/client/utils/MarkerUtils.js").extraMarkers,p=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),f=p.geometryFunctions,d=p.fetchStyle,m=p.hashAndStringify,y=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,g=r("./MapStore2/node_modules/lodash/lodash.js"),b=g.values,h=g.isNil,v=g.slice,w=g.head,S=g.castArray,j=g.last,O=g.isArray,x=g.findIndex,M=g.isString,P=r("./node_modules/uuid/index.js"),E=r("./node_modules/@turf/center/main.es.js").default,T=r("./node_modules/object-assign/index.js"),C={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},_={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},L={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},k={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},I={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},A={Text:L,Point:_,Circle:C,MultiPoint:_,LineString:k,MultiLineString:k,Polygon:I,MultiPolygon:I},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},R=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.features,o=void 0===n?[]:n;return"FeatureCollection"===r?o.reduce((function(e,t){return e[t.geometry.type]=A[t.geometry.type],e}),{type:"FeatureCollection"}):i({},A[r])},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({title:"annotations.defaulttitle"!==c.getMessageById(t,"annotations.defaulttitle")?c.getMessageById(t,"annotations.defaulttitle"):"Default title",id:l()},e)},F=function(e){return M(e)&&e||O(e)&&e.join(" ")},U=function(e){return e.color&&e.opacity&&e.weight},z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t&&t[e]?t[e]:t,o=n,a=o.dashArray?F(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:D(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:a};case"LineString":case"MultiLineString":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a};case"Text":var s=U(o)?{labelOutlineColor:D(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return i({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:R(o.textAlign),fontColor:D(o.fillColor),fontOpacity:o.fillOpacity,label:r,stroke:!0,strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a},s);case"Point":case"MultiPoint":var l=o.symbolUrl&&d(m(o),"base64")||u.markerToDataUrl(o),c=-18,p=-46;return o.iconAnchor&&O(o.iconAnchor)&&o.size&&(c="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],p="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),l?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:l,graphicXOffset:c,graphicYOffset:p,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:a,strokeWidth:1}}},B={ANNOTATION_TYPE:"ms2-annotations",convertGeoJSONToInternalModel:function(e){var t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,a=e.features,i=void 0===a?[]:a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(r){case"Point":case"MultiPoint":return{type:1===s.length?"Text":r};case"Polygon":return{type:1===l.length?"Circle":r};case"GeometryCollection":var c=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),u=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(c.length===s.length)return{type:"Text"};if(0===s.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(u.length===l.length)return{type:"Circle"};if(0===l.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var d=i.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:d};default:return{type:r}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,a=e.features,i=void 0===a?[]:a;switch(r){case"Point":case"MultiPoint":case"Symbol":return[B.getRelativeStyler(r)];case"LineString":case"MultiLineString":return[B.getRelativeStyler(r)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[B.getRelativeStyler(r)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(B.getRelativeStyler(t.type))?e:e.concat(B.getAvailableStyler(t))}),[]);case"FeatureCollection":return i.reduce((function(e,t){return-1!==e.indexOf(B.getRelativeStyler(t.type))?e:e.concat(B.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,r=void 0===t?"14":t,n=e.fontSizeUom,o=void 0===n?"px":n,a=e.fontFamily,i=void 0===a?"Arial":a,s=e.fontStyle,l=void 0===s?"normal":s,c=e.fontWeight,u=void 0===c?"normal":c;return"".concat(l," ").concat(u," ").concat(r).concat(o," ").concat(i)},DEFAULT_ANNOTATIONS_STYLES:A,STYLE_CIRCLE:C,STYLE_POINT_MARKER:_,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:L,STYLE_LINE:k,STYLE_POLYGON:I,getGeometryType:function(e){var t,r,n;return(null==e||null===(t=e.properties)||void 0===t?void 0:t.isCircle)?"Circle":(null==e||null===(r=e.properties)||void 0===r?void 0:r.isText)?"Text":null==e||null===(n=e.geometry)||void 0===n?void 0:n.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="FeatureCollection"===e.type?i({},e):{type:"Feature",geometry:e},n=N(r),o=G(r.properties,t);return i({style:n,properties:o},r)},removeDuplicate:function(e){return b(e.reduce((function(e,t){return i(i({},e),{},s({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.circles,a=void 0===o?[]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,s=a.reduce((function(e,t){return e.concat([n[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:s},properties:{id:l(),ms_style:z("Circle",i)}}},fromCircleToPolygon:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||l(),ms_style:z("Circle",r)}}},fromTextToPoint:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;return{type:"Feature",geometry:e,properties:{id:t.id||l(),ms_style:z("Text",r,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||l(),ms_style:z(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.textGeometriesIndexes,a=void 0===o?[]:o,i=t.textValues,s=void 0===i?[]:i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;return a.map((function(e,t){return{type:"Feature",geometry:n[e],properties:{id:l(),ms_style:z("Text",c,s[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,r=e.properties,n=e.style,o=r.circles&&B.circlesToMultiPolygon(t,r,n.Circle)||[],a=r.textGeometriesIndexes&&B.textToPoint(t,r,n.Text)||[],i=(r.circles||[]).concat(r.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===i.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:l(),ms_style:z(e.type,n[e.type])}}})).concat(o,a)},createGeometryFromGeomFunction:function(e){var t=f[e.style.geometry]&&f[e.style.geometry].type||e.geometry.type,r=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":r=w(r);break;case"endPoint":r=j(r);break;case"centerPoint":r=E(e).geometry.coordinates}return{type:t,coordinates:r}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,r=e.properties,n=void 0===r?{}:r,o=e.style,a=void 0===o?{}:o,i=a.geometry?B.createGeometryFromGeomFunction({geometry:t,properties:n,style:a,type:"Feature"}):t;return n.isCircle&&"Polygon"===i.type?B.fromCircleToPolygon(i,n,a):n.isText?B.fromTextToPoint(i,n,a):"LineString"===i.type&&n.useGeodesicLines&&a.filtering?B.fromLineStringToGeodesicLineString(n,a):{type:"Feature",geometry:i,properties:{id:n.id||l(),ms_style:z(i.type,a)}}},annotationsToPrint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return S(e.style||t.style||{}).filter((function(e){return!!h(e.filtering)||e.filtering})).map((function(t){return B.fromAnnotationToGeoJson(i(i({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(B.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:i(i({},t.properties),{},{ms_style:z(t.geometry.type,t.style)})})}),[])},formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,r=e.coordinates;switch(t){case"Polygon":return B.isCompletePolygon(r)?B.formatCoordinates(v(r[0],0,r[0].length-1)):B.formatCoordinates(r[0]);case"LineString":case"MultiPoint":return B.formatCoordinates(r);default:return B.formatCoordinates([r])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:y("properties.id",P.v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,r=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(r))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(e,2),r=t[0],o=t[1];return!isNaN(parseFloat(o))&&!isNaN(parseFloat(r))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.remove,o=void 0!==n&&n,a=e.type;if(r&&r.length){var i=r.filter(B.validateCoords);return o?i.length>B.COMPONENTS_VALIDATION[a].min&&i.length===r.length:i.length>=B.COMPONENTS_VALIDATION[a].min&&i.length===r.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{radius:0}:n;if(r&&r.length){var a=w(r);return!isNaN(parseFloat(o.radius))&&B.validateCoords(a)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{valueText:""}:n;if(r&&r.length){var a=w(r);return o&&!!o.valueText&&B.validateCoords(a)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[[]]:t,n=e.type,o=e.remove,a=void 0!==o&&o,i=e.properties,s=void 0===i?{}:i;return!h(n)&&("Text"===n?B.validateText({components:r,properties:s}):"Circle"===n?B.validateCircle({components:r,properties:s}):B.validateCoordinates({components:r,remove:a,type:n}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?i(i({},e),{},{features:e.features.map((function(e){return T({},e,{style:S(e.style).map((function(e){return T({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[i(i({},A.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:l()}),i(i({},A.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:l()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==x(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")},isCompletePolygon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(B.validateCoordsArray);return t.length>3&&w(t)[0]===j(t)[0]&&w(t)[1]===j(t)[1]},getDashArrayFromStyle:F,isAnnotation:function(e){return"ms2-annotations"===(null==e?void 0:e.type)||"Annotations"===(null==e?void 0:e.name)}};e.exports=B},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,r){var n=r("./node_modules/tinycolor2/tinycolor.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").toNumber,a={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,r){return e instanceof Array?a.rgbToHex(e[0],e[1],e[2]):"#"+a.decToHex(e)+a.decToHex(t)+a.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return a.rgbToHsv(e[0],e[1],e[2]);var n,o,i,s,l,c=e/255,u=t/255,p=r/255;switch(n=Math.min(Math.min(c,u),p),i=(o=Math.max(Math.max(c,u),p))-n,o){case n:s=0;break;case c:s=60*(u-p)/i,u<p&&(s+=360);break;case u:s=60*(p-c)/i+120;break;case p:s=60*(c-u)/i+240}return l=0===o?0:1-n/o,[Math.round(s),l,o]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],n=function e(t,r,n){var o=e(t,r,n);return a.rgbToHex(o)},o=0;o<e;o++)r.push(n(t*o,.57,.63));return r},sameToneRangeColors:function(e,t,r,n){var o=e;isNaN(parseFloat(e))&&(o=a.hexToHsv(e)[0]);var i=.5/(r-1),s=t/(r-1),l=[];1===r&&(i=.5,s=t/2);for(var c=0;c<r;c++){var u=o+c*s-t/2,p=i*c+.3,f=p;n&&(u=n.h||u,p=n.s||p,f=n.v||f),l.push(a.hsvToHex(u,p,f,c))}return l},hsvToRgb:function(e,t,r){if(e instanceof Array)return a.hsvToRgb(e[0],e[1],e[2]);var n,o,i,s=Math.floor(e/60%6),l=e/60-s,c=r*(1-t),u=r*(1-l*t),p=r*(1-(1-l)*t);switch(s){case 0:n=r,o=p,i=c;break;case 1:n=u,o=r,i=c;break;case 2:n=c,o=r,i=p;break;case 3:n=c,o=u,i=r;break;case 4:n=p,o=c,i=r;break;case 5:n=r,o=c,i=u}return[a.realToDec(n),a.realToDec(o),a.realToDec(i)]},hsvToHex:function(e,t,r){var n=a.hsvToRgb(e,t,r);return a.rgbToHex(n)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=a.hexToRgb(t);return a.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),r=o.charAt(2)+o.charAt(3),n=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return n(e).toHexString()},colorToRgbaStr:function(e,t,r){var a=n(e);return e&&a.setAlpha(o(void 0!==t?t:a.getAlpha())).toRgbString()||r}};e.exports=a},"./MapStore2/web/client/utils/ConfigProvider.js":function(e,t,r){"use strict";t.a={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/lrucache/index.js"),a=r("./node_modules/es6-promise/dist/es6-promise.js").Promise,i=new o(100),s=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,a=n*e+r;try{var i=t.dataView.getInt16(2*a,!1);if(i!==o&&32767!==i&&-32768!==i)return i}catch(e){}return null};e.exports={loadTile:function(e,t,r){return i.has(r)?null:new a((function(o,a){n.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,r){i.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,r),o()})).catch((function(e){!function(e,t,r){i.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),a(e)}))}))},getElevation:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=i.get(e);return o&&"success"===o.status?{available:!0,value:s(r,o,t.x,t.y,n)}:o&&"loading"===o.status?{available:!1,message:"elevationLoading"}:o&&"error"===o.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=new o(e.max||100)}}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getFormatForResponse",(function(){return i})),r.d(t,"responseValidForEdit",(function(){return s}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/FeatureInfoUtils.js"),a=r.n(o),i=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&a.a.INFO_FORMATS[r]||t.format},s=function(e){return!!Object(n.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/MarkerUtils.js":function(module,exports,__webpack_require__){function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var csstree=__webpack_require__("./node_modules/css-tree/lib/index.js"),assign=__webpack_require__("./node_modules/object-assign/index.js"),css={fontawesome:__webpack_require__("./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt")},baseImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"),shadowImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png"),baseImage=new Image,shadowImage=new Image;baseImage.src=baseImageUrl,shadowImage.src=shadowImageUrl;var getNodeOfType=function e(t,r){return r(t)?t:t.children?t.children.reduce((function(t,n){return e(n,r)||t}),null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=csstree.toPlainObject(csstree.parse(css[font]));return parsedCss.children.reduce((function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,(function(e){return"ClassSelector"===e.type})),pseudoClassSelector=getNodeOfType(rule.prelude,(function(e){return"PseudoClassSelector"===e.type}));if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,(function(e){return"Declaration"===e.type&&"content"===e.property})).value,(function(e){return"String"===e.type})).value;return assign(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous}),{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[baseImageUrl,shadowImageUrl],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:assign({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(e){var t=e.iconColor,r=e.iconShape,n=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),a=extraMarkers.size;o.width=a[0],o.height=a[1];var i=o.getContext("2d"),s=getOffsets(t,r);i.drawImage(extraMarkers.images[0],4,31,35,16),i.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),a[0],a[1],0,0,a[0],a[1]),i.font="14px FontAwesome",i.fillStyle="rgb(255,255,255)",i.textBaseline="middle",i.textAlign="center",i.fillText(MarkerUtils.getGlyphs("fontawesome")[n]||"",a[0]/2-2,a[1]/2-7);var l=o.toDataURL("image/png");return o=null,l}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},module.exports=MarkerUtils},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isArray,a=n.head,i=n.isNaN;function s(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}var l={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};var c=function(e){return!i(parseFloat(e[0]))&&!i(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(c)).length<2)return[]}else if("Polygon"===r){if((n=a(t).filter(c)).length<3)return[[]];n=[n.concat([a(n)])]}return n};e.exports={validateFeatureCoordinates:u,isValidGeometry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type;if(!r||!t||t&&o(t)&&0===t.length)return!1;var n=u({coordinates:t,type:r});return(n="Polygon"===r?a(n):n).length>0},convertUom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return l[t]&&l[t][r]?e*l[t][r]:e},getFormattedBearingValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,a=void 0===o?0:o,i="";if(n){var l="";e>=0&&e<10?l="00":e>10&&e<100&&(l="0");var c=a>0?e.toFixed(a):Math.floor(e);i=l+c+"° T"}else e>=0&&e<90?i="N "+s(e)+"E":e>90&&e<=180?i="S "+s(180-e)+"E":e>180&&e<270?i="S "+s(e-180)+"W":e>=270&&e<=360&&(i="N "+s(360-e)+"W");return i},degToDms:s}},"./MapStore2/web/client/utils/PopupUtils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r("./node_modules/uuid/index.js"),o=r.n(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",r=document.createElement("div");return r.setAttribute("id",e+"-map-popup"),r.setAttribute("class",t),r},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},s=function(e,t){if(!t)return e;if(t instanceof Node){var r=document.createDocumentFragment();r.appendChild(t),e.appendChild(r)}else i(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},"./MapStore2/web/client/utils/ProxyUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ConfigUtils.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),a=o.isArray,i=o.isObject,s={needProxy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(e))return e.reduce((function(e,t){return s.needProxy(t)&&e}),!0);var r=!1,o=!(0===e.indexOf("http")),l=!o&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(l){var c=window.location;o=l[1]===c.protocol&&l[3]===c.hostname;var u=l[4],p=c.port;(80!==u&&""!==u||"80"!==p&&""!==p)&&(o=o&&u===p)}if(!o){var f=n.getProxyUrl(t);if(f){var d=[];i(f)&&(d=f.useCORS||[],f=f.url);var m=d.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);m||(r=!0)}}return r},getProxyUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.getProxyUrl(e);return t&&i(t)&&(t=t.url),t}};e.exports=s},"./MapStore2/web/client/utils/ReselectUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isEqualWith,a=n.isObject,i=r("./node_modules/reselect/es/index.js"),s=i.defaultMemoize,l=i.createSelectorCreator,c=function(e,t){return e===t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t,r){return Array.isArray(t)&&Array.isArray(r)?t===r||t.length===r.length&&t.reduce((function(t,n,o){return t&&e(n,r[o])}),!0):a(t)&&a(r)?t===r||Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce((function(n,o){return n&&e(t[o],r[o])}),!0):t===r}},p=l(s,(function(e,t){return o(e,t,u())}));e.exports={createShallowSelector:p,createShallowSelectorCreator:function(e){return l(s,(function(t,r){return o(t,r,u(e))}))}}},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.width,i=void 0===a?64:a,s=o.height,l=void 0===s?64:s,c=o.contain,u=o.type,p=void 0===u?"image/jpeg":u,f=o.quality,d=void 0===f?.5:f,m=new Image;m.crossOrigin="anonymous",m.onload=function(){var e=m.naturalWidth/m.naturalHeight,t=i,n=l,o=i/l,a=document.createElement("canvas");a.setAttribute("width",i),a.setAttribute("height",l),a.style.width=i+"px",a.style.height=l+"px";var s=a.getContext("2d"),u=!c&&e<o||c&&e>o?[t,t/e]:[n*e,n];s.save(),s.translate(t/2,n/2),s.drawImage(m,-u[0]/2,-u[1]/2,u[0],u[1]),s.restore();var f=a.toDataURL(p,d);r(f)},m.onerror=function(e){n(e)},m.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.type,i=void 0===a?"image/jpeg":a,s=o.quality,l=void 0===s?.5:s,c=document.createElement("video");c.crossOrigin="anonymous";var u=document.createElement("source"),p=document.createElement("canvas");c.addEventListener("loadedmetadata",(function(){var e=c.videoWidth,t=c.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),c.addEventListener("loadeddata",(function(){c.currentTime=1}),!0),c.addEventListener("seeked",(function(){p.getContext("2d").drawImage(c,0,0);try{var e=p.toDataURL(i,l);r(e)}catch(e){n(e)}}),!0),c.addEventListener("error",(function(e){n(e)}),!0),c.appendChild(u),c.setAttribute("src",e)}))},a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,a=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,i=null===(e=t.match(a))||void 0===e?void 0:e[1];return i?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(i,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./MapStore2/web/client/utils/TileConfigProvider.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/ConfigProvider.js"),a=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r.n(a);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default={getLayerConfig:function(e,t){var r,a,s,c,u=o.a;if("custom"===e)r=t;else if(s=(c=e.split("."))[0],a=c[1],!(r=u[s]))throw new Error("No such provider ("+s+")");var p={url:r.url,options:r.options||{}};if(a&&"variants"in r){if(!(a in r.variants))throw new Error("No such variant of "+(s||r.url)+" ("+a+")");var f,d=r.variants[a];f="string"==typeof d?{variant:d}:d.options,p={url:d.url||p.url,options:l(l({},p.options||{}),f)}}else"function"==typeof p.url&&(p.url=p.url(c.splice(1,c.length-1).join(".")));var m="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&m&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&i.a.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina="");p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,r){return e(u[r].options.attribution)}))}(p.options.attribution));var y=l(l({},p.options),Object(n.pickBy)(t,(function(e){return void 0!==e})));return[p.url,y]}}},"./MapStore2/web/client/utils/TileProviderUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").isArray;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],r=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(r))return arguments[0];var n=t[r];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",r=e.subdomains||"";return r&&("string"==typeof r&&(r=r.split("")),n(r))?r.map((function(r){return o(t.replace("{s}",r),e)})):["a","b","c"].map((function(r){return o(t.replace("{s}",r),e)}))}e.exports={extractValidBaseURL:function(e){return(e.url.match(/(\{s\})/)?a(e):[o(e.url,e)])[0]},getUrls:a,template:o}},"./MapStore2/web/client/utils/VectorStyleUtils.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/node_modules/lodash/lodash.js").isNil,s=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=r("./MapStore2/web/client/utils/ColorUtils.js").colorToRgbaStr,c=r("./node_modules/axios/index.js"),u=r("./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js").default,p=r("./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js").default,f={sld:new u,css:new p},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!i(e[t])})).length>0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return d(e,t)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return d(e,t)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return d(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return d(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return d(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return d(e,t)},w={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},S=function(e){var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},j={},O=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");j[e]=t},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return j[e]&&j[e][t]},M=function(e){if(e)return S(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},P=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return v(e)&&e.symbolUrl?c.get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var r=window.URL||window.webkitURL||window,n=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;n.setAttribute("fill",e.fillColor||"#FFCC33"),n.setAttribute("fill-opacity",i(e.fillOpacity)?.2:e.fillOpacity),n.setAttribute("stroke",l(e.color||"#FFCC33",i(e.opacity)?1:e.opacity)),n.setAttribute("stroke-opacity",i(e.opacity)?1:e.opacity),n.setAttribute("stroke-width",e.weight||1),n.setAttribute("width",e.size||32),n.setAttribute("height",e.size||32),n.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([P(n)],{type:"image/svg+xml;charset=utf-8"}),s=r.createObjectURL(a),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var u=c.getContext("2d"),p=new Image;p.src=s;var f="",d=M(e);return p.onload=function(){try{u.drawImage(p,c.width/2-p.width/2,c.height/2-p.height/2),f=c.toDataURL("image/png"),c=null,O(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),base64:f})}catch(e){return}},O(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),svg:n,base64:f}),s})).catch((function(){return r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})):new Promise((function(e){e(null)}))};e.exports={getGeometryFunction:function(e,t){return w[e]&&w[e][t]},SymbolsStyles:j,registerStyle:O,fetchStyle:x,hashCode:S,hashAndStringify:M,domNodeToString:P,createSvgUrl:E,registerGeometryFunctions:function(e,t,r){if(!(e&&t&&r))throw new Error("specify all the params: functionName, func, type");w[e]={func:t,type:r}},geometryFunctions:w,getStylerTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(e)?"Marker":v(e)?"Symbol":g(e)?"Text":b(e)||"Circle Style"===e.title?"Circle":y(e)?"Polygon":m(e)?"Polyline":""},isAttrPresent:d,addOpacityToColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return s("a",t,e)},isMarkerStyle:h,isSymbolStyle:v,isTextStyle:g,isCircleStyle:b,isStrokeStyle:m,isFillStyle:y,getSymbolsStyles:function(){return j},setSymbolsStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j=e},createStylesAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return v(e)&&!x(M(e))?E(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?o(o({},e),{},{symbolUrlCustomized:t}):x(M(e))})).catch((function(){return o(o({},e),{},{symbolUrlCustomized:r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})})):new Promise((function(t){t(v(e)?x(M(e)):e)}))}))},getStyleParser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return f[e]}}},"./MapStore2/web/client/utils/VectorTileUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"VECTOR_FORMATS",(function(){return n})),r.d(t,"isVectorFormat",(function(){return o}));var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==n.indexOf(e)}},"./MapStore2/web/client/utils/cesium/BILTerrainProvider.js":function(e,t){e.exports=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,r,n,o){var a,i=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),l=new DataView(s);if(s.byteLength===e.byteLength){for(var c,u=0;u<s.byteLength;u+=2)(c=i.getInt16(u,!1)-o)>n&&c<r?(l.setInt16(u,c,!0),c):l.setInt16(u,0,!0);a=new Int16Array(s)}return a}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(r){var n;switch((r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":n=t.TMSParser.generate(r);break;case"WMTS":n=t.WMTSParser.generate(r);break;default:n=t.WMSParser.generate(r)}return n},t.WMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(r.proxy)&&(i=r.proxy.getURL(i)),n=e.when(e.loadXML(i),(function(e){return t.WMSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(n.layerName))throw new e.DeveloperError("description.layerName is required.");var o={},a=n.layerName,i=(e.defaultValue(n.maxLevel,11),void 0);o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var s={width:65,height:65},l=void 0;o.formatImage=n.formatImage,o.formatArray=n.formatArray,o.tilingScheme=void 0;var c=void 0,u=void 0;o.ready=!1,o.levelZeroMaximumGeometricError=void 0,o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var p=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName);var f=r.querySelector("[version]");null!==f&&(i=f.getAttribute("version"),u=/^1\.[3-9]\./.test(i));var d=r.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=d.indexOf("?");m>-1&&(d=d.substring(0,m)),e.defined(n.proxy)&&(d=n.proxy.getURL(d));var y=r.querySelectorAll("Request>GetMap>Format");if(!e.defined(o.formatImage))for(var g=0;g<y.length&&!e.defined(o.formatArray);g++){(b=t.FormatArray.filter((function(e){return e.format===y[g].textContent}))).length>0&&(o.formatArray=b[0])}e.defined(o.formatArray)&&"string"==typeof o.formatArray.format&&"function"==typeof o.formatArray.postProcessArray?o.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:o.formatArray=void 0;for(g=0;g<y.length&&!e.defined(o.formatImage);g++){var b;(b=t.FormatImage.filter((function(e){return e.format===y[g].textContent}))).length>0&&(o.formatImage=b[0])}e.defined(o.formatImage)&&"string"==typeof o.formatImage.format?o.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:o.formatImage=void 0;for(var h,v=r.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),w=0;w<v.length&&!e.defined(h);w++)if(v[w].querySelector("Name").textContent===a){var S=(h=v[w]).getAttribute("fixedHeight"),j=h.getAttribute("fixedWidth");e.defined(S)&&(S=parseInt(S),o.heightMapHeight=S>0&&S<o.heightMapHeight?S:o.heightMapHeight,s.height=S>0?S:s.height),e.defined(j)&&(j=parseInt(j),o.heightMapWidth=j>0&&j<o.heightMapWidth?j:o.heightMapWidth,s.width=j>0?j:s.width)}if(e.defined(h)&&e.defined(i)){for(var O=!1,x=0;x<t.CRS.length&&!O;x++){var M=t.CRS[x],P=M.name,E=h.querySelector("BoundingBox[SRS='"+P+"'],BoundingBox[CRS='"+P+"']");if(null!==E){var T,C,_,L;l=P,c=M.firstAxeIsLatitude,o.tilingScheme=new M.tilingScheme({ellipsoid:M.ellipsoid}),c&&u?(T=parseFloat(E.getAttribute("miny")),C=parseFloat(E.getAttribute("maxy")),_=parseFloat(E.getAttribute("minx")),L=parseFloat(E.getAttribute("maxx"))):(T=parseFloat(E.getAttribute("minx")),C=parseFloat(E.getAttribute("maxx")),_=parseFloat(E.getAttribute("miny")),L=parseFloat(E.getAttribute("maxy")));new e.Rectangle(T,_,C,L);o.getTileDataAvailable=function(e,t,r){return!0},O=!0}}if(e.defined(p)){for(var k=h.querySelectorAll("Style>Name"),I=!1,A=0;A<k.length&&!I;A++)p===k[A].textContent&&(I=!0);I||(p=void 0)}for(var D=r.querySelectorAll("VendorSpecificCapabilities>TileSet"),R=!1,N=0;N<D.length&&!R;N++){var G=null!==D[N].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");D[N].querySelector("Layers").textContent===a&&G&&(s.width=parseInt(D[N].querySelector("Width").textContent),s.height=parseInt(D[N].querySelector("Height").textContent),R=!0)}o.ready=O&&(e.defined(o.formatImage)||e.defined(o.formatArray))&&e.defined(i)}if(o.ready){var F=d+"?SERVICE=WMS&REQUEST=GetMap&layers="+a+"&version="+i+"&bbox=";if(F+=u&&c?"{south},{west},{north},{east}":"{west},{south},{east},{north}",F+="&crs="+l+"&srs="+l,o.formatImage){var U=F+"&format="+o.formatImage.format+"&width="+s.width+"&height="+s.height;e.defined(p)&&(U+="&styles="+p+"&style="+p),o.URLtemplateImage=function(){return U},o.imageSize=s}if(o.formatArray){var z=F+"&format="+o.formatArray.format+"&width="+o.heightMapWidth+"&height="+o.heightMapHeight;o.URLtemplateArray=function(){return z}}}return o},t.TMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url))n=e.loadXML(r.url).then((function(e){return t.TMSParser.parseXML(e,r)}));else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.TMSParser.parseXML(r.xml,r)}return n},t.TMSParser.parseXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o;if(null!=r.querySelector("TileMapService")){if(!e.defined(n.layerName))throw new e.DeveloperError("layerName is required.");var a=[].slice.apply(r.querySelectorAll("TileMap[title='"+n.layerName+"']")).map((function(r){var o=r.getAttribute("href");return e.defined(n.proxy)&&(o=n.proxy.getURL(o)),e.when(e.loadXML(o),(function(e){return t.TMSParser.getMetaDatafromXML(e,n)}))}));o=e.when.all(a).then((function(t){for(var r,n=0;n<t.length&&!e.defined(r);n++)e.defined(t[n])&&(r=t[n]);return r})).then((function(e){return e}))}else o=t.TMSParser.getMetaDatafromXML(r,n);return o},t.TMSParser.getMetaDatafromXML=function(r,n){var o={ready:!1};o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var a=e.defaultValue(n.maxLevel,11),i=n.proxy;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var s=r.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===s}));l.length>0&&(o.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var c=r.querySelector("TileFormat"),u=t.FormatImage.filter((function(e){return e.extension==c.getAttribute("extension")}));u.length>0&&(o.formatImage=u[0],o.imageSize={},o.imageSize.width=parseInt(c.getAttribute("width")),o.imageSize.height=parseInt(c.getAttribute("height")));var p=[].slice.call(r.querySelectorAll("TileSets>TileSet")),f=[];if(e.defined(o.formatImage)&&((f=p.map((function(t){var r=t.getAttribute("href")+"/{x}/{tmsY}."+o.formatImage.extension;return e.defined(i)&&(r=i.getURL(r)),{url:r,level:parseInt(t.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),f.length>0&&(o.tileSets=f)),e.defined(o.tileSets)&&e.defined(o.formatImage)&&e.defined(o.tilingScheme)){o.URLtemplateImage=function(e,t,r){var n="";return r<f.length&&(n=f[r].url),n};var d=r.querySelector("BoundingBox"),m=parseFloat(d.getAttribute("miny")),y=parseFloat(d.getAttribute("maxy")),g=parseFloat(d.getAttribute("minx")),b=parseFloat(d.getAttribute("maxx")),h=new e.Rectangle(g,m,b,y);o.getTileDataAvailable=function(t,r,n){var i,s,l,c,u,p,d=o.tilingScheme.tileXYToNativeRectangle(t,r,n),m=(i=h,s=d,l=Math.max(i.west,s.west),c=Math.min(i.east,s.east),u=Math.max(i.south,s.south),p=Math.min(i.north,s.north),c<=l||u>=p?void 0:new e.Rectangle(l,u,c,p));return e.defined(m)&&n<a&&n<f.length},o.ready=!0}else o=void 0;return o},t.WMTSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?REQUEST=GetCapabilities";e.defined(r.proxy)&&(i=r.proxy.getURL(i)),n=e.loadXML(i).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMTSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMTSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o={},a=n.layerName;o.ready=!1,o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var i,s=e.defaultValue(n.maxLevel,12),l=n.proxy,c=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);for(var u,p,f,d=[],m=[].slice.call(r.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,r=e.querySelector("Value").textContent;return"KVP"===r&&(t={node:e,type:"KVP"}),"RESTful"===r&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),y=0;y<m.length;y++){var g=m[y];"RESTful"!==g.type||e.defined(p)||(p=g.node.getAttribute("xlink:href"),e.defined(l)&&(p=l.getURL(p))),"KVP"!==g.type||e.defined(u)||(u=g.node.getAttribute("xlink:href"),e.defined(l)&&(u=l.getURL(u)))}var b,h=r.querySelectorAll("Contents>Layer>Identifier");for(y=0;y<h.length&&!e.defined(b);y++)a===h[y].textContent&&(b=h[y].parentNode);if(e.defined(b)){var v,w,S=b.querySelectorAll("Style");for(y=0;y<S.length;y++){var j=S[y].querySelector("Identifier").textContent;null!=S[y].getAttribute("isDefault")&&(v=j),j===c&&(w=j)}e.defined(c)&&c==w||(c=e.defaultValue(v,""));for(var O=[].slice.call(b.querySelectorAll("Format")),x=0;x<t.FormatImage.length&&!e.defined(f);x++){O.filter((function(e){return e.textContent===t.FormatImage[x].format})).length>0&&(f=t.FormatImage[x])}d=b.querySelectorAll("TileMatrixSetLink")}for(var M=[].slice.call(r.querySelectorAll("TileMatrixSet>Identifier")),P=0;P<d.length&&!o.ready;P++){var E,T,C=d[P],_=C.querySelector("TileMatrixSet").textContent;for(y=0;y<M.length&&!e.defined(E);y++)M[y].textContent===_&&(E=M[y].parentNode);for(var L=E.querySelector("SupportedCRS").textContent,k=0;k<t.CRS.length&&!e.defined(T);k++)t.CRS[k].SupportedCRS===L&&(T=t.CRS[k]);if(e.defined(T)){var I,A=[].slice.call(E.querySelectorAll("TileMatrix"));(I=A.map((function(e){var t=e.querySelector("Identifier").textContent,r=parseInt(e.querySelector("MatrixWidth").textContent),n=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),a=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:r,maxHeight:n,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:o,tileHeight:a}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=C.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var D=0;D<I.length;D++)for(var R=I[D],N=0;N<listTileMatrixLimits.length;N++){var G=listTileMatrixLimits[N];R.id===G.querySelector("TileMatrix").textContent&&(R.minTileRow=parseInt(G.querySelector("MinTileRow").textContent),R.maxTileRow=parseInt(G.querySelector("MaxTileRow").textContent),R.minTileCol=parseInt(G.querySelector("MinTileCol").textContent),R.maxTileCol=parseInt(G.querySelector("MaxTileCol").textContent),R.complete=!0,I[D]=R)}if(I.length>0){o.tilingScheme=new T.tilingScheme({ellipsoid:T.ellipsoid,numberOfLevelZeroTilesX:I[0].maxWidth,numberOfLevelZeroTilesY:I[0].maxHeight});var F=b.querySelector("ResourceURL[format='"+f.format+"']");if(null!=F?i=F.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",c).replace("{TileMatrixSet}",_).replace("{layer}",a).replace("{infoFormatExtension}",f.extension):e.defined(u)&&(i=u+"service=WMTS&request=GetTile&version=1.0.0&layer="+a+"&style=&"+c+"format="+f.format+"&TileMatrixSet="+_+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(i)){o.getTileDataAvailable=function(e,t,r){var n=!1;if(r<s&&r<I.length){var o=I[r];n=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return n},o.URLtemplateImage=function(e,t,r){var n="";if(o.getTileDataAvailable(e,t,r)){var a=I[r];n=i.replace("{TileMatrix}",a.id)}return n};var U={width:I[0].tileWidth,height:I[0].tileHeight};0==I.filter((function(e){return e.tileWidth!=U.width||e.tileHeight!=U.height})).length&&(o.imageSize=U),o.ready=!0}}}}return o};var r=function(r){if(!e.defined(r))throw new e.DeveloperError("description is required.");var o=new e.Event,a=r.credit;"string"==typeof a&&(a=new e.Credit(a)),this.ready=!1,e.defineProperties(this,{errorEvent:{get:function(){return o}},credit:{get:function(){return a}},hasVertexNormals:{get:function(){return!1}}}),n(t.parser(r),this)};function n(t,n){e.when(t,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateImage(i,s,l),i,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,n),d=e.throttleRequestByServer(u,e.loadImage);e.defined(d)&&(c=e.when(d,(function(e){return r.imageToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,f,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateArray(i,s,l),i,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,n),d=e.throttleRequestByServer(u,e.loadArrayBuffer);e.defined(d)&&(c=e.when(d,(function(e){return r.arrayToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,f)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(i,s,l):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),n.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},n.requestTileGeometry=function(r,n,o){var a;return e.defined(t.getHeightmapTerrainDataArray)?a=t.getHeightmapTerrainDataArray(r,n,o):e.defined(t.getHeightmapTerrainDataImage)&&(a=t.getHeightmapTerrainDataImage(r,n,o)),a},e.defineProperties(n,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))}function o(e,t,r,n,o){var a=o.tilingScheme.tileXYToNativeRectangle(t,r,n),i=(a.east-a.west)/(o.heightMapWidth-1),s=(a.north-a.south)/(o.heightMapHeight-1);a.west-=.5*i,a.east+=.5*i,a.south-=.5*s,a.north+=.5*s;var l=o.tilingScheme.getNumberOfYTilesAtLevel(n)-r-1;return e.replace("{south}",a.south).replace("{north}",a.north).replace("{west}",a.west).replace("{east}",a.east).replace("{x}",t).replace("{y}",r).replace("{tmsY}",l)}function a(e,t,r,n){var o=0,a=r+1;return o|=n.getTileDataAvailable(2*e,2*t,a)?1:0,o|=n.getTileDataAvailable(2*e+1,2*t,a)?2:0,o|=n.getTileDataAvailable(2*e,2*t+1,a)?4:0,o|=n.getTileDataAvailable(2*e+1,2*t+1,a)?8:0}return r.arrayToHeightmapTerrainData=function(t,r,n,o,a,i){"number"==typeof n&&(n={width:n,height:n});var s=o.postProcessArray(t,n,r.highest,r.lowest,r.offset);if(!e.defined(s))throw new e.DeveloperError("no good size");var l={buffer:s,width:n.width,height:n.height,childTileMask:i,structure:o.terrainDataStructure};if(a){for(var c=new Uint8Array(s.length),u=0;u<s.length;u++)s[u]<=0&&(c[u]=255);l.waterMask=c}return new e.HeightmapTerrainData(l)},r.imageToHeightmapTerrainData=function(t,r,n,o,a,i){"number"==typeof n&&(n={width:n,height:n});for(var s=e.getImagePixels(t,n.width,n.height),l=new Uint8Array(s.length/4),c=new Int16Array(s.length/4),u=0,p=0,f=0;f<s.length;f+=4){var d=s[f],m=s[f+1],y=s[f+2]>128,g=(d<<8|m)-r.offset-32768;g>r.lowest&&g<r.highest&&(y||i)?(c[f/4]=g,p+=g,u++):c[f/4]=0==u?0:p/u}var b={buffer:c,width:n.width,height:n.height,childTileMask:a,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(o){for(l=new Uint8Array(heightBuffer.length),f=0;f<heightBuffer.length;f++)heightBuffer[f]<=0&&(l[f]=255);b.waterMask=l}return new e.HeightmapTerrainData(b)},r}},"./MapStore2/web/client/utils/cesium/ClickUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/cesium.js");e.exports={getMouseXYZ:function(e,t){var r=e.scene,o=t.position||t.endPosition;if(!o)return null;var a=e.camera.getPickRay(o),i=e.scene.globe.pick(a,e.scene),s=r._globe.ellipsoid;if(n.defined(i)){var l=s.cartesianToCartographic(i),c=function(e,t){if(null!==t.position){var r=e.scene,n=r._globe.ellipsoid;return r._camera.pickEllipsoid(t.position||t.endPosition,n)}return null}(e,t);return c&&(l.height=r._globe.getHeight(l),l.cartesian=c,l.position=i),l}return null},getMouseTile:function(e,t){var r=e.scene;if(!t.position)return null;var n=e.camera.getPickRay(t.position);return e.scene.globe.pickTile(n,r)}}},"./MapStore2/web/client/utils/cesium/WMSUtils.js":function(e,t){e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}},"./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"boundsToOLExtent",(function(){return n})),r.d(t,"fromLeafletFeatureToQueryform",(function(){return o}));var n=function(e){return[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()]},o=function(e){var t=e.toGeoJSON(),r=e.getBounds(),o=n(r),a=r.getCenter(),i=e.getRadius?e.getRadius():0,s=t.features[0].geometry.coordinates;return{type:t.features[0].geometry.type,extent:o,center:a,coordinates:s,radius:i,projection:"EPSG:4326"}}},"./MapStore2/web/client/utils/leaflet/Icons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isFunction;r("./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js"),r("./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css"),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return n.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return n.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return n.divIcon(o(e.html)?e.html(t):e.html)}}}},"./MapStore2/web/client/utils/leaflet/Vector.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/libs/leaflet.js"),s=r("./MapStore2/web/client/utils/leaflet/Icons.js"),l=r("./node_modules/object-assign/index.js"),c=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),u=c.isMarkerStyle,p=c.isSymbolStyle,f=function e(t,r,n){for(var o,a=[],i=t.length,s=0;s<i;s++)o=r?e(t[s],r-1,n):(n||this.coordsToLatLng)(t[s]),a.push(o);return a},d=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(u(t)||p(t)||t.iconUrl||t.iconGlyph)},m={coordsToLatLngF:function(e){return new i.LatLng(e[1],e[0],e[2])},coordsToLatLngs:f,isMarker:d,getPointLayer:function(e,t,r,n){return e?e(t,r):m.pointToLayer(r,t,o(o({},n.style),{},{styleName:n.styleName,highlight:n.highlight}))},pointToLayer:function(e,t,r){var n=r.Point||r.MultiPoint||r,o=function(e,t){if(e&&e.iconGlyph){var r=e.iconLibrary||"extra";if(s[r])return s[r].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(n,t);return o?i.marker(e,{icon:o,opacity:n&&n.opacity||1}):i.marker(e,{opacity:n&&n.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,r=e.geojson,n=e.latlng,a=e.options,s=e.style,l=void 0===s?{}:s,c=e.highlight,u=void 0!==c&&c;if(r.properties&&r.properties.isText){var p=i.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(r.properties.valueText,"</span>"),className:""});return new i.Marker(n,{icon:p})}return m.getPointLayer(t,r,n,o(o({},a),{},{style:l,highlight:u}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,r=e.style,n=void 0===r?{}:r,a=e.latlngs,s=void 0===a?[]:a,l=e.coordsToLatLng,c=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var u=c(t.properties.center);return i.circle(u,o(o({},n),{},{radius:t.properties.radius}))}return new i.Polygon(s,n)},geometryToLayer:function(e,t){var r,n="Feature"===e.type?e.geometry:e,a=n?n.coordinates:null,s=[],c=o({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),u=t&&!d(c)?function(e,t){return"marker"===c.styleName?i.marker(t,c.style):i.circleMarker(t,c.style&&c.style[0]||c.style)}:null,p=t&&t.coordsToLatLng||m.coordsToLatLngF;if(!a&&!n)return null;var y,g,b,h,v=c.style||l({},t.style&&t.style[n.type]||t.style,{highlight:t.style&&t.style.highlight});switch(n.type){case"Point":return y=p(a),r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(b=0,h=a.length;b<h;b++)y=p(a[b]),(r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(r);return new i.FeatureGroup(s);case"LineString":return v=m.updateHighlightStyle(v),g=f(a,"LineString"===n.type?0:1,p),(r=new i.Polyline(g,v)).msId=e.id,r;case"MultiLineString":for(v=m.updateHighlightStyle(v),b=0,h=(g=f(a,"LineString"===n.type?0:1,p)).length;b<h;b++)(r=new i.Polyline(g[b],v)).msId=e.id,r&&s.push(r);return new i.FeatureGroup(s);case"Polygon":return v=m.updateHighlightStyle(v),g=f(a,"Polygon"===n.type?1:2,p),(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:g,coordsToLatLng:p})).msId=e.id,r;case"MultiPolygon":for(v=m.updateHighlightStyle(v),b=0,h=(g=f(a,"Polygon"===n.type?1:2,p)).length;b<h;b++)(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:g,coordsToLatLng:p})).msId=e.id,r&&s.push(r);return new i.FeatureGroup(s);case"GeometryCollection":for(b=0,h=n.geometries.length;b<h;b++)(r=m.geometryToLayer({geometry:n.geometries[b],type:"Feature",properties:e.properties},t))&&s.push(r);return new i.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=m},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,r){var n=r("./node_modules/object-assign/index.js"),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&o.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=o},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/web/client/libs/leaflet.js"),i=r("./MapStore2/web/client/utils/MapUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.head,u=l.isNumber,p=a.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=a.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&a.Browser.retina?n.width=n.height=2*o:n.width=n.height=o,t)this.options.hasOwnProperty(i)||"crs"===i||(n[i]=t[i]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,a.setOptions(this,t)},getWMTSParams:function(e,t,r,n,o){var a=i.getScales()[r],l=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),o=parseFloat(e[r+1].ScaleDenominator);return n>=a&&o<a?a-o>(n-o)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),p=l&&u(l.id)&&l.id+""||0===e.length&&r||null;if(!t[p])return null;var f=t[p].identifier,d=l.data&&l.data.TopLeftCorner&&s.parseString(l.data.TopLeftCorner)||t[p].topLeftCorner,m=d.lng||d.x,y=d.lat||d.y,g=Math.round((n.x-m)/o),b=-Math.round((n.y-y)/o),h=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[p].ranges||h;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max)&&!(t<r.rows.min||t>r.rows.max)}(g,b,v)?null:{ident:f,tilecol:g,tilerow:b}},getTileUrl:function(e){var t=this._map,r=t.options.crs,o=this.options.tileSize,i=e.multiplyBy(o);i.x+=1,i.y-=1;var s=i.add([o,o]),l=r.project(t.unproject(i,e.z)),c=r.project(t.unproject(s,e.z)).x-l.x,u=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,l,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=a.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+a.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new a.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new a.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("./MapStore2/node_modules/lodash/isArray.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=r("./node_modules/ol/extent.js"),s=r("./node_modules/ol/geom/Circle.js"),l=function(e,t,r,n){if(o()(t)&&o()(t[0])&&o()(t[0][0])){var i=Object(a.reproject)(t[0][0],n,r);return Math.sqrt(Math.pow(e[0]-i.x,2)+Math.pow(e[1]-i.y,2))}return 100},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e.getGeometry()||"Polygon"!==e.getGeometry().getType()||e.getProperties().center&&0===e.getProperties().center.length)return e;if(e.getProperties()&&e.getProperties().isCircle&&e.getProperties().center&&e.getProperties().center[0]&&e.getProperties().center[1]){var n,o=e.getGeometry().getExtent();n=e.getProperties().center?[(n=Object(a.reproject)(e.getProperties().center,"EPSG:4326",t)).x,n.y]:Object(i.x)(o);var c=e.getProperties().crs===t?e.getProperties().radius:l(n,e.getGeometry().getCoordinates(),t,r);return e.setGeometry(new s.a(n,c)),e}return e}},"./MapStore2/web/client/utils/openlayers/DrawUtils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return w})),r.d(t,"a",(function(){return S}));var n=r("./node_modules/ol/interaction/DragPan.js"),o=r("./node_modules/ol/interaction/KeyboardPan.js"),a=r("./node_modules/ol/interaction/MouseWheelZoom.js"),i=r("./node_modules/ol/interaction/DoubleClickZoom.js"),s=r("./node_modules/ol/interaction/DragZoom.js"),l=r("./node_modules/ol/interaction/KeyboardZoom.js"),c=r("./node_modules/ol/interaction/PinchZoom.js"),u=r("./node_modules/ol/interaction/PinchRotate.js"),p=r("./node_modules/ol/interaction/DragRotate.js"),f=r("./node_modules/ol/geom/Point.js"),d=r("./node_modules/ol/geom/LineString.js"),m=r("./node_modules/ol/geom/MultiPoint.js"),y=r("./node_modules/ol/geom/MultiLineString.js"),g=r("./node_modules/ol/geom/MultiPolygon.js"),b=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/Polygon.js"),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type,n=t.coordinates,o=t.radius,a=t.center;switch(r){case"Point":e=new f.a(n||[]);break;case"LineString":e=new d.a(n||[]);break;case"MultiPoint":e=new m.a(n||[]);break;case"MultiLineString":e=new y.a(n||[]);break;case"MultiPolygon":e=new g.a(n||[]);break;default:e=o&&a?Object(h.c)(new b.a([a.x,a.y],o),100):new h.b(n||[])}return e},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},S={dragPan:{options:{kinetic:!1},Instance:n.a},keyboardPan:{options:{kinetic:!1},Instance:o.a},mouseWheelZoom:{options:{duration:0},Instance:a.a},doubleClickZoom:{options:{duration:0},Instance:i.a},shiftDragZoom:{options:{duration:0},Instance:s.a},keyboardZoom:{options:{},Instance:l.a},pinchZoom:{options:{duration:0},Instance:c.a},pinchRotate:{options:{},Instance:u.a},altShiftDragRotate:{options:{},Instance:p.a}}},"./MapStore2/web/client/utils/openlayers/VectorTileUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r("./node_modules/ol/format/MVT.js"),o=r("./node_modules/ol/format/GeoJSON.js"),a=r("./node_modules/ol/format/TopoJSON.js"),i=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),s={"application/vnd.mapbox-vector-tile":n.a,"application/json;type=geojson":o.a,"application/json;type=topojson":a.a},l=function(e,t){Object(i.d)({asPromise:!0,style:e}).then((function(e){t.setStyle(e)})).catch((function(){}))}},"./MapStore2/web/client/utils/openlayers/highlight.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"},"./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .form-control-intl {\r\n    background-color: unset !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-control-minimap {\r\n    border:solid rgba(255, 255, 255, 1.0) 4px;\r\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n    border-radius: 3px;\r\n    background: #f8f8f9;\r\n    transition: all .2s;\r\n}\r\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\r\n    position:relative;\r\n    bottom:5px;\r\n}\r\n.msgapi .leaflet-control-minimap a {\r\n    background-color: rgba(255, 255, 255, 1.0);\r\n    background-repeat: no-repeat;\r\n    z-index: 99999;\r\n    transition: all .2s;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n    border-radius: 0px;\r\n    bottom: -3px;\r\n    right: -3px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topleft {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topright {\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.svg")+");\r\n    background-size: cover;\r\n    position: absolute;\r\n    border-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.png")+");\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\r\n    top: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\r\n    bottom: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topright{\r\n    top: 0;\r\n    right: 0;\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n}\r\n\r\n/* Old IE */\r\n.msgapi .leaflet-oldie .leaflet-control-minimap {\r\n    border: 1px solid #999;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\r\n    background-color: #fff;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\r\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\r\n    background-color: #f4f4f4;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\r\n    width: 26px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    display: block;\r\n\r\n    color: black;\r\n    background-color: #fff;\r\n    border-width: 0;\r\n    margin:0;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\r\n    font-family: 'Lucida Console', Monaco, monospace;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi .ol-zoom .ol-zoom-out{\r\n    font-size: 18px;\r\n    border-radius: 0 0 4px 4px;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-in{\r\n    border-bottom: 1px solid #ccc;\r\n    border-radius: 4px 4px 0 0;\r\n    font-size: 20px;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control{\r\n    top:10px;\r\n    left:10px;\r\n    padding:0;\r\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.msgapi .ol-scale-line.ol-unselectable{\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-custom-overviewmap,\r\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\r\n          bottom: 20px;\r\n          left: auto;\r\n          right: 10px;\r\n          top: auto;\r\n\r\n      }\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\r\n\r\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n           border-radius: 1px;\r\n           transition: all .2s;\r\n      }\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\r\n          border: none;\r\n          width: 300px;\r\n          height: 150px;\r\n\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\r\n          border: 1px solid black;\r\n          cursor: pointer;\r\n          border-radius: 5px;\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\r\n          bottom: auto;\r\n          left: auto;\r\n          right: 2px;\r\n          bottom: 2px;\r\n      }\r\n\r\n      .msgapi .ol-rotate {\r\n          top: 170px;\r\n          right: 0;\r\n      }\r\n      .msgapi .ol-overview-dargbox{\r\n           border: 1px solid black;\r\n           background-color: rgba(125,125,0,.5);\r\n           border-radius: 5px;\r\n      }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-burger-menu {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.msgapi .burger-menu-submenu {\r\n    display: none;\r\n    position: absolute;\r\n    left: -160px;\r\n    top: 0px;\r\n    background-color: white;\r\n    width: 160px;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.msgapi .burger-menu-submenu li:hover {\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a {\r\n    display: block;\r\n    padding: 10px 15px;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a:hover {\r\n    text-decoration: none;\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\r\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\r\n    display: block;\r\n}\r\n\r\n.msgapi .burger-menu-submenu span {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi #mapstore-navbar #mapstore-burger-menu {\r\n    position: relative;\r\n    float: right;\r\n    left: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-popup {\r\n    position: absolute;\r\n    text-align: center;\r\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\r\n    -webkit-transform: translate(-50%,-100%); /* Safari */\r\n    transform: translate(-50%,-100%);\r\n}\r\n.msgapi a.ol-popup-close-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  padding: 4px 4px 0 0;\r\n  text-align: center;\r\n  width: 18px;\r\n  height: 14px;\r\n  font: 16px/14px Tahoma, Verdana, sans-serif;\r\n  color: #c3c3c3;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  background: transparent;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper {\r\n  padding: 1px;\r\n  text-align: left;\r\n  border-radius: 12px;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\r\n  background: white;\r\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n}\r\n.msgapi .ol-popup-cnt {\r\n  margin: 13px 19px;\r\n  line-height: 1.4;\r\n   white-space: nowrap;\r\n\r\n}\r\n.msgapi .ol-popup-tip-wrapper {\r\n  margin: 0 auto;\r\n  width: 40px;\r\n  height: 20px;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n}\r\n.msgapi .ol-popup-tip {\r\n  width: 17px;\r\n  height: 17px;\r\n  padding: 1px;\r\n  margin: -10px auto 0;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n',""])},"./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt":function(e,t){e.exports='.fa-glass:before {\r\n  content: "\\f000";\r\n}\r\n.fa-music:before {\r\n  content: "\\f001";\r\n}\r\n.fa-search:before {\r\n  content: "\\f002";\r\n}\r\n.fa-envelope-o:before {\r\n  content: "\\f003";\r\n}\r\n.fa-heart:before {\r\n  content: "\\f004";\r\n}\r\n.fa-star:before {\r\n  content: "\\f005";\r\n}\r\n.fa-star-o:before {\r\n  content: "\\f006";\r\n}\r\n.fa-user:before {\r\n  content: "\\f007";\r\n}\r\n.fa-film:before {\r\n  content: "\\f008";\r\n}\r\n.fa-th-large:before {\r\n  content: "\\f009";\r\n}\r\n.fa-th:before {\r\n  content: "\\f00a";\r\n}\r\n.fa-th-list:before {\r\n  content: "\\f00b";\r\n}\r\n.fa-check:before {\r\n  content: "\\f00c";\r\n}\r\n.fa-remove:before,\r\n.fa-close:before,\r\n.fa-times:before {\r\n  content: "\\f00d";\r\n}\r\n.fa-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n.fa-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n.fa-power-off:before {\r\n  content: "\\f011";\r\n}\r\n.fa-signal:before {\r\n  content: "\\f012";\r\n}\r\n.fa-gear:before,\r\n.fa-cog:before {\r\n  content: "\\f013";\r\n}\r\n.fa-trash-o:before {\r\n  content: "\\f014";\r\n}\r\n.fa-home:before {\r\n  content: "\\f015";\r\n}\r\n.fa-file-o:before {\r\n  content: "\\f016";\r\n}\r\n.fa-clock-o:before {\r\n  content: "\\f017";\r\n}\r\n.fa-road:before {\r\n  content: "\\f018";\r\n}\r\n.fa-download:before {\r\n  content: "\\f019";\r\n}\r\n.fa-arrow-circle-o-down:before {\r\n  content: "\\f01a";\r\n}\r\n.fa-arrow-circle-o-up:before {\r\n  content: "\\f01b";\r\n}\r\n.fa-inbox:before {\r\n  content: "\\f01c";\r\n}\r\n.fa-play-circle-o:before {\r\n  content: "\\f01d";\r\n}\r\n.fa-rotate-right:before,\r\n.fa-repeat:before {\r\n  content: "\\f01e";\r\n}\r\n.fa-refresh:before {\r\n  content: "\\f021";\r\n}\r\n.fa-list-alt:before {\r\n  content: "\\f022";\r\n}\r\n.fa-lock:before {\r\n  content: "\\f023";\r\n}\r\n.fa-flag:before {\r\n  content: "\\f024";\r\n}\r\n.fa-headphones:before {\r\n  content: "\\f025";\r\n}\r\n.fa-volume-off:before {\r\n  content: "\\f026";\r\n}\r\n.fa-volume-down:before {\r\n  content: "\\f027";\r\n}\r\n.fa-volume-up:before {\r\n  content: "\\f028";\r\n}\r\n.fa-qrcode:before {\r\n  content: "\\f029";\r\n}\r\n.fa-barcode:before {\r\n  content: "\\f02a";\r\n}\r\n.fa-tag:before {\r\n  content: "\\f02b";\r\n}\r\n.fa-tags:before {\r\n  content: "\\f02c";\r\n}\r\n.fa-book:before {\r\n  content: "\\f02d";\r\n}\r\n.fa-bookmark:before {\r\n  content: "\\f02e";\r\n}\r\n.fa-print:before {\r\n  content: "\\f02f";\r\n}\r\n.fa-camera:before {\r\n  content: "\\f030";\r\n}\r\n.fa-font:before {\r\n  content: "\\f031";\r\n}\r\n.fa-bold:before {\r\n  content: "\\f032";\r\n}\r\n.fa-italic:before {\r\n  content: "\\f033";\r\n}\r\n.fa-text-height:before {\r\n  content: "\\f034";\r\n}\r\n.fa-text-width:before {\r\n  content: "\\f035";\r\n}\r\n.fa-align-left:before {\r\n  content: "\\f036";\r\n}\r\n.fa-align-center:before {\r\n  content: "\\f037";\r\n}\r\n.fa-align-right:before {\r\n  content: "\\f038";\r\n}\r\n.fa-align-justify:before {\r\n  content: "\\f039";\r\n}\r\n.fa-list:before {\r\n  content: "\\f03a";\r\n}\r\n.fa-dedent:before,\r\n.fa-outdent:before {\r\n  content: "\\f03b";\r\n}\r\n.fa-indent:before {\r\n  content: "\\f03c";\r\n}\r\n.fa-video-camera:before {\r\n  content: "\\f03d";\r\n}\r\n.fa-photo:before,\r\n.fa-image:before,\r\n.fa-picture-o:before {\r\n  content: "\\f03e";\r\n}\r\n.fa-pencil:before {\r\n  content: "\\f040";\r\n}\r\n.fa-map-marker:before {\r\n  content: "\\f041";\r\n}\r\n.fa-adjust:before {\r\n  content: "\\f042";\r\n}\r\n.fa-tint:before {\r\n  content: "\\f043";\r\n}\r\n.fa-edit:before,\r\n.fa-pencil-square-o:before {\r\n  content: "\\f044";\r\n}\r\n.fa-share-square-o:before {\r\n  content: "\\f045";\r\n}\r\n.fa-check-square-o:before {\r\n  content: "\\f046";\r\n}\r\n.fa-arrows:before {\r\n  content: "\\f047";\r\n}\r\n.fa-step-backward:before {\r\n  content: "\\f048";\r\n}\r\n.fa-fast-backward:before {\r\n  content: "\\f049";\r\n}\r\n.fa-backward:before {\r\n  content: "\\f04a";\r\n}\r\n.fa-play:before {\r\n  content: "\\f04b";\r\n}\r\n.fa-pause:before {\r\n  content: "\\f04c";\r\n}\r\n.fa-stop:before {\r\n  content: "\\f04d";\r\n}\r\n.fa-forward:before {\r\n  content: "\\f04e";\r\n}\r\n.fa-fast-forward:before {\r\n  content: "\\f050";\r\n}\r\n.fa-step-forward:before {\r\n  content: "\\f051";\r\n}\r\n.fa-eject:before {\r\n  content: "\\f052";\r\n}\r\n.fa-chevron-left:before {\r\n  content: "\\f053";\r\n}\r\n.fa-chevron-right:before {\r\n  content: "\\f054";\r\n}\r\n.fa-plus-circle:before {\r\n  content: "\\f055";\r\n}\r\n.fa-minus-circle:before {\r\n  content: "\\f056";\r\n}\r\n.fa-times-circle:before {\r\n  content: "\\f057";\r\n}\r\n.fa-check-circle:before {\r\n  content: "\\f058";\r\n}\r\n.fa-question-circle:before {\r\n  content: "\\f059";\r\n}\r\n.fa-info-circle:before {\r\n  content: "\\f05a";\r\n}\r\n.fa-crosshairs:before {\r\n  content: "\\f05b";\r\n}\r\n.fa-times-circle-o:before {\r\n  content: "\\f05c";\r\n}\r\n.fa-check-circle-o:before {\r\n  content: "\\f05d";\r\n}\r\n.fa-ban:before {\r\n  content: "\\f05e";\r\n}\r\n.fa-arrow-left:before {\r\n  content: "\\f060";\r\n}\r\n.fa-arrow-right:before {\r\n  content: "\\f061";\r\n}\r\n.fa-arrow-up:before {\r\n  content: "\\f062";\r\n}\r\n.fa-arrow-down:before {\r\n  content: "\\f063";\r\n}\r\n.fa-mail-forward:before,\r\n.fa-share:before {\r\n  content: "\\f064";\r\n}\r\n.fa-expand:before {\r\n  content: "\\f065";\r\n}\r\n.fa-compress:before {\r\n  content: "\\f066";\r\n}\r\n.fa-plus:before {\r\n  content: "\\f067";\r\n}\r\n.fa-minus:before {\r\n  content: "\\f068";\r\n}\r\n.fa-asterisk:before {\r\n  content: "\\f069";\r\n}\r\n.fa-exclamation-circle:before {\r\n  content: "\\f06a";\r\n}\r\n.fa-gift:before {\r\n  content: "\\f06b";\r\n}\r\n.fa-leaf:before {\r\n  content: "\\f06c";\r\n}\r\n.fa-fire:before {\r\n  content: "\\f06d";\r\n}\r\n.fa-eye:before {\r\n  content: "\\f06e";\r\n}\r\n.fa-eye-slash:before {\r\n  content: "\\f070";\r\n}\r\n.fa-warning:before,\r\n.fa-exclamation-triangle:before {\r\n  content: "\\f071";\r\n}\r\n.fa-plane:before {\r\n  content: "\\f072";\r\n}\r\n.fa-calendar:before {\r\n  content: "\\f073";\r\n}\r\n.fa-random:before {\r\n  content: "\\f074";\r\n}\r\n.fa-comment:before {\r\n  content: "\\f075";\r\n}\r\n.fa-magnet:before {\r\n  content: "\\f076";\r\n}\r\n.fa-chevron-up:before {\r\n  content: "\\f077";\r\n}\r\n.fa-chevron-down:before {\r\n  content: "\\f078";\r\n}\r\n.fa-retweet:before {\r\n  content: "\\f079";\r\n}\r\n.fa-shopping-cart:before {\r\n  content: "\\f07a";\r\n}\r\n.fa-folder:before {\r\n  content: "\\f07b";\r\n}\r\n.fa-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n.fa-arrows-v:before {\r\n  content: "\\f07d";\r\n}\r\n.fa-arrows-h:before {\r\n  content: "\\f07e";\r\n}\r\n.fa-bar-chart-o:before,\r\n.fa-bar-chart:before {\r\n  content: "\\f080";\r\n}\r\n.fa-twitter-square:before {\r\n  content: "\\f081";\r\n}\r\n.fa-facebook-square:before {\r\n  content: "\\f082";\r\n}\r\n.fa-camera-retro:before {\r\n  content: "\\f083";\r\n}\r\n.fa-key:before {\r\n  content: "\\f084";\r\n}\r\n.fa-gears:before,\r\n.fa-cogs:before {\r\n  content: "\\f085";\r\n}\r\n.fa-comments:before {\r\n  content: "\\f086";\r\n}\r\n.fa-thumbs-o-up:before {\r\n  content: "\\f087";\r\n}\r\n.fa-thumbs-o-down:before {\r\n  content: "\\f088";\r\n}\r\n.fa-star-half:before {\r\n  content: "\\f089";\r\n}\r\n.fa-heart-o:before {\r\n  content: "\\f08a";\r\n}\r\n.fa-sign-out:before {\r\n  content: "\\f08b";\r\n}\r\n.fa-linkedin-square:before {\r\n  content: "\\f08c";\r\n}\r\n.fa-thumb-tack:before {\r\n  content: "\\f08d";\r\n}\r\n.fa-external-link:before {\r\n  content: "\\f08e";\r\n}\r\n.fa-sign-in:before {\r\n  content: "\\f090";\r\n}\r\n.fa-trophy:before {\r\n  content: "\\f091";\r\n}\r\n.fa-github-square:before {\r\n  content: "\\f092";\r\n}\r\n.fa-upload:before {\r\n  content: "\\f093";\r\n}\r\n.fa-lemon-o:before {\r\n  content: "\\f094";\r\n}\r\n.fa-phone:before {\r\n  content: "\\f095";\r\n}\r\n.fa-square-o:before {\r\n  content: "\\f096";\r\n}\r\n.fa-bookmark-o:before {\r\n  content: "\\f097";\r\n}\r\n.fa-phone-square:before {\r\n  content: "\\f098";\r\n}\r\n.fa-twitter:before {\r\n  content: "\\f099";\r\n}\r\n.fa-facebook-f:before,\r\n.fa-facebook:before {\r\n  content: "\\f09a";\r\n}\r\n.fa-github:before {\r\n  content: "\\f09b";\r\n}\r\n.fa-unlock:before {\r\n  content: "\\f09c";\r\n}\r\n.fa-credit-card:before {\r\n  content: "\\f09d";\r\n}\r\n.fa-feed:before,\r\n.fa-rss:before {\r\n  content: "\\f09e";\r\n}\r\n.fa-hdd-o:before {\r\n  content: "\\f0a0";\r\n}\r\n.fa-bullhorn:before {\r\n  content: "\\f0a1";\r\n}\r\n.fa-bell:before {\r\n  content: "\\f0f3";\r\n}\r\n.fa-certificate:before {\r\n  content: "\\f0a3";\r\n}\r\n.fa-hand-o-right:before {\r\n  content: "\\f0a4";\r\n}\r\n.fa-hand-o-left:before {\r\n  content: "\\f0a5";\r\n}\r\n.fa-hand-o-up:before {\r\n  content: "\\f0a6";\r\n}\r\n.fa-hand-o-down:before {\r\n  content: "\\f0a7";\r\n}\r\n.fa-arrow-circle-left:before {\r\n  content: "\\f0a8";\r\n}\r\n.fa-arrow-circle-right:before {\r\n  content: "\\f0a9";\r\n}\r\n.fa-arrow-circle-up:before {\r\n  content: "\\f0aa";\r\n}\r\n.fa-arrow-circle-down:before {\r\n  content: "\\f0ab";\r\n}\r\n.fa-globe:before {\r\n  content: "\\f0ac";\r\n}\r\n.fa-wrench:before {\r\n  content: "\\f0ad";\r\n}\r\n.fa-tasks:before {\r\n  content: "\\f0ae";\r\n}\r\n.fa-filter:before {\r\n  content: "\\f0b0";\r\n}\r\n.fa-briefcase:before {\r\n  content: "\\f0b1";\r\n}\r\n.fa-arrows-alt:before {\r\n  content: "\\f0b2";\r\n}\r\n.fa-group:before,\r\n.fa-users:before {\r\n  content: "\\f0c0";\r\n}\r\n.fa-chain:before,\r\n.fa-link:before {\r\n  content: "\\f0c1";\r\n}\r\n.fa-cloud:before {\r\n  content: "\\f0c2";\r\n}\r\n.fa-flask:before {\r\n  content: "\\f0c3";\r\n}\r\n.fa-cut:before,\r\n.fa-scissors:before {\r\n  content: "\\f0c4";\r\n}\r\n.fa-copy:before,\r\n.fa-files-o:before {\r\n  content: "\\f0c5";\r\n}\r\n.fa-paperclip:before {\r\n  content: "\\f0c6";\r\n}\r\n.fa-save:before,\r\n.fa-floppy-o:before {\r\n  content: "\\f0c7";\r\n}\r\n.fa-square:before {\r\n  content: "\\f0c8";\r\n}\r\n.fa-navicon:before,\r\n.fa-reorder:before,\r\n.fa-bars:before {\r\n  content: "\\f0c9";\r\n}\r\n.fa-list-ul:before {\r\n  content: "\\f0ca";\r\n}\r\n.fa-list-ol:before {\r\n  content: "\\f0cb";\r\n}\r\n.fa-strikethrough:before {\r\n  content: "\\f0cc";\r\n}\r\n.fa-underline:before {\r\n  content: "\\f0cd";\r\n}\r\n.fa-table:before {\r\n  content: "\\f0ce";\r\n}\r\n.fa-magic:before {\r\n  content: "\\f0d0";\r\n}\r\n.fa-truck:before {\r\n  content: "\\f0d1";\r\n}\r\n.fa-pinterest:before {\r\n  content: "\\f0d2";\r\n}\r\n.fa-pinterest-square:before {\r\n  content: "\\f0d3";\r\n}\r\n.fa-google-plus-square:before {\r\n  content: "\\f0d4";\r\n}\r\n.fa-google-plus:before {\r\n  content: "\\f0d5";\r\n}\r\n.fa-money:before {\r\n  content: "\\f0d6";\r\n}\r\n.fa-caret-down:before {\r\n  content: "\\f0d7";\r\n}\r\n.fa-caret-up:before {\r\n  content: "\\f0d8";\r\n}\r\n.fa-caret-left:before {\r\n  content: "\\f0d9";\r\n}\r\n.fa-caret-right:before {\r\n  content: "\\f0da";\r\n}\r\n.fa-columns:before {\r\n  content: "\\f0db";\r\n}\r\n.fa-unsorted:before,\r\n.fa-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n.fa-sort-down:before,\r\n.fa-sort-desc:before {\r\n  content: "\\f0dd";\r\n}\r\n.fa-sort-up:before,\r\n.fa-sort-asc:before {\r\n  content: "\\f0de";\r\n}\r\n.fa-envelope:before {\r\n  content: "\\f0e0";\r\n}\r\n.fa-linkedin:before {\r\n  content: "\\f0e1";\r\n}\r\n.fa-rotate-left:before,\r\n.fa-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n.fa-legal:before,\r\n.fa-gavel:before {\r\n  content: "\\f0e3";\r\n}\r\n.fa-dashboard:before,\r\n.fa-tachometer:before {\r\n  content: "\\f0e4";\r\n}\r\n.fa-comment-o:before {\r\n  content: "\\f0e5";\r\n}\r\n.fa-comments-o:before {\r\n  content: "\\f0e6";\r\n}\r\n.fa-flash:before,\r\n.fa-bolt:before {\r\n  content: "\\f0e7";\r\n}\r\n.fa-sitemap:before {\r\n  content: "\\f0e8";\r\n}\r\n.fa-umbrella:before {\r\n  content: "\\f0e9";\r\n}\r\n.fa-paste:before,\r\n.fa-clipboard:before {\r\n  content: "\\f0ea";\r\n}\r\n.fa-lightbulb-o:before {\r\n  content: "\\f0eb";\r\n}\r\n.fa-exchange:before {\r\n  content: "\\f0ec";\r\n}\r\n.fa-cloud-download:before {\r\n  content: "\\f0ed";\r\n}\r\n.fa-cloud-upload:before {\r\n  content: "\\f0ee";\r\n}\r\n.fa-user-md:before {\r\n  content: "\\f0f0";\r\n}\r\n.fa-stethoscope:before {\r\n  content: "\\f0f1";\r\n}\r\n.fa-suitcase:before {\r\n  content: "\\f0f2";\r\n}\r\n.fa-bell-o:before {\r\n  content: "\\f0a2";\r\n}\r\n.fa-coffee:before {\r\n  content: "\\f0f4";\r\n}\r\n.fa-cutlery:before {\r\n  content: "\\f0f5";\r\n}\r\n.fa-file-text-o:before {\r\n  content: "\\f0f6";\r\n}\r\n.fa-building-o:before {\r\n  content: "\\f0f7";\r\n}\r\n.fa-hospital-o:before {\r\n  content: "\\f0f8";\r\n}\r\n.fa-ambulance:before {\r\n  content: "\\f0f9";\r\n}\r\n.fa-medkit:before {\r\n  content: "\\f0fa";\r\n}\r\n.fa-fighter-jet:before {\r\n  content: "\\f0fb";\r\n}\r\n.fa-beer:before {\r\n  content: "\\f0fc";\r\n}\r\n.fa-h-square:before {\r\n  content: "\\f0fd";\r\n}\r\n.fa-plus-square:before {\r\n  content: "\\f0fe";\r\n}\r\n.fa-angle-double-left:before {\r\n  content: "\\f100";\r\n}\r\n.fa-angle-double-right:before {\r\n  content: "\\f101";\r\n}\r\n.fa-angle-double-up:before {\r\n  content: "\\f102";\r\n}\r\n.fa-angle-double-down:before {\r\n  content: "\\f103";\r\n}\r\n.fa-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n.fa-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n.fa-angle-up:before {\r\n  content: "\\f106";\r\n}\r\n.fa-angle-down:before {\r\n  content: "\\f107";\r\n}\r\n.fa-desktop:before {\r\n  content: "\\f108";\r\n}\r\n.fa-laptop:before {\r\n  content: "\\f109";\r\n}\r\n.fa-tablet:before {\r\n  content: "\\f10a";\r\n}\r\n.fa-mobile-phone:before,\r\n.fa-mobile:before {\r\n  content: "\\f10b";\r\n}\r\n.fa-circle-o:before {\r\n  content: "\\f10c";\r\n}\r\n.fa-quote-left:before {\r\n  content: "\\f10d";\r\n}\r\n.fa-quote-right:before {\r\n  content: "\\f10e";\r\n}\r\n.fa-spinner:before {\r\n  content: "\\f110";\r\n}\r\n.fa-circle:before {\r\n  content: "\\f111";\r\n}\r\n.fa-mail-reply:before,\r\n.fa-reply:before {\r\n  content: "\\f112";\r\n}\r\n.fa-github-alt:before {\r\n  content: "\\f113";\r\n}\r\n.fa-folder-o:before {\r\n  content: "\\f114";\r\n}\r\n.fa-folder-open-o:before {\r\n  content: "\\f115";\r\n}\r\n.fa-smile-o:before {\r\n  content: "\\f118";\r\n}\r\n.fa-frown-o:before {\r\n  content: "\\f119";\r\n}\r\n.fa-meh-o:before {\r\n  content: "\\f11a";\r\n}\r\n.fa-gamepad:before {\r\n  content: "\\f11b";\r\n}\r\n.fa-keyboard-o:before {\r\n  content: "\\f11c";\r\n}\r\n.fa-flag-o:before {\r\n  content: "\\f11d";\r\n}\r\n.fa-flag-checkered:before {\r\n  content: "\\f11e";\r\n}\r\n.fa-terminal:before {\r\n  content: "\\f120";\r\n}\r\n.fa-code:before {\r\n  content: "\\f121";\r\n}\r\n.fa-mail-reply-all:before,\r\n.fa-reply-all:before {\r\n  content: "\\f122";\r\n}\r\n.fa-star-half-empty:before,\r\n.fa-star-half-full:before,\r\n.fa-star-half-o:before {\r\n  content: "\\f123";\r\n}\r\n.fa-location-arrow:before {\r\n  content: "\\f124";\r\n}\r\n.fa-crop:before {\r\n  content: "\\f125";\r\n}\r\n.fa-code-fork:before {\r\n  content: "\\f126";\r\n}\r\n.fa-unlink:before,\r\n.fa-chain-broken:before {\r\n  content: "\\f127";\r\n}\r\n.fa-question:before {\r\n  content: "\\f128";\r\n}\r\n.fa-info:before {\r\n  content: "\\f129";\r\n}\r\n.fa-exclamation:before {\r\n  content: "\\f12a";\r\n}\r\n.fa-superscript:before {\r\n  content: "\\f12b";\r\n}\r\n.fa-subscript:before {\r\n  content: "\\f12c";\r\n}\r\n.fa-eraser:before {\r\n  content: "\\f12d";\r\n}\r\n.fa-puzzle-piece:before {\r\n  content: "\\f12e";\r\n}\r\n.fa-microphone:before {\r\n  content: "\\f130";\r\n}\r\n.fa-microphone-slash:before {\r\n  content: "\\f131";\r\n}\r\n.fa-shield:before {\r\n  content: "\\f132";\r\n}\r\n.fa-calendar-o:before {\r\n  content: "\\f133";\r\n}\r\n.fa-fire-extinguisher:before {\r\n  content: "\\f134";\r\n}\r\n.fa-rocket:before {\r\n  content: "\\f135";\r\n}\r\n.fa-maxcdn:before {\r\n  content: "\\f136";\r\n}\r\n.fa-chevron-circle-left:before {\r\n  content: "\\f137";\r\n}\r\n.fa-chevron-circle-right:before {\r\n  content: "\\f138";\r\n}\r\n.fa-chevron-circle-up:before {\r\n  content: "\\f139";\r\n}\r\n.fa-chevron-circle-down:before {\r\n  content: "\\f13a";\r\n}\r\n.fa-html5:before {\r\n  content: "\\f13b";\r\n}\r\n.fa-css3:before {\r\n  content: "\\f13c";\r\n}\r\n.fa-anchor:before {\r\n  content: "\\f13d";\r\n}\r\n.fa-unlock-alt:before {\r\n  content: "\\f13e";\r\n}\r\n.fa-bullseye:before {\r\n  content: "\\f140";\r\n}\r\n.fa-ellipsis-h:before {\r\n  content: "\\f141";\r\n}\r\n.fa-ellipsis-v:before {\r\n  content: "\\f142";\r\n}\r\n.fa-rss-square:before {\r\n  content: "\\f143";\r\n}\r\n.fa-play-circle:before {\r\n  content: "\\f144";\r\n}\r\n.fa-ticket:before {\r\n  content: "\\f145";\r\n}\r\n.fa-minus-square:before {\r\n  content: "\\f146";\r\n}\r\n.fa-minus-square-o:before {\r\n  content: "\\f147";\r\n}\r\n.fa-level-up:before {\r\n  content: "\\f148";\r\n}\r\n.fa-level-down:before {\r\n  content: "\\f149";\r\n}\r\n.fa-check-square:before {\r\n  content: "\\f14a";\r\n}\r\n.fa-pencil-square:before {\r\n  content: "\\f14b";\r\n}\r\n.fa-external-link-square:before {\r\n  content: "\\f14c";\r\n}\r\n.fa-share-square:before {\r\n  content: "\\f14d";\r\n}\r\n.fa-compass:before {\r\n  content: "\\f14e";\r\n}\r\n.fa-toggle-down:before,\r\n.fa-caret-square-o-down:before {\r\n  content: "\\f150";\r\n}\r\n.fa-toggle-up:before,\r\n.fa-caret-square-o-up:before {\r\n  content: "\\f151";\r\n}\r\n.fa-toggle-right:before,\r\n.fa-caret-square-o-right:before {\r\n  content: "\\f152";\r\n}\r\n.fa-euro:before,\r\n.fa-eur:before {\r\n  content: "\\f153";\r\n}\r\n.fa-gbp:before {\r\n  content: "\\f154";\r\n}\r\n.fa-dollar:before,\r\n.fa-usd:before {\r\n  content: "\\f155";\r\n}\r\n.fa-rupee:before,\r\n.fa-inr:before {\r\n  content: "\\f156";\r\n}\r\n.fa-cny:before,\r\n.fa-rmb:before,\r\n.fa-yen:before,\r\n.fa-jpy:before {\r\n  content: "\\f157";\r\n}\r\n.fa-ruble:before,\r\n.fa-rouble:before,\r\n.fa-rub:before {\r\n  content: "\\f158";\r\n}\r\n.fa-won:before,\r\n.fa-krw:before {\r\n  content: "\\f159";\r\n}\r\n.fa-bitcoin:before,\r\n.fa-btc:before {\r\n  content: "\\f15a";\r\n}\r\n.fa-file:before {\r\n  content: "\\f15b";\r\n}\r\n.fa-file-text:before {\r\n  content: "\\f15c";\r\n}\r\n.fa-sort-alpha-asc:before {\r\n  content: "\\f15d";\r\n}\r\n.fa-sort-alpha-desc:before {\r\n  content: "\\f15e";\r\n}\r\n.fa-sort-amount-asc:before {\r\n  content: "\\f160";\r\n}\r\n.fa-sort-amount-desc:before {\r\n  content: "\\f161";\r\n}\r\n.fa-sort-numeric-asc:before {\r\n  content: "\\f162";\r\n}\r\n.fa-sort-numeric-desc:before {\r\n  content: "\\f163";\r\n}\r\n.fa-thumbs-up:before {\r\n  content: "\\f164";\r\n}\r\n.fa-thumbs-down:before {\r\n  content: "\\f165";\r\n}\r\n.fa-youtube-square:before {\r\n  content: "\\f166";\r\n}\r\n.fa-youtube:before {\r\n  content: "\\f167";\r\n}\r\n.fa-xing:before {\r\n  content: "\\f168";\r\n}\r\n.fa-xing-square:before {\r\n  content: "\\f169";\r\n}\r\n.fa-youtube-play:before {\r\n  content: "\\f16a";\r\n}\r\n.fa-dropbox:before {\r\n  content: "\\f16b";\r\n}\r\n.fa-stack-overflow:before {\r\n  content: "\\f16c";\r\n}\r\n.fa-instagram:before {\r\n  content: "\\f16d";\r\n}\r\n.fa-flickr:before {\r\n  content: "\\f16e";\r\n}\r\n.fa-adn:before {\r\n  content: "\\f170";\r\n}\r\n.fa-bitbucket:before {\r\n  content: "\\f171";\r\n}\r\n.fa-bitbucket-square:before {\r\n  content: "\\f172";\r\n}\r\n.fa-tumblr:before {\r\n  content: "\\f173";\r\n}\r\n.fa-tumblr-square:before {\r\n  content: "\\f174";\r\n}\r\n.fa-long-arrow-down:before {\r\n  content: "\\f175";\r\n}\r\n.fa-long-arrow-up:before {\r\n  content: "\\f176";\r\n}\r\n.fa-long-arrow-left:before {\r\n  content: "\\f177";\r\n}\r\n.fa-long-arrow-right:before {\r\n  content: "\\f178";\r\n}\r\n.fa-apple:before {\r\n  content: "\\f179";\r\n}\r\n.fa-windows:before {\r\n  content: "\\f17a";\r\n}\r\n.fa-android:before {\r\n  content: "\\f17b";\r\n}\r\n.fa-linux:before {\r\n  content: "\\f17c";\r\n}\r\n.fa-dribbble:before {\r\n  content: "\\f17d";\r\n}\r\n.fa-skype:before {\r\n  content: "\\f17e";\r\n}\r\n.fa-foursquare:before {\r\n  content: "\\f180";\r\n}\r\n.fa-trello:before {\r\n  content: "\\f181";\r\n}\r\n.fa-female:before {\r\n  content: "\\f182";\r\n}\r\n.fa-male:before {\r\n  content: "\\f183";\r\n}\r\n.fa-gittip:before,\r\n.fa-gratipay:before {\r\n  content: "\\f184";\r\n}\r\n.fa-sun-o:before {\r\n  content: "\\f185";\r\n}\r\n.fa-moon-o:before {\r\n  content: "\\f186";\r\n}\r\n.fa-archive:before {\r\n  content: "\\f187";\r\n}\r\n.fa-bug:before {\r\n  content: "\\f188";\r\n}\r\n.fa-vk:before {\r\n  content: "\\f189";\r\n}\r\n.fa-weibo:before {\r\n  content: "\\f18a";\r\n}\r\n.fa-renren:before {\r\n  content: "\\f18b";\r\n}\r\n.fa-pagelines:before {\r\n  content: "\\f18c";\r\n}\r\n.fa-stack-exchange:before {\r\n  content: "\\f18d";\r\n}\r\n.fa-arrow-circle-o-right:before {\r\n  content: "\\f18e";\r\n}\r\n.fa-arrow-circle-o-left:before {\r\n  content: "\\f190";\r\n}\r\n.fa-toggle-left:before,\r\n.fa-caret-square-o-left:before {\r\n  content: "\\f191";\r\n}\r\n.fa-dot-circle-o:before {\r\n  content: "\\f192";\r\n}\r\n.fa-wheelchair:before {\r\n  content: "\\f193";\r\n}\r\n.fa-vimeo-square:before {\r\n  content: "\\f194";\r\n}\r\n.fa-turkish-lira:before,\r\n.fa-try:before {\r\n  content: "\\f195";\r\n}\r\n.fa-plus-square-o:before {\r\n  content: "\\f196";\r\n}\r\n.fa-space-shuttle:before {\r\n  content: "\\f197";\r\n}\r\n.fa-slack:before {\r\n  content: "\\f198";\r\n}\r\n.fa-envelope-square:before {\r\n  content: "\\f199";\r\n}\r\n.fa-wordpress:before {\r\n  content: "\\f19a";\r\n}\r\n.fa-openid:before {\r\n  content: "\\f19b";\r\n}\r\n.fa-institution:before,\r\n.fa-bank:before,\r\n.fa-university:before {\r\n  content: "\\f19c";\r\n}\r\n.fa-mortar-board:before,\r\n.fa-graduation-cap:before {\r\n  content: "\\f19d";\r\n}\r\n.fa-yahoo:before {\r\n  content: "\\f19e";\r\n}\r\n.fa-google:before {\r\n  content: "\\f1a0";\r\n}\r\n.fa-reddit:before {\r\n  content: "\\f1a1";\r\n}\r\n.fa-reddit-square:before {\r\n  content: "\\f1a2";\r\n}\r\n.fa-stumbleupon-circle:before {\r\n  content: "\\f1a3";\r\n}\r\n.fa-stumbleupon:before {\r\n  content: "\\f1a4";\r\n}\r\n.fa-delicious:before {\r\n  content: "\\f1a5";\r\n}\r\n.fa-digg:before {\r\n  content: "\\f1a6";\r\n}\r\n.fa-pied-piper-pp:before {\r\n  content: "\\f1a7";\r\n}\r\n.fa-pied-piper-alt:before {\r\n  content: "\\f1a8";\r\n}\r\n.fa-drupal:before {\r\n  content: "\\f1a9";\r\n}\r\n.fa-joomla:before {\r\n  content: "\\f1aa";\r\n}\r\n.fa-language:before {\r\n  content: "\\f1ab";\r\n}\r\n.fa-fax:before {\r\n  content: "\\f1ac";\r\n}\r\n.fa-building:before {\r\n  content: "\\f1ad";\r\n}\r\n.fa-child:before {\r\n  content: "\\f1ae";\r\n}\r\n.fa-paw:before {\r\n  content: "\\f1b0";\r\n}\r\n.fa-spoon:before {\r\n  content: "\\f1b1";\r\n}\r\n.fa-cube:before {\r\n  content: "\\f1b2";\r\n}\r\n.fa-cubes:before {\r\n  content: "\\f1b3";\r\n}\r\n.fa-behance:before {\r\n  content: "\\f1b4";\r\n}\r\n.fa-behance-square:before {\r\n  content: "\\f1b5";\r\n}\r\n.fa-steam:before {\r\n  content: "\\f1b6";\r\n}\r\n.fa-steam-square:before {\r\n  content: "\\f1b7";\r\n}\r\n.fa-recycle:before {\r\n  content: "\\f1b8";\r\n}\r\n.fa-automobile:before,\r\n.fa-car:before {\r\n  content: "\\f1b9";\r\n}\r\n.fa-cab:before,\r\n.fa-taxi:before {\r\n  content: "\\f1ba";\r\n}\r\n.fa-tree:before {\r\n  content: "\\f1bb";\r\n}\r\n.fa-spotify:before {\r\n  content: "\\f1bc";\r\n}\r\n.fa-deviantart:before {\r\n  content: "\\f1bd";\r\n}\r\n.fa-soundcloud:before {\r\n  content: "\\f1be";\r\n}\r\n.fa-database:before {\r\n  content: "\\f1c0";\r\n}\r\n.fa-file-pdf-o:before {\r\n  content: "\\f1c1";\r\n}\r\n.fa-file-word-o:before {\r\n  content: "\\f1c2";\r\n}\r\n.fa-file-excel-o:before {\r\n  content: "\\f1c3";\r\n}\r\n.fa-file-powerpoint-o:before {\r\n  content: "\\f1c4";\r\n}\r\n.fa-file-photo-o:before,\r\n.fa-file-picture-o:before,\r\n.fa-file-image-o:before {\r\n  content: "\\f1c5";\r\n}\r\n.fa-file-zip-o:before,\r\n.fa-file-archive-o:before {\r\n  content: "\\f1c6";\r\n}\r\n.fa-file-sound-o:before,\r\n.fa-file-audio-o:before {\r\n  content: "\\f1c7";\r\n}\r\n.fa-file-movie-o:before,\r\n.fa-file-video-o:before {\r\n  content: "\\f1c8";\r\n}\r\n.fa-file-code-o:before {\r\n  content: "\\f1c9";\r\n}\r\n.fa-vine:before {\r\n  content: "\\f1ca";\r\n}\r\n.fa-codepen:before {\r\n  content: "\\f1cb";\r\n}\r\n.fa-jsfiddle:before {\r\n  content: "\\f1cc";\r\n}\r\n.fa-life-bouy:before,\r\n.fa-life-buoy:before,\r\n.fa-life-saver:before,\r\n.fa-support:before,\r\n.fa-life-ring:before {\r\n  content: "\\f1cd";\r\n}\r\n.fa-circle-o-notch:before {\r\n  content: "\\f1ce";\r\n}\r\n.fa-ra:before,\r\n.fa-resistance:before,\r\n.fa-rebel:before {\r\n  content: "\\f1d0";\r\n}\r\n.fa-ge:before,\r\n.fa-empire:before {\r\n  content: "\\f1d1";\r\n}\r\n.fa-git-square:before {\r\n  content: "\\f1d2";\r\n}\r\n.fa-git:before {\r\n  content: "\\f1d3";\r\n}\r\n.fa-y-combinator-square:before,\r\n.fa-yc-square:before,\r\n.fa-hacker-news:before {\r\n  content: "\\f1d4";\r\n}\r\n.fa-tencent-weibo:before {\r\n  content: "\\f1d5";\r\n}\r\n.fa-qq:before {\r\n  content: "\\f1d6";\r\n}\r\n.fa-wechat:before,\r\n.fa-weixin:before {\r\n  content: "\\f1d7";\r\n}\r\n.fa-send:before,\r\n.fa-paper-plane:before {\r\n  content: "\\f1d8";\r\n}\r\n.fa-send-o:before,\r\n.fa-paper-plane-o:before {\r\n  content: "\\f1d9";\r\n}\r\n.fa-history:before {\r\n  content: "\\f1da";\r\n}\r\n.fa-circle-thin:before {\r\n  content: "\\f1db";\r\n}\r\n.fa-header:before {\r\n  content: "\\f1dc";\r\n}\r\n.fa-paragraph:before {\r\n  content: "\\f1dd";\r\n}\r\n.fa-sliders:before {\r\n  content: "\\f1de";\r\n}\r\n.fa-share-alt:before {\r\n  content: "\\f1e0";\r\n}\r\n.fa-share-alt-square:before {\r\n  content: "\\f1e1";\r\n}\r\n.fa-bomb:before {\r\n  content: "\\f1e2";\r\n}\r\n.fa-soccer-ball-o:before,\r\n.fa-futbol-o:before {\r\n  content: "\\f1e3";\r\n}\r\n.fa-tty:before {\r\n  content: "\\f1e4";\r\n}\r\n.fa-binoculars:before {\r\n  content: "\\f1e5";\r\n}\r\n.fa-plug:before {\r\n  content: "\\f1e6";\r\n}\r\n.fa-slideshare:before {\r\n  content: "\\f1e7";\r\n}\r\n.fa-twitch:before {\r\n  content: "\\f1e8";\r\n}\r\n.fa-yelp:before {\r\n  content: "\\f1e9";\r\n}\r\n.fa-newspaper-o:before {\r\n  content: "\\f1ea";\r\n}\r\n.fa-wifi:before {\r\n  content: "\\f1eb";\r\n}\r\n.fa-calculator:before {\r\n  content: "\\f1ec";\r\n}\r\n.fa-paypal:before {\r\n  content: "\\f1ed";\r\n}\r\n.fa-google-wallet:before {\r\n  content: "\\f1ee";\r\n}\r\n.fa-cc-visa:before {\r\n  content: "\\f1f0";\r\n}\r\n.fa-cc-mastercard:before {\r\n  content: "\\f1f1";\r\n}\r\n.fa-cc-discover:before {\r\n  content: "\\f1f2";\r\n}\r\n.fa-cc-amex:before {\r\n  content: "\\f1f3";\r\n}\r\n.fa-cc-paypal:before {\r\n  content: "\\f1f4";\r\n}\r\n.fa-cc-stripe:before {\r\n  content: "\\f1f5";\r\n}\r\n.fa-bell-slash:before {\r\n  content: "\\f1f6";\r\n}\r\n.fa-bell-slash-o:before {\r\n  content: "\\f1f7";\r\n}\r\n.fa-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n.fa-copyright:before {\r\n  content: "\\f1f9";\r\n}\r\n.fa-at:before {\r\n  content: "\\f1fa";\r\n}\r\n.fa-eyedropper:before {\r\n  content: "\\f1fb";\r\n}\r\n.fa-paint-brush:before {\r\n  content: "\\f1fc";\r\n}\r\n.fa-birthday-cake:before {\r\n  content: "\\f1fd";\r\n}\r\n.fa-area-chart:before {\r\n  content: "\\f1fe";\r\n}\r\n.fa-pie-chart:before {\r\n  content: "\\f200";\r\n}\r\n.fa-line-chart:before {\r\n  content: "\\f201";\r\n}\r\n.fa-lastfm:before {\r\n  content: "\\f202";\r\n}\r\n.fa-lastfm-square:before {\r\n  content: "\\f203";\r\n}\r\n.fa-toggle-off:before {\r\n  content: "\\f204";\r\n}\r\n.fa-toggle-on:before {\r\n  content: "\\f205";\r\n}\r\n.fa-bicycle:before {\r\n  content: "\\f206";\r\n}\r\n.fa-bus:before {\r\n  content: "\\f207";\r\n}\r\n.fa-ioxhost:before {\r\n  content: "\\f208";\r\n}\r\n.fa-angellist:before {\r\n  content: "\\f209";\r\n}\r\n.fa-cc:before {\r\n  content: "\\f20a";\r\n}\r\n.fa-shekel:before,\r\n.fa-sheqel:before,\r\n.fa-ils:before {\r\n  content: "\\f20b";\r\n}\r\n.fa-meanpath:before {\r\n  content: "\\f20c";\r\n}\r\n.fa-buysellads:before {\r\n  content: "\\f20d";\r\n}\r\n.fa-connectdevelop:before {\r\n  content: "\\f20e";\r\n}\r\n.fa-dashcube:before {\r\n  content: "\\f210";\r\n}\r\n.fa-forumbee:before {\r\n  content: "\\f211";\r\n}\r\n.fa-leanpub:before {\r\n  content: "\\f212";\r\n}\r\n.fa-sellsy:before {\r\n  content: "\\f213";\r\n}\r\n.fa-shirtsinbulk:before {\r\n  content: "\\f214";\r\n}\r\n.fa-simplybuilt:before {\r\n  content: "\\f215";\r\n}\r\n.fa-skyatlas:before {\r\n  content: "\\f216";\r\n}\r\n.fa-cart-plus:before {\r\n  content: "\\f217";\r\n}\r\n.fa-cart-arrow-down:before {\r\n  content: "\\f218";\r\n}\r\n.fa-diamond:before {\r\n  content: "\\f219";\r\n}\r\n.fa-ship:before {\r\n  content: "\\f21a";\r\n}\r\n.fa-user-secret:before {\r\n  content: "\\f21b";\r\n}\r\n.fa-motorcycle:before {\r\n  content: "\\f21c";\r\n}\r\n.fa-street-view:before {\r\n  content: "\\f21d";\r\n}\r\n.fa-heartbeat:before {\r\n  content: "\\f21e";\r\n}\r\n.fa-venus:before {\r\n  content: "\\f221";\r\n}\r\n.fa-mars:before {\r\n  content: "\\f222";\r\n}\r\n.fa-mercury:before {\r\n  content: "\\f223";\r\n}\r\n.fa-intersex:before,\r\n.fa-transgender:before {\r\n  content: "\\f224";\r\n}\r\n.fa-transgender-alt:before {\r\n  content: "\\f225";\r\n}\r\n.fa-venus-double:before {\r\n  content: "\\f226";\r\n}\r\n.fa-mars-double:before {\r\n  content: "\\f227";\r\n}\r\n.fa-venus-mars:before {\r\n  content: "\\f228";\r\n}\r\n.fa-mars-stroke:before {\r\n  content: "\\f229";\r\n}\r\n.fa-mars-stroke-v:before {\r\n  content: "\\f22a";\r\n}\r\n.fa-mars-stroke-h:before {\r\n  content: "\\f22b";\r\n}\r\n.fa-neuter:before {\r\n  content: "\\f22c";\r\n}\r\n.fa-genderless:before {\r\n  content: "\\f22d";\r\n}\r\n.fa-facebook-official:before {\r\n  content: "\\f230";\r\n}\r\n.fa-pinterest-p:before {\r\n  content: "\\f231";\r\n}\r\n.fa-whatsapp:before {\r\n  content: "\\f232";\r\n}\r\n.fa-server:before {\r\n  content: "\\f233";\r\n}\r\n.fa-user-plus:before {\r\n  content: "\\f234";\r\n}\r\n.fa-user-times:before {\r\n  content: "\\f235";\r\n}\r\n.fa-hotel:before,\r\n.fa-bed:before {\r\n  content: "\\f236";\r\n}\r\n.fa-viacoin:before {\r\n  content: "\\f237";\r\n}\r\n.fa-train:before {\r\n  content: "\\f238";\r\n}\r\n.fa-subway:before {\r\n  content: "\\f239";\r\n}\r\n.fa-medium:before {\r\n  content: "\\f23a";\r\n}\r\n.fa-yc:before,\r\n.fa-y-combinator:before {\r\n  content: "\\f23b";\r\n}\r\n.fa-optin-monster:before {\r\n  content: "\\f23c";\r\n}\r\n.fa-opencart:before {\r\n  content: "\\f23d";\r\n}\r\n.fa-expeditedssl:before {\r\n  content: "\\f23e";\r\n}\r\n.fa-battery-4:before,\r\n.fa-battery:before,\r\n.fa-battery-full:before {\r\n  content: "\\f240";\r\n}\r\n.fa-battery-3:before,\r\n.fa-battery-three-quarters:before {\r\n  content: "\\f241";\r\n}\r\n.fa-battery-2:before,\r\n.fa-battery-half:before {\r\n  content: "\\f242";\r\n}\r\n.fa-battery-1:before,\r\n.fa-battery-quarter:before {\r\n  content: "\\f243";\r\n}\r\n.fa-battery-0:before,\r\n.fa-battery-empty:before {\r\n  content: "\\f244";\r\n}\r\n.fa-mouse-pointer:before {\r\n  content: "\\f245";\r\n}\r\n.fa-i-cursor:before {\r\n  content: "\\f246";\r\n}\r\n.fa-object-group:before {\r\n  content: "\\f247";\r\n}\r\n.fa-object-ungroup:before {\r\n  content: "\\f248";\r\n}\r\n.fa-sticky-note:before {\r\n  content: "\\f249";\r\n}\r\n.fa-sticky-note-o:before {\r\n  content: "\\f24a";\r\n}\r\n.fa-cc-jcb:before {\r\n  content: "\\f24b";\r\n}\r\n.fa-cc-diners-club:before {\r\n  content: "\\f24c";\r\n}\r\n.fa-clone:before {\r\n  content: "\\f24d";\r\n}\r\n.fa-balance-scale:before {\r\n  content: "\\f24e";\r\n}\r\n.fa-hourglass-o:before {\r\n  content: "\\f250";\r\n}\r\n.fa-hourglass-1:before,\r\n.fa-hourglass-start:before {\r\n  content: "\\f251";\r\n}\r\n.fa-hourglass-2:before,\r\n.fa-hourglass-half:before {\r\n  content: "\\f252";\r\n}\r\n.fa-hourglass-3:before,\r\n.fa-hourglass-end:before {\r\n  content: "\\f253";\r\n}\r\n.fa-hourglass:before {\r\n  content: "\\f254";\r\n}\r\n.fa-hand-grab-o:before,\r\n.fa-hand-rock-o:before {\r\n  content: "\\f255";\r\n}\r\n.fa-hand-stop-o:before,\r\n.fa-hand-paper-o:before {\r\n  content: "\\f256";\r\n}\r\n.fa-hand-scissors-o:before {\r\n  content: "\\f257";\r\n}\r\n.fa-hand-lizard-o:before {\r\n  content: "\\f258";\r\n}\r\n.fa-hand-spock-o:before {\r\n  content: "\\f259";\r\n}\r\n.fa-hand-pointer-o:before {\r\n  content: "\\f25a";\r\n}\r\n.fa-hand-peace-o:before {\r\n  content: "\\f25b";\r\n}\r\n.fa-trademark:before {\r\n  content: "\\f25c";\r\n}\r\n.fa-registered:before {\r\n  content: "\\f25d";\r\n}\r\n.fa-creative-commons:before {\r\n  content: "\\f25e";\r\n}\r\n.fa-gg:before {\r\n  content: "\\f260";\r\n}\r\n.fa-gg-circle:before {\r\n  content: "\\f261";\r\n}\r\n.fa-tripadvisor:before {\r\n  content: "\\f262";\r\n}\r\n.fa-odnoklassniki:before {\r\n  content: "\\f263";\r\n}\r\n.fa-odnoklassniki-square:before {\r\n  content: "\\f264";\r\n}\r\n.fa-get-pocket:before {\r\n  content: "\\f265";\r\n}\r\n.fa-wikipedia-w:before {\r\n  content: "\\f266";\r\n}\r\n.fa-safari:before {\r\n  content: "\\f267";\r\n}\r\n.fa-chrome:before {\r\n  content: "\\f268";\r\n}\r\n.fa-firefox:before {\r\n  content: "\\f269";\r\n}\r\n.fa-opera:before {\r\n  content: "\\f26a";\r\n}\r\n.fa-internet-explorer:before {\r\n  content: "\\f26b";\r\n}\r\n.fa-tv:before,\r\n.fa-television:before {\r\n  content: "\\f26c";\r\n}\r\n.fa-contao:before {\r\n  content: "\\f26d";\r\n}\r\n.fa-500px:before {\r\n  content: "\\f26e";\r\n}\r\n.fa-amazon:before {\r\n  content: "\\f270";\r\n}\r\n.fa-calendar-plus-o:before {\r\n  content: "\\f271";\r\n}\r\n.fa-calendar-minus-o:before {\r\n  content: "\\f272";\r\n}\r\n.fa-calendar-times-o:before {\r\n  content: "\\f273";\r\n}\r\n.fa-calendar-check-o:before {\r\n  content: "\\f274";\r\n}\r\n.fa-industry:before {\r\n  content: "\\f275";\r\n}\r\n.fa-map-pin:before {\r\n  content: "\\f276";\r\n}\r\n.fa-map-signs:before {\r\n  content: "\\f277";\r\n}\r\n.fa-map-o:before {\r\n  content: "\\f278";\r\n}\r\n.fa-map:before {\r\n  content: "\\f279";\r\n}\r\n.fa-commenting:before {\r\n  content: "\\f27a";\r\n}\r\n.fa-commenting-o:before {\r\n  content: "\\f27b";\r\n}\r\n.fa-houzz:before {\r\n  content: "\\f27c";\r\n}\r\n.fa-vimeo:before {\r\n  content: "\\f27d";\r\n}\r\n.fa-black-tie:before {\r\n  content: "\\f27e";\r\n}\r\n.fa-fonticons:before {\r\n  content: "\\f280";\r\n}\r\n.fa-reddit-alien:before {\r\n  content: "\\f281";\r\n}\r\n.fa-edge:before {\r\n  content: "\\f282";\r\n}\r\n.fa-credit-card-alt:before {\r\n  content: "\\f283";\r\n}\r\n.fa-codiepie:before {\r\n  content: "\\f284";\r\n}\r\n.fa-modx:before {\r\n  content: "\\f285";\r\n}\r\n.fa-fort-awesome:before {\r\n  content: "\\f286";\r\n}\r\n.fa-usb:before {\r\n  content: "\\f287";\r\n}\r\n.fa-product-hunt:before {\r\n  content: "\\f288";\r\n}\r\n.fa-mixcloud:before {\r\n  content: "\\f289";\r\n}\r\n.fa-scribd:before {\r\n  content: "\\f28a";\r\n}\r\n.fa-pause-circle:before {\r\n  content: "\\f28b";\r\n}\r\n.fa-pause-circle-o:before {\r\n  content: "\\f28c";\r\n}\r\n.fa-stop-circle:before {\r\n  content: "\\f28d";\r\n}\r\n.fa-stop-circle-o:before {\r\n  content: "\\f28e";\r\n}\r\n.fa-shopping-bag:before {\r\n  content: "\\f290";\r\n}\r\n.fa-shopping-basket:before {\r\n  content: "\\f291";\r\n}\r\n.fa-hashtag:before {\r\n  content: "\\f292";\r\n}\r\n.fa-bluetooth:before {\r\n  content: "\\f293";\r\n}\r\n.fa-bluetooth-b:before {\r\n  content: "\\f294";\r\n}\r\n.fa-percent:before {\r\n  content: "\\f295";\r\n}\r\n.fa-gitlab:before {\r\n  content: "\\f296";\r\n}\r\n.fa-wpbeginner:before {\r\n  content: "\\f297";\r\n}\r\n.fa-wpforms:before {\r\n  content: "\\f298";\r\n}\r\n.fa-envira:before {\r\n  content: "\\f299";\r\n}\r\n.fa-universal-access:before {\r\n  content: "\\f29a";\r\n}\r\n.fa-wheelchair-alt:before {\r\n  content: "\\f29b";\r\n}\r\n.fa-question-circle-o:before {\r\n  content: "\\f29c";\r\n}\r\n.fa-blind:before {\r\n  content: "\\f29d";\r\n}\r\n.fa-audio-description:before {\r\n  content: "\\f29e";\r\n}\r\n.fa-volume-control-phone:before {\r\n  content: "\\f2a0";\r\n}\r\n.fa-braille:before {\r\n  content: "\\f2a1";\r\n}\r\n.fa-assistive-listening-systems:before {\r\n  content: "\\f2a2";\r\n}\r\n.fa-asl-interpreting:before,\r\n.fa-american-sign-language-interpreting:before {\r\n  content: "\\f2a3";\r\n}\r\n.fa-deafness:before,\r\n.fa-hard-of-hearing:before,\r\n.fa-deaf:before {\r\n  content: "\\f2a4";\r\n}\r\n.fa-glide:before {\r\n  content: "\\f2a5";\r\n}\r\n.fa-glide-g:before {\r\n  content: "\\f2a6";\r\n}\r\n.fa-signing:before,\r\n.fa-sign-language:before {\r\n  content: "\\f2a7";\r\n}\r\n.fa-low-vision:before {\r\n  content: "\\f2a8";\r\n}\r\n.fa-viadeo:before {\r\n  content: "\\f2a9";\r\n}\r\n.fa-viadeo-square:before {\r\n  content: "\\f2aa";\r\n}\r\n.fa-snapchat:before {\r\n  content: "\\f2ab";\r\n}\r\n.fa-snapchat-ghost:before {\r\n  content: "\\f2ac";\r\n}\r\n.fa-snapchat-square:before {\r\n  content: "\\f2ad";\r\n}\r\n.fa-pied-piper:before {\r\n  content: "\\f2ae";\r\n}\r\n.fa-first-order:before {\r\n  content: "\\f2b0";\r\n}\r\n.fa-yoast:before {\r\n  content: "\\f2b1";\r\n}\r\n.fa-themeisle:before {\r\n  content: "\\f2b2";\r\n}\r\n.fa-google-plus-circle:before,\r\n.fa-google-plus-official:before {\r\n  content: "\\f2b3";\r\n}\r\n.fa-fa:before,\r\n.fa-font-awesome:before {\r\n  content: "\\f2b4";\r\n}\r\n.fa-handshake-o:before {\r\n  content: "\\f2b5";\r\n}\r\n.fa-envelope-open:before {\r\n  content: "\\f2b6";\r\n}\r\n.fa-envelope-open-o:before {\r\n  content: "\\f2b7";\r\n}\r\n.fa-linode:before {\r\n  content: "\\f2b8";\r\n}\r\n.fa-address-book:before {\r\n  content: "\\f2b9";\r\n}\r\n.fa-address-book-o:before {\r\n  content: "\\f2ba";\r\n}\r\n.fa-vcard:before,\r\n.fa-address-card:before {\r\n  content: "\\f2bb";\r\n}\r\n.fa-vcard-o:before,\r\n.fa-address-card-o:before {\r\n  content: "\\f2bc";\r\n}\r\n.fa-user-circle:before {\r\n  content: "\\f2bd";\r\n}\r\n.fa-user-circle-o:before {\r\n  content: "\\f2be";\r\n}\r\n.fa-user-o:before {\r\n  content: "\\f2c0";\r\n}\r\n.fa-id-badge:before {\r\n  content: "\\f2c1";\r\n}\r\n.fa-drivers-license:before,\r\n.fa-id-card:before {\r\n  content: "\\f2c2";\r\n}\r\n.fa-drivers-license-o:before,\r\n.fa-id-card-o:before {\r\n  content: "\\f2c3";\r\n}\r\n.fa-quora:before {\r\n  content: "\\f2c4";\r\n}\r\n.fa-free-code-camp:before {\r\n  content: "\\f2c5";\r\n}\r\n.fa-telegram:before {\r\n  content: "\\f2c6";\r\n}\r\n.fa-thermometer-4:before,\r\n.fa-thermometer:before,\r\n.fa-thermometer-full:before {\r\n  content: "\\f2c7";\r\n}\r\n.fa-thermometer-3:before,\r\n.fa-thermometer-three-quarters:before {\r\n  content: "\\f2c8";\r\n}\r\n.fa-thermometer-2:before,\r\n.fa-thermometer-half:before {\r\n  content: "\\f2c9";\r\n}\r\n.fa-thermometer-1:before,\r\n.fa-thermometer-quarter:before {\r\n  content: "\\f2ca";\r\n}\r\n.fa-thermometer-0:before,\r\n.fa-thermometer-empty:before {\r\n  content: "\\f2cb";\r\n}\r\n.fa-shower:before {\r\n  content: "\\f2cc";\r\n}\r\n.fa-bathtub:before,\r\n.fa-s15:before,\r\n.fa-bath:before {\r\n  content: "\\f2cd";\r\n}\r\n.fa-podcast:before {\r\n  content: "\\f2ce";\r\n}\r\n.fa-window-maximize:before {\r\n  content: "\\f2d0";\r\n}\r\n.fa-window-minimize:before {\r\n  content: "\\f2d1";\r\n}\r\n.fa-window-restore:before {\r\n  content: "\\f2d2";\r\n}\r\n.fa-times-rectangle:before,\r\n.fa-window-close:before {\r\n  content: "\\f2d3";\r\n}\r\n.fa-times-rectangle-o:before,\r\n.fa-window-close-o:before {\r\n  content: "\\f2d4";\r\n}\r\n.fa-bandcamp:before {\r\n  content: "\\f2d5";\r\n}\r\n.fa-grav:before {\r\n  content: "\\f2d6";\r\n}\r\n.fa-etsy:before {\r\n  content: "\\f2d7";\r\n}\r\n.fa-imdb:before {\r\n  content: "\\f2d8";\r\n}\r\n.fa-ravelry:before {\r\n  content: "\\f2d9";\r\n}\r\n.fa-eercast:before {\r\n  content: "\\f2da";\r\n}\r\n.fa-microchip:before {\r\n  content: "\\f2db";\r\n}\r\n.fa-snowflake-o:before {\r\n  content: "\\f2dc";\r\n}\r\n.fa-superpowers:before {\r\n  content: "\\f2dd";\r\n}\r\n.fa-wpexplorer:before {\r\n  content: "\\f2de";\r\n}\r\n.fa-meetup:before {\r\n  content: "\\f2e0";\r\n}\r\n'}}]);