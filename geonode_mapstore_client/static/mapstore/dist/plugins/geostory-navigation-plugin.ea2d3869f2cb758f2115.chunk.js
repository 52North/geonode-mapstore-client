(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/geostory-navigation-plugin"],{"./MapStore2/web/client/components/home/Home.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),b=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react-bootstrap/es/index.js"),v=g.Glyphicon,h=g.Tooltip,y=g.Button,j=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx").default,w=n("./MapStore2/web/client/components/I18N/Message.jsx").default,O=n("./MapStore2/web/client/components/misc/ResizableModal.jsx").default,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,r,u=l(f);function f(){var e;a(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(d(e=u.call.apply(u,[this].concat(n))),"checkUnsavedChanges",(function(){e.props.renderUnsavedMapChangesDialog?e.props.onCheckMapChanges(e.goHome):(e.props.onCloseUnsavedDialog(),e.goHome())})),p(d(e),"goHome",(function(){e.context.router.history.push("/")})),e}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=e.tooltipPosition,n=i(e,["tooltipPosition"]),r=m.createElement(h,{id:"toolbar-home-button"},m.createElement(w,{msgId:"gohome"}));return m.createElement(m.Fragment,null,m.createElement(j,{overlay:r,placement:t},m.createElement(y,o({id:"home-button",className:"square-button",bsStyle:"primary",onClick:this.checkUnsavedChanges,tooltip:r},n),this.props.icon)),m.createElement(O,{ref:"unsavedMapModal",show:this.props.displayUnsavedDialog||!1,onClose:this.props.onCloseUnsavedDialog,title:m.createElement(w,{msgId:"resources.maps.unsavedMapConfirmTitle"}),buttons:[{bsStyle:"primary",text:m.createElement(w,{msgId:"resources.maps.unsavedMapConfirmButtonText"}),onClick:this.goHome},{text:m.createElement(w,{msgId:"resources.maps.unsavedMapCancelButtonText"}),onClick:this.props.onCloseUnsavedDialog}],fitContent:!0},m.createElement("div",{className:"ms-detail-body"},m.createElement(w,{msgId:"resources.maps.unsavedMapConfirmMessage"}))))}}])&&c(t.prototype,n),r&&c(t,r),f}(m.Component);p(S,"propTypes",{icon:b.node,onCheckMapChanges:b.func,onCloseUnsavedDialog:b.func,displayUnsavedDialog:b.bool,renderUnsavedMapChangesDialog:b.bool,tooltipPosition:b.string}),p(S,"contextTypes",{router:b.object,messages:b.object}),p(S,"defaultProps",{icon:m.createElement(v,{glyph:"home"}),onCheckMapChanges:function(){},onCloseUnsavedDialog:function(){},renderUnsavedMapChangesDialog:!0,tooltipPosition:"left"}),e.exports=S},"./MapStore2/web/client/plugins/GeoStoryNavigation.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),c=n("./MapStore2/web/client/utils/PluginsUtils.js"),s=n("./MapStore2/web/client/utils/GeoStoryUtils.js"),l=n("./MapStore2/web/client/selectors/geostory.js"),u=n("./MapStore2/web/client/selectors/router.js"),d=n("./MapStore2/web/client/reducers/geostory.js"),f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n.n(f),m=n("./node_modules/react-bootstrap/es/index.js"),b=n("./MapStore2/node_modules/lodash/debounce.js"),g=n.n(b),v=n("./node_modules/react-swipeable/es/index.js"),h=n("./node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.tabindex,n=e.text,r=e.selected,i=e.style;return o.a.createElement(m.Button,{tabindex:t,className:"".concat(r?"active":"btn-tray"," btn-xs btn-default"),style:i},n)},C=Object(h.a)((function(e){var t=e.currentPage,n=e.items,i=e.scrollTo,a=void 0===i?function(){}:i,c=e.width,s=e.height,l=e.deltaSwipeSize,u=void 0===l?200:l,d=e.transition,f=void 0===d?300:d,p=e.updateTimeDebounceTime,b=void 0===p?500:p,h=e.getItemStyle,j=void 0===h?function(){return{}}:h,E=function(e){var t=e.direction,n=void 0===t?"horizontal":t,o=e.deltaScroll,i=e.width,a=e.height,c=e.transition,s=S(Object(r.useState)(0),2),l=s[0],u=s[1],d=S(Object(r.useState)(0),2),f=d[0],p=d[1],m=Object(r.useRef)({x:0,y:0}),b=S(Object(r.useState)(!1),2),g=b[0],h=b[1],y=S(Object(r.useState)("start"),2),j=y[0],E=y[1],P=S(Object(r.useState)(),2),C=P[0],x=P[1],M=Object(r.useRef)(),I=Object(r.useRef)({});function k(e,t){x("move:start");var r=M.current,o=r.parentNode,i=r.getBoundingClientRect(),a=o.getBoundingClientRect();if("horizontal"===n){var s=e+i.width;e<0&&s>a.width?(u(e),m.current.x=e,E("center")):e>=0?(u(0),m.current.x=0,E("start")):s<=a.width&&(u(a.width-i.width),m.current.x=a.width-i.width,E("end"))}if("vertical"===n){var l=t+i.height;t<0&&l>a.height?(p(t),m.current.y=t,E("center")):t>=0?(p(0),m.current.y=0,E("start")):l<=a.height&&(p(a.height-i.height),m.current.y=a.height-i.height,E("end"))}setTimeout((function(){x("move:end")}),c)}function N(){var e=M.current,t=e.parentNode,r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return!("horizontal"===n&&o.width>=r.width||"vertical"===n&&o.height>=r.height)}Object(r.useEffect)((function(){function e(e){var t=N();return h(N()),t?k(m.current.x-(e.deltaY>0?o:-o),m.current.y-(e.deltaY>0?o:-o)):null}var t=N();h(t);var n=M.current.parentNode;return t&&k(m.current.x,m.current.y),t&&n&&n.addEventListener&&n.addEventListener("wheel",e),function(){t&&n&&n.removeEventListener&&n.removeEventListener("wheel",e)}}),[i,a]);var R=Object(v.a)({onSwiping:function(e){e.event.stopPropagation();var t=N();return h(N()),t?k(l-e.deltaX*e.velocity,f-e.deltaY*e.velocity):null},trackTouch:!0,trackMouse:!0});function D(e,t){I.current=w(w({},I.current),{},O({},e,t))}function T(e){var t=I.current[e];if(t){var r=M.current,o=(r&&r.parentNode).getBoundingClientRect(),i=t.getBoundingClientRect();if("horizontal"===n){var a=o.width,c=o.left,s=i.width,l=i.left,u=c+a,d=l+s;return c<=l&&u>=l||c<=d&&u>=d}}return!1}return{status:C,canSwipe:g,isStartControlActive:g&&("end"===j||"center"===j),isEndControlActive:g&&("start"===j||"center"===j),positionLabel:j,coordinates:{x:l,y:f},containerPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t;return w(w({},R),{},{style:w({position:"relative",overflow:"hidden",width:"100%",height:"100%"},n)})},contentPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t;return{ref:M,style:w(w(w(w({position:"absolute",display:"flex"},c&&{transition:"transform ".concat(c,"ms ease 0s")}),{},{flexDirection:"horizontal"===n?"row":"column"},g&&"horizontal"===n&&{transform:"translateX(".concat(l,"px)")}),g&&"vertical"===n&&{transform:"translateY(".concat(f,"px)")}),r)}},itemPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.onClick;return w({key:t,ref:function(e){return e&&D(t,e)}},n?{onClick:n,tabindex:T(t)?0:-1,onKeyDown:function(e){"Enter"===e.key&&n()}}:{tabindex:-1})},updateCoordinates:k,moveItemInViewById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.margin,o=void 0===r?0:r,i=I.current[e];if(i){var a=M.current,c=a&&a.parentNode,s=c.getBoundingClientRect(),l=i.getBoundingClientRect();if("horizontal"===n){var u=s.width,d=s.left,f=l.width,p=l.left,m=d+u,b=p+f,g=d<=p&&m>=b;if(!g){var v=a.getBoundingClientRect(),h=v.left;k(-(p-h)+o,void 0)}}}},moveToDeltaSize:function(e){k(l+e,f+e)}}}({direction:"horizontal",width:c,height:s,transition:f,deltaScroll:u}),C=E.isStartControlActive,x=E.isEndControlActive,M=E.containerPropsHandlers,I=E.contentPropsHandlers,k=E.itemPropsHandlers,N=E.moveToDeltaSize,R=E.moveItemInViewById,D=t&&t.columns&&t.sectionId&&t.columns[t.sectionId]||t&&t.sectionId,T=Object(r.useRef)(null);return Object(r.useEffect)((function(){return T.current=g()((function(e){R(e,{margin:32})}),b),function(){T.current&&(T.current.cancel(),T.current=null)}}),[]),Object(r.useEffect)((function(){T.current&&(T.current.cancel(),T.current(D))}),[D]),o.a.createElement("div",y({},M(),{className:"ms-horizontal-menu"}),o.a.createElement("div",I(),n.map((function(e){var n=e.title,r=e.id,i=k({id:r,onClick:function(){t&&t.sectionId!==r&&a(r)}});return o.a.createElement("div",y({},i,{className:"ms-menu-item"}),o.a.createElement(P,{tabindex:"-1",id:r,text:n||"title",selected:r===D,style:j(r===D)}))}))),C&&o.a.createElement(m.Button,{className:"square-button-md no-border",style:{position:"absolute"},onClick:function(){return N(u)}},o.a.createElement(m.Glyphicon,{glyph:"chevron-left"})),x&&o.a.createElement(m.Button,{className:"square-button-md no-border",style:{position:"absolute",right:0},onClick:function(){return N(-u)}},o.a.createElement(m.Glyphicon,{glyph:"chevron-right"})))})),x=n("./MapStore2/web/client/components/home/Home.jsx"),M=n.n(x),I=n("./MapStore2/web/client/utils/URLUtils.js"),k=n("./MapStore2/node_modules/lodash/isObject.js"),N=n.n(k);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){var t,n=e.settings,r=e.scrollTo,i=void 0===r?function(){}:r,a=e.navigableItems,c=void 0===a?[]:a,s=e.currentPage,l=void 0===s?{}:s,u=e.totalItems,d=void 0===u?1:u,f=e.currentPosition,m=void 0===f?0:f,b=e.router,g=e.buttons,v=void 0===g?[]:g,h=null==n||null===(t=n.theme)||void 0===t?void 0:t.general,y=N()(h)&&h||{},j=y.fontFamily,w=y.borderColor,O=y.color,S=y.backgroundColor,E=n||{},P=E.isTitleEnabled,x=E.isLogoEnabled,k=E.isNavbarEnabled,R=v.length>0,T=b&&b.pathname&&b.search&&"true"===Object(I.getQueryParams)(b.search).showHome&&b.pathname.includes("/geostory/shared"),U=k&&(null==c?void 0:c.length)>0,_=P||x||U||R||T;return o.a.createElement("div",{className:"ms-geostory-navigation-bar",style:D(D({color:O,backgroundColor:S},w&&{borderBottom:"1px solid ".concat(w)}),{},{fontFamily:j})},o.a.createElement("div",{className:"progress-bar",key:"progress-bar",style:{backgroundColor:w}},o.a.createElement("div",{className:"progress-percent",style:{width:"".concat((m+1)/d*100,"%"),backgroundColor:O}})),_&&o.a.createElement("div",{className:"ms-geostory-navigation-tools"},o.a.createElement("div",{className:"ms-geostory-navigation-toolbar"},o.a.createElement(p.a,{buttons:v}),T&&o.a.createElement(M.a,{bsStyle:"default",className:"square-button-md no-border",tooltipPosition:"right",renderUnsavedMapChangesDialog:!1})),o.a.createElement("div",{className:"ms-geostory-navigation-elements"},U?o.a.createElement("div",{className:"ms-geostory-navigation-navigable-items"},o.a.createElement(C,{items:c,currentPage:l,scrollTo:i,getItemStyle:function(e){return e?{color:S,backgroundColor:O}:{outlineColor:O,borderColor:O}}})):null,o.a.createElement("div",{className:"ms-geostory-navigation-metadata"},P&&o.a.createElement("div",{className:"ms-geostory-navigation-title",style:{fontSize:n.storyTitleFontSize||"14px"}},n.storyTitle),x&&o.a.createElement("div",{className:"ms-geostory-navigation-logo"},o.a.createElement("img",{src:n.thumbnail&&(n.thumbnail.data||n.thumbnail.url)||"",height:32}))))))};t.default=Object(c.createPlugin)("GeoStoryNavigation",{component:Object(i.connect)(Object(a.createStructuredSelector)({mode:l.p,settings:l.x,currentPage:l.b,currentPosition:l.c,totalItems:l.y,navigableItems:Object(l.q)({includeAlways:!1}),pathname:u.pathnameSelector,search:u.searchSelector}))((function(e){var t=e.mode,n=void 0===t?s.f.VIEW:t,r=e.currentPage,i=e.currentPosition,a=e.totalItems,c=e.settings,l=e.navigableItems,u=void 0===l?[]:l,d=e.pathname,f=e.search,p=e.items,m=(void 0===p?[]:p).filter((function(e){return e.tool})).map((function(e){return{Element:e.tool}}));return n===s.f.VIEW?o.a.createElement("div",{key:"geostory-navigation",className:"ms-geostory-navigation",style:{width:"100%",position:"relative"}},o.a.createElement(U,{settings:c,currentPage:r,currentPosition:i,totalItems:a,scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth"};Object(s.z)(e,t)},navigableItems:u,router:{pathname:d,search:f},buttons:m})):null})),reducers:{geostory:d.a}})},"./MapStore2/web/client/utils/URLUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"urlParts",(function(){return u})),n.d(t,"sameQueryParams",(function(){return d})),n.d(t,"isSameUrl",(function(){return f})),n.d(t,"getQueryParams",(function(){return p})),n.d(t,"isValidURL",(function(){return m})),n.d(t,"isValidURLTemplate",(function(){return b}));var r=n("./node_modules/url/url.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./MapStore2/node_modules/query-string/index.js"),c=n.n(a);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),n=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var r=window.location;n[1]=r.protocol,n[3]=r.hostname,n[4]=r.port,n[5]=e}n[4]=""!==n[4]&&n[4]?n[4]:"https:"===n[1]?"443":"80",n[5]=n[5]?n[5]:e.slice(n[0].length);var o=s(n,6),i=o[1],a=o[3],c=o[4],l=o[5],u=0===l.indexOf("/")?l.split("/")[1]:"";return{protocol:i,domain:a,port:c,rootPath:l,applicationRootPath:u}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var n=e?e.split("&").filter((function(e){return!!e})):[],r=t?t.split("&").filter((function(e){return!!e})):[];return Object(i.isEqual)(Object(i.sortBy)(n),Object(i.sortBy)(r))},f=function(e,t){var n=Object(i.isArray)(e)?e[0]:e,r=Object(i.isArray)(t)?t[0]:t;if(n===r)return!0;if(!n||!r)return!1;if(!Object(i.isString)(n)||!Object(i.isString)(r))return!1;var a=o.a.parse(n),c=o.a.parse(r),s=u(n),l=u(r),f=s.protocol===l.protocol,p=s.domain===l.domain,m=s.port===l.port,b=a.pathname===c.pathname,g=d(a.query,c.query);return f&&m&&p&&b&&g},p=function(e){return c.a.parse(e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,n=new RegExp(t);return n.test(e)},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/,r=new RegExp(n),o=r.test(e);if(!o)return!1;if(o&&!t)return!0;if(o&&t){var a=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return Object(i.find)(a,e)})).length}return!1}}}]);