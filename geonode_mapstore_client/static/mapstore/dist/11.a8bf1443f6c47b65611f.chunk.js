(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./MapStore2/web/client/actions/additionallayers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_ADDITIONAL_LAYER",(function(){return r})),n.d(t,"UPDATE_OPTIONS_BY_OWNER",(function(){return o})),n.d(t,"REMOVE_ADDITIONAL_LAYER",(function(){return i})),n.d(t,"REMOVE_ALL_ADDITIONAL_LAYERS",(function(){return a})),n.d(t,"updateAdditionalLayer",(function(){return c})),n.d(t,"updateOptionsByOwner",(function(){return s})),n.d(t,"removeAdditionalLayer",(function(){return u})),n.d(t,"removeAllAdditionalLayers",(function(){return l}));var r="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:r,id:e,owner:t,actionType:n,options:o}},s=function(e,t){return{type:o,owner:e,options:t}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:i,id:t,owner:n}},l=function(){return{type:a}}},"./MapStore2/web/client/actions/annotations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"INIT_PLUGIN",(function(){return o})),n.d(t,"EDIT_ANNOTATION",(function(){return i})),n.d(t,"OPEN_EDITOR",(function(){return a})),n.d(t,"SHOW_ANNOTATION",(function(){return c})),n.d(t,"NEW_ANNOTATION",(function(){return s})),n.d(t,"REMOVE_ANNOTATION",(function(){return u})),n.d(t,"REMOVE_ANNOTATION_GEOMETRY",(function(){return l})),n.d(t,"CONFIRM_REMOVE_ANNOTATION",(function(){return p})),n.d(t,"CANCEL_REMOVE_ANNOTATION",(function(){return f})),n.d(t,"CANCEL_EDIT_ANNOTATION",(function(){return d})),n.d(t,"CANCEL_SHOW_ANNOTATION",(function(){return m})),n.d(t,"SAVE_ANNOTATION",(function(){return b})),n.d(t,"TOGGLE_ADD",(function(){return y})),n.d(t,"TOGGLE_STYLE",(function(){return g})),n.d(t,"SET_STYLE",(function(){return h})),n.d(t,"RESTORE_STYLE",(function(){return S})),n.d(t,"UPDATE_ANNOTATION_GEOMETRY",(function(){return E})),n.d(t,"SET_INVALID_SELECTED",(function(){return v})),n.d(t,"VALIDATION_ERROR",(function(){return O})),n.d(t,"HIGHLIGHT",(function(){return j})),n.d(t,"CLEAN_HIGHLIGHT",(function(){return A})),n.d(t,"FILTER_ANNOTATIONS",(function(){return w})),n.d(t,"CLOSE_ANNOTATIONS",(function(){return T})),n.d(t,"CONFIRM_CLOSE_ANNOTATIONS",(function(){return _})),n.d(t,"CANCEL_CLOSE_ANNOTATIONS",(function(){return M})),n.d(t,"START_DRAWING",(function(){return P})),n.d(t,"UNSAVED_CHANGES",(function(){return x})),n.d(t,"TOGGLE_ANNOTATION_VISIBILITY",(function(){return R})),n.d(t,"TOGGLE_CHANGES_MODAL",(function(){return C})),n.d(t,"TOGGLE_GEOMETRY_MODAL",(function(){return I})),n.d(t,"CHANGED_PROPERTIES",(function(){return D})),n.d(t,"UNSAVED_STYLE",(function(){return L})),n.d(t,"TOGGLE_STYLE_MODAL",(function(){return N})),n.d(t,"ADD_TEXT",(function(){return k})),n.d(t,"DOWNLOAD",(function(){return F})),n.d(t,"LOAD_ANNOTATIONS",(function(){return G})),n.d(t,"CHANGED_SELECTED",(function(){return U})),n.d(t,"RESET_COORD_EDITOR",(function(){return B})),n.d(t,"CHANGE_RADIUS",(function(){return H})),n.d(t,"CHANGE_TEXT",(function(){return z})),n.d(t,"ADD_NEW_FEATURE",(function(){return Y})),n.d(t,"SET_EDITING_FEATURE",(function(){return V})),n.d(t,"HIGHLIGHT_POINT",(function(){return W})),n.d(t,"TOGGLE_DELETE_FT_MODAL",(function(){return q})),n.d(t,"CONFIRM_DELETE_FEATURE",(function(){return K})),n.d(t,"CHANGE_FORMAT",(function(){return Q})),n.d(t,"UPDATE_SYMBOLS",(function(){return Z})),n.d(t,"ERROR_SYMBOLS",(function(){return $})),n.d(t,"SET_DEFAULT_STYLE",(function(){return X})),n.d(t,"LOAD_DEFAULT_STYLES",(function(){return J})),n.d(t,"LOADING",(function(){return ee})),n.d(t,"CHANGE_GEOMETRY_TITLE",(function(){return te})),n.d(t,"FILTER_MARKER",(function(){return ne})),n.d(t,"HIDE_MEASURE_WARNING",(function(){return re})),n.d(t,"TOGGLE_SHOW_AGAIN",(function(){return oe})),n.d(t,"GEOMETRY_HIGHLIGHT",(function(){return ie})),n.d(t,"initPlugin",(function(){return ae})),n.d(t,"updateSymbols",(function(){return ce})),n.d(t,"setErrorSymbol",(function(){return se})),n.d(t,"loadAnnotations",(function(){return ue})),n.d(t,"confirmDeleteFeature",(function(){return le})),n.d(t,"openEditor",(function(){return pe})),n.d(t,"changeFormat",(function(){return fe})),n.d(t,"toggleDeleteFtModal",(function(){return de})),n.d(t,"highlightPoint",(function(){return me})),n.d(t,"download",(function(){return be})),n.d(t,"editAnnotation",(function(){return ye})),n.d(t,"newAnnotation",(function(){return ge})),n.d(t,"changeSelected",(function(){return he})),n.d(t,"setInvalidSelected",(function(){return Se})),n.d(t,"addText",(function(){return Ee})),n.d(t,"toggleVisibilityAnnotation",(function(){return ve})),n.d(t,"changedProperties",(function(){return Oe})),n.d(t,"removeAnnotation",(function(){return je})),n.d(t,"removeAnnotationGeometry",(function(){return Ae})),n.d(t,"confirmRemoveAnnotation",(function(){return we})),n.d(t,"cancelRemoveAnnotation",(function(){return Te})),n.d(t,"cancelEditAnnotation",(function(){return _e})),n.d(t,"saveAnnotation",(function(){return Me})),n.d(t,"toggleAdd",(function(){return Pe})),n.d(t,"toggleStyle",(function(){return xe})),n.d(t,"restoreStyle",(function(){return Re})),n.d(t,"setStyle",(function(){return Ce})),n.d(t,"updateAnnotationGeometry",(function(){return Ie})),n.d(t,"validationError",(function(){return De})),n.d(t,"highlight",(function(){return Le})),n.d(t,"cleanHighlight",(function(){return Ne})),n.d(t,"showAnnotation",(function(){return ke})),n.d(t,"cancelShowAnnotation",(function(){return Fe})),n.d(t,"filterAnnotations",(function(){return Ge})),n.d(t,"closeAnnotations",(function(){return Ue})),n.d(t,"confirmCloseAnnotations",(function(){return Be})),n.d(t,"setUnsavedChanges",(function(){return He})),n.d(t,"setUnsavedStyle",(function(){return ze})),n.d(t,"addNewFeature",(function(){return Ye})),n.d(t,"setEditingFeature",(function(){return Ve})),n.d(t,"cancelCloseAnnotations",(function(){return We})),n.d(t,"startDrawing",(function(){return qe})),n.d(t,"toggleUnsavedChangesModal",(function(){return Ke})),n.d(t,"toggleUnsavedGeometryModal",(function(){return Qe})),n.d(t,"toggleUnsavedStyleModal",(function(){return Ze})),n.d(t,"resetCoordEditor",(function(){return $e})),n.d(t,"changeRadius",(function(){return Xe})),n.d(t,"changeText",(function(){return Je})),n.d(t,"setDefaultStyle",(function(){return et})),n.d(t,"loadDefaultStyles",(function(){return tt})),n.d(t,"changeGeometryTitle",(function(){return nt})),n.d(t,"loading",(function(){return rt})),n.d(t,"filterMarker",(function(){return ot})),n.d(t,"geometryHighlight",(function(){return it})),n.d(t,"hideMeasureWarning",(function(){return at})),n.d(t,"toggleShowAgain",(function(){return ct}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o="ANNOTATIONS:INIT_PLUGIN",i="ANNOTATIONS:EDIT",a="ANNOTATIONS:OPEN_EDITOR",c="ANNOTATIONS:SHOW",s="ANNOTATIONS:NEW",u="ANNOTATIONS:REMOVE",l="ANNOTATIONS:REMOVE_GEOMETRY",p="ANNOTATIONS:CONFIRM_REMOVE",f="ANNOTATIONS:CANCEL_REMOVE",d="ANNOTATIONS:CANCEL_EDIT",m="ANNOTATIONS:CANCEL_SHOW",b="ANNOTATIONS:SAVE",y="ANNOTATIONS:TOGGLE_ADD",g="ANNOTATIONS:TOGGLE_STYLE",h="ANNOTATIONS:SET_STYLE",S="ANNOTATIONS:RESTORE_STYLE",E="ANNOTATIONS:UPDATE_GEOMETRY",v="ANNOTATIONS:SET_INVALID_SELECTED",O="ANNOTATIONS:VALIDATION_ERROR",j="ANNOTATIONS:HIGHLIGHT",A="ANNOTATIONS:CLEAN_HIGHLIGHT",w="ANNOTATIONS:FILTER",T="ANNOTATIONS:CLOSE",_="ANNOTATIONS:CONFIRM_CLOSE",M="ANNOTATIONS:CANCEL_CLOSE",P="ANNOTATIONS:START_DRAWING",x="ANNOTATIONS:UNSAVED_CHANGES",R="ANNOTATIONS:VISIBILITY",C="ANNOTATIONS:TOGGLE_CHANGES_MODAL",I="ANNOTATIONS:TOGGLE_GEOMETRY_MODAL",D="ANNOTATIONS:CHANGED_PROPERTIES",L="ANNOTATIONS:UNSAVED_STYLE",N="ANNOTATIONS:TOGGLE_STYLE_MODAL",k="ANNOTATIONS:ADD_TEXT",F="ANNOTATIONS:DOWNLOAD",G="ANNOTATIONS:LOAD_ANNOTATIONS",U="ANNOTATIONS:CHANGED_SELECTED",B="ANNOTATIONS:RESET_COORD_EDITOR",H="ANNOTATIONS:CHANGE_RADIUS",z="ANNOTATIONS:CHANGE_TEXT",Y="ANNOTATIONS:ADD_NEW_FEATURE",V="ANNOTATIONS:SET_EDITING_FEATURE",W="ANNOTATIONS:HIGHLIGHT_POINT",q="ANNOTATIONS:TOGGLE_DELETE_FT_MODAL",K="ANNOTATIONS:CONFIRM_DELETE_FEATURE",Q="ANNOTATIONS:CHANGE_FORMAT",Z="ANNOTATIONS:UPDATE_SYMBOLS",$="ANNOTATIONS:ERROR_SYMBOLS",X="ANNOTATIONS:SET_DEFAULT_STYLE",J="ANNOTATIONS:LOAD_DEFAULT_STYLES",ee="ANNOTATIONS:LOADING",te="ANNOTATIONS:CHANGE_GEOMETRY_TITLE",ne="ANNOTATIONS:FILTER_MARKER",re="ANNOTATIONS:HIDE_MEASURE_WARNING",oe="ANNOTATIONS:TOGGLE_SHOW_AGAIN",ie="ANNOTATIONS:GEOMETRY_HIGHLIGHT",ae=function(){return{type:o}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:Z,symbols:e}},se=function(e){return{type:$,symbolErrors:e}},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:G,features:e,override:t}},le=function(){return{type:K}},pe=function(e){return{type:a,id:e}},fe=function(e){return{type:Q,format:e}},de=function(){return{type:q}},me=function(e){return{type:W,point:e}},be=function(e){return{type:F,annotation:e}},ye=function(e){return function(t,n){var o=Object(r.head)(Object(r.head)(n().layers.flat.filter((function(e){return"annotations"===e.id}))).features.filter((function(t){return t.properties.id===e})));"FeatureCollection"===o.type?t({type:i,feature:o,featureType:o.type}):t({type:i,feature:o,featureType:o.geometry.type})}},ge=function(){return{type:s}},he=function(e,t,n,r){return{type:U,coordinates:e,radius:t,text:n,crs:r}},Se=function(e,t){return{type:v,errorFrom:e,coordinates:t}},Ee=function(){return{type:k}},ve=function(e){return{type:R,id:e}},Oe=function(e,t){return{type:D,field:e,value:t}},je=function(e){return{type:u,id:e}},Ae=function(e){return{type:l,id:e}},we=function(e,t){return{type:p,id:e,attribute:t}},Te=function(){return{type:f}},_e=function(){return{type:d}},Me=function(e,t,n,r,o,i){return{type:b,id:e,fields:t,geometry:n,style:r,newFeature:o,properties:i}},Pe=function(e){return{type:y,featureType:e}},xe=function(e){return{type:g,styling:e}},Re=function(){return{type:S}},Ce=function(e){return{type:h,style:e}},Ie=function(e,t,n){return{type:E,geometry:e,textChanged:t,circleChanged:n}},De=function(e){return{type:O,errors:e}},Le=function(e){return{type:j,id:e}},Ne=function(){return{type:A}},ke=function(e){return{type:c,id:e}},Fe=function(){return{type:m}},Ge=function(e){return{type:w,filter:e}},Ue=function(){return{type:T}},Be=function(){return{type:_}},He=function(e){return{type:x,unsavedChanges:e}},ze=function(e){return{type:L,unsavedStyle:e}},Ye=function(){return{type:Y}},Ve=function(e){return{type:V,feature:e}},We=function(){return{type:M}},qe=function(){return{type:P}},Ke=function(){return{type:C}},Qe=function(){return{type:I}},Ze=function(){return{type:N}},$e=function(){return{type:B}},Xe=function(e,t,n){return{type:H,radius:e,components:t,crs:n}},Je=function(e,t){return{type:z,text:e,components:t}},et=function(e,t){return{type:X,path:e,style:t}},tt=function(e,t,n,r,o){return{type:J,shape:e,size:t,fillColor:n,strokeColor:r,symbolsPath:o}},nt=function(e){return{type:te,title:e}},rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:ee,name:t,value:e}},ot=function(e){return{type:ne,filter:e}},it=function(e,t){return{type:ie,id:e,state:t}},at=function(){return{type:re}},ct=function(){return{type:oe}}},"./MapStore2/web/client/actions/backgroundselector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_BACKGROUND",(function(){return r})),n.d(t,"REMOVE_BACKGROUND",(function(){return o})),n.d(t,"SET_CURRENT_BACKGROUND_LAYER",(function(){return i})),n.d(t,"BACKGROUND_ADDED",(function(){return a})),n.d(t,"BACKGROUND_EDITED",(function(){return c})),n.d(t,"ADD_BACKGROUND_PROPERTIES",(function(){return s})),n.d(t,"SET_BACKGROUND_MODAL_PARAMS",(function(){return u})),n.d(t,"UPDATE_BACKGROUND_THUMBNAIL",(function(){return l})),n.d(t,"BACKGROUNDS_CLEAR",(function(){return p})),n.d(t,"CREATE_BACKGROUNDS_LIST",(function(){return f})),n.d(t,"CLEAR_MODAL_PARAMETERS",(function(){return d})),n.d(t,"CONFIRM_DELETE_BACKGROUND_MODAL",(function(){return m})),n.d(t,"ALLOW_BACKGROUNDS_DELETION",(function(){return b})),n.d(t,"createBackgroundsList",(function(){return y})),n.d(t,"addBackground",(function(){return g})),n.d(t,"addBackgroundProperties",(function(){return h})),n.d(t,"setBackgroundModalParams",(function(){return S})),n.d(t,"backgroundAdded",(function(){return E})),n.d(t,"backgroundEdited",(function(){return v})),n.d(t,"setCurrentBackgroundLayer",(function(){return O})),n.d(t,"allowBackgroundsDeletion",(function(){return j})),n.d(t,"updateThumbnail",(function(){return A})),n.d(t,"removeBackground",(function(){return w})),n.d(t,"clearBackgrounds",(function(){return T})),n.d(t,"clearModalParameters",(function(){return _})),n.d(t,"confirmDeleteBackgroundModal",(function(){return M}));var r="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",i="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",a="BACKGROUND_SELECTOR:BACKGROUND_ADDED",c="BACKGROUND_SELECTOR:BACKGROUND_EDITED",s="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",u="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",l="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",d="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",b="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function y(e){return{type:f,backgrounds:e}}function g(e){return{type:r,source:e}}function h(e){return{type:s,modalParams:e}}function S(e){return{type:u,modalParams:e}}function E(e){return{type:a,layerId:e}}function v(e){return{type:c,layerId:e}}function O(e){return{type:i,layerId:e}}function j(e){return{type:b,allow:e}}function A(e,t){return{type:l,thumbnailData:e,id:t}}function w(e){return{type:o,backgroundId:e}}function T(){return{type:p}}function _(){return{type:d}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:m,show:e,layerTitle:t,layerId:n}}},"./MapStore2/web/client/actions/catalog.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_LAYERS_FROM_CATALOGS",(function(){return O})),n.d(t,"TEXT_SEARCH",(function(){return j})),n.d(t,"RECORD_LIST_LOADED",(function(){return A})),n.d(t,"RESET_CATALOG",(function(){return w})),n.d(t,"CATALOG_CLOSE",(function(){return T})),n.d(t,"RECORD_LIST_LOAD_ERROR",(function(){return _})),n.d(t,"CHANGE_CATALOG_FORMAT",(function(){return M})),n.d(t,"ADD_LAYER_ERROR",(function(){return P})),n.d(t,"DESCRIBE_ERROR",(function(){return x})),n.d(t,"CHANGE_SELECTED_SERVICE",(function(){return R})),n.d(t,"CHANGE_CATALOG_MODE",(function(){return C})),n.d(t,"CHANGE_METADATA_TEMPLATE",(function(){return I})),n.d(t,"CHANGE_TITLE",(function(){return D})),n.d(t,"CHANGE_TEXT",(function(){return L})),n.d(t,"CHANGE_TYPE",(function(){return N})),n.d(t,"CHANGE_SERVICE_PROPERTY",(function(){return k})),n.d(t,"CHANGE_SERVICE_FORMAT",(function(){return F})),n.d(t,"FOCUS_SERVICES_LIST",(function(){return G})),n.d(t,"CHANGE_URL",(function(){return U})),n.d(t,"ADD_CATALOG_SERVICE",(function(){return B})),n.d(t,"DELETE_CATALOG_SERVICE",(function(){return H})),n.d(t,"ADD_SERVICE",(function(){return z})),n.d(t,"DELETE_SERVICE",(function(){return Y})),n.d(t,"SAVING_SERVICE",(function(){return V})),n.d(t,"CATALOG_INITED",(function(){return W})),n.d(t,"GET_METADATA_RECORD_BY_ID",(function(){return q})),n.d(t,"SET_LOADING",(function(){return K})),n.d(t,"TOGGLE_TEMPLATE",(function(){return Q})),n.d(t,"TOGGLE_THUMBNAIL",(function(){return Z})),n.d(t,"TOGGLE_ADVANCED_SETTINGS",(function(){return $})),n.d(t,"addLayersMapViewerUrl",(function(){return X})),n.d(t,"textSearch",(function(){return J})),n.d(t,"recordsLoaded",(function(){return ee})),n.d(t,"changeCatalogFormat",(function(){return te})),n.d(t,"savingService",(function(){return ne})),n.d(t,"setLoading",(function(){return re})),n.d(t,"changeSelectedService",(function(){return oe})),n.d(t,"focusServicesList",(function(){return ie})),n.d(t,"changeCatalogMode",(function(){return ae})),n.d(t,"changeTitle",(function(){return ce})),n.d(t,"changeText",(function(){return se})),n.d(t,"changeServiceProperty",(function(){return ue})),n.d(t,"changeServiceFormat",(function(){return le})),n.d(t,"changeType",(function(){return pe})),n.d(t,"changeUrl",(function(){return fe})),n.d(t,"addService",(function(){return de})),n.d(t,"addCatalogService",(function(){return me})),n.d(t,"deleteCatalogService",(function(){return be})),n.d(t,"deleteService",(function(){return ye})),n.d(t,"resetCatalog",(function(){return ge})),n.d(t,"recordsLoadError",(function(){return he})),n.d(t,"catalogInited",(function(){return Se})),n.d(t,"initCatalog",(function(){return Ee})),n.d(t,"catalogClose",(function(){return ve})),n.d(t,"getRecords",(function(){return Oe})),n.d(t,"describeError",(function(){return je})),n.d(t,"addLayerAndDescribe",(function(){return Ae})),n.d(t,"addLayer",(function(){return we})),n.d(t,"addLayerError",(function(){return Te})),n.d(t,"getMetadataRecordById",(function(){return _e})),n.d(t,"changeMetadataTemplate",(function(){return Me})),n.d(t,"toggleAdvancedSettings",(function(){return Pe})),n.d(t,"toggleTemplate",(function(){return xe})),n.d(t,"toggleThumbnail",(function(){return Re})),n.d(t,"recordsNotFound",(function(){return Ce}));var r=n("./MapStore2/web/client/api/CSW.js"),o=n.n(r),i=n("./MapStore2/web/client/api/WMS.js"),a=n("./MapStore2/web/client/api/WMTS.js"),c=n.n(a),s=n("./MapStore2/web/client/api/mapBackground.js"),u=n.n(s),l=n("./MapStore2/web/client/actions/layers.js"),p=n("./MapStore2/web/client/actions/map.js"),f=n("./MapStore2/web/client/utils/LayersUtils.js"),d=n("./MapStore2/web/client/utils/ConfigUtils.js"),m=n("./MapStore2/node_modules/lodash/lodash.js"),b=n("./MapStore2/web/client/selectors/catalog.js"),y=n("./MapStore2/web/client/selectors/layers.js"),g=n("./MapStore2/web/client/actions/notifications.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={csw:o.a,wms:i.default,wmts:c.a,backgrounds:u.a},O="CATALOG:ADD_LAYERS_FROM_CATALOGS",j="CATALOG:TEXT_SEARCH",A="CATALOG:RECORD_LIST_LOADED",w="CATALOG:RESET_CATALOG",T="CATALOG:CATALOG_CLOSE",_="CATALOG:RECORD_LIST_LOAD_ERROR",M="CATALOG:CHANGE_CATALOG_FORMAT",P="CATALOG:ADD_LAYER_ERROR",x="CATALOG:DESCRIBE_ERROR",R="CATALOG:CHANGE_SELECTED_SERVICE",C="CATALOG:CHANGE_CATALOG_MODE",I="CATALOG:CHANGE_METADATA_TEMPLATE",D="CATALOG:CHANGE_TITLE",L="CATALOG:CHANGE_TEXT",N="CATALOG:CHANGE_TYPE",k="CATALOG:CHANGE_SERVICE_PROPERTY",F="CATALOG:CHANGE_SERVICE_FORMAT",G="CATALOG:FOCUS_SERVICES_LIST",U="CATALOG:CHANGE_URL",B="CATALOG:ADD_CATALOG_SERVICE",H="CATALOG:DELETE_CATALOG_SERVICE",z="CATALOG:ADD_SERVICE",Y="CATALOG:DELETE_SERVICE",V="CATALOG:SAVING_SERVICE",W="CATALOG:INIT",q="CATALOG:GET_METADATA_RECORD_BY_ID",K="CATALOG:SET_LOADING",Q="CATALOG:TOGGLE_TEMPLATE",Z="CATALOG:TOGGLE_THUMBNAIL",$="CATALOG:TOGGLE_ADVANCED_SETTINGS";function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:O,layers:e,sources:t}}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=e.url,r=e.startPosition,o=e.maxRecords,i=e.text,a=e.options,c=void 0===a?{}:a;return{type:j,format:t,url:n,startPosition:r,maxRecords:o,text:i,options:c}}function ee(e,t){return{type:A,searchOptions:e,result:t}}function te(e){return{type:M,format:e}}function ne(e){return{type:V,status:e}}function re(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:K,loading:e}}function oe(e){return{type:R,service:e}}function ie(e){return{type:G,status:e}}function ae(e,t){return{type:C,mode:e,isNew:t}}function ce(e){return{type:D,title:e}}function se(e){return{type:L,text:e}}function ue(e,t){return{type:k,property:e,value:t}}function le(e){return{type:F,format:e}}function pe(e){return{type:N,newType:e}}function fe(e){return{type:U,url:e}}function de(){return{type:z}}function me(e){return{type:B,service:e}}function be(e){return{type:H,service:e}}function ye(){return{type:Y}}function ge(){return{type:w}}function he(e){return{type:_,error:e}}function Se(){return{type:W}}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return function(t){Object.keys(e).forEach((function(t){e[t].reset()})),t(Se())}}function ve(){return{type:T}}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return function(a){a(re(!0)),v[e].getRecords(t,n,r,o,i).then((function(e){e.error?a(he(e)):a(ee({url:t,startPosition:n,maxRecords:r,filter:o},e))})).catch((function(e){a(he(e))}))}}function je(e,t){return{type:x,layer:e,error:t}}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoomToLayer,r=void 0!==n&&n;return function(t,n){var o=n(),i=Object(y.layersSelector)(o),a=f.getLayerId(e,i||[]);return t(Object(l.addLayer)(S(S({},e),{},{id:a}))),r&&e.bbox&&t(Object(p.zoomToExtent)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?v.wms.describeLayers(f.getLayerUrl(e),e.name).then((function(n){if(n){var r=Object(m.find)(n,(function(t){return t.name===e.name}));if(r&&"WFS"===r.owsType){var i=d.filterUrlParams(d.cleanDuplicatedQuestionMarks(r.owsURL),Object(b.authkeyParamNameSelector)(o));t(Object(l.changeLayerProperties)(a,{search:{url:i,type:"wfs"}}))}}})).catch((function(n){return t(je(e,n))})):null}}var we=Ae;function Te(e){return{type:P,error:e}}function _e(e){return{type:q,metadataOptions:e}}var Me=function(e){return{type:I,metadataTemplate:e}},Pe=function(){return{type:$}},xe=function(){return{type:Q}},Re=function(){return{type:Z}};function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(g.error)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},"./MapStore2/web/client/actions/draw.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CHANGE_DRAWING_STATUS",(function(){return r})),n.d(t,"END_DRAWING",(function(){return o})),n.d(t,"SET_CURRENT_STYLE",(function(){return i})),n.d(t,"GEOMETRY_CHANGED",(function(){return a})),n.d(t,"DRAW_SUPPORT_STOPPED",(function(){return c})),n.d(t,"FEATURES_SELECTED",(function(){return s})),n.d(t,"DRAWING_FEATURE",(function(){return u})),n.d(t,"geometryChanged",(function(){return l})),n.d(t,"selectFeatures",(function(){return p})),n.d(t,"drawingFeatures",(function(){return f})),n.d(t,"drawStopped",(function(){return d})),n.d(t,"changeDrawingStatus",(function(){return m})),n.d(t,"endDrawing",(function(){return b})),n.d(t,"setCurrentStyle",(function(){return y})),n.d(t,"drawSupportReset",(function(){return g}));var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",c="DRAW:DRAW_SUPPORT_STOPPED",s="DRAW:FEATURES_SELECTED",u="DRAW:DRAWING_FEATURES";function l(e,t,n,r,o){return{type:a,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:s,features:e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:u,features:e}}function d(){return{type:c}}function m(e,t,n,o,i,a){return{type:r,status:e,method:t,owner:n,features:o,options:i,style:a}}function b(e,t){return{type:o,geometry:e,owner:t}}function y(e){return{type:i,currentStyle:e}}var g=function(e){return m("clean","",e,[],{})}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SET_UP",(function(){return r})),n.d(t,"SELECT_FEATURES",(function(){return o})),n.d(t,"DESELECT_FEATURES",(function(){return i})),n.d(t,"CLEAR_SELECTION",(function(){return a})),n.d(t,"SET_SELECTION_OPTIONS",(function(){return c})),n.d(t,"TOGGLE_MODE",(function(){return s})),n.d(t,"TOGGLE_FEATURES_SELECTION",(function(){return u})),n.d(t,"FEATURES_MODIFIED",(function(){return l})),n.d(t,"CREATE_NEW_FEATURE",(function(){return p})),n.d(t,"SAVE_CHANGES",(function(){return f})),n.d(t,"SAVING",(function(){return d})),n.d(t,"START_EDITING_FEATURE",(function(){return m})),n.d(t,"START_DRAWING_FEATURE",(function(){return b})),n.d(t,"DELETE_GEOMETRY",(function(){return y})),n.d(t,"DELETE_GEOMETRY_FEATURE",(function(){return g})),n.d(t,"SAVE_SUCCESS",(function(){return h})),n.d(t,"CLEAR_CHANGES",(function(){return S})),n.d(t,"SAVE_ERROR",(function(){return E})),n.d(t,"DELETE_SELECTED_FEATURES",(function(){return v})),n.d(t,"DELETE_SELECTED_FEATURES_CONFIRM",(function(){return O})),n.d(t,"SET_FEATURES",(function(){return j})),n.d(t,"SORT_BY",(function(){return A})),n.d(t,"SET_LAYER",(function(){return w})),n.d(t,"UPDATE_FILTER",(function(){return T})),n.d(t,"CHANGE_PAGE",(function(){return _})),n.d(t,"GEOMETRY_CHANGED",(function(){return M})),n.d(t,"DOCK_SIZE_FEATURES",(function(){return P})),n.d(t,"TOGGLE_TOOL",(function(){return x})),n.d(t,"CUSTOMIZE_ATTRIBUTE",(function(){return R})),n.d(t,"CLOSE_FEATURE_GRID_CONFIRM",(function(){return C})),n.d(t,"OPEN_FEATURE_GRID",(function(){return I})),n.d(t,"CLOSE_FEATURE_GRID",(function(){return D})),n.d(t,"CLEAR_CHANGES_CONFIRMED",(function(){return L})),n.d(t,"FEATURE_GRID_CLOSE_CONFIRMED",(function(){return N})),n.d(t,"SET_PERMISSION",(function(){return k})),n.d(t,"DISABLE_TOOLBAR",(function(){return F})),n.d(t,"ACTIVATE_TEMPORARY_CHANGES",(function(){return G})),n.d(t,"DEACTIVATE_GEOMETRY_FILTER",(function(){return U})),n.d(t,"OPEN_ADVANCED_SEARCH",(function(){return B})),n.d(t,"ZOOM_ALL",(function(){return H})),n.d(t,"INIT_PLUGIN",(function(){return z})),n.d(t,"SIZE_CHANGE",(function(){return Y})),n.d(t,"TOGGLE_SHOW_AGAIN_FLAG",(function(){return V})),n.d(t,"HIDE_SYNC_POPOVER",(function(){return W})),n.d(t,"MODES",(function(){return q})),n.d(t,"START_SYNC_WMS",(function(){return K})),n.d(t,"STOP_SYNC_WMS",(function(){return Q})),n.d(t,"STORE_ADVANCED_SEARCH_FILTER",(function(){return Z})),n.d(t,"LOAD_MORE_FEATURES",(function(){return $})),n.d(t,"GRID_QUERY_RESULT",(function(){return X})),n.d(t,"SET_TIME_SYNC",(function(){return J})),n.d(t,"toggleShowAgain",(function(){return ee})),n.d(t,"hideSyncPopover",(function(){return te})),n.d(t,"fatureGridQueryResult",(function(){return ne})),n.d(t,"storeAdvancedSearchFilter",(function(){return re})),n.d(t,"initPlugin",(function(){return oe})),n.d(t,"clearChangeConfirmed",(function(){return ie})),n.d(t,"closeFeatureGridConfirmed",(function(){return ae})),n.d(t,"selectFeatures",(function(){return ce})),n.d(t,"setUp",(function(){return se})),n.d(t,"geometryChanged",(function(){return ue})),n.d(t,"startEditingFeature",(function(){return le})),n.d(t,"startDrawingFeature",(function(){return pe})),n.d(t,"deselectFeatures",(function(){return fe})),n.d(t,"deleteGeometry",(function(){return de})),n.d(t,"deleteGeometryFeature",(function(){return me})),n.d(t,"clearSelection",(function(){return be})),n.d(t,"toggleSelection",(function(){return ye})),n.d(t,"setSelectionOptions",(function(){return ge})),n.d(t,"setFeatures",(function(){return he})),n.d(t,"dockSizeFeatures",(function(){return Se})),n.d(t,"sort",(function(){return Ee})),n.d(t,"changePage",(function(){return ve})),n.d(t,"setLayer",(function(){return Oe})),n.d(t,"updateFilter",(function(){return je})),n.d(t,"toggleTool",(function(){return Ae})),n.d(t,"customizeAttribute",(function(){return we})),n.d(t,"toggleEditMode",(function(){return Te})),n.d(t,"toggleViewMode",(function(){return _e})),n.d(t,"featureModified",(function(){return Me})),n.d(t,"createNewFeatures",(function(){return Pe})),n.d(t,"saveChanges",(function(){return xe})),n.d(t,"saveSuccess",(function(){return Re})),n.d(t,"deleteFeaturesConfirm",(function(){return Ce})),n.d(t,"deleteFeatures",(function(){return Ie})),n.d(t,"featureSaving",(function(){return De})),n.d(t,"clearChanges",(function(){return Le})),n.d(t,"saveError",(function(){return Ne})),n.d(t,"closeFeatureGridConfirm",(function(){return ke})),n.d(t,"closeFeatureGrid",(function(){return Fe})),n.d(t,"openFeatureGrid",(function(){return Ge})),n.d(t,"disableToolbar",(function(){return Ue})),n.d(t,"setPermission",(function(){return Be})),n.d(t,"openAdvancedSearch",(function(){return He})),n.d(t,"zoomAll",(function(){return ze})),n.d(t,"startSyncWMS",(function(){return Ye})),n.d(t,"sizeChange",(function(){return Ve})),n.d(t,"moreFeatures",(function(){return We})),n.d(t,"activateTemporaryChanges",(function(){return qe})),n.d(t,"deactivateGeometryFilter",(function(){return Ke})),n.d(t,"setTimeSync",(function(){return Qe}));var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",s="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",l="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",m="FEATUREGRID:START_EDITING_FEATURE",b="FEATUREGRID:START_DRAWING_FEATURE",y="FEATUREGRID:DELETE_GEOMETRY",g="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",S="FEATUREGRID:CLEAR_CHANGES",E="FEATUREGRID:SAVE_ERROR",v="FEATUREGRID:DELETE_SELECTED_FEATURES",O="FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM",j="SET_FEATURES",A="FEATUREGRID:SORT_BY",w="FEATUREGRID:SET_LAYER",T="QUERY:UPDATE_FILTER",_="FEATUREGRID:CHANGE_PAGE",M="FEATUREGRID:GEOMETRY_CHANGED",P="DOCK_SIZE_FEATURES",x="FEATUREGRID:TOGGLE_TOOL",R="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",C="ASK_CLOSE_FEATURE_GRID_CONFIRM",I="FEATUREGRID:OPEN_GRID",D="FEATUREGRID:CLOSE_GRID",L="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",k="FEATUREGRID:SET_PERMISSION",F="FEATUREGRID:DISABLE_TOOLBAR",G="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",B="FEATUREGRID:ADVANCED_SEARCH",H="FEATUREGRID:ZOOM_ALL",z="FEATUREGRID:INIT_PLUGIN",Y="FEATUREGRID:SIZE_CHANGE",V="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",W="FEATUREGRID:HIDE_SYNC_POPOVER",q={EDIT:"EDIT",VIEW:"VIEW"},K="FEATUREGRID:START_SYNC_WMS",Q="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",X="FEATUREGRID:QUERY_RESULT",J="FEATUREGRID:SET_TIME_SYNC";function ee(){return{type:V}}function te(){return{type:W}}function ne(e,t){return{type:X,features:e,pages:t}}function re(e){return{type:Z,filterObj:e}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:z,options:e}}function ie(){return{type:L}}function ae(){return{type:N}}function ce(e,t){return{type:o,features:e,append:t}}function se(e){return{type:r,options:e}}function ue(e){return{type:M,features:e}}function le(){return{type:m}}function pe(){return{type:b}}function fe(e){return{type:i,features:e}}function de(){return{type:y}}function me(e){return{type:g,features:e}}function be(){return{type:a}}function ye(e){return{type:u,features:e}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:c,multiselect:n}}function he(e){return{type:j,features:e}}function Se(e){return{type:P,dockSize:e}}function Ee(e,t){return{type:A,sortBy:e,sortOrder:t}}function ve(e,t){return{type:_,page:e,size:t}}function Oe(e){return{type:w,id:e}}function je(e){return{type:T,update:e}}function Ae(e,t){return{type:x,tool:e,value:t}}function we(e,t,n){return{type:R,name:e,key:t,value:n}}function Te(){return{type:s,mode:q.EDIT}}function _e(){return{type:s,mode:q.VIEW}}function Me(e,t){return{type:l,features:e,updated:t}}function Pe(e){return{type:p,features:e}}function xe(){return{type:f}}function Re(){return{type:h}}function Ce(){return{type:O}}function Ie(){return{type:v}}function De(){return{type:d}}function Le(){return{type:S}}function Ne(){return{type:E}}function ke(){return{type:C}}function Fe(){return{type:D}}function Ge(){return{type:I}}function Ue(e){return{type:F,disabled:e}}function Be(e){return{type:k,permission:e}}function He(){return{type:B}}function ze(){return{type:H}}function Ye(){return{type:K}}function Ve(e,t){return{type:Y,size:e,dockProps:t}}var We=function(e){return{type:$,pages:e}},qe=function(e){return{type:G,activated:e}},Ke=function(e){return{type:U,deactivated:e}},Qe=function(e){return{type:J,value:e}}},"./MapStore2/web/client/actions/fullscreen.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TOGGLE_FULLSCREEN",(function(){return r})),n.d(t,"toggleFullscreen",(function(){return o}));var r="TOGGLE_FULLSCREEN";function o(e,t){return{type:r,enable:e,elementSelector:t}}},"./MapStore2/web/client/actions/highlight.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HIGHLIGHT_STATUS",(function(){return r})),n.d(t,"UPDATE_HIGHLIGHTED",(function(){return o})),n.d(t,"SET_HIGHLIGHT_FEATURES_PATH",(function(){return i})),n.d(t,"highlightStatus",(function(){return a})),n.d(t,"setHighlightFeaturesPath",(function(){return c})),n.d(t,"updateHighlighted",(function(){return s}));var r="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:r,status:e}}function c(e){return{type:i,featuresPath:e}}function s(e,t){return{type:o,features:e,status:t}}},"./MapStore2/web/client/actions/locate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CHANGE_LOCATE_STATE",(function(){return r})),n.d(t,"LOCATE_ERROR",(function(){return o})),n.d(t,"changeLocateState",(function(){return i})),n.d(t,"onLocateError",(function(){return a}));var r="CHANGE_LOCATE_STATE",o="LOCATE_ERROR";function i(e){return{type:r,state:e}}function a(e){return{type:o,error:e}}},"./MapStore2/web/client/actions/mapPopups.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"ADD_MAP_POPUP",(function(){return a})),n.d(t,"REMOVE_MAP_POPUP",(function(){return c})),n.d(t,"CLEAN_MAP_POPUPS",(function(){return s})),n.d(t,"addPopup",(function(){return u})),n.d(t,"removePopup",(function(){return l})),n.d(t,"cleanPopups",(function(){return p}));var a="MAP:ADD_POPUP",c="MAP:REMOVE_POPUP",s="MAP:CLEAN_POPUPS",u=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:a,id:e,popup:o({id:e},t),single:n}},l=function(e){return{type:c,id:e}},p=function(){return{type:s}}},"./MapStore2/web/client/actions/maplayout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_MAP_LAYOUT",(function(){return r})),n.d(t,"updateMapLayout",(function(){return o}));var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:r,layout:e}}},"./MapStore2/web/client/actions/measurement.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"CHANGE_MEASUREMENT_TOOL",(function(){return i})),n.d(t,"CHANGE_MEASUREMENT_STATE",(function(){return a})),n.d(t,"CHANGE_UOM",(function(){return c})),n.d(t,"CHANGED_GEOMETRY",(function(){return s})),n.d(t,"SET_TEXT_LABELS",(function(){return u})),n.d(t,"SET_CURRENT_FEATURE",(function(){return l})),n.d(t,"ADD_AS_LAYER",(function(){return p})),n.d(t,"RESET_GEOMETRY",(function(){return f})),n.d(t,"CHANGE_FORMAT",(function(){return d})),n.d(t,"CHANGE_COORDINATES",(function(){return m})),n.d(t,"ADD_MEASURE_AS_ANNOTATION",(function(){return b})),n.d(t,"UPDATE_MEASURES",(function(){return y})),n.d(t,"INIT",(function(){return g})),n.d(t,"SET_MEASUREMENT_CONFIG",(function(){return h})),n.d(t,"SET_ANNOTATION_MEASUREMENT",(function(){return S})),n.d(t,"addAnnotation",(function(){return E})),n.d(t,"toggleMeasurement",(function(){return v})),n.d(t,"changeMeasurement",(function(){return O})),n.d(t,"setAnnotationMeasurement",(function(){return j})),n.d(t,"changeUom",(function(){return A})),n.d(t,"changeGeometry",(function(){return w})),n.d(t,"setMeasurementConfig",(function(){return T})),n.d(t,"setTextLabels",(function(){return _})),n.d(t,"setCurrentFeature",(function(){return M})),n.d(t,"addAsLayer",(function(){return P})),n.d(t,"changeFormatMeasurement",(function(){return x})),n.d(t,"changeCoordinates",(function(){return R})),n.d(t,"resetGeometry",(function(){return C})),n.d(t,"updateMeasures",(function(){return I})),n.d(t,"changeMeasurementState",(function(){return D})),n.d(t,"init",(function(){return L}));var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",c="MEASUREMENT:CHANGE_UOM",s="MEASUREMENT:CHANGED_GEOMETRY",u="MEASUREMENT:SET_TEXT_LABELS",l="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",d="MEASUREMENT:CHANGE_FORMAT",m="MEASUREMENT:CHANGE_COORDINATES",b="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",y="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",S="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function E(e,t,n,r,o){return{type:b,features:e,textLabels:t,uom:n,save:r,id:o}}function v(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:i},e)}function O(e){return function(t){t(v(e))}}function j(e,t){return{type:S,features:e,id:t}}function A(e,t,n){return{type:c,uom:e,value:t,previousUom:n}}function w(e){return{type:s,features:e}}function T(e,t){return{type:h,property:e,value:t}}function _(e){return{type:u,textLabels:e}}function M(e){return{type:l,featureIndex:e}}function P(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function x(e){return{type:d,format:e}}function R(e){return{type:m,coordinates:e}}function C(){return{type:f}}function I(e){return{type:y,measures:e}}function D(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},"./MapStore2/web/client/actions/playback.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PLAY",(function(){return r})),n.d(t,"PAUSE",(function(){return o})),n.d(t,"STOP",(function(){return i})),n.d(t,"SET_FRAMES",(function(){return a})),n.d(t,"APPEND_FRAMES",(function(){return c})),n.d(t,"FRAMES_LOADING",(function(){return s})),n.d(t,"SET_CURRENT_FRAME",(function(){return u})),n.d(t,"SELECT_PLAYBACK_RANGE",(function(){return l})),n.d(t,"CHANGE_SETTING",(function(){return p})),n.d(t,"TOGGLE_ANIMATION_MODE",(function(){return f})),n.d(t,"ANIMATION_STEP_MOVE",(function(){return d})),n.d(t,"UPDATE_METADATA",(function(){return m})),n.d(t,"STATUS",(function(){return b})),n.d(t,"play",(function(){return y})),n.d(t,"pause",(function(){return g})),n.d(t,"stop",(function(){return h})),n.d(t,"setFrames",(function(){return S})),n.d(t,"setCurrentFrame",(function(){return E})),n.d(t,"appendFrames",(function(){return v})),n.d(t,"framesLoading",(function(){return O})),n.d(t,"selectPlaybackRange",(function(){return j})),n.d(t,"changeSetting",(function(){return A})),n.d(t,"toggleAnimationMode",(function(){return w})),n.d(t,"animationStepMove",(function(){return T})),n.d(t,"updateMetadata",(function(){return _}));var r="PLAYBACK:START",o="PLAYBACK:PAUSE",i="PLAYBACK:STOP",a="PLAYBACK:SET_FRAMES",c="PLAYBACK:APPEND_FRAMES",s="PLAYBACK:FRAMES_LOADING",u="PLAYBACK:SET_CURRENT_FRAME",l="PLAYBACK:SELECT_PLAYBACK_RANGE",p="PLAYBACK:SETTINGS_CHANGE",f="PLAYBACK:TOGGLE_ANIMATION_MODE",d="PLAYBACK:ANIMATION_STEP_MOVE",m="PLAYBACK:UPDATE_METADATA",b={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},y=function(){return{type:r}},g=function(){return{type:o}},h=function(){return{type:i}},S=function(e){return{type:a,frames:e}},E=function(e){return{type:u,frame:e}},v=function(e){return{type:c,frames:e}},O=function(e){return{type:s,loading:e}},j=function(e){return{type:l,range:e}},A=function(e,t){return{type:p,name:e,value:t}},w=function(){return{type:f}},T=function(e){return{type:d,direction:e}},_=function(e){var t=e.next,n=e.previous,r=e.forTime;return{type:m,forTime:r,next:t,previous:n}}},"./MapStore2/web/client/actions/search.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SEARCH_LAYER_WITH_FILTER",(function(){return o})),n.d(t,"TEXT_SEARCH_STARTED",(function(){return i})),n.d(t,"TEXT_SEARCH_RESULTS_LOADED",(function(){return a})),n.d(t,"TEXT_SEARCH_PERFORMED",(function(){return c})),n.d(t,"TEXT_SEARCH_RESULTS_PURGE",(function(){return s})),n.d(t,"TEXT_SEARCH_RESET",(function(){return u})),n.d(t,"TEXT_SEARCH_ADD_MARKER",(function(){return l})),n.d(t,"TEXT_SEARCH_TEXT_CHANGE",(function(){return p})),n.d(t,"TEXT_SEARCH_LOADING",(function(){return f})),n.d(t,"TEXT_SEARCH_NESTED_SERVICES_SELECTED",(function(){return d})),n.d(t,"TEXT_SEARCH_ERROR",(function(){return m})),n.d(t,"TEXT_SEARCH_CANCEL_ITEM",(function(){return b})),n.d(t,"TEXT_SEARCH_ITEM_SELECTED",(function(){return y})),n.d(t,"TEXT_SEARCH_SHOW_GFI",(function(){return g})),n.d(t,"TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",(function(){return h})),n.d(t,"UPDATE_RESULTS_STYLE",(function(){return S})),n.d(t,"CHANGE_SEARCH_TOOL",(function(){return E})),n.d(t,"ZOOM_ADD_POINT",(function(){return v})),n.d(t,"CHANGE_FORMAT",(function(){return O})),n.d(t,"CHANGE_COORD",(function(){return j})),n.d(t,"changeFormat",(function(){return A})),n.d(t,"searchLayerWithFilter",(function(){return w})),n.d(t,"zoomAndAddPoint",(function(){return T})),n.d(t,"changeActiveSearchTool",(function(){return _})),n.d(t,"searchResultLoaded",(function(){return M})),n.d(t,"searchTextChanged",(function(){return P})),n.d(t,"searchTextLoading",(function(){return x})),n.d(t,"searchResultError",(function(){return R})),n.d(t,"resultsPurge",(function(){return C})),n.d(t,"resetSearch",(function(){return I})),n.d(t,"addMarker",(function(){return D})),n.d(t,"textSearch",(function(){return L})),n.d(t,"selectSearchItem",(function(){return N})),n.d(t,"showGFI",(function(){return k})),n.d(t,"selectNestedService",(function(){return F})),n.d(t,"cancelSelectedItem",(function(){return G})),n.d(t,"setHighlightedFeature",(function(){return U})),n.d(t,"updateResultsStyle",(function(){return B})),n.d(t,"changeCoord",(function(){return H})),n.d(t,"nonQueriableLayerError",(function(){return z})),n.d(t,"serverError",(function(){return Y}));var r=n("./MapStore2/web/client/actions/notifications.js"),o="SEARCH:SEARCH_WITH_FILTER",i="TEXT_SEARCH_STARTED",a="TEXT_SEARCH_RESULTS_LOADED",c="TEXT_SEARCH_PERFORMED",s="TEXT_SEARCH_RESULTS_PURGE",u="TEXT_SEARCH_RESET",l="TEXT_SEARCH_ADD_MARKER",p="TEXT_SEARCH_TEXT_CHANGE",f="TEXT_SEARCH_LOADING",d="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",b="TEXT_SEARCH_CANCEL_ITEM",y="TEXT_SEARCH_ITEM_SELECTED",g="TEXT_SEARCH_SHOW_GFI",h="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",S="UPDATE_RESULTS_STYLE",E="CHANGE_SEARCH_TOOL",v="SEARCH:ZOOM_ADD_POINT",O="SEARCH:CHANGE_FORMAT",j="SEARCH:CHANGE_COORD";function A(e){return{type:O,format:e}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,n=e.cql_filter;return{type:o,layer:t,cql_filter:n}}function T(e,t,n){return{type:v,pos:e,zoom:t,crs:n}}function _(e){return{type:E,activeSearchTool:e}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:a,results:e,append:t,services:n}}function P(e){return{type:p,searchText:e}}function x(e){return{type:f,loading:e}}function R(e){return{type:m,error:e}}function C(){return{type:s}}function I(){return{type:u}}function D(e,t){return{type:l,markerPosition:e,markerLabel:t}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.services,r=void 0===n?null:n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:i,searchText:e,services:r,maxResults:o}}function N(e,t,n){return{type:y,item:e,mapConfig:t,resultsStyle:n}}var k=function(e){return{type:g,item:e}};function F(e,t,n){return{type:d,searchText:n,services:e,items:t}}function G(e){return{type:b,item:e}}function U(e){return{type:h,highlightedFeature:e}}function B(e){return{type:S,style:e}}function H(e,t){return{type:j,coord:e,val:t}}function z(){return Object(r.error)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function Y(){return Object(r.error)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},"./MapStore2/web/client/actions/selection.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CHANGE_SELECTION_STATE",(function(){return r})),n.d(t,"changeSelectionState",(function(){return o}));var r="CHANGE_SELECTION_STATE";function o(e){return{type:r,geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}},"./MapStore2/web/client/actions/styleeditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TOGGLE_STYLE_EDITOR",(function(){return r})),n.d(t,"SELECT_STYLE_TEMPLATE",(function(){return o})),n.d(t,"UPDATE_TEMPORARY_STYLE",(function(){return i})),n.d(t,"UPDATE_STATUS",(function(){return a})),n.d(t,"RESET_STYLE_EDITOR",(function(){return c})),n.d(t,"ADD_STYLE",(function(){return s})),n.d(t,"CREATE_STYLE",(function(){return u})),n.d(t,"LOADING_STYLE",(function(){return l})),n.d(t,"LOADED_STYLE",(function(){return p})),n.d(t,"ERROR_STYLE",(function(){return f})),n.d(t,"UPDATE_STYLE_CODE",(function(){return d})),n.d(t,"EDIT_STYLE_CODE",(function(){return m})),n.d(t,"DELETE_STYLE",(function(){return b})),n.d(t,"INIT_STYLE_SERVICE",(function(){return y})),n.d(t,"SET_EDIT_PERMISSION",(function(){return g})),n.d(t,"SET_DEFAULT_STYLE",(function(){return h})),n.d(t,"UPDATE_EDITOR_METADATA",(function(){return S})),n.d(t,"toggleStyleEditor",(function(){return E})),n.d(t,"updateStatus",(function(){return v})),n.d(t,"selectStyleTemplate",(function(){return O})),n.d(t,"updateTemporaryStyle",(function(){return j})),n.d(t,"loadingStyle",(function(){return A})),n.d(t,"loadedStyle",(function(){return w})),n.d(t,"createStyle",(function(){return T})),n.d(t,"resetStyleEditor",(function(){return _})),n.d(t,"addStyle",(function(){return M})),n.d(t,"errorStyle",(function(){return P})),n.d(t,"updateStyleCode",(function(){return x})),n.d(t,"editStyleCode",(function(){return R})),n.d(t,"deleteStyle",(function(){return C})),n.d(t,"initStyleService",(function(){return I})),n.d(t,"setEditPermissionStyleEditor",(function(){return D})),n.d(t,"setDefaultStyle",(function(){return L})),n.d(t,"updateEditorMetadata",(function(){return N}));var r="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",i="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",a="STYLEEDITOR:UPDATE_STATUS",c="STYLEEDITOR:RESET_STYLE_EDITOR",s="STYLEEDITOR:ADD_STYLE",u="STYLEEDITOR:CREATE_STYLE",l="STYLEEDITOR:LOADING_STYLE",p="STYLEEDITOR:LOADED_STYLE",f="STYLEEDITOR:ERROR_STYLE",d="STYLEEDITOR:UPDATE_STYLE_CODE",m="STYLEEDITOR:EDIT_STYLE_CODE",b="STYLEEDITOR:DELETE_STYLE",y="STYLEEDITOR:INIT_STYLE_SERVICE",g="STYLEEDITOR:SET_EDIT_PERMISSION",h="STYLEEDITOR:SET_DEFAULT_STYLE",S="STYLEEDITOR:UPDATE_EDITOR_METADATA";function E(e,t){return{type:r,layer:e,enabled:t}}function v(e){return{type:a,status:e}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.templateId,r=e.format,i=e.languageVersion,a=e.init;return{type:o,code:t,templateId:n,format:r,init:a,languageVersion:i}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,n=e.templateId,r=e.code,o=e.format,a=e.languageVersion,c=e.init;return{type:i,temporaryId:t,templateId:n,code:r,format:o,init:c,languageVersion:a}}function A(e){return{type:l,status:e}}function w(){return{type:p}}function T(e){return{type:u,settings:e}}function _(){return{type:c}}function M(e){return{type:s,add:e}}function P(e,t){return{type:f,status:e,error:t}}function x(){return{type:d}}function R(e){return{type:m,code:e}}function C(e){return{type:b,styleName:e}}function I(e,t){return{type:y,service:e,canEdit:t}}function D(e){return{type:g,canEdit:e}}function L(){return{type:h}}function N(e){return{type:S,metadata:e}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LAYER_SELECTED_FOR_SEARCH",(function(){return a})),n.d(t,"FEATURE_TYPE_SELECTED",(function(){return c})),n.d(t,"FEATURE_TYPE_LOADED",(function(){return s})),n.d(t,"FEATURE_LOADED",(function(){return u})),n.d(t,"FEATURE_LOADING",(function(){return l})),n.d(t,"FEATURE_TYPE_ERROR",(function(){return p})),n.d(t,"FEATURE_ERROR",(function(){return f})),n.d(t,"QUERY_CREATE",(function(){return d})),n.d(t,"UPDATE_QUERY",(function(){return m})),n.d(t,"QUERY_RESULT",(function(){return b})),n.d(t,"QUERY_ERROR",(function(){return y})),n.d(t,"RESET_QUERY",(function(){return g})),n.d(t,"QUERY",(function(){return h})),n.d(t,"INIT_QUERY_PANEL",(function(){return S})),n.d(t,"TOGGLE_SYNC_WMS",(function(){return E})),n.d(t,"TOGGLE_LAYER_FILTER",(function(){return v})),n.d(t,"toggleSyncWms",(function(){return O})),n.d(t,"toggleLayerFilter",(function(){return j})),n.d(t,"layerSelectedForSearch",(function(){return A})),n.d(t,"initQueryPanel",(function(){return w})),n.d(t,"featureTypeSelected",(function(){return T})),n.d(t,"featureTypeLoaded",(function(){return _})),n.d(t,"featureTypeError",(function(){return M})),n.d(t,"featureLoading",(function(){return P})),n.d(t,"featureLoaded",(function(){return x})),n.d(t,"featureError",(function(){return R})),n.d(t,"querySearchResponse",(function(){return C})),n.d(t,"queryError",(function(){return I})),n.d(t,"updateQuery",(function(){return D})),n.d(t,"loadFeature",(function(){return L})),n.d(t,"createQuery",(function(){return N})),n.d(t,"query",(function(){return k})),n.d(t,"resetQuery",(function(){return F}));var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="LAYER_SELECTED_FOR_SEARCH",c="FEATURE_TYPE_SELECTED",s="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",l="FEATURE_LOADING",p="FEATURE_TYPE_ERROR",f="FEATURE_ERROR",d="QUERY_CREATE",m="QUERY:UPDATE_QUERY",b="QUERY_RESULT",y="QUERY_ERROR",g="RESET_QUERY",h="QUERY",S="INIT_QUERY_PANEL",E="QUERY:TOGGLE_SYNC_WMS",v="QUERY:TOGGLE_LAYER_FILTER";function O(){return{type:E}}function j(){return{type:v}}function A(e){return{type:a,id:e}}function w(){return{type:S}}function T(e,t){return{type:c,url:e,typeName:t}}function _(e,t){return{type:s,typeName:e,featureType:t}}function M(e,t){return{type:p,typeName:e,error:t}}function P(e){return{type:l,isLoading:e}}function x(e,t){return{type:u,typeName:e,feature:t}}function R(e,t){return{type:f,typeName:e,error:t}}function C(e,t,n,r,o){return{type:b,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function I(e){return{type:y,error:e}}function D(e,t){return{type:m,updates:e,reason:t}}function L(e,t){return function(n){return o.a.get(e+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t+"&outputFormat=application/json").then((function(e){if("object"===i(e.data))n(x(t,e.data));else try{JSON.parse(e.data)}catch(e){n(R(t,"Error from WFS: "+e.message))}})).catch((function(e){n(R(t,e))}))}}function N(e,t){return{type:d,searchUrl:e,filterObj:t}}function k(e,t,n,r){return{type:h,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}function F(){return{type:g}}},"./MapStore2/web/client/api/CSW.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),c=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=n("./node_modules/object-assign/index.js"),u=function(e){var t=i.parse(e,!0);return i.format(s({},t,{search:null},{query:s({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},l={parseUrl:u,getRecordById:function(e){return new Promise((function(t){Promise.all([n.e(0),n.e(16)]).then(function(){t(r.get(e).then((function(e){if(e){var t=n("./MapStore2/web/client/utils/ogc/CSW.js").unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var r=t.value.abstractRecord[0].value.dcElement;if(r){for(var o={references:[]},i=0;i<r.length;i++){var c=r[i],s=c.name.localPart,u={};if("references"===s&&c.value)u={value:c.value.content&&a.cleanDuplicatedQuestionMarks(c.value.content[0])||c.value.content||c.value,scheme:c.value.scheme};else u=c.value.content&&c.value.content[0]||c.value.content||c.value;o[s]&&Array.isArray(o[s])?o[s].push(u):o[s]?o[s]=[o[s],u]:o[s]=u}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,n)).catch(n.oe)}))},getRecords:function(e,t,i,s){return new Promise((function(l){Promise.all([n.e(0),n.e(2)]).then(function(){var p=n("./MapStore2/web/client/utils/ogc/CSW.js"),f=p.CSW,d=p.marshaller,m=p.unmarshaller,b=d.marshalString({name:"csw:GetRecords",value:f.getRecords(t,i,s)});l(r.post(u(e),b,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=m.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var n=t.value,r=n.searchResults.abstractRecord||n.searchResults.any,i={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},s=[];if(r)for(var u=0;u<r.length;u++){var l=r[u].value,p={dateStamp:l.dateStamp&&l.dateStamp.date,fileIdentifier:l.fileIdentifier&&l.fileIdentifier.characterString&&l.fileIdentifier.characterString.value,identificationInfo:l.abstractMDIdentification&&l.abstractMDIdentification.value};if(l.boundingBox){var f=void 0,d=void 0,b=void 0;if((b=Array.isArray(l.boundingBox)?o.head(l.boundingBox):l.boundingBox)&&b.value){var y,g,h,S,E=null!==(y=null===(g=b.value)||void 0===g?void 0:g.crs)&&void 0!==y?y:"",v=null===(h=E.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===h?void 0:h[0],O=c.makeNumericEPSG(null===(S=E.match(/EPSG:[0-9]+/))||void 0===S?void 0:S[0]),j=b.value.lowerCorner,A=b.value.upperCorner,w=O||c.extractCrsFromURN(v)||o.last(E.split(":"));if(w){if("EPSG:"===w.slice(0,5)){if(!(d=c.makeNumericEPSG(w)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(w,'"'))}else if(!(d=c.makeNumericEPSG("EPSG:".concat(w))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(w,'"'))}else d="EPSG:4326";"EPSG:4326"===d&&"CRS84"!==w&&"OGC:CRS84"!==w&&(j=[j[1],j[0]],A=[A[1],A[0]]),f=c.makeBboxFromOWS(j,A)}p.boundingBox={extent:f,crs:d}}var T=l.dcElement;if(T){for(var _={references:[]},M=0;M<T.length;M++){var P=T[M],x=P.name.localPart,R={};if("references"===x&&P.value)R={value:P.value.content&&a.cleanDuplicatedQuestionMarks(P.value.content[0])||P.value.content||P.value,scheme:P.value.scheme};else R=P.value.content&&P.value.content[0]||P.value.content||P.value;_[x]&&Array.isArray(_[x])?_[x].push(R):_[x]?_[x]=[_[x],R]:_[x]=R}p.dc=_}s.push(p)}return i.records=s,i}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,n)).catch(n.oe)}))},textSearch:function(e,t,r,o){return new Promise((function(i){Promise.all([n.e(0),n.e(2)]).then(function(){var a=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,c=null;if(o){var s=a.propertyIsLike("csw:AnyText","%"+o+"%");c=a.filter(s)}i(l.getRecords(e,t,r,c))}.bind(null,n)).catch(n.oe)}))},workspaceSearch:function(e,t,r,o,i){return new Promise((function(a){Promise.all([n.e(0),n.e(2)]).then(function(){var c=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,s=i||"%",u=o&&"%"+o+"%"||"%",p=c.propertyIsLike("identifier",s+":"+u),f=c.filter(p);a(l.getRecords(e,t,r,f))}.bind(null,n)).catch(n.oe)}))},reset:function(){}};e.exports=l},"./MapStore2/web/client/api/WMTS.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=n("./node_modules/url/url.js"),a=n("./node_modules/object-assign/index.js"),c=n("./node_modules/xml2js/lib/xml2js.js"),s={},u=n("./MapStore2/node_modules/lodash/lodash.js").castArray,l=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=n("./MapStore2/web/client/utils/WMTSUtils.js"),f=p.getOperations,d=p.getOperation,m=p.getRequestEncoding,b=p.getDefaultStyleIdentifier,y=p.getDefaultFormat,g=function(e){var t=i.parse(e,!0);return i.format(a({},t,{search:null},{query:a({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},h=function(e,t,n,r,o){for(var i=e.Capabilities.Contents,c=f(e),s=m(e),p=i.TileMatrixSet&&u(i.TileMatrixSet)||[],g=[],h=p.length,S=0;S<h;S++)g.push(l.getEPSGCode(p[S]["ows:SupportedCRS"]));var E=i.Layer,v=u(E).filter((function(e){return!r||-1!==e["ows:Identifier"].toLowerCase().indexOf(r.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(r.toLowerCase())}));return{numberOfRecordsMatched:v.length,numberOfRecordsReturned:Math.min(n,v.length),nextRecord:t+Math.min(n,v.length)+1,records:v.filter((function(e,r){return r>=t-1&&r<t-1+n})).map((function(e){return a({},e,{SRS:g,TileMatrixSet:p,queryable:!!d(c,"GetFeatureInfo","KVP"),requestEncoding:s,style:b(e),format:y(e),GetTileURL:d(c,"GetTile",s),capabilitiesURL:o})}))}},S={parseUrl:g,getRecords:function(e,t,n,i){var a=s[e];return a&&(new Date).getTime()<a.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(r){r(h(a.data,t,n,i,e))})):r.get(g(e)).then((function(r){var o;return c.parseString(r.data,{explicitArray:!1},(function(e,t){o=t})),s[e]={timestamp:(new Date).getTime(),data:o},h(o,t,n,i,e)}))},getCapabilities:function(e){var t=s[e];return t&&(new Date).getTime()<t.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(t.data)})):r.get(g(e)).then((function(t){var n;return c.parseString(t.data,{explicitArray:!1},(function(e,t){n=t})),s[e]={timestamp:(new Date).getTime(),data:n},n}))},textSearch:function(e,t,n,r){return S.getRecords(e,t,n,r)},reset:function(){Object.keys(s).forEach((function(e){delete s[e]}))}};e.exports=S},"./MapStore2/web/client/api/mapBackground.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/lodash.js").get,o=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=function(e,t,n,i){var a=r(o.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!i||e.title.indexOf(i)>-1})),c=a.filter((function(e,r){return r>=t-1&&r<n+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:a.length,numberOfRecordsReturned:c.length,records:c,service:{Name:"Background Provider"}})}))};e.exports={getRecords:i,reset:function(){},textSearch:function(e,t,n,r){return i(0,t,n,r)}}},"./MapStore2/web/client/components/I18N/Message.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-intl/lib/index.es.js").FormattedMessage,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"renderFormattedMsg",(function(e){var t=e.msgId,n=e.msgParams,r=e.children;return r&&"function"==typeof r?d.createElement(m,{id:t,values:n},(function(e){return r(e)})):d.createElement(m,{id:t,values:n})})),p(u(e),"renderMsg",(function(e){var t=e.msgId,n=e.children;return n&&"function"==typeof n?n(t):d.createElement("span",null,t||"")})),e}return t=l,(n=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(b,"propTypes",{msgId:f.string.isRequired,msgParams:f.object}),p(b,"contextTypes",{intl:f.object}),e.exports=b},"./MapStore2/web/client/components/I18N/Number.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./MapStore2/node_modules/lodash/lodash.js").isNil,b=n("./node_modules/react-intl/lib/index.es.js").FormattedNumber,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,u=s(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return this.context.intl?d.createElement(b,o({value:this.props.value},this.props.numberParams)):d.createElement("span",null,!m(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&a(t.prototype,n),r&&a(t,r),l}(d.Component);p(y,"propTypes",{value:f.oneOfType([f.object,f.number]),numberParams:f.object}),p(y,"contextTypes",{intl:f.object}),e.exports=y},"./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react-intl/lib/index.es.js").injectIntl,c=n("./node_modules/prop-types/index.js"),s=n("./MapStore2/node_modules/lodash/lodash.js").omit,u=n("./node_modules/recompose/es/Recompose.js"),l=u.compose,p=u.branch,f=u.getContext,d=u.withProps,m=u.withPropsOnChange,b=u.mapProps,y=function(e){return b((function(t){return s(t,e)}))},g={locale:navigator&&navigator.language,formats:{},messages:{},defaultLocale:"en",defaultFormats:{},formatDate:function(e){return e},formatTime:function(e){return e},formatRelative:function(e){return e},formatNumber:function(e){return e},formatPlural:function(e){return e},formatMessage:function(e){return e},formatHTMLMessage:function(e){return e},now:function(){return new Date}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l(f({intl:c.object}),p((function(e){return!!e.intl}),a,d({intl:g})),m(["intl"],(function(t){var n=t.intl,r=void 0===n?{}:n;return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return o(o({},e),{},i({},t,r[t]))}),{})})),y(["intl"]))}},"./MapStore2/web/client/components/background/BackgroundDialog.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/prop-types/index.js"),a=n.n(i),c=n("./node_modules/react-select/dist/react-select.es.js"),s=n("./node_modules/object-assign/index.js"),u=n.n(s),l=n("./node_modules/uuid/v1.js"),p=n.n(l),f=n("./MapStore2/node_modules/lodash/lodash.js"),d=n("./MapStore2/web/client/components/I18N/Message.jsx"),m=n.n(d),b=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),y=n.n(b),g=n("./node_modules/react-bootstrap/es/index.js"),h=n("./MapStore2/web/client/components/maps/forms/Thumbnail.jsx"),S=n.n(h),E=n("./MapStore2/web/client/utils/LocaleUtils.js"),v=n.n(E),O=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=n.n(O)()(g.Button),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r,i=R(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),L(I(t=i.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),L(I(t),"assignParameters",(function(e){return Object(f.keys)(e).map((function(t,n){var r=e[t],o=Object(f.isNumber)(r)?"number":Object(f.isBoolean)(r)?"boolean":"string";return{id:n,param:t,type:o,val:"string"===o?r.toString():r}}))})),L(I(t),"addAdditionalParameter",(function(e,n,r,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===r){var i,a;if("val"===n)switch(o){case"number":(a=Number(e))&&!isNaN(a)||(a=0);break;case"boolean":a=!Object(f.isBoolean)(e)||e;break;default:a=e?e.toString():""}else a=e;return u()({},t,(L(i={},n,a),L(i,"type",o),i))}return t}))})})),L(I(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var n=Object(f.pick)(t.props,"title","format","style","thumbnail"),r=u()({},n,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=r,t}return t=a,(n=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.style"})),o.a.createElement(c.default,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:o.a.createElement(m.a,{msgId:"map.errorFormat"}),SIZE:o.a.createElement(m.a,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?o.a.createElement("div",{className:"dropzone-errorBox alert-danger"},o.a.createElement("p",null,o.a.createElement(m.a,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return o.a.createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.FormGroup,{controlId:"formControlsSelect"},o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.format"})),o.a.createElement(c.default,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),o.a.createElement(N,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(g.ControlLabel,{style:{flex:1}},o.a.createElement(m.a,{msgId:"backgroundDialog.additionalParameters"})),o.a.createElement(N,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,_(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(_(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},o.a.createElement(g.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return o.a.createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},o.a.createElement("div",{style:{display:"flex",flex:1,marginRight:8}},o.a.createElement(g.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:v.a.getMessageById(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(n){return e.addAdditionalParameter(n.target.value,"param",t.id,t.type)}}),"boolean"===t.type?o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(c.default,{onChange:function(n){return e.addAdditionalParameter(n.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):o.a.createElement(g.FormControl,{style:{width:"50%",minWidth:0},placeholder:v.a.getMessageById(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(n){return e.addAdditionalParameter(n.target.value,"val",t.id,t.type)}})),o.a.createElement(c.default,{style:{flex:1,width:90},onChange:function(n){return e.addAdditionalParameter(t.val,"val",t.id,n.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var n=t.label;return w(w({},T(t,["label"])),{},{label:v.a.getMessageById(e.context.messages,n)})}))}),o.a.createElement(N,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},o.a.createElement(g.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return o.a.createElement(y.a,{fitContent:!0,title:o.a.createElement(m.a,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:o.a.createElement(m.a,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:p()(),n=e.props.layer.thumbURL||"",r=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(u()({},e.props.layer,Object(f.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Object(f.omit)(e.state.additionalParameters.reduce((function(e,t){return u()(e,L({},t.param,t.val))}),{}),["source","title"]),format:r,group:"background"},n||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},o.a.createElement(g.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),o.a.createElement(S.a,{onUpdate:function(t,n){return e.setState({thumbnail:{data:t,url:n}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:o.a.createElement(m.a,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Object(f.get)(this.state.thumbnail,"url")||"NODATA"}}),o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.title"})),o.a.createElement(g.FormControl,{value:this.state.title,placeholder:v.a.getMessageById(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&P(t.prototype,n),r&&P(t,r),a}(o.a.Component);L(k,"propTypes",{loading:a.a.bool,editing:a.a.bool,layer:a.a.object,capabilities:a.a.object,onAdd:a.a.func,onClose:a.a.func,source:a.a.string,onSave:a.a.func,addParameters:a.a.func,updateThumbnail:a.a.func,thumbURL:a.a.string,title:a.a.string,format:a.a.string,style:a.a.string,thumbnail:a.a.object,additionalParameters:a.a.object,addParameter:a.a.func,defaultFormat:a.a.string,formatOptions:a.a.array,parameterTypeOptions:a.a.array,booleanOptions:a.a.array}),L(k,"contextTypes",{messages:a.a.object}),L(k,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]})},"./MapStore2/web/client/components/background/BackgroundSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/object-assign/index.js"),b=n("./MapStore2/web/client/components/I18N/Message.jsx"),y=n("./MapStore2/web/client/components/background/PreviewButton.jsx"),g=n("./MapStore2/web/client/components/background/PreviewList.jsx"),h=n("./MapStore2/web/client/components/background/PreviewIcon.jsx"),S=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),E=n("./MapStore2/web/client/components/background/BackgroundDialog.jsx").default,v=n("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),O=n("./node_modules/prop-types/index.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,u=s(p);function p(){var e;i(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(l(e=u.call.apply(u,[this].concat(n))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),f(l(e),"getIcons",(function(t,n,r,o){return e.props.enabled?e.props.layers.map((function(i,a){var c=e.getThumb(i);return d.createElement("div",{style:{width:(o?r:0)+(o?0:r)+t+n,height:r+t+n},className:"background-preview-container"},"mobile"!==e.props.mode&&d.createElement("div",{style:{width:(o?r:0)+t+n},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&d.createElement(S,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,i.title||i.name||"",i.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==i.type&&"wmts"!==i.type&&"tms"!==i.type&&"tileprovider"!==i.type)&&d.createElement(S,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:i,editing:!0})}})),d.createElement(h,{projection:e.props.projection,vertical:o,key:a,src:c,currentLayer:e.props.currentLayer,margin:r,side:t,frame:n,layer:i,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),f(l(e),"getDimensions",(function(t,n,r,o,i,a){var c=i/2-(t+2*n+2*r)-o,s=t+2*n+2*r+(t+2*n+r)*a+o>i/2,u=Math.floor(c/(t+2*n+r));return u=u>a?a:u,{pagination:s,listSize:e.props.enabled?(t+n+r)*u+52:0,visibleIconsLength:u}})),f(l(e),"renderBackgroundSelector",(function(){var t=m({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),n=2*t.frame,r=t.side-n,i=e.props.enabled?t.sidePreview-n:r,a=t.margin,c=e.props.enabled?i-2*n:0,s=e.props.enabled?e.props.tempLayer:e.props.currentLayer,u=e.getIcons(r,n,a,t.vertical),l=e.getDimensions(r,n,a,0,t.vertical?e.props.size.height:e.props.size.width,u.length),p=l.pagination,f=l.listSize,h=l.visibleIconsLength,S=r+n+a,O=r+n+2*a,j=t.vertical?{bottom:O,left:0,width:O,height:f}:{left:i+2*a+n,width:f,height:S},A=t.vertical?{height:S*h,width:S}:{height:S,width:S*h},w=e.props.modalParams&&e.props.modalParams.layer||{},T=(e.props.backgroundList||[]).find((function(e){return e.id===w.id})),_={title:w.title,format:w.format,style:w.style,additionalParameters:w.params,thumbnail:{data:T&&T.thumbnail,url:e.getThumb(w)}},M=e.props.confirmDeleteBackgroundModal||{show:!1},P=M.show,x=M.layerId,R=M.layerTitle;return h<=0&&!e.props.alwaysVisible&&e.props.enabled?null:d.createElement("span",null,d.createElement(v,{draggable:!1,modal:!0,show:P,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(x),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:d.createElement(b,{msgId:"confirm"}),closeText:d.createElement(b,{msgId:"cancel"}),closeGlyph:"1-close"},d.createElement(b,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:R}})),e.props.modalParams&&d.createElement(E,o({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},_,e.props.modalParams)),d.createElement("div",{className:"background-plugin-position",style:e.props.style},d.createElement(y,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(s),side:i,frame:n,margin:a,labelHeight:c,label:s.title,onToggle:e.props.onToggle}),d.createElement("div",{className:"background-list-container",style:j},d.createElement(g,{vertical:t.vertical,start:e.props.start,bottom:0,height:A.height,width:A.width,icons:u,pagination:p,length:h,onStartChange:e.props.onStartChange}))))})),e}return t=p,(n=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&a(t.prototype,n),r&&a(t,r),p}(d.Component);f(j,"propTypes",{mode:O.string,backgroundList:O.array,backgrounds:O.array,start:O.number,style:O.object,enabled:O.bool,layers:O.array,currentLayer:O.object,tempLayer:O.object,size:O.object,dimensions:O.object,thumbs:O.object,mapIsEditable:O.bool,onPropertiesChange:O.func,onToggle:O.func,onLayerChange:O.func,onStartChange:O.func,onAdd:O.func,hasCatalog:O.bool,alwaysVisible:O.bool,enabledCatalog:O.bool,onRemove:O.func,onBackgroundEdit:O.func,source:O.string,addBackgroundProperties:O.func,onUpdateThumbnail:O.func,removeBackground:O.func,onRemoveBackground:O.func,setCurrentBackgroundLayer:O.func,confirmDeleteBackgroundModal:O.object,deletedId:O.string,modalParams:O.object,updateNode:O.func,clearModal:O.func,allowDeletion:O.bool,projection:O.string}),f(j,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:n("./MapStore2/web/client/components/background/img/default.jpg")},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}}),e.exports=j},"./MapStore2/web/client/components/background/PaginationButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,d=n("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",n=this.props.vertical?{width:this.props.side}:{height:this.props.side};return p.createElement("div",{className:t+" text-primary",style:n,onClick:this.props.onClick},p.createElement(f,{glyph:e}))}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component);l(m,"propTypes",{side:d.number,direction:d.bool,vertical:d.bool,glyphs:d.object,onClick:d.func}),l(m,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");n("./MapStore2/web/client/components/background/css/previewbutton.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this;return p.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},p.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?p.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},p.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,p.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{src:this.props.src}))),this.props.labelHeight>0?p.createElement(d,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component);l(m,"propTypes",{src:f.string,side:f.number,frame:f.number,margin:f.number,labelHeight:f.number,label:f.string,showLabel:f.bool,onToggle:f.func,onAdd:f.func,showAdd:f.bool}),l(m,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewIcon.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=n("./MapStore2/node_modules/lodash/lodash.js"),m=d.indexOf,b=d.has;n("./MapStore2/web/client/components/background/css/previewicon.css");var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=m(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,n="wmts"===this.props.layer.type&&b(this.props.layer.allowedSRS,this.props.projection),r=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",i=(t||n||"wms"===this.props.layer.type||"empty"===this.props.layer.type)&&!this.props.layer.invalid,a=i?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return p.createElement("div",{className:r+o+(i?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},p.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:a,src:this.props.src})))}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component);l(y,"propTypes",{side:f.number,frame:f.number,margin:f.number,src:f.string,vertical:f.bool,layer:f.object,currentLayer:f.object,onPropertiesChange:f.func,onToggle:f.func,onLayerChange:f.func,setCurrentBackgroundLayer:f.func,projection:f.string}),l(y,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}}),e.exports=y},"./MapStore2/web/client/components/background/PreviewList.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/components/background/PaginationButton.jsx"),d=n("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(p.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(p.createElement(f,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(p.createElement(f,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var n=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return p.createElement("div",{style:n},t)}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component);l(m,"propTypes",{bottom:d.number,width:d.number,height:d.number,length:d.number,start:d.number,pagination:d.bool,vertical:d.bool,icons:d.array,onStartChange:d.func}),l(m,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/img/default.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/components/background/img/default.jpg"},"./MapStore2/web/client/components/buttons/FullScreenButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),b=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx"),y=n("./node_modules/react-bootstrap/es/index.js").Tooltip,g=n("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,u=s(p);function p(){var e;i(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(l(e=u.call.apply(u,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,n){return t[n]=e.props[n],t}),{})})),e}return t=p,(n=[{key:"render",value:function(){return m.createElement(b,o({},this.getButtonProperties(),{pressed:this.props.active,tooltip:m.createElement(y,{id:"full-screen-button-tip"},m.createElement(g,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&a(t.prototype,n),r&&a(t,r),p}(m.Component);f(h,"propTypes",{id:d.string,btnConfig:d.object,options:d.object,text:d.oneOfType([d.string,d.element]),help:d.oneOfType([d.string,d.element]),glyphicon:d.string,active:d.bool,onClick:d.func,activeTooltip:d.string,notActiveTooltip:d.string,tooltipPlace:d.string,style:d.object,btnType:d.oneOf(["normal","image"]),image:d.string,pressedStyle:d.string,defaultStyle:d.string}),f(h,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}}),e.exports=h},"./MapStore2/web/client/components/buttons/ImageButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/object-assign/index.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?m(t,{overflow:"hidden"}):m(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),m(t,e.props.style),t})),e}return t=l,(n=[{key:"render",value:function(){return d.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(b,"propTypes",{id:f.string,image:f.string,onClick:f.func,style:f.object,disabled:f.bool,tooltip:f.string,className:f.string}),p(b,"defaultProps",{disabled:!1,tooltip:null,className:void 0}),e.exports=b},"./MapStore2/web/client/components/buttons/ToggleButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react-bootstrap/es/index.js"),y=b.Button,g=b.Glyphicon,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=n("./MapStore2/web/client/components/buttons/ImageButton.jsx"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,u=s(p);function p(){var e;i(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(l(e=u.call.apply(u,[this].concat(n))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),f(l(e),"renderNormalButton",(function(){return d.createElement(y,o({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?d.createElement(g,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!d.isValidElement(e.props.text)?" ":null,e.props.text,e.props.help)})),f(l(e),"renderImageButton",(function(){return d.createElement(S,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),f(l(e),"addTooltip",(function(t){return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=p,(n=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&a(t.prototype,n),r&&a(t,r),p}(d.Component);f(E,"propTypes",{id:m.string,btnConfig:m.object,options:m.object,text:m.oneOfType([m.string,m.element]),help:m.oneOfType([m.string,m.element]),glyphicon:m.string,pressed:m.bool,onClick:m.func,tooltip:m.element,tooltipPlace:m.string,style:m.object,btnType:m.oneOf(["normal","image"]),image:m.string,pressedStyle:m.string,defaultStyle:m.string}),f(E,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"}),e.exports=E},"./MapStore2/web/client/components/buttons/ZoomButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Button,y=m.Glyphicon,g=m.Tooltip,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var n=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),e}return t=l,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(b,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(y,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(S,"propTypes",{id:f.string,style:f.object,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),className:f.string,help:f.oneOfType([f.string,f.element]),step:f.number,currentZoom:f.number,minZoom:f.number,maxZoom:f.number,onZoom:f.func,tooltip:f.element,tooltipPlace:f.string,bsStyle:f.string}),p(S,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}}),e.exports=S},"./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Button,y=m.Glyphicon,g=m.Tooltip,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=n("./MapStore2/web/client/utils/MapUtils.js"),E=n("./MapStore2/web/client/utils/ConfigUtils.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"addTooltip",(function(t){var n=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),p(u(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,n=e.props.mapConfig.size,r=1,o=e.props.mapConfig.center,i=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(r=S.getZoomForExtent(t,n,0,21),0===(o=S.getCenterForExtent(t,i)).x&&0===o.y||(o=E.getCenter(o,"EPSG:4326")));var a=S.getBbox(o,r,n);e.props.changeMapView(o,r,a,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),p(u(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,n=S.getBbox(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,n,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=l,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(b,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(y,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(v,"propTypes",{id:f.string,image:f.string,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),mapConfig:f.object,mapInitialConfig:f.object,changeMapView:f.func,btnType:f.oneOf(["normal","image"]),help:f.oneOfType([f.string,f.element]),tooltip:f.element,tooltipPlace:f.string,className:f.string,useInitialExtent:f.bool,bsStyle:f.string,style:f.object}),p(v,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"}),e.exports=v},"./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/components/misc/Overlay.jsx"),m=n("./node_modules/react-bootstrap/es/index.js").Popover,b=n("./MapStore2/node_modules/lodash/lodash.js").omit,y=n("./node_modules/react-dom/index.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(g,t);var n,r,l,p=u(g);function g(){return a(this,g),p.apply(this,arguments)}return n=g,(r=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,a=n.keyProp,c=i(n,["popoverOptions","keyProp"]);return f.createElement("span",{className:"mapstore-info-popover"},f.createElement(e,o({},b(c,["renderPopover","tooltipId"]),{key:a,ref:function(e){t=e}})),f.createElement(d,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return y.findDOMNode(t)}},f.createElement(m,r.props,r.content)))}}])&&c(n.prototype,r),l&&c(n,l),g}(f.Component)}},"./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),i=n("./MapStore2/web/client/components/misc/Portal.jsx"),a=n("./MapStore2/web/client/components/I18N/Message.jsx"),c=n("./node_modules/react-bootstrap/es/index.js").Glyphicon;e.exports=function(e){var t=e.latlng,n=e.enableRevGeocode,s=e.hideRevGeocode,u=void 0===s?function(){}:s,l=e.showModalReverse,p=e.revGeocodeDisplayName;return n&&t?r.createElement(i,null,r.createElement(o,{fade:!0,title:r.createElement("span",null,r.createElement(c,{glyph:"map-marker"})," ",r.createElement(a,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:l,onClose:u,buttons:[{text:r.createElement(a,{msgId:"close"}),onClick:u,bsStyle:"primary"}]},r.createElement("div",{className:"ms-alert",style:{padding:15}},r.createElement("div",{className:"ms-alert-center text-center"},r.createElement("div",null,p))))):null}},"./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("./node_modules/react/index.js"),s=n("./node_modules/react-bootstrap/es/index.js").Row,u=n("./MapStore2/node_modules/lodash/lodash.js").get,l=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n("./MapStore2/web/client/components/I18N/Message.jsx"),f=n("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),d=n("./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx"),m=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),b=n("./MapStore2/web/client/components/misc/Portal.jsx"),y=n("./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx"),g=n("./MapStore2/web/client/utils/IdentifyUtils.js").responseValidForEdit,h=n("./MapStore2/web/client/components/data/identify/LayerSelector.jsx").default;e.exports=function(e){var t,n,o=e.enabled,a=e.requests,S=void 0===a?[]:a,E=e.onClose,v=e.responses,O=void 0===v?[]:v,j=e.index,A=e.viewerOptions,w=void 0===A?{}:A,T=e.format,_=e.dock,M=void 0===_||_,P=e.position,x=e.size,R=e.fluid,C=e.validResponses,I=void 0===C?[]:C,D=e.viewer,L=void 0===D?function(){return null}:D,N=e.getToolButtons,k=void 0===N?function(){return[]}:N,F=e.getFeatureButtons,G=void 0===F?function(){return[]}:F,U=e.showFullscreen,B=e.reverseGeocodeData,H=void 0===B?{}:B,z=e.point,Y=e.dockStyle,V=void 0===Y?{}:Y,W=e.draggable,q=e.setIndex,K=e.warning,Q=e.clearWarning,Z=e.zIndex,$=e.showEmptyMessageGFI,X=e.showEdit,J=e.isEditingAllowed,ee=e.onEdit,te=void 0===ee?function(){}:ee,ne=e.enabledCoordEditorButton,re=e.showCoordinateEditor,oe=e.onSubmitClickPoint,ie=e.onChangeFormat,ae=e.formatCoord,ce=e.loaded,se=e.validator,ue=void 0===se?function(){return null}:se,le=z&&z.latlng||null,pe=I[j],fe=(pe||{}).layer,de=null;le&&(de=le&&Math.round(1e17*le.lng)/1e17,de-=360*Math.floor(de/360+.5));var me=L,be=k(i(i({},e),{},{lngCorrected:de,validResponses:I,latlng:le,showEdit:X&&J&&!!pe&&g(pe),onEdit:te.bind(null,fe&&{id:fe.id,name:fe.name,url:u(fe,"search.url")})})),ye=S.length===(null===(t=ue(T))||void 0===t||null===(n=t.getNoValidResponses(O))||void 0===n?void 0:n.length)||0,ge=S.length-O.length,he=H.error?c.createElement(p,{msgId:"identifyRevGeocodeError"}):H.display_name;return c.createElement("div",{id:"identify-container",className:o&&0!==S.length?"identify-active":""},c.createElement(f,{bsStyle:"primary",glyph:"map-marker",open:o&&0!==S.length,size:x,fluid:R,position:P,draggable:W,onClose:E,dock:M,style:V,showFullscreen:U,zIndex:Z,header:[c.createElement(s,{className:"layer-select-row"},c.createElement("div",{className:"layer-col"},c.createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),c.createElement(h,{responses:O,index:j,loaded:ce,setIndex:q,missingResponses:ge,emptyResponses:ye}),c.createElement(l,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:G(e),transitionProps:null}))),c.createElement(s,{className:"coordinates-edit-row"},c.createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),c.createElement("div",{className:"coordinate-editor"},c.createElement(y,{key:"coordinate-editor",formatCoord:ae,enabledCoordEditorButton:ne,onSubmit:oe,onChangeFormat:ie,edit:re,coordinate:{lat:le&&le.lat,lon:de}})),c.createElement(d,r({latlng:le,revGeocodeDisplayName:he},e)),c.createElement(l,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:be,transitionProps:null}))].filter((function(e){return e}))},c.createElement(me,r({index:j,setIndex:q,format:T,missingResponses:ge,responses:O,requests:S,showEmptyMessageGFI:$},w))),c.createElement(b,null,c.createElement(m,{fade:!0,title:c.createElement(p,{msgId:"warning"}),size:"xs",show:K,onClose:Q,buttons:[{text:c.createElement(p,{msgId:"close"}),onClick:Q,bsStyle:"primary"}]},c.createElement("div",{className:"ms-alert",style:{padding:15}},c.createElement("div",{className:"ms-alert-center text-center"},c.createElement(p,{msgId:"identifyNoQueryableLayers"}))))))}},"./MapStore2/web/client/components/data/identify/LayerSelector.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/prop-types/index.js"),a=n.n(i),c=n("./node_modules/react-select/dist/react-select.es.js"),s=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./MapStore2/web/client/components/misc/enhancers/localizedProps.js");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=n.n(u)()(["placeholder","clearValueText","noResultsText"])(c.default),m=function(e){var t=e.responses,n=void 0===t?[]:t,i=e.index,a=void 0===i?0:i,c=e.loaded,u=e.setIndex,f=e.missingResponses,m=void 0===f?0:f,b=e.emptyResponses,y=void 0!==b&&b,g=p(Object(r.useState)([]),2),h=g[0],S=g[1],E=p(Object(r.useState)(""),2),v=E[0],O=E[1];Object(r.useEffect)((function(){Object(s.isEmpty)(n)||S(n.map((function(e){var t;return null==e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title})))}),[n]),Object(r.useEffect)((function(){var e,t;c&&O((null===(e=n[a])||void 0===e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title)||"")}),[n,a,c]);return o.a.createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},o.a.createElement(d,l({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;u(t)},value:v||"",options:h.map((function(e,t){return{label:e,value:e,idx:t}})),disabled:0!==m||0===n.length||y,noResultsText:"identifyLayerSelectNoResult"})))};m.propTypes={responses:a.a.array,setIndex:a.a.func,index:a.a.number,emptyResponses:a.a.bool},t.default=m},"./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx"),i=n("./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx");e.exports=function(e){var t=e.coordinate,n=void 0===t?{}:t,a=e.formatCoord,c=e.edit,s=e.onSubmit,u=void 0===s?function(){}:s,l=e.onChangeFormat,p=void 0===l?function(){}:l;return c?r.createElement(o,{removeVisible:!1,formatCoord:a,coordinate:n||{lat:"",lon:""},onSubmit:u,onChangeFormat:p}):r.createElement(i,{className:"coordinates-text",formatCoord:a,coordinate:n||{lat:"",lon:""}})}},"./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),i=n("./MapStore2/node_modules/lodash/lodash.js").isEmpty;e.exports=function(e){return r.createElement(o,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,n){e.onSubmit(i(n)?void 0:n)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})}},"./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js"),i=o.Row,a=o.Col,c=n("./MapStore2/node_modules/lodash/lodash.js").isNil,s=n("./MapStore2/web/client/components/I18N/Number.jsx"),u=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js")((function(e){var t=e.degrees,n=void 0===t?0:t,o=e.minutes,i=void 0===o?0:o,a=e.seconds,c=void 0===a?0:a,u=e.direction,l=e.integerFormat,p=e.decimalFormat;return r.createElement("span",{className:"coordinate-dms"},r.createElement(s,{key:"latD",numberParams:l,value:n}),r.createElement("span",null,"° "),r.createElement(s,{key:"latM",numberParams:l,value:i}),r.createElement("span",null,"' "),r.createElement(s,{key:"latS",numberParams:p,value:c}),r.createElement("span",null,"'' ")," ",r.createElement("span",null,u))}));e.exports=function(e){var t=e.integerFormat,n=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,l=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,p=e.coordinate,f=void 0===p?{}:p,d=e.formatCoord,m=void 0===d?"decimal":d,b=e.className;return r.createElement(i,{className:b},r.createElement(a,{xs:12},c(f.lat)||c(f.lon)?null:"decimal"===m?r.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",r.createElement(s,{value:Math.round(1e5*f.lat)/1e5})," - Long: ",r.createElement(s,{value:f.lon})):r.createElement("div",{className:"ms-coordinates-aeronautical"},r.createElement("span",null,"Lat: ",r.createElement(u,{integerFormat:n,decimalFormat:l,value:f.lat})),r.createElement("span",null," - "),r.createElement("span",null," Long: ",r.createElement(u,{coordinate:"lon",integerFormat:n,decimalFormat:l,value:f.lon})))))}},"./MapStore2/web/client/components/data/identify/enhancers/identify.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.lifecycle,i=r.withHandlers,a=r.compose,c=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,s=n("./MapStore2/node_modules/lodash/lodash.js"),u=s.isNil,l=s.isNaN,p=a(i({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,n=void 0===t?function(){}:t,r=e.closeIdentify,o=void 0===r?function(){}:r;return function(){n(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,n=void 0===t?function(){}:t,r=e.point;return function(e){var t=u(e.lat)||l(e.lat)?0:parseFloat(e.lat),o=u(e.lon)||l(e.lon)?0:parseFloat(e.lon),i=c("latlng.lng",o,c("latlng.lat",t,r));n(i)}},onChangeFormat:function(e){var t=e.onChangeFormat,n=void 0===t?function(){}:t;return function(e){n(e)}}}),o({componentDidMount:function(){var e=this.props,t=e.enabled,n=e.changeMousePointer,r=void 0===n?function(){}:n,o=e.disableCenterToMarker,i=e.onEnableCenterToMarker,a=void 0===i?function(){}:i;t&&r("pointer"),o||a()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,n=void 0===t?function(){}:t,r=e.purgeResults,o=void 0===r?function(){}:r,i=e.changeMousePointer;(void 0===i?function(){}:i)("auto"),n(),o()},componentWillReceiveProps:function(e){var t=this.props,n=t.hideMarker,r=void 0===n?function(){}:n,o=t.purgeResults,i=void 0===o?function(){}:o,a=t.changeMousePointer,c=void 0===a?function(){}:a,s=t.enabled;e.enabled&&!s?c("pointer"):!e.enabled&&s&&(c("auto"),r(),i())}}));e.exports={identifyLifecycle:p}},"./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js":function(e,t,n){var r=n("./node_modules/@turf/bbox/index.js"),o=n("./node_modules/recompose/es/Recompose.js").withHandlers;e.exports=o({zoomToFeature:function(e){var t=e.zoomToExtent,n=void 0===t?function(){}:t,o=e.currentFeature,i=void 0===o?[]:o,a=e.currentFeatureCrs;return function(){var e=i.filter((function(e){return!!e.geometry}));if(e.length>0){var t=r({type:"FeatureCollection",features:e});t&&n(t,a)}}}})},"./MapStore2/web/client/components/help/HelpWrapper.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/prop-types/index.js"),p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/components/help/HelpBadge.jsx");n("./MapStore2/web/client/components/help/help.css");var d,m,b,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return p.createElement("div",{id:this.props.id},p.createElement(f,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component);d=y,m="propTypes",b={id:l.string,helpText:l.oneOfType([l.string,l.element]),helpEnabled:l.bool,changeHelpText:l.func,changeHelpwinVisibility:l.func},m in d?Object.defineProperty(d,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[m]=b,e.exports=y},"./MapStore2/web/client/components/help/help.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/layout/BorderLayout.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js");e.exports=function(e){var t=e.id,n=e.children,r=e.header,i=e.footer,c=e.columns,s=e.height,u=e.style,l=void 0===u?{}:u,p=e.className,f=e.bodyClassName,d=void 0===f?"ms2-border-layout-body":f;return a.createElement("div",{id:t,className:p,style:o({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},l)},r,a.createElement("div",{className:d,style:{display:"flex",flex:1,overflowY:"auto"}},a.createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},s?a.createElement("div",{style:{height:s}},n):n),s?a.createElement("div",{style:{height:s}},c):c),i)}},"./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$":function(e,t,n){var r={"./cesium/plugins/index":"./MapStore2/web/client/components/map/cesium/plugins/index.js","./leaflet/plugins/index":"./MapStore2/web/client/components/map/leaflet/plugins/index.js","./openlayers/plugins/index":"./MapStore2/web/client/components/map/openlayers/plugins/index.js"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$"},"./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./MapStore2/node_modules/lodash/lodash.js").findIndex,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"setLayer",(function(){var t;e._layer&&e.cleanSupport(),e.props.map.eachLayer((function(n){n.layerId===e.props.layer&&(t=n)}),u(e)),void 0!==t&&t.on("click",e.featureClicked,u(e)),e._layer=t,e.highlightFeatures(e.props.features)})),p(u(e),"featureClicked",(function(t){var n=t.layer;if((t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&n){var r=m(e._selectedFeatures,(function(e){return e===n}));-1!==r?(e._layer.resetStyle(n),e._selectedFeatures=e._selectedFeatures.filter((function(e,t){return t!==r})),n=null):e._selectedFeatures.push(n)}else e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=n?[n]:[];n&&(n.bringToFront(),n.setStyle(e.props.selectedStyle)),e.props.updateHighlighted(e._selectedFeatures.map((function(e){return e.msId})),"")})),p(u(e),"cleanSupport",(function(){e._layer&&(e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._layer.off("click",e.featureClicked,u(e))),e._selectedFeatures=[],e._layer=null,e.props.updateHighlighted([],"")})),p(u(e),"highlightFeatures",(function(t){e._layer||e.setLayer(),e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=[],e._layer.eachLayer((function(n){-1!==t.indexOf(n.msId)&&(e._selectedFeatures.push(n),n.bringToFront(),n.setStyle(e.props.selectedStyle))}),u(e))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this.cleanSupport()}},{key:"render",value:function(){return null}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(b,"propTypes",{map:f.object,layer:f.string,status:f.oneOf(["disabled","enabled","update"]),updateHighlighted:f.func,selectedStyle:f.object,features:f.array}),p(b,"contextTypes",{messages:f.object}),p(b,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]}),e.exports=b},"./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),c=n("./node_modules/ol/interaction/Select.js"),s=n("./node_modules/ol/events/condition.js"),u=n("./node_modules/ol/style/Stroke.js"),l=n("./node_modules/ol/style/Fill.js"),p=n("./node_modules/ol/style/Style.js"),f=n("./node_modules/ol/style/Circle.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(v(e=o.call.apply(o,[this].concat(n))),"getLayer",(function(){var t;return e.props.map.getLayers().forEach((function(n){e.layersFilter(n)&&(t=n)}),v(e)),t})),j(v(e),"setSelectInteraction",(function(){e._selectInteraction.getActive()||e._selectInteraction.setActive(!0)})),j(v(e),"createSelectInteraction",(function(){e.createStyle(),e._selectInteraction=new c.a({layers:e.layersFilter,style:e._style,toggleCondition:s.i}),e._selectInteraction.on("select",e.selectionChange,v(e)),e.props.map.addInteraction(e._selectInteraction)})),j(v(e),"selectionChange",(function(){var t=[];e._selectInteraction.getFeatures().forEach((function(e){t.push(e.getId())})),e.props.updateHighlighted(t,"")})),j(v(e),"cleanSupport",(function(){e._selectInteraction&&e._selectInteraction.getActive()&&(e._selectInteraction.getFeatures().clear(),e.props.updateHighlighted([],""),e._selectInteraction.setActive(!1))})),j(v(e),"layersFilter",(function(t){return e.props.layer&&t.get("msId")===e.props.layer})),j(v(e),"createStyle",(function(){var t=e.props.selectedStyle,n={stroke:new u.default(t.stroke?t.stroke:{color:"blue",width:1}),fill:new l.default(t.fill?t.fill:{color:"blue"})};"Point"===t.type&&(n={image:new f.default(b(b({},n),{},{radius:t.radius||5}))}),e._style=new p.default(n)})),j(v(e),"highlightFeatures",(function(t){var n=e.getLayer(),r=e._selectInteraction.getFeatures();(r.clear(),n)&&n.getSource().getFeatures().map((function(e){-1!==t.indexOf(e.getId())&&r.push(e)}),v(e))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.createSelectInteraction(),"enabled"===this.props.status?this._selectInteraction.setActive(!0):this._selectInteraction.setActive(!1),this.props.features&&this.highlightFeatures(this.props.features)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setSelectInteraction(e);break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this._selectInteraction&&(this.cleanSupport(),this._selectInteraction.un("select",this.selectionChange,this),this.props.map.removeInteraction(this._selectInteraction),this._selectInteraction=null,this._style=null)}},{key:"render",value:function(){return null}}])&&g(t.prototype,n),r&&g(t,r),i}(a.a.Component);j(A,"propTypes",{map:o.a.object,layer:o.a.string.isRequired,status:o.a.oneOf(["disabled","enabled","update"]),updateHighlighted:o.a.func,selectedStyle:o.a.object,features:o.a.array}),j(A,"contextTypes",{messages:o.a.object}),j(A,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{type:"Point",radius:12,stroke:{width:4,color:"yellow"},fill:{color:"red"}}})},"./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),c=n("./node_modules/ol/source/Vector.js"),s=n("./node_modules/ol/layer/Vector.js"),u=n("./node_modules/ol/style/Style.js"),l=n("./node_modules/ol/style/Fill.js"),p=n("./node_modules/ol/style/Stroke.js"),f=n("./node_modules/ol/style/Circle.js"),d=n("./node_modules/ol/interaction/Draw.js"),m=n("./node_modules/ol/interaction/DoubleClickZoom.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(v(e=o.call.apply(o,[this].concat(n))),"addDrawInteraction",(function(t){e.drawInteraction&&e.removeDrawInteraction();var n=new c.a,r=new s.a({source:n,zIndex:1e6,style:new u.default({fill:new l.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"#ffcc33",width:2}),image:new f.default({radius:7,fill:new l.default({color:"#ffcc33"})})})});e.props.map.addLayer(r);var o=new d.a({source:n,type:t.selection.geomType,style:new u.default({fill:new l.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.default({radius:5,stroke:new p.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new l.default({color:"rgba(255, 255, 255, 0.2)"})})})});o.on("drawstart",(function(t){e.sketchFeature=t.feature,n.clear()})),o.on("drawend",(function(){e.updateSelectionState()})),e.props.map.addInteraction(o),e.drawInteraction=o,e.selectionLayer=r,e.setDoubleClickZoomEnabled(!1)})),j(v(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.props.map.removeLayer(e.selectionLayer),e.sketchFeature=null,setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),251))})),j(v(e),"updateSelectionState",(function(){if(e.sketchFeature){var t=e.sketchFeature.getGeometry().getCoordinates(),n={geomType:e.props.selection.geomType,point:"Point"===e.props.selection.geomType?[t[0],t[1]]:null,line:"LineString"===e.props.selection.geomType?t.map((function(e){return[e[0],e[1]]})):null,polygon:"Polygon"===e.props.selection.geomType?e.sketchFeature.getGeometry().getLinearRing(0).getCoordinates().map((function(e){return[e[0],e[1]]})):null};e.props.changeSelectionState(n)}})),j(v(e),"setDoubleClickZoomEnabled",(function(t){for(var n=e.props.map.getInteractions(),r=0;r<n.getLength();r++){var o=n.item(r);if(o instanceof m.a){o.setActive(t);break}}})),e}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selection.geomType&&e.selection.geomType!==this.props.selection.geomType&&this.addDrawInteraction(e),e.selection.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){return null}}])&&g(t.prototype,n),r&&g(t,r),i}(a.a.Component);j(A,"propTypes",{map:o.a.object,projection:o.a.string,selection:o.a.object,changeSelectionState:o.a.func}),j(A,"defaultProps",{selection:{}})},"./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Form,y=m.FormControl,g=m.FormGroup,h=m.ControlLabel,S=n("./MapStore2/web/client/utils/MapUtils.js"),E=n("./MapStore2/node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),p(u(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return d.createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=l,(n=[{key:"shouldComponentUpdate",value:function(e){return!E(e,this.props)}},{key:"render",value:function(){var e=null;return e=this.props.readOnly?d.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?d.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):d.createElement(b,{inline:!0},d.createElement(g,{bsSize:"small"},d.createElement(h,null,this.props.label),d.createElement(y,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),d.createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&i(t.prototype,n),r&&i(t,r),l}(d.Component);p(v,"propTypes",{id:f.string,style:f.object,scales:f.array,currentZoomLvl:f.number,minZoom:f.number,onChange:f.func,readOnly:f.bool,label:f.oneOfType([f.func,f.string,f.object]),template:f.func,useRawInput:f.bool}),p(v,"defaultProps",{id:"mapstore-scalebox",scales:S.getGoogleMercatorScales(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1}),e.exports=v},"./MapStore2/web/client/components/maps/forms/Thumbnail.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/components/I18N/Message.jsx"),b=n("./MapStore2/web/client/utils/ResourceUtils.js").getResourceIdFromURL,y=n("./MapStore2/web/client/components/misc/Thumbnail.jsx").default,g={FORMAT:f.createElement(m,{msgId:"map.errorFormat"}),SIZE:f.createElement(m,{msgId:"map.errorSize"})},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"state",{}),p(u(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),p(u(e),"getDataUri",(function(e,t){var n=e;if(n&&n.length>0){var r=n[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,r.size)},o.readAsDataURL(r)}return t(null)})),p(u(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),p(u(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))})),p(u(e),"processUpdateThumbnail",(function(t,n,r){var o=e.generateUUID();!e.props.map||r||!e.props.map.thumbnail||e.refs.imgThumbnail||n||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!r&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&n&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&r&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&!r&&e.refs.imgThumbnail&&e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id),e.props.map.newThumbnail||r||e.refs.imgThumbnail||(e.props.map.thumbnail&&n&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id))})),p(u(e),"updateThumbnail",(function(t,n){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(r){return e.processUpdateThumbnail(t,n,r),r}))})),p(u(e),"deleteThumbnail",(function(t,n){if(t&&-1!==t.indexOf("geostore")){var r=b(t);r&&e.props.onDeleteThumbnail(r,n)}})),e}return t=l,(n=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?f.createElement("div",{className:"dropzone-errorBox alert-danger"},f.createElement("p",null,f.createElement(m,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return f.createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},g[e])}))):null}},{key:"render",value:function(){var e=this;return f.createElement(y,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&f.createElement("label",{className:"control-label"},f.createElement(m,{msgId:"map.thumbnail"})),"ù":!0,message:f.createElement(f.Fragment,null,this.props.message,f.createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,n){var r;e.props.onError([],e.props.map.id),e.files=n,e.props.onUpdate(t,null==n||null===(r=n[0])||void 0===r?void 0:r.preview)},onError:function(t,n){e.props.onError(t,e.props.map.id),e.files=n,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&i(t.prototype,n),r&&i(t,r),l}(f.Component);p(h,"propTypes",{glyphiconRemove:d.string,style:d.object,thumbnailErrors:d.array,loading:d.bool,withLabel:d.bool,map:d.object,maxFileSize:d.number,onDrop:d.func,onError:d.func,onUpdate:d.func,onSaveAll:d.func,onCreateThumbnail:d.func,onDeleteThumbnail:d.func,onRemoveThumbnail:d.func,message:d.oneOfType([d.string,d.element]),suggestion:d.oneOfType([d.string,d.element])}),p(h,"contextTypes",{messages:d.object}),p(h,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:f.createElement(m,{msgId:"map.message"}),suggestion:f.createElement(m,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]}),e.exports=h},"./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/plugins/locale/Message.jsx"),b=n("./node_modules/react-bootstrap/es/index.js"),y=b.FormControl,g=b.FormGroup,h=b.ControlLabel,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"onChange",(function(t){e.props.onSetMapTrigger(t.target.value)})),e}return t=l,(n=[{key:"render",value:function(){return f.createElement(g,{bsSize:"small"},f.createElement(h,null,f.createElement(m,{msgId:"infoTriggerLabel"})),f.createElement(y,{value:this.props.trigger,componentClass:"select",onChange:this.onChange},f.createElement("option",{value:"click",key:"click"},"Click"),f.createElement("option",{value:"hover",key:"hover"},"Hover")))}}])&&i(t.prototype,n),r&&i(t,r),l}(f.Component);p(S,"propTypes",{trigger:d.string,onSetMapTrigger:d.func}),e.exports=S},"./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-dom/index.js"),a=n.n(i),c=n("./node_modules/prop-types/index.js"),s=n.n(c),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),p=n.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,i=b(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={show:!1},t.target=o.a.createRef(),t}return t=c,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{ref:this.target,onMouseOver:function(){return e.setState({show:!0})},onMouseOut:function(){return e.setState({show:!1})}},o.a.Children.only(this.props.children)),o.a.createElement(u.Overlay,{show:this.state.show,onHide:function(){return e.setState({show:!1})},placement:this.props.placement,container:this.props.container,target:function(){return e.target&&e.target.current&&a.a.findDOMNode(e.target.current)}},this.props.overlay))}}])&&d(t.prototype,n),r&&d(t,r),c}(o.a.Component);h(S,"propTypes",{overlay:s.a.element,placement:s.a.string,container:s.a.element}),h(S,"defaultProps",{placement:"right"}),t.default=p()(S)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx"),b=n("./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx"),y=n("./MapStore2/node_modules/lodash/lodash.js").isNil,g=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,u=s(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||y(e)?f.createElement(m,o({},this.props,{format:this.props.format||"decimal"})):f.createElement(b,this.props)}}])&&a(t.prototype,n),r&&a(t,r),l}(f.Component);p(h,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,aeronauticalOptions:d.object,coordinate:d.string,onChange:d.func,onKeyDown:d.func}),p(h,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}}),e.exports=g(h)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react-bootstrap/es/index.js"),y=b.Glyphicon,g=b.InputGroup,h=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),S=n("./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx"),E=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),v=n("./MapStore2/web/client/components/I18N/Message.jsx"),O=n("./MapStore2/node_modules/lodash/lodash.js"),j=O.isEqual,A=O.isNumber,w=n("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),T=n("./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx").default,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,r,o=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),f(l(t=o.call(this,e)),"onChangeLatLon",(function(e,n){t.setState(i(i({},t.state),{},f({},e,parseFloat(n))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),n=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(i(i({},t.state),{},{disabledApplyChange:!(e||n)}),(function(){"annotations"===t.props.renderer&&t.props.onSubmit(t.props.idx,t.state)}))}))})),f(l(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:A(t.props.component.lat)?t.props.component.lat:"",lon:A(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=u,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!j(e.component,this.props.component)){var t=A(e.component.lat)?e.component.lat:"",n=A(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:n,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,n=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)},customOverlayTrigger:T},{buttonConfig:{title:d.createElement(y,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:d.createElement(v,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:d.createElement(v,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:w},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer,customOverlayTrigger:T}],r=d.createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},d.createElement(y,{glyph:"menu-hamburger"}));return d.createElement("div",{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},d.createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(r):r:null),d.createElement("div",{className:"coordinate lat"},d.createElement(g,null,d.createElement(g.Addon,null,d.createElement(v,{msgId:"latitude"})),d.createElement(E,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})),d.createElement(g,null,d.createElement(g.Addon,null,d.createElement(v,{msgId:"longitude"})),d.createElement(E,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),this.props.showToolButtons&&d.createElement("div",{key:"tools"},d.createElement(h,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:n})))}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);f(_,"propTypes",{idx:m.number,component:m.object,onRemove:m.func,onSubmit:m.func,onChangeFormat:m.func,onMouseEnter:m.func,format:m.string,type:m.string,onMouseLeave:m.func,connectDragSource:m.func,aeronauticalOptions:m.object,customClassName:m.string,isDraggable:m.bool,isDraggableEnabled:m.bool,showLabels:m.bool,showDraggable:m.bool,showToolButtons:m.bool,removeVisible:m.bool,formatVisible:m.bool,removeEnabled:m.bool,renderer:m.string}),f(_,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){},showToolButtons:!0}),e.exports=S(_)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),b=n("./node_modules/prop-types/index.js"),y=n("./node_modules/recompose/es/Recompose.js").compose,g=n("./node_modules/react-bootstrap/es/index.js"),h=g.FormGroup,S=g.FormControl,E=n("./MapStore2/node_modules/lodash/lodash.js").isNil,v=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),O=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),j=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js"),A=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,o=u(l);function l(){var e;a(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t,n){var r=e.getUpdatedCoordinateValue(t,n);e.props.onChange(r)})),d(p(e),"getUpdatedCoordinateValue",(function(t,n){try{var r=d({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(n,e.props.maxDegrees):n),o=r.seconds,i=r.minutes+e.getSexagesimalStep(o),a=Math.min(e.props.maxDegrees,r.degrees+e.getSexagesimalStep(i)),c=r.direction;return o=e.roundToNextSexagesimalStep(o),i=e.roundToNextSexagesimalStep(i),a===e.props.maxDegrees&&(i=0,o=0),c=a<0?c===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:c,-1===a&&(r.degrees<0&&r.minutes>=0?a=r.degrees:r.minutes<0&&r.degrees<=0?(a=0,i=r.minutes):(a=0,i=0,o=1e-4)),{degrees:a,minutes:i,seconds:o,direction:c}}catch(e){return null}})),d(p(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),d(p(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),d(p(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),d(p(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),d(p(e),"isValid",(function(t){var n=t.minutes,r=t.seconds,o=t.degrees,i=t.direction;return!E(n)&&n>0&&n<60&&!E(r)&&r>0&&r<60&&!E(o)&&o>0&&o<e.props.maxDegrees&&i})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},n=this.getInputStyle(this.props.degrees),r=this.getInputStyle(this.props.minutes),o=this.getInputStyle(this.props.seconds),a={position:"relative",top:0,overflow:"visible",zIndex:3,left:-25,width:0,height:0},c=this.props.aeronauticalOptions.seconds.step;return m.createElement(h,{style:{display:"inline-flex"}},m.createElement("div",{className:"degrees",style:{width:40,display:"flex"}},m.createElement(v,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t,10))},step:1,size:3,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:i(i({width:"100%"},t),n),type:"number"}),m.createElement("span",{style:a},"°")),m.createElement("div",{className:"minutes",style:{width:40,display:"flex"}},m.createElement(v,{key:this.props.coordinate+"minutes",placeholder:"m",size:3,value:this.props.minutes,onChange:function(t){e.onChange("minutes",parseInt(t,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:i(i({width:"100%"},t),r),step:1,type:"number"}),m.createElement("span",{style:a},"′")),m.createElement("div",{className:"seconds",style:{display:"flex"}},m.createElement(v,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t))},step:c,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:i(i({width:"100%"},t),o),type:"number"}),m.createElement("span",{style:a},"″")),m.createElement("div",{className:"direction-select"},m.createElement(S,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((function(e){return m.createElement("option",{key:e,value:e},e)})))))}}])&&c(t.prototype,n),r&&c(t,r),l}(m.Component);d(w,"propTypes",{idx:b.number,maxDegrees:b.number,degrees:b.number,minutes:b.number,seconds:b.number,directions:b.array,direction:b.string,aeronauticalOptions:b.object,coordinate:b.string,onChange:b.func,onKeyDown:b.func}),d(w,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}}),e.exports=y(j,O,A)(w)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js").FormGroup,b=n("./MapStore2/node_modules/lodash/lodash.js").capitalize,y=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown(t))})),p(u(e),"validateDecimalLon",(function(t){var n=e.props.constraints[e.props.format].lon.min,r=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),p(u(e),"validateDecimalLat",(function(t){var n=e.props.constraints[e.props.format].lat.min,r=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.coordinate,r=t.value,o=t.onChange,i="validateDecimal"+b(n);return f.createElement(m,{validationState:this[i](r)},f.createElement(y,{key:n,value:r,placeholder:n,onChange:function(t){""===t&&o(""),null===e[i](t)&&o(t)},onKeyDown:this.verifyOnKeyDownEvent,step:1,validateNameFunc:this[i],type:"number"}))}}])&&i(t.prototype,n),r&&i(t,r),l}(f.Component);p(g,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,coordinate:d.string,onChange:d.func,onKeyDown:d.func,onSubmit:d.func}),p(g,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}}),e.exports=g},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js").withProps;e.exports=r((function(e){var t=e.coordinate,n=void 0===t?"lat":t;return{maxDegrees:"lat"===n?90:180,directions:"lat"===n?["N","S"]:["E","W"]}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/recompose/es/Recompose.js"),a=i.compose,c=i.withHandlers,s=i.withProps,u=n("./MapStore2/node_modules/lodash/lodash.js"),l=u.round,p=u.isNaN;e.exports=a(s((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},r=n.seconds,o=e>=0?Math.floor(e):Math.ceil(e),i=Math.abs(60*(e-o)),a=Math.floor(i),c=60*(i-a),s=l(c,r.decimals);if(o=Math.abs(o),60===s&&(a++,s=0),60===a&&(o++,a=0),p(o)||""===e)return{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"};var u={degrees:o,minutes:a,seconds:s,direction:e<0?t?"W":"S":t?"E":"N"};return u}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),c({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.degrees,r=t.minutes,o=t.seconds,i=t.direction,a=0,c=0,s=0;void 0===n&&void 0===r&&void 0===o&&e.onChange(void 0),p(n)||(a=n),p(r)||(c=r),p(o)||(s=o);var u=a+c/60+s/3600;(u>0&&("S"===i||"W"===i)||u<0&&("N"===i||"E"===i))&&(u*=-1),e.onChange(u.toPrecision(12))}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.compose,i=r.withHandlers;e.exports=o(i({onChange:function(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.maxLatitude,o=void 0===r?89.9997222222:r,i=e.coordinate;return function(e){return n(Math.abs(parseFloat(e))>o&&"lat"===i?Math.sign(e)*o:e)}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.compose,i=r.withHandlers,a=r.withState,c=r.withProps;e.exports=o(c((function(e){return{isValid:""!==e.value}})),a("initial","setInitial",{}),c((function(e){var t=e.isValid,n=e.initial,r=e.degrees,o=e.minutes,i=e.seconds;return t||""===r&&""===o&&""===i?{}:n})),i({onChange:function(e){return function(t){var n=t.degrees,r=t.minutes,o=t.seconds,i=t.direction;isNaN(n)?e.setInitial({degrees:"",minutes:r,seconds:o,direction:i}):isNaN(r)?e.setInitial({degrees:n,minutes:"",seconds:o,direction:i}):isNaN(o)&&e.setInitial({degrees:n,minutes:r,seconds:"",direction:i}),e.onChange({degrees:n,minutes:r,seconds:o,direction:i})}}}))},"./MapStore2/web/client/components/misc/enhancers/withMask.js":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/recompose/es/Recompose.js"),i=o.branch,a=o.nest,c=function(e,t,n){var o=n.maskContainerStyle,i=n.maskStyle,c=n.className,s=n.white;return function(n){return a((function(n){return r.createElement("div",{className:"ms2-mask-container ".concat(c||""," ").concat(e(n)?"":"ms2-mask-empty"),style:o},n.children,e(n)?r.createElement("div",{className:"ms2-mask"+(s?" white-mask":""),style:i},t(n)):null)}),n)}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,a=n.white,s=void 0!==a&&a,u=n.maskContainerStyle,l=void 0===u?{}:u,p=n.maskStyle,f=void 0===p?{}:p,d=n.className;return o?c(e,t,{maskContainerStyle:l,maskStyle:f,className:d,white:s}):i(e,c((function(){return!0}),t,{maskContainerStyle:l,maskStyle:f,white:s}))}},"./MapStore2/web/client/components/misc/panels/DockPanel.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-dock/lib/index.js").default,i=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),a=n("./node_modules/recompose/es/Recompose.js").withState,c=n("./MapStore2/web/client/components/misc/panels/PanelHeader.jsx");e.exports=a("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,a=void 0===n?"":n,s=e.fullscreen,u=void 0!==s&&s,l=e.position,p=e.open,f=e.size,d=void 0===f?550:f,m=e.style,b=void 0===m?{}:m,y=e.zIndex,g=void 0===y?1030:y,h=e.onClose,S=e.bsStyle,E=e.title,v=e.showFullscreen,O=void 0!==v&&v,j=e.glyph,A=e.header,w=e.footer,T=e.children,_=e.onFullscreen,M=void 0===_?function(){}:_,P=e.fixed,x=void 0!==P&&P,R=e.resizable,C=void 0!==R&&R,I=e.hideHeader;return r.createElement("div",{className:"ms-side-panel "+(x?"":"ms-absolute-dock ")+(C?"":"react-dock-no-resize ")+a},r.createElement(o,{fluid:t||u,position:l,dimMode:"none",isVisible:p,size:u?1:d,dockStyle:b,zIndex:g},r.createElement(i,{header:!I&&p&&r.createElement(c,{position:l,onClose:h,bsStyle:S,title:E,fullscreen:u,showFullscreen:O,glyph:j,additionalRows:A,onFullscreen:M}),footer:p&&w},p&&T)))}))},"./MapStore2/web/client/components/misc/panels/DockablePanel.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n("./node_modules/react/index.js"),i=n("./node_modules/recompose/es/Recompose.js"),a=i.branch,c=i.renameProps,s=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),u=n("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),l=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),p=c({open:"show"})((function(e){var t=e.children,n=e.header,i=r(e,["children","header"]);return o.createElement(l,i,o.createElement(s,{header:o.createElement("div",{className:"ms-header"},n)},t))}));e.exports=a((function(e){return!e.dock}),(function(){return function(e){return o.createElement(p,e)}}))(u)},"./MapStore2/web/client/components/misc/panels/PanelHeader.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js"),i=o.Button,a=o.Glyphicon,c=o.Grid,s=o.Row,u=o.Col,l={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};e.exports=function(e){var t=e.position,n=void 0===t?"right":t,o=e.onClose,p=e.bsStyle,f=void 0===p?"default":p,d=e.title,m=void 0===d?"":d,b=e.fullscreen,y=void 0!==b&&b,g=e.showFullscreen,h=void 0!==g&&g,S=e.glyph,E=void 0===S?"info-sign":S,v=e.additionalRows,O=e.onFullscreen,j=void 0===O?function(){}:O,A=o?r.createElement(i,{key:"ms-header-close",className:"square-button ms-close",onClick:o,bsStyle:f},r.createElement(a,{glyph:"1-close"})):null,w=h?r.createElement(i,{key:"ms-header-glyph",className:"square-button",bsStyle:f,onClick:function(){return j(!y)}},r.createElement(a,{glyph:l[n]&&l[n][y]||"resize-full"})):r.createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+f),style:{display:"flex"}},r.createElement(a,{glyph:E,className:"".concat("default"===f?"text-primary":"")})),T="left"===n?[A,w]:[w,A];return r.createElement(c,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+f},r.createElement(s,null,r.createElement(u,{xs:2},T[0]),r.createElement(u,{xs:8},r.createElement("h4",null,m)),r.createElement(u,{xs:2},T[1])),v)}},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-spinkit/dist/index.js");n("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.props.loading?f.createElement("div",{className:this.props.className,id:this.props.id},f.createElement(d,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);l(m,"propTypes",{id:p.string,loading:p.bool,className:p.string,spinner:p.string}),l(m,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"}),e.exports=m},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Panel,y=m.Button,g=m.Glyphicon,h=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),S=n("./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx").default,E=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),v=function(){return f.createElement(y,{className:"square-button-sm no-border switch-error"},f.createElement(g,{glyph:"exclamation-mark",className:"text-danger"}))},O=n("./MapStore2/web/client/components/misc/LoadingView.jsx"),j=function(){return f.createElement("div",{className:"switch-loading"},f.createElement(O,{size:"small"}))},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"state",{}),e}return t=l,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?S:h;return f.createElement("div",null,f.createElement("div",{className:"pull-left"},this.props.title||this.props.header),f.createElement("div",{className:"pull-right"},this.props.locked?null:f.createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?f.createElement(v,null):null,this.props.loading?f.createElement(j,null):null,this.props.buttons.length>0&&this.props.expanded&&f.createElement(E,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return f.createElement(b,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&i(t.prototype,n),r&&i(t,r),l}(f.Component);p(A,"propTypes",{header:d.node,title:d.oneOfType([d.string,d.node]),defaultExpanded:d.string,expanded:d.bool,onSwitch:d.func,locked:d.bool,buttons:d.array,loading:d.bool,error:d.any,errorMsgId:d.string,transitionProps:d.object,useToolbar:d.bool}),p(A,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1}),e.exports=A},"./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/prop-types/index.js"),a=n.n(i),c=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=n.n(c),u=n("./MapStore2/web/client/components/I18N/Message.jsx"),l=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=b(a);function a(){return f(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(s.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o.a.createElement(l.a,{msgId:"collapse"}):o.a.createElement(l.a,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&d(t.prototype,n),r&&d(t,r),a}(o.a.Component);h(S,"propTypes",{checked:a.a.bool,onClick:a.a.func}),h(S,"defaultProps",{checked:!1,onClick:function(){}}),t.default=S},"./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react-bootstrap/es/index.js"),i=o.Glyphicon,a=o.DropdownButton,c=o.MenuItem,s=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),u=n("./node_modules/react/index.js"),l=n("./node_modules/uuid/v1.js"),p=s(a),f={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:l()};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,n=void 0===t?[]:t,o=e.buttonConfig,a=void 0===o?{}:o;return u.createElement(p,r({},f,a),n.length?n.map((function(e,t){var n=e.glyph,r=e.text,o=e.onClick,a=e.active,s=void 0!==a&&a;return u.createElement(c,{active:s,eventKey:t,onClick:o,key:t},n&&u.createElement(i,{glyph:n})," ",r)})):null)}},"./MapStore2/web/client/components/playback/Settings.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),c=n("./node_modules/moment/moment.js"),s=n("./MapStore2/node_modules/lodash/lodash.js").isNaN,u=n("./node_modules/react-bootstrap/es/index.js"),l=u.Form,p=u.FormGroup,f=u.ControlLabel,d=u.FormControl,m=u.InputGroup,b=n("./MapStore2/web/client/components/I18N/Message.jsx"),y=n("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),g=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),h=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),S=n("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),E=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!s(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},O=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=c(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}};e.exports=function(e){var t=e.following,n=e.frameDuration,r=e.timeStep,i=e.stepUnit,c=e.onSettingChange,s=void 0===c?function(){}:c,u=e.toggleAnimationMode,j=void 0===u?function(){}:u,A=e.toggleAnimationRange,w=void 0===A?function(){}:A,T=e.fixedStep,_=void 0!==T&&T,M=e.playbackRange,P=void 0===M?{}:M,x=e.setPlaybackRange,R=void 0===x?function(){}:x,C=e.playbackButtons,I=e.dateSelectorStyle,D=void 0===I?{padding:0,margin:0,border:"none"}:I,L=e.style,N=void 0===L?{}:L;return a.createElement("div",{className:"ms-playback-settings",style:N},a.createElement("h4",null,a.createElement(b,{msgId:"timeline.settings.title"})),a.createElement(p,{controlId:"timelineSettings"},a.createElement(l,{componentClass:"fieldset",inline:!0},a.createElement(f,null,a.createElement(b,{msgId:"timeline.settings.snapToGuideLayer"})," ",a.createElement(y,{text:a.createElement(b,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),a.createElement("span",null,a.createElement(h,{checked:!_,onChange:function(){return j()}})))),a.createElement("h4",null,a.createElement(b,{msgId:"playback.settings.title"})),a.createElement(p,{controlId:"frameDuration"},a.createElement(f,null,a.createElement(b,{msgId:"playback.settings.frameDuration"})),a.createElement(m,null,a.createElement(E,{componentClass:"input",type:"number",value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(e,(function(e){s("frameDuration",e)}))}}),a.createElement(m.Addon,null,"s"))),a.createElement(f,null,a.createElement(b,{msgId:"playback.settings.step.label"})," ",a.createElement(y,{text:a.createElement(b,{msgId:"playback.settings.step.tooltip"})})),a.createElement(p,{controlId:"formPlaybackStep"},a.createElement(l,{componentClass:"fieldset",inline:!0},a.createElement(E,{disabled:!_,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(e,(function(e){s("timeStep",e)}))}}),a.createElement(d,{disabled:!_,componentClass:"select",value:i,onChange:function(e){var t=e.target;return s("stepUnit",(void 0===t?{}:t).value)}},a.createElement(b,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"years"},e)})),a.createElement(b,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"weeks"},e)})),a.createElement(b,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"days"},e)})),a.createElement(b,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"hour"},e)})),a.createElement(b,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"minutes"},e)})),a.createElement(b,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(e){return a.createElement("option",{value:"seconds"},e)}))))),a.createElement(S,{onSwitch:function(e){return w(e)},expanded:P.startPlaybackTime&&P.endPlaybackTime,title:a.createElement(b,{msgId:"playback.settings.range.title"}),buttons:C},a.createElement(p,{controlId:"formPlaybackMode",style:{margin:10}},a.createElement(g,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:P.startPlaybackTime,onUpdate:function(e){return R(O(o(o({},P),{},{startPlaybackTime:e})))},style:D,showButtons:!0}),a.createElement(g,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:P.endPlaybackTime,onUpdate:function(e){return R(O(o(o({},P),{},{endPlaybackTime:e})))},style:D,showButtons:!0}))),a.createElement(p,{controlId:"formPlaybackFollowingMode"},a.createElement(l,{componentClass:"fieldset",inline:!0},a.createElement(f,null,a.createElement(b,{msgId:"playback.settings.mode.following"})," ",a.createElement(y,{text:a.createElement(b,{msgId:"playback.settings.mode.followingDescription"})})),a.createElement("span",null,a.createElement(h,{checked:t,onChange:function(e){return s("following",e)}})))))}},"./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Form,y=m.FormGroup,g=m.FormControl,h=m.Glyphicon,S=m.Button,E=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(h),v=n("./MapStore2/node_modules/lodash/lodash.js"),O=v.padStart,j=v.isNil,A=n("./node_modules/moment/moment.js"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=s.call.apply(s,[this].concat(n))),"onUpdate",(function(t,n){var r=A(e.props.date).utc(),o=n?A(r).add(1,t):A(r).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),p(u(e),"onChange",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==n){var o=A(e.props.date).utc(),i=o["day"===t?"date":t]&&A(o)["day"===t?"date":t](r(n));i.isValid()&&!isNaN(i.toDate().getTime())&&e.props.onUpdate(i.toISOString())}})),p(u(e),"getForm",(function(){var t=e.props.date&&A(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!j(e)&&""!==e&&A.monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+O(e/60,2,0)}}]})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.getForm();return f.createElement(b,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},f.createElement(y,{controlId:"inlineDateTime"},this.props.glyph&&f.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},f.createElement(E,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},f.createElement(E,{glyph:t.value}))||"separator"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&f.createElement(S,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},f.createElement(E,{glyph:"chevron-up"})),f.createElement(g,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(n){return e.onChange(t.name,n.target.value,t.parseValue)}}),e.props.showButtons&&f.createElement(S,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},f.createElement(E,{glyph:"chevron-down"})))}))))}}])&&i(t.prototype,n),r&&i(t,r),l}(f.Component);p(w,"propTypes",{date:d.string,clickable:d.bool,onUpdate:d.func,onIconClick:d.func,glyph:d.string,style:d.object,className:d.string,tooltip:d.string,tooltipId:d.string,showButtons:d.bool}),p(w,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""}),e.exports=w},"./MapStore2/web/client/components/time/TimelineComponent.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),b=n("./node_modules/moment/moment.js"),y=n("./node_modules/vis/dist/vis-timeline-graph2d.min.js");y.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n("./node_modules/vis/dist/vis-timeline-graph2d.min.css");var g=n("./MapStore2/node_modules/lodash/lodash.js"),h=g.difference,S=g.differenceBy,E=g.keys,v=g.intersection,O=g.intersectionBy,j=g.each,A=g.omit,w=g.assign,T=function(){},_=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],M={},P={};j(_,(function(e){return M[e]=m.func,P["".concat(e,"Handler")]=T,[M,P]}));var x={items:m.array,rangeItems:m.array,groups:m.array,options:m.object,selectionOptions:m.object,selection:m.array,customTimes:m.shape({datetime:m.instanceOf(Date),id:m.string}),animate:m.oneOfType([m.bool,m.object]),currentTime:m.oneOfType([m.string,m.instanceOf(Date),m.number])},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,r,i=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),f(l(t=i.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(o(e||[]),o(t.props.rangeItems||[])))})),f(l(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new y.Timeline(t,void 0,this.props.options),_.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.items,r=t.groups,o=t.options,i=t.selection,a=t.customTimes,c=t.readOnly,s=t.rangeItems,u=n!==e.items,l=r!==e.groups,p=o!==e.options,f=a!==e.customTimes,d=i!==e.selection,m=c!==e.readOnly,b=s!==e.rangeItems;return u||l||p||f||d||m||b}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return d.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.items,o=n.rangeItems,i=n.groups,a=n.options,c=n.selection,s=n.selectionOptions,u=void 0===s?{}:s,l=n.customTimes,p=n.animate,f=void 0===p||p,d=n.currentTime,m=a;if(f&&(m=A(a,"start","end"),a.start&&a.end?this.$el.setWindow(a.start,a.end,{animation:f}):this.$el.setWindow(b().subtract(1,"month"),b().add(1,"month"),{animation:f})),this.$el.setOptions(m),i.length>0){var g=new y.DataSet;g.add(i),this.$el.setGroups(g)}if(r&&r!==t.items)this.setItems(r);else if(o!==t.rangeItems){var w=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(w){var T=O(o||[],t.rangeItems||[],"id"),_=S(o||[],t.rangeItems||[],"id"),M=S(t.rangeItems||[],o||[],"id");T.map((function(e){return w.update(e)})),_.map((function(e){return w.add(e)})),M.map((function(e){var t=e.id;return w.remove(t)}))}else this.setItems(r)}this.$el.setSelection(c,u),d&&this.$el.setCurrentTime(d);var P=E(this.state.customTimes),x=E(l),R=h(x,P),C=h(P,x),I=v(P,x);j(C,(function(t){return e.$el.removeCustomTime(t)})),j(R,(function(t){var n=l[t];e.$el.addCustomTime(n,t)})),j(I,(function(t){var n=l[t];e.$el.setCustomTime(n,t)})),this.setState({customTimes:l}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&R.length>0)&&j(this.$el.customTimes,(function(n){e.props.readOnly?n.hammer.off("panstart panmove panend"):!0===t.readOnly&&(n.hammer.on("panstart",n._onDragStart.bind(n)),n.hammer.on("panmove",n._onDrag.bind(n)),n.hammer.on("panend",n._onDragEnd.bind(n)))}))}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);f(R,"propTypes",w(x,M)),f(R,"defaultProps",w({items:[],groups:[],options:{},selection:[],customTimes:{}},P)),e.exports=R},"./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=n("./node_modules/recompose/es/Recompose.js"),u=s.compose,l=s.withPropsOnChange,p=s.withHandlers,f=n("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=u(l(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,i=e.playbackRange;return{rangeItems:r&&i&&void 0!==i.startPlaybackTime&&void 0!==i.endPlaybackTime?[].concat(a(n),[o(o({id:"playback-range"},f(i.startPlaybackTime,i.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),u(p({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),l(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,i=void 0===r?function(){}:r;return{options:o(o({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;i(e),t(e)}})}})),l(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,i=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(a(r),[o(o({id:"current-range",editable:{updateTime:!i,updateGroup:!1,remove:!1}},f(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),l(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,i=e.offsetEnabled,a=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},i&&a?{offsetTime:a.end}:{}].reduce((function(e,t){return t?o(o({},e),t):o({},e)}),{})}})))},"./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/recompose/es/Recompose.js").withHandlers,c=n("./MapStore2/node_modules/lodash/lodash.js").trim,s=n("./node_modules/moment/moment.js"),u=function(e,t){return s(t).diff(e)>0},l=n("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=a({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,r=e.status,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.selectGroup,s=void 0===a?function(){}:a;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,a=e.group,u=e.what,l=e.event;if("PLAY"!==r)switch(u){case"group-label":a&&"PLAY"!==r&&s(a);break;default:var p=l&&l.target&&l.target.closest(".vis-custom-time"),f=p&&p.getAttribute("class"),d=f&&c(f.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&i(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,a=e.setCurrentTime,c=void 0===a?function(){}:a,s=e.currentTimeRange,p=void 0===s?{}:s,f=e.playbackRange,d=e.setPlaybackRange,m=void 0===d?function(){}:d,b=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,a=e.id;if("startPlaybackTime"!==a&&"endPlaybackTime"!==a)"currentTime"===a&&(p.end?u(n,p.end)?c(n.toISOString(),null):(c(p.end),r(n.toISOString())):c(n.toISOString(),b)),"offsetTime"===a&&(u(t,n)?r(n.toISOString()):(c(n.toISOString()),r(t)));else{var s=o(o({},f),{},i({},a,n.toISOString())),d=l(s.startPlaybackTime,s.endPlaybackTime),y=d.start,g=d.end;u(y,g)&&m({startPlaybackTime:y,endPlaybackTime:g})}}}})},"./MapStore2/web/client/epics/backgroundselector.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/rxjs/Rx.js"),u=n("./MapStore2/node_modules/lodash/lodash.js").head,l=n("./MapStore2/web/client/actions/backgroundselector.js"),p=l.ADD_BACKGROUND,f=l.ADD_BACKGROUND_PROPERTIES,d=l.SET_CURRENT_BACKGROUND_LAYER,m=l.BACKGROUND_ADDED,b=l.BACKGROUND_EDITED,y=l.REMOVE_BACKGROUND,g=l.createBackgroundsList,h=l.clearModalParameters,S=l.setBackgroundModalParams,E=l.setCurrentBackgroundLayer,v=l.allowBackgroundsDeletion,O=n("./MapStore2/web/client/actions/controls.js").setControlProperty,j=n("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,A=n("./MapStore2/web/client/actions/catalog.js").changeSelectedService,w=n("./MapStore2/web/client/actions/layers.js"),T=w.changeLayerProperties,_=w.removeNode,M=n("./MapStore2/web/client/selectors/layers.js"),P=M.getLayerFromId,x=M.currentBackgroundSelector,R=n("./MapStore2/web/client/selectors/backgroundselector.js").backgroundLayersSelector,C=n("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,I=n("./MapStore2/web/client/utils/LayersUtils.js").formatCapabitiliesOptions;e.exports={accessMetadataExplorer:function(e){return e.ofType(p).switchMap((function(){return s.Observable.of(O("metadataexplorer","enabled",!0),v(!1),A("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(f).switchMap((function(e){var t=e.modalParams,n=s.Observable.of(S(a(a({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?s.Observable.of(S(a(a({},t),{},{loading:!0}))).concat(C(t.layer).switchMap((function(e){return s.Observable.of(S(a(a({},t),{},{loading:!1,capabilities:I(e)})))})).catch((function(){return n}))):n}))},backgroundsListInit:function(e){return e.ofType(j).switchMap((function(e){var t,n=e.config,o=n.map&&n.map.backgrounds||[],i=(n.map&&n.map.layers||[]).filter((function(e){return"background"===e.group})),a=o.filter((function(e){return!!e.thumbnail})).map((function(e){return T(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0;i<t.length;++i)o[i]=t.charCodeAt(i);return URL.createObjectURL(new Blob([r],{type:n}))}(e.thumbnail)})})),c=u(i.filter((function(e){return e.visibility})));return(t=s.Observable).of.apply(t,r(a.concat(g(o))).concat(r(c?[E(c.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(d).switchMap((function(e){var n,o=e.layerId,i=t.getState(),a=P(i,o);return(n=s.Observable).of.apply(n,r(a&&"background"===a.group?[O("backgroundSelector","tempLayer",a),O("backgroundSelector","currentLayer",a)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(m).mergeMap((function(e){var n=e.layerId,r=t.getState(),o=P(r,n);return o?s.Observable.of(T(o.id,{visibility:!0}),E(o.id),h()):s.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(b).mergeMap((function(e){var n=e.layerId,r=t.getState();return P(r,n)?s.Observable.of(h()):s.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(y).mergeMap((function(e){var n=e.backgroundId,r=t.getState(),o=P(r,n),i=R(r)||[],a=x(r)||{},c=n===a.id?u(i.filter((function(e){return e.id!==n&&!e.invalid}))):a;return o?s.Observable.of(_(n,"layers"),T(c.id,{visibility:!0}),E(c.id)):s.Observable.empty()}))}}},"./MapStore2/web/client/epics/fullscreen.js":function(e,t,n){var r=n("./node_modules/screenfull/dist/screenfull.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),i=o.head,a=o.last,c=n("./MapStore2/web/client/actions/controls.js").setControlProperty,s=n("./MapStore2/web/client/actions/fullscreen.js").TOGGLE_FULLSCREEN,u=n("./MapStore2/web/client/utils/ConfigUtils.js"),l=n("./node_modules/rxjs/Rx.js");e.exports={toggleFullscreenEpic:function(e){return e.ofType(s).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(u.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&r.enabled?r.request(t):t&&!e.enable&&r.exit(),l.Observable.merge(l.Observable.fromEvent(document,a(i([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return r.element!==t})).map((function(){return c("fullscreen","enabled",!1)})),l.Observable.of(c("fullscreen","enabled",e.enable)),l.Observable.fromEvent(window,"hashchange").do((function(){return r.exit()})).map((function(){return c("fullscreen","enabled",!1)})))}))}}},"./MapStore2/web/client/epics/identify.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./node_modules/uuid/index.js"),c=n.n(a),s=n("./node_modules/connected-react-router/esm/actions.js"),u=n("./MapStore2/web/client/actions/mapInfo.js"),l=n("./MapStore2/web/client/actions/controls.js"),p=n("./MapStore2/web/client/actions/featuregrid.js"),f=n("./MapStore2/web/client/actions/wfsquery.js"),d=n("./MapStore2/web/client/actions/map.js"),m=n("./MapStore2/web/client/actions/layers.js"),b=n("./MapStore2/web/client/actions/annotations.js"),y=n("./MapStore2/web/client/actions/config.js"),g=n("./MapStore2/web/client/actions/mapPopups.js"),h=n("./MapStore2/web/client/actions/search.js"),S=n("./MapStore2/web/client/selectors/mapInfo.js"),E=n("./MapStore2/web/client/selectors/layers.js"),v=n("./MapStore2/web/client/selectors/featuregrid.js"),O=n("./MapStore2/web/client/selectors/queryform.js"),j=n("./MapStore2/web/client/selectors/map.js"),A=n("./MapStore2/web/client/selectors/maplayout.js"),w=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),T=n("./MapStore2/web/client/selectors/localConfig.js"),_=n("./MapStore2/web/client/selectors/controls.js"),M=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),P=n("./MapStore2/web/client/utils/MapUtils.js"),x=n("./MapStore2/web/client/utils/MapInfoUtils.js"),R=n.n(x),C=n("./MapStore2/web/client/components/map/popups/index.js"),I=n("./MapStore2/web/client/api/identify.jsx");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=n("./MapStore2/web/client/actions/mapInfo.js").SET_MAP_TRIGGER,U=function(e){return Object(S.stopGetFeatureInfoSelector)(e)||Object(v.isFeatureGridOpen)(e)&&(function(e){return"EDIT"===Object(v.modeSelector)(e)}(e)||function(e){return Object(i.get)(Object(i.find)(Object(v.getAttributeFilters)(e),(function(e){return"geometry"===e.type})),"enabled")}(e))},B=function(e,t){var n,r=Object(i.get)(e,"latlng.lng"),o=Object(i.get)(e,"latlng.lat"),a=Object(w.reproject)([r,o],"EPSG:4326",t),c=Object(P.getHook)(P.GET_PIXEL_FROM_COORDINATES_HOOK);if(c){var s=k(c([a.x,a.y]),2);n={x:s[0],y:s[1]}}else n=e.pixel;var u=Object(P.getHook)(P.GET_COORDINATES_FROM_PIXEL_HOOK),l=Object(w.calculateCircleRadiusFromPixel)(u,n,a,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[a.x,a.y],coordinates:Object(w.calculateCircleCoordinates)(a,l,12),extent:[a.x-l,a.y-l,a.x+l,a.y+l],projection:t,radius:l,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return L(L({},e),{},{pixel:n,geometricFilter:p})};t.default={getFeatureInfoOnFeatureInfoClick:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.FEATURE_INFO_CLICK).switchMap((function(e){var t=e.point,n=e.filterNameList,a=void 0===n?[]:n,s=e.overrideParams,l=void 0===s?{}:s,p=Object(i.reverse)(Object(E.queryableLayersSelector)(r())),f=Object(E.queryableSelectedLayersSelector)(r());if(f.length&&(p=f),0===p.length)return o.a.Observable.of(Object(u.purgeMapInfoResults)(),Object(u.noQueryableLayers)());var d=["SLD_BODY"],m=["buffer","cql_filter","filter","propertyName"],b=o.a.Observable.from(p.filter((function(e){return!a.length||a.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=Object(M.localizedLayerStylesEnvSelector)(r()),n=R.a.buildIdentifyRequest(e,L(L({},Object(S.identifyOptionsSelector)(r())),{},{env:t})),i=n.url,a=n.request,s=n.metadata;if(Object(S.itemIdSelector)(r())&&Object(S.overrideParamsSelector)(r())&&(a=L(L({},a),Object(S.overrideParamsSelector)(r())[e.name])),l[e.name]&&(a=L(L({},a),l[e.name])),i){var f=i,b=a,y=s,g=R.a.filterRequestParams(e,m,d),h=Object(S.isHighlightEnabledSelector)(r()),E=Object(S.itemIdSelector)(r()),v=c.a.v1(),O=L(L({},g),b);return Object(I.a)(f,O,e,{attachJSON:h,itemId:E}).map((function(t){return t.data.exceptions?Object(u.exceptionsFeatureInfo)(v,t.data.exceptions,b,y):Object(u.loadFeatureInfo)(v,t.data,b,L(L({},y),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return o.a.Observable.of(Object(u.errorFeatureInfo)(v,e.data||e.statusText||e.status,b,y))})).startWith(Object(u.newMapInfoRequest)(v,O))}return o.a.Observable.of(Object(u.getVectorInfo)(e,a,s,p))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?b:b.startWith(Object(u.purgeMapInfoResults)())}))},handleMapInfoMarker:function(e,t){var n=t.getState;return e.ofType(u.FEATURE_INFO_CLICK).filter((function(){return!Object(S.isMapPopup)(n())})).map((function(e){return e.layer?Object(u.hideMapinfoMarker)():Object(u.showMapinfoMarker)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(u.LOAD_FEATURE_INFO,u.GET_VECTOR_INFO).switchMap((function(){return o.a.Observable.of(Object(p.closeFeatureGrid)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.CLOSE_IDENTIFY).switchMap((function(){return Object(i.get)(r(),"annotations.editing")?o.a.Observable.of(Object(b.closeAnnotations)()):o.a.Observable.of(Object(u.purgeMapInfoResults)())}))},hideMarkerOnIdentifyClose:function(e){return e.ofType(u.CLOSE_IDENTIFY).flatMap((function(){return o.a.Observable.of(Object(u.hideMapinfoMarker)())}))},changeMapPointer:function(e,t){return e.ofType(d.CHANGE_MOUSE_POINTER).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(y.MAP_CONFIG_LOADED).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(d.CLICK_ON_MAP).filter((function(){var e=t.getState().mapInfo.disableAlwaysOn,n=void 0!==e&&e;return!Object(j.isMouseMoveIdentifyActiveSelector)(t.getState())&&(n||!U(t.getState()||{}))})).switchMap((function(e){var n=e.point,r=e.layer,i=Object(j.projectionSelector)(t.getState());return o.a.Observable.of(Object(u.featureInfoClick)(B(n,i),r),Object(h.cancelSelectedItem)()).merge(o.a.Observable.of(Object(g.addPopup)(c()(),{component:C.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:n?n.rawPos:[]}})).filter((function(){return Object(S.isMapPopup)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.UPDATE_FEATURE_INFO_CLICK_POINT).map((function(e){var t=e.point,n=Object(j.projectionSelector)(r());return{point:B(t,n)}})).withLatestFrom(e.ofType(u.FEATURE_INFO_CLICK),(function(e,t){var n=e.point;return L(L({},t),{},{point:n})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(u.TOGGLE_HIGHLIGHT_FEATURE).filter((function(e){return e.enabled&&Object(S.clickPointSelector)(r())})).switchMap((function(){return o.a.Observable.from([Object(u.featureInfoClick)(Object(S.clickPointSelector)(r()),Object(S.clickLayerSelector)(r()),Object(S.filterNameListSelector)(r()),Object(S.overrideParamsSelector)(r()),Object(S.itemIdSelector)(r())),Object(u.showMapinfoMarker)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(u.FEATURE_INFO_CLICK).filter((function(){return Object(E.centerToMarkerSelector)(t.getState())})).switchMap((function(n){return e.ofType(u.LOAD_FEATURE_INFO,u.ERROR_FEATURE_INFO).switchMap((function(){var r=t.getState(),a=Object(j.mapSelector)(r),c=Object(j.projectionSelector)(r),s=Object(j.projectionDefsSelector)(r),l=Object(i.find)(s,{code:c}),p=l&&l.extent,f=p&&Object(w.reprojectBbox)(p,c,"EPSG:4326"),m=Object(A.boundingMapRectSelector)(r),b=n.point&&n.point&&n.point.latlng,y=Object(P.getCurrentResolution)(Math.round(a.zoom),0,21,96),g=m&&a&&a.size&&{left:Object(P.parseLayoutValue)(m.left,a.size.width),bottom:Object(P.parseLayoutValue)(m.bottom,a.size.height),right:Object(P.parseLayoutValue)(m.right,a.size.width),top:Object(P.parseLayoutValue)(m.top,a.size.height)};if(!a||!g||!b||n.point.cartographic||Object(w.isInsideVisibleArea)(b,a,g,y)||Object(j.isMouseMoveIdentifyActiveSelector)(r))return o.a.Observable.of(Object(u.updateCenterToMarker)("disabled"));if(f&&!Object(w.isPointInsideExtent)(b,f))return o.a.Observable.empty();var h=Object(w.centerToVisibleArea)(b,a,g,y);return o.a.Observable.of(Object(u.updateCenterToMarker)("enabled"),Object(d.zoomToPoint)(h.pos,h.zoom,h.crs)).concat(e.ofType(u.CLOSE_IDENTIFY).switchMap((function(){var e=a&&Object(P.getBbox)(a.center,a.zoom);return o.a.Observable.of(Object(d.changeMapView)(a.center,a.zoom,e,a.size,null,a.projection))})).takeUntil(e.ofType(d.CHANGE_MAP_VIEW).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(l.SET_CONTROL_PROPERTIES).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return o.a.Observable.of(Object(u.purgeMapInfoResults)(),Object(u.hideMapinfoMarker)()).merge(o.a.Observable.of(Object(g.cleanPopups)()).filter((function(){return Object(S.isMapPopup)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var n=t.getState;return e.ofType(l.TOGGLE_CONTROL).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&Object(i.get)(n(),"controls.annotations.enabled",!1)})).mapTo(Object(u.purgeMapInfoResults)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(l.SET_CONTROL_PROPERTY).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.value;return"measure"===t&&n})).mapTo(Object(u.purgeMapInfoResults)())},cleanPopupsEpicOnPurge:function(e,t){var n=t.getState;return e.ofType(u.PURGE_MAPINFO_RESULTS).filter((function(){return Object(S.isMapPopup)(n())})).mapTo(Object(g.cleanPopups)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(u.EDIT_LAYER_FEATURES).exhaustMap((function(e){var n,r=e.layer;return o.a.Observable.of(Object(u.setCurrentEditFeatureQuery)(null===(n=Object(S.clickPointSelector)(t.getState()))||void 0===n?void 0:n.geometricFilter),Object(m.browseData)(r))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(f.QUERY_CREATE).switchMap((function(){var e=Object(S.currentEditFeatureQuerySelector)(t.getState()),n=(Object(i.find)(Object(v.getAttributeFilters)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||Object(i.get)(Object(O.spatialFieldSelector)(t.getState()),"attribute");return e?o.a.Observable.of(Object(u.setCurrentEditFeatureQuery)(),Object(p.toggleEditMode)(),Object(p.updateFilter)(L(L({},e),{},{attribute:n,value:L(L({},e.value),{},{attribute:n})}))):o.a.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(p.CLOSE_FEATURE_GRID,s.b).mapTo(Object(u.setCurrentEditFeatureQuery)())},mouseMoveMapEventEpic:function(e,t){var n=t.getState;return e.ofType(d.MOUSE_MOVE).debounceTime(Object(T.a)(n())).switchMap((function(e){var t=e.position,r=e.layer,i=Object(_.createControlEnabledSelector)("annotations")(n()),a=Object(_.measureSelector)(n()),s=n().mousePosition.mouseOut;return!Object(j.isMouseMoveIdentifyActiveSelector)(n())||i||a||s?o.a.Observable.empty():o.a.Observable.of(Object(u.featureInfoClick)(t,r)).merge(o.a.Observable.of(Object(g.addPopup)(c()(),{component:C.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var n=t.getState;return e.ofType(d.UNREGISTER_EVENT_LISTENER).switchMap((function(){var e,t,r=o.a.Observable.empty(),i=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(i.length&&!Object(j.isMouseMoveIdentifyActiveSelector)(n())){var a=i[0].id;r=o.a.Observable.of(Object(g.removePopup)(a))}return r}))},removePopupOnLocationChangeEpic:function(e,t){var n=t.getState;return e.ofType(s.b,u.PURGE_MAPINFO_RESULTS).switchMap((function(){var e,t,r=o.a.Observable.empty(),i=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(i.length){var a=i[0].id;r=o.a.Observable.of(Object(g.removePopup)(a))}return r}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var n=t.getState;return e.ofType(g.REMOVE_MAP_POPUP).switchMap((function(){return Object(j.isMouseMoveIdentifyActiveSelector)(n())?o.a.Observable.of(Object(u.hideMapinfoMarker)()):o.a.Observable.empty()}))},setMapTriggerEpic:function(e,t){return e.ofType(G,y.MAP_CONFIG_LOADED).switchMap((function(){return o.a.Observable.of("hover"===Object(S.mapTriggerSelector)(t.getState())?Object(d.registerEventListener)("mousemove","identifyFloatingTool"):Object(d.unRegisterEventListener)("mousemove","identifyFloatingTool"))}))}}},"./MapStore2/web/client/epics/map.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/rxjs/Rx.js"),c=n("./MapStore2/web/client/actions/layers.js").changeLayerProperties,s=n("./MapStore2/web/client/actions/map.js"),u=s.CREATION_ERROR_LAYER,l=s.INIT_MAP,p=s.ZOOM_TO_EXTENT,f=s.CHANGE_MAP_CRS,d=s.changeMapView,m=s.changeMapLimits,b=n("./MapStore2/web/client/selectors/map.js"),y=b.configuredExtentCrsSelector,g=b.configuredRestrictedExtentSelector,h=b.configuredMinZoomSelector,S=b.mapSelector,E=b.mapIdSelector,v=n("./MapStore2/web/client/actions/config.js").loadMapInfo,O=n("./MapStore2/web/client/actions/security.js").LOGIN_SUCCESS,j=n("./MapStore2/web/client/selectors/layers.js"),A=j.currentBackgroundLayerSelector,w=j.allBackgroundLayerSelector,T=j.getLayerFromId,_=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,M=n("./MapStore2/web/client/selectors/maplayout.js").mapPaddingSelector,P=n("./MapStore2/web/client/actions/controls.js").setControlProperty,x=n("./MapStore2/web/client/actions/config.js"),R=x.MAP_CONFIG_LOADED,C=x.MAP_CONFIG_LOAD_ERROR,I=n("./MapStore2/web/client/utils/LayersUtils.js").isSupportedLayer,D=n("./MapStore2/web/client/utils/MapUtils.js"),L=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),N=n("./MapStore2/web/client/actions/notifications.js").warning,k=n("./MapStore2/web/client/actions/controls.js").resetControls,F=n("./MapStore2/web/client/actions/layers.js").clearLayers,G=n("./MapStore2/web/client/actions/mapInfo.js").clearWarning,U=n("./MapStore2/web/client/actions/additionallayers.js").removeAllAdditionalLayers,B=n("./MapStore2/node_modules/lodash/lodash.js"),H=B.head,z=B.isArray,Y=B.isObject,V=B.mapValues,W=n("./MapStore2/web/client/selectors/security.js").isLoggedIn,q=n("./MapStore2/web/client/selectors/router.js").pathnameSelector,K=n("./node_modules/connected-react-router/esm/index.js").push;e.exports={checkMapPermissions:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(O).filter((function(){return E(r())})).map((function(){var e=E(r());return v(e)}))},handleCreationLayerError:function(e,t){return e.ofType(u).delay(500).switchMap((function(e){var n=_(t.getState()),r=T(t.getState(),e.options.id);return r&&I(r,n)?a.Observable.from([c(e.options.id,{invalid:!0})]):a.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(u).delay(500).filter((function(e){var n=A(t.getState());return n&&e.options.id===n.id&&"background"===e.options.group})).switchMap((function(e){var n=_(t.getState()),r=H(w(t.getState()).filter((function(t){return I(t,n)&&t.id!==e.options.id})));return r?a.Observable.from([c(r.id,{visibility:!0}),P("backgroundSelector","currentLayer",r),P("backgroundSelector","tempLayer",r),N({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):a.Observable.of(N({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(l).switchMap((function(){return a.Observable.of(U(),k(),F(),G())}))},resetLimitsOnInit:function(e,t){return e.ofType(R,f).switchMap((function(){var e=y(t.getState()),n=g(t.getState()),r=h(t.getState());return a.Observable.of(m({restrictedExtent:n,crs:e,minZoom:r}))}))},zoomToExtentEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(p).switchMap((function(e){var t=function(e){if(z(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(Y(e)){var t=V(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return a.Observable.empty();var n=D.getHook(D.ZOOM_TO_EXTENT_HOOK),i=M(r());return n?(n(t,{crs:e.crs,padding:i,maxZoom:e.maxZoom}),a.Observable.empty()):function(e,t){var n=0,r=e.extent,i=void 0===r?[]:r,c=L.reprojectBbox(i,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(c){var s=L.reproject(D.getCenterForExtent(i,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&i&&i[0]<=-180&&i[1]<=-90&&i[2]>=180&&i[3]>=90)n=1;else{var u=L.reprojectBbox(i,e.crs,t.projection||"EPSG:4326");n=D.getZoomForExtent(u,t.size,0,21,null)}e.maxZoom&&n>e.maxZoom&&(n=e.maxZoom);var l={minx:c[0],miny:c[1],maxx:c[2],maxy:c[3]},p=o(o({},t.bbox),{},{bounds:l});return a.Observable.of(d(s,n,p,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return a.Observable.empty()}(o(o({},e),{},{extent:t}),S(r()))}))},redirectUnauthorizedUserOnNewMap:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(C).filter((function(e){return e.error&&403===e.error.status&&-1!==q(r()).indexOf("new")})).filter((function(){return!W(r())})).switchMap((function(){return a.Observable.of(K("/"))}))}}},"./MapStore2/web/client/epics/maps.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),i=n("./node_modules/object-assign/index.js"),a=n.n(i),c=n("./node_modules/connected-react-router/esm/actions.js"),s=n("./MapStore2/web/client/utils/NotificationUtils.js"),u=n("./MapStore2/web/client/api/GeoStoreDAO.js"),l=n.n(u),p=n("./MapStore2/web/client/actions/config.js"),f=n("./MapStore2/node_modules/lodash/lodash.js"),d=n("./MapStore2/web/client/actions/maps.js"),m=n("./MapStore2/web/client/actions/featuregrid.js"),b=n("./MapStore2/web/client/actions/controls.js"),y=function(e,t){return Object(f.find)(function(e){return Object(f.get)(e,"maps.results",[])}(e),(function(e){return e.id===t}))},g=function(e){return e&&e.maps&&e.maps.searchText},h=function(e){return{start:Object(f.get)(e,"maps.start"),limit:Object(f.get)(e,"maps.limit")}},S=function(e){return e&&e.maps&&e.maps.searchFilter},E=n("./MapStore2/web/client/selectors/map.js"),v=n("./MapStore2/web/client/selectors/maptype.js"),O=n("./MapStore2/web/client/selectors/security.js"),j=n("./MapStore2/web/client/actions/security.js"),A=n("./MapStore2/web/client/utils/ObservableUtils.js"),w=n("./MapStore2/web/client/utils/MapUtils.js"),T=n("./MapStore2/web/client/utils/LocaleUtils.js"),_=n("./MapStore2/web/client/utils/MapInfoUtils.js"),M=n("./MapStore2/web/client/api/persistence/index.js"),P=n("./MapStore2/web/client/observables/epics.js");function x(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"loadMapsEpic",(function(){return G})),n.d(t,"reloadMapsEpic",(function(){return U})),n.d(t,"getMapsResourcesByCategoryEpic",(function(){return B})),n.d(t,"loadMapsOnSearchFilterChange",(function(){return H})),n.d(t,"hideTabsOnSearchFilterChange",(function(){return z})),n.d(t,"mapsLoadContextsEpic",(function(){return Y})),n.d(t,"mapsSetupFilterOnLogin",(function(){return V})),n.d(t,"deleteMapAndAssociatedResourcesEpic",(function(){return W})),n.d(t,"fetchDataForDetailsPanel",(function(){return q})),n.d(t,"closeDetailsPanelEpic",(function(){return K})),n.d(t,"storeDetailsInfoEpic",(function(){return Q})),n.d(t,"mapSaveMapResourceEpic",(function(){return Z}));var F=function(e){var t=function(e){return Object(f.get)(e,"maps.totalCount")}(e),n=h(e)||{},r=n.start,o=n.limit,i=k(n,["start","limit"]);return r===t-1?{start:Math.max(0,r-o),limit:o}:L({start:r,limit:o},i)},G=function(e){return e.ofType(d.MAPS_LOAD_MAP).switchMap((function(e){var t=e.params,n=e.searchText,r=e.geoStoreUrl,i=n.replace(/[/?:;@=&\\]+/g,""),c=a()({},{params:t},r?{baseURL:r}:{});return o.a.Observable.of(Object(d.mapsLoading)(i,t),Object(d.getMapResourcesByCategory)("MAP",i,c))}))},U=function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d.MAP_DELETED,p.MAP_SAVED,d.RELOAD_MAPS,d.ATTRIBUTE_UPDATED,"DASHBOARDS:DASHBOARD_DELETED").delay(1e3).switchMap((function(){return o.a.Observable.of(Object(d.loadMaps)(!1,g(r()),F(r())),Object(d.invalidateFeaturedMaps)())}))},B=function(e,t){return e.ofType(d.MAPS_GET_MAP_RESOURCES_BY_CATEGORY).switchMap((function(e){var n=t.getState(),r=S(n)||{},i=Object(O.userRoleSelector)(n),a=e.map,c=e.searchText,s=e.opts,u=void 0===s?{}:s,p=r.contexts&&r.contexts.length>0,m=p&&"*"===c?"":c,b=function(e){var t=e.results,n=k(e,["results"]),r=Object(f.isArray)(t)?t:""===t?[]:[t];return 0===r.length?o.a.Observable.of(L({results:[]},n)):o.a.Observable.forkJoin(r.map((function(e){var t=e.context;return t?Object(M.getResource)(t,{includeAttributes:!1,withData:!1,withPermissions:!1}).switchMap((function(e){return o.a.Observable.of(e.name)})).catch((function(){return o.a.Observable.of(null)})):o.a.Observable.of(null)}))).map((function(e){return L({results:Object(f.zip)(r,e).map((function(e){var t=R(e,2),n=t[0],r=t[1];return L(L({},n),{},{contextName:r})}))},n)}))};return(p?Object(M.searchListByAttributes)({AND:{FIELD:[{field:["NAME"],operator:["ILIKE"],value:["%"+m+"%"]}],OR:p&&{ATTRIBUTE:(r.contexts||[]).map((function(e){return{name:["context"],operator:["EQUAL_TO"],type:["STRING"],value:[e.id]}}))}}},L(L({},u),{},{params:L(L({},u.params||{}),{},{includeAttributes:!0})})).switchMap((function(e){var t=e.results,n=e.totalCount,r={results:t.map((function(e){return L(L(L({},Object(f.omit)(e,"attributes","permissions")),Object(f.pick)(e.attributes,"thumbnail","context")),{},{canCopy:"ADMIN"===i,canEdit:"ADMIN"===i,canDelete:"ADMIN"===i})})),totalCount:n,success:!0};return b(r).switchMap((function(e){return o.a.Observable.of(Object(d.mapsLoaded)(e,u.params,m))}))})):o.a.Observable.fromPromise(l.a.getResourcesByCategory(a,m,L(L({},u),{},{params:L(L({},u.params||{}),{},{includeAttributes:!0})})).then((function(e){return e}))).switchMap((function(e){return b(e).switchMap((function(e){var t;return o.a.Observable.of(Object(d.mapsLoaded)(L(L({},e),{},{results:null===(t=e.results)||void 0===t?void 0:t.map((function(e){return L(L({},e),{},{category:{name:"MAP"}})}))}),u.params,c))}))}))).let(Object(P.wrapStartStop)(Object(d.loading)(!0,"loadingMaps"),Object(d.loading)(!1,"loadingMaps"),(function(e){return o.a.Observable.of(Object(d.loadError)(e))})))}))},H=function(e,t){return e.ofType(d.SEARCH_FILTER_CHANGED,d.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var n,r=e.type,i=t.getState(),a=S(i),c=g(i),s=h(i)||{},u=s.limit,l=void 0===u?12:u,p=k(s,["limit"]);return(n=o.a.Observable).of.apply(n,x(r===d.SEARCH_FILTER_CLEAR_ALL?[Object(d.setSearchFilter)({})]:[]).concat(x(r!==d.SEARCH_FILTER_CLEAR_ALL||a&&0!==(a.contexts||[]).length?[Object(d.loadMaps)(null,c,L({start:0,limit:l},Object(f.omit)(p,"start")))]:[])))}))},z=function(e){return e.ofType(d.SEARCH_FILTER_CHANGED,d.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var t=e.filterData;return o.a.Observable.of({type:"CONTENT_TABS:SET_TABS_HIDDEN",tabs:0===(t||[]).length?{geostories:!1,dashboards:!1}:{geostories:!0,dashboards:!0}})}))},Y=function(e){return e.ofType(d.LOAD_CONTEXTS).distinctUntilChanged((function(e,t){return(e.searchText||"*")===(t.searchText||"*")&&Object(f.isEqual)(e.options,t.options)&&!t.force})).switchMap((function(e){var t=e.searchText,n=e.options,r=void 0===n?{}:n,i=e.delayLoad,a=void 0===i?0:i,c=t||"*";return o.a.Observable.of(null).delay(a).switchMap((function(){return o.a.Observable.defer((function(){return l.a.getResourcesByCategory("CONTEXT",c,r)})).switchMap((function(e){return o.a.Observable.of(Object(d.setContexts)({results:(Object(f.isArray)(e.results)?e.results:[e.results]).filter((function(e){return!!e})),totalCount:e.totalCount,searchText:c,start:Object(f.get)(r,"params.start"),limit:Object(f.get)(r,"params.limit")}))})).let(Object(P.wrapStartStop)(Object(d.loading)(!0,"loadingContexts"),Object(d.loading)(!1,"loadingContexts"),(function(){return o.a.Observable.of(Object(s.basicError)({message:"maps.feedback.errorLoadingContexts"}))})))}))}))},V=function(e,t){return e.ofType(j.LOGIN_SUCCESS,j.LOGOUT).switchMap((function(){var e=function(e){return e&&e.maps&&e.maps.contexts}(t.getState())||{};return o.a.Observable.of(Object(b.setControlProperty)("advancedsearchpanel","enabled",!1),Object(d.loadContexts)(e.searchText,{params:{start:Object(f.get)(e,"start",0),limit:Object(f.get)(e,"limit",12)}},0,!0))}))},W=function(e,t){return e.ofType(d.DELETE_MAP).switchMap((function(e){var n=t.getState(),r=e.resourceId,i=e.options,a=function(e,t){return y(e,t)&&y(e,t).details||""}(n,r),c=function(e,t){return y(e,t)&&y(e,t).thumbnail||""}(n,r),u=Object(w.getIdFromUri)(a),l=Object(w.getIdFromUri)(c);return o.a.Observable.forkJoin(Object(A.deleteResourceById)(l,i),Object(A.deleteResourceById)(u,i),Object(A.deleteResourceById)(r,i)).concatMap((function(e){var t=R(e,3),n=t[0],i=t[1],a=t[2],c=[];return"error"===n.resType&&c.push(Object(s.basicError)({message:"maps.feedback.errorDeletingDetailsOfMap"})),"error"===i.resType&&c.push(Object(s.basicError)({message:"maps.feedback.errorDeletingThumbnailOfMap"})),"error"===a.resType&&(c.push(Object(s.basicError)({message:"maps.feedback.errorDeletingMap"})),c.push(Object(d.mapDeleted)(r,"failure",a.error))),"success"===a.resType&&c.push(Object(d.mapDeleted)(r,"success")),"success"===a.resType&&"success"===n.resType&&"success"===i.resType&&c.push(Object(s.basicSuccess)({message:"maps.feedback.allResDeleted"})),o.a.Observable.from(c)})).startWith(Object(d.mapDeleting)(r))}))},q=function(e,t){return e.ofType(d.OPEN_DETAILS_PANEL).switchMap((function(){var e=t.getState(),n=Object(E.mapInfoDetailsUriFromIdSelector)(e),r=Object(w.getIdFromUri)(n);return o.a.Observable.fromPromise(l.a.getData(r).then((function(e){return e}))).switchMap((function(e){return o.a.Observable.of(Object(m.closeFeatureGrid)(),Object(d.updateDetails)(e))})).startWith(Object(b.toggleControl)("details","enabled")).catch((function(){return o.a.Observable.of(Object(s.basicError)({message:"maps.feedback.errorFetchingDetailsOfMap"}),Object(d.updateDetails)(d.NO_DETAILS_AVAILABLE))}))}))},K=function(e){return e.ofType(d.CLOSE_DETAILS_PANEL).switchMap((function(){return o.a.Observable.from([Object(b.toggleControl)("details","enabled")])}))},Q=function(e,t){return e.ofType(p.MAP_INFO_LOADED).switchMap((function(){var e=Object(E.mapIdSelector)(t.getState());return e?o.a.Observable.fromPromise(l.a.getResourceAttributes(e)).switchMap((function(t){var n,r=Object(f.find)(t,{name:"details"}),i=Object(f.find)(t,{name:"detailsSettings"}),a={};if(!r||r.value===_.EMPTY_RESOURCE_VALUE)return o.a.Observable.empty();try{a=JSON.parse(i.value)}catch(e){a={}}return(n=o.a.Observable).of.apply(n,[Object(d.detailsLoaded)(e,r.value,a)].concat(x(a.showAtStartup?[Object(d.openDetailsPanel)()]:[])))})):o.a.Observable.empty()}))},Z=function(e,t){return e.ofType(d.SAVE_MAP_RESOURCE).exhaustMap((function(e){var n,r=e.resource,i=Object(f.mapValues)(r.attributes,(function(e){if(Object(f.isObject)(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),u=Object(f.keys)(i).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!Object(f.isNil)(i[e])}));return o.a.Observable.forkJoin((n=Object(f.get)(r,"attributes.context"),n?Object(M.getResource)(n,{withData:!1}):o.a.Observable.of(null)),r.id?Object(M.updateResource)(r):Object(M.createResource)(r)).switchMap((function(e){var n=R(e,2),l=n[0],f=n[1];return(u.length>0?o.a.Observable.forkJoin(u.map((function(e){return Object(M.updateResourceAttribute)({id:f,name:e,value:i[e]})}))):o.a.Observable.of([])).switchMap((function(){return o.a.Observable.from([].concat(x(r.id?[Object(p.loadMapInfo)(f)]:[]),x(r.id?[Object(p.configureMap)(r.data,f)]:[]),[r.id?Object(b.toggleControl)("mapSave"):Object(b.toggleControl)("mapSaveAs"),Object(p.mapSaved)(r.id)],x(r.id?[]:[Object(d.mapCreated)(f,a()({id:f,canDelete:!0,canEdit:!0,canCopy:!0},r.metadata),r.data),Object(c.g)(l?"/context/".concat(l.name,"/").concat(f):"/viewer/".concat(Object(v.mapTypeSelector)(t.getState()),"/").concat(f))]))).merge(o.a.Observable.of(Object(s.basicSuccess)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,n=e.statusText,r=e.data,i=e.message,a=k(e,["status","statusText","data","message"]);return o.a.Observable.of(Object(p.mapSaveError)(t?{status:t,statusText:n,data:r}:i||a),Object(s.basicError)(L(L({},Object(T.getErrorMessage)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(r.id?Object(d.mapUpdating)(r.metadata):Object(d.savingMap)(r.metadata))}))}},"./MapStore2/web/client/epics/playback.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./node_modules/moment/moment.js"),p=n("./MapStore2/node_modules/lodash/lodash.js").get,f=n("./MapStore2/web/client/actions/playback.js"),d=f.PLAY,m=f.PAUSE,b=f.STOP,y=f.STATUS,g=f.SET_FRAMES,h=f.SET_CURRENT_FRAME,S=f.TOGGLE_ANIMATION_MODE,E=f.ANIMATION_STEP_MOVE,v=f.stop,O=f.setFrames,j=f.appendFrames,A=f.setCurrentFrame,w=f.framesLoading,T=f.updateMetadata,_=n("./MapStore2/web/client/actions/dimension.js"),M=_.moveTime,P=_.SET_CURRENT_TIME,x=_.MOVE_TIME,R=n("./MapStore2/web/client/actions/timeline.js"),C=R.selectLayer,I=R.onRangeChanged,D=R.timeDataLoading,L=R.SELECT_LAYER,N=R.SET_MAP_SYNC,k=n("./MapStore2/web/client/actions/layers.js"),F=k.changeLayerProperties,G=k.REMOVE_NODE,U=n("./MapStore2/web/client/actions/notifications.js").error,B=n("./MapStore2/web/client/selectors/dimension.js"),H=B.currentTimeSelector,z=B.layersWithTimeDataSelector,Y=B.layerTimeSequenceSelectorCreator,V=n("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,W=n("./MapStore2/web/client/selectors/playback.js"),q=W.currentFrameSelector,K=W.currentFrameValueSelector,Q=W.lastFrameSelector,Z=W.playbackRangeSelector,$=W.playbackSettingsSelector,X=W.frameDurationSelector,J=W.statusSelector,ee=W.playbackMetadataSelector,te=n("./MapStore2/web/client/selectors/timeline.js"),ne=te.selectedLayerSelector,re=te.selectedLayerName,oe=te.selectedLayerUrl,ie=te.selectedLayerData,ae=te.selectedLayerTimeDimensionConfiguration,ce=te.rangeSelector,se=te.timelineLayersSelector,ue=te.multidimOptionsSelectorCreator,le=n("./MapStore2/web/client/observables/pausable.js"),pe=n("./MapStore2/web/client/observables/epics.js").wrapStartStop,fe=n("./MapStore2/web/client/api/MultiDim.js").getDomainValues,de=n("./node_modules/rxjs/Rx.js"),me=function(e,t){return"".concat(e,"/").concat(t)},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ne(e()),r=re(e()),o=oe(e()),i=Z(e())||{},a=i.startPlaybackTime,c=i.endPlaybackTime,u=J(e())===y.PLAY||J(e())===y.PAUSE;return[o,r,"time",s({limit:20,time:a&&c&&u?me(a,c):void 0},t),ue(n)(e())]},ye=function(e,t){if(re(e())){var n=Y(ie(e()))(e()),r=ae(e());return"multidim-extension"!==p(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,o=n.limit,i=void 0===o?20:o,a=Z(t())||{},c=a.startPlaybackTime,s=a.endPlaybackTime;return de.Observable.of(e.filter((function(e){return!c||!s||l(e).isSameOrAfter(c)&&l(e).isSameOrBefore(s)})).filter((function(e){return!r||l(e).isAfter(r)})).slice(0,i))}(n,e,t):fe.apply(void 0,o(be(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,o=void 0===r?20:r,i=t.sort,a=void 0===i?"asc":i,c=$(e()),s=c.timeStep,u=c.stepUnit,p=l.duration(s,u),f=Z(e())||{},d=f.startPlaybackTime,m=f.endPlaybackTime,b=void 0!==n?n:d||H(e())||(new Date).toString(),y=[];b!==n&&y.push(l(b).toISOString());for(var g=0;g<o&&(b=l(b).add("asc"===a?p:-1*p),!m||b.isBefore(m));g++)y.push(b.toISOString());return de.Observable.of(y)}(e,t)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=z(e());return de.Observable.from(n.map((function(e){return F(e.id,{singleTile:!0})}))).concat(t).concat(de.Observable.from(n.map((function(e){return F(e.id,{singleTile:e.singleTile})}))))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(l(e).isBefore(n)||l(e).isAfter(r))};e.exports={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d).exhaustMap((function(){return ye(r,{fromValue:Z(r())&&Z(r()).startPlaybackTime&&Z(r()).endPlaybackTime?void 0:H(r())}).map((function(e){return O(e)})).let(pe(w(!0),w(!1)),(function(){return de.Observable.of(U({title:"There was an error retrieving animation",message:"Please contact the administrator"}),v())})).let(pe(D(!1,!0),D(!1,!1))).concat(e.ofType(h).filter((function(e){return e.frame%20==10})).switchMap((function(){return ye(r,{fromValue:Q(r())}).map(j).let(pe(w(!0),w(!1)))}))).takeUntil(e.ofType(b,V)).concat(de.Observable.of(D(!1,!1))).let(ge(r))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(h).map((function(){return K(r())})).map((function(e){return e?M(e):v()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(g).exhaustMap((function(){return de.Observable.interval(1e3*X(r())).startWith(0).let(le(e.ofType(d,m).map((function(e){return e.type===d})))).map((function(){return A(q(r())+1)})).merge(e.ofType(E).map((function(e){var t=e.direction;return A(Math.max(0,q(r())+t))}))).concat(de.Observable.of(v())).takeUntil(e.ofType(b,V))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(S).exhaustMap((function(){return re(r())?de.Observable.of(C(void 0)):de.Observable.of(C(p(se(r()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(E).filter((function(){return J(o())!==y.PLAY})).switchMap((function(e){var t=e.direction,n=void 0===t?1:t,i=ee(o())||{},a=H(o());return a&&i.forTime===a?de.Observable.of(n>0?i.next:i.previous):ye(o,{limit:1,sort:n>0?"asc":"desc",fromValue:H(o())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r(e,1),n=t[0];return n}))})).filter((function(e){return!!e})).map((function(e){return M(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,i=void 0===n?function(){}:n;return e.ofType(P,x,L,b,N).filter((function(){return J(i())!==y.PLAY&&J(i())!==y.PAUSE})).filter((function(){return ne(i())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||H(i());return de.Observable.forkJoin(fe.apply(void 0,o(be(i,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)})),fe.apply(void 0,o(be(i,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)}))).map((function(e){var n=r(e,2),o=n[0],i=n[1];return T({forTime:t,next:o,previous:i})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(x).filter((function(e){return(e.type===x||J(r())===y.PLAY)&&he(H(r()),ce(r()))})).filter((function(){return p($(r()),"following")})).switchMap((function(){return de.Observable.of(I((e=H(r()),t=ce(r()),n=t.start,o=t.end,i=l(o).diff(l(n)),{start:e,end:l(e).add(i).toISOString()})));var e,t,n,o,i}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(G).filter((function(){return!ne(r())&&"PLAY"===J(r())})).switchMap((function(){return de.Observable.of(v())}))}}},"./MapStore2/web/client/epics/timeline.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./node_modules/rxjs/Rx.js"),p=n("./MapStore2/node_modules/lodash/lodash.js"),f=p.isString,d=p.get,m=p.head,b=p.castArray,y=n("./node_modules/moment/moment.js"),g=n("./MapStore2/web/client/observables/epics.js").wrapStartStop,h=n("./MapStore2/web/client/actions/map.js").CHANGE_MAP_VIEW,S=n("./MapStore2/web/client/actions/timeline.js"),E=S.SELECT_TIME,v=S.RANGE_CHANGED,O=S.ENABLE_OFFSET,j=S.SET_MAP_SYNC,A=S.AUTOSELECT,w=S.timeDataLoading,T=S.rangeDataLoaded,_=S.onRangeChanged,M=S.selectLayer,P=n("./MapStore2/web/client/actions/dimension.js"),x=P.setCurrentTime,R=P.UPDATE_LAYER_DIMENSION_DATA,C=P.setCurrentOffset,I=n("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,D=n("./MapStore2/web/client/actions/notifications.js").error,L=n("./MapStore2/web/client/selectors/layers.js").getLayerFromId,N=n("./MapStore2/web/client/selectors/timeline.js"),k=N.rangeSelector,F=N.selectedLayerName,G=N.selectedLayerUrl,U=N.isAutoSelectEnabled,B=N.selectedLayerSelector,H=N.timelineLayersSelector,z=N.multidimOptionsSelectorCreator,Y=N.isMapSync,V=n("./MapStore2/web/client/selectors/dimension.js"),W=V.layerTimeSequenceSelectorCreator,q=V.timeDataSelector,K=V.offsetTimeSelector,Q=V.currentTimeSelector,Z=n("./MapStore2/web/client/utils/TimeUtils.js"),$=Z.getNearestDate,X=Z.roundRangeResolution,J=Z.isTimeDomainInterval,ee=n("./MapStore2/web/client/api/MultiDim.js"),te=ee.getHistogram,ne=ee.describeDomains,re=ee.getDomainValues,oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=B(e),r=F(e),o=G(e),i=z(n)(e);return[o,r,"time",s({limit:1},t),i]},ie=function(e,t,n){if(F(e))return l.Observable.forkJoin(re.apply(void 0,o(oe(e,{sort:"asc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&l.Observable.of(null)})),re.apply(void 0,o(oe(e,{sort:"desc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&l.Observable.of(null)}))).map((function(e){return $(e.filter((function(e){return!!e})),n)||n}));var i=W(L(e,t))(e);return l.Observable.of($(i,n)||n)},ae=function(e){return f(e)?e:e.toISOString()},ce=function(e,t,n){var r=t.domain.split("--"),o=k(n())||{start:new Date(r[0]),end:new Date(r[1])},i=X(o,20),a=i.range,c=i.resolution,p=L(n(),e).name,f=u({},"time","".concat(ae(a.start),"/").concat(ae(a.end)));return te(t.source.url,p,"time",u({},"time","".concat(ae(a.start),"/").concat(ae(a.end))),c,z(e)(n())).merge(ne(t.source.url,p,f,s(s({},z(e)(n())),{},{expandLimit:20}))).scan((function(e,t){return s(s({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,r=e.Domains,o=d(m(b(d(r,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return"time"===t}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var i=o&&o.indexOf("--")<0&&o.split(",");return l.Observable.of({range:a,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:o?{values:i}:void 0})}))};e.exports={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(E).throttleTime(100).switchMap((function(e){var t=e.time,n=e.group,i=r();return n?ie(i,n,t).switchMap((function(e){var t=k(i)||{},n=t.start,r=t.end,a=[];if(n&&r&&(y(e).isBefore(n)||y(e).isAfter(r))){var c=y(r).diff(n);a=[_({start:y(e).subtract(c/2),end:y(e).add(c/2)})]}return l.Observable.from([].concat(o(a),[x(e)]))})).let(g(w(!1,!0),w(!1,!1))):l.Observable.of(x(t))}))},setupTimelineExistingSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(I,A).exhaustMap((function(){return U(r())&&d(H(r()),"[0].id")&&!B(r())?l.Observable.of(M(d(H(r()),"[0].id"))).concat(l.Observable.of(1).switchMap((function(){return ie(r(),d(H(r()),"[0].id"),Q(r)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return x(e)}))}))):l.Observable.empty()}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(O).switchMap((function(e){var t=r(),n=Q(t),o=k(t);if(e.enabled){var i=o||{},a=i.start,c=void 0===a?0:a,s=i.end,u=void 0===s?432e6:s,p=K(t),f=y(u).diff(c),d=o?y(c).add(f/2).toISOString():y(new Date).toISOString(),m=y(n||d).add(f/5),b=e.enabled&&!n?l.Observable.of(x(d)):l.Observable.empty(),g=e.enabled&&!p||e.enabled&&y(p).diff(n)<0?l.Observable.of(C(m.toISOString())):l.Observable.empty(),h=o?l.Observable.empty():l.Observable.of(_({start:y(d).add(-1*f/2),end:y(d).add(f/2)}));return b.concat(g).concat(h)}return l.Observable.of(C())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v).merge(e.ofType(h).filter((function(){return Y(r())})),e.ofType(j)).debounceTime(400).merge(e.ofType(R).debounceTime(50)).switchMap((function(){var e,t=q(r())||{},n=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&J(t[e].domain)||Y(r())}));return(e=l.Observable).merge.apply(e,o(n.map((function(e){return ce(e,t[e],r).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return T(e,n,r,o)})).startWith(w(e,!0)).catch((function(){return l.Observable.of(D({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(l.Observable.of(w(e,!1)))}))))}))}}},"./MapStore2/web/client/observables/pausable.js":function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(o){return o.withLatestFrom(e.startWith(t)).filter((function(e){var t=n(e,2)[1];return r(t)})).map((function(e){return n(e,1)[0]}))}}},"./MapStore2/web/client/plugins/BackgroundSelector.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react-redux/es/index.js").connect,c=n("./node_modules/recompose/es/Recompose.js"),s=c.compose,u=c.withProps,l=n("./MapStore2/node_modules/lodash/lodash.js").find,p=n("./MapStore2/web/client/actions/controls.js"),f=p.toggleControl,d=p.setControlProperty,m=n("./MapStore2/web/client/actions/layers.js"),b=m.changeLayerProperties,y=m.removeNode,g=m.updateNode,h=m.addLayer,S=n("./MapStore2/web/client/actions/backgroundselector.js"),E=S.addBackground,v=S.addBackgroundProperties,O=S.confirmDeleteBackgroundModal,j=S.backgroundAdded,A=S.updateThumbnail,w=S.removeBackground,T=S.clearModalParameters,_=S.backgroundEdited,M=S.setCurrentBackgroundLayer,P=n("./node_modules/reselect/es/index.js").createSelector,x=n("./MapStore2/web/client/selectors/layers.js"),R=x.allBackgroundLayerSelector,C=x.backgroundControlsSelector,I=x.currentBackgroundSelector,D=x.tempBackgroundSelector,L=n("./MapStore2/web/client/selectors/map.js"),N=L.mapSelector,k=L.mapIsEditableSelector,F=L.projectionSelector,G=n("./MapStore2/web/client/selectors/backgroundselector.js"),U=G.modalParamsSelector,B=G.isDeletedIdSelector,H=G.backgroundListSelector,z=G.backgroundLayersSelector,Y=G.confirmDeleteBackgroundModalSelector,V=G.allowBackgroundsDeletionSelector,W=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,q=n("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),K=s(a(P([F,U,H,B,R,N,k,z,C,I,D,function(e){return W(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},Y,V],(function(e,t,n,r,o,i,a,c,s,u,l,p,f,d,m,b){return{mode:d,modalParams:t,backgroundList:n,deletedId:r,backgrounds:o,size:i&&i.size||{width:0,height:0},mapIsEditable:a,layers:c,tempLayer:l,currentLayer:u,start:s.start||0,enabled:s.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:m,allowDeletion:b,projection:e}})),{onPropertiesChange:b,onToggle:f.bind(null,"backgroundSelector",null),onLayerChange:d.bind(null,"backgroundSelector"),onStartChange:d.bind(null,"backgroundSelector","start"),onAdd:E,addLayer:h,backgroundAdded:j,onRemove:y,onBackgroundEdit:_,updateNode:g,onUpdateThumbnail:A,removeBackground:w,clearModal:T,addBackgroundProperties:v,onRemoveBackground:O,setCurrentBackgroundLayer:M},(function(e,t,n){return o(o(o(o({},e),t),n),{},{thumbs:o(o({},q),n.thumbs)})})),u((function(e){var t=e.items;return{hasCatalog:!!l(void 0===t?[]:t,{name:"MetadataExplorer"})}})))(n("./MapStore2/web/client/components/background/BackgroundSelector.jsx"));e.exports={BackgroundSelectorPlugin:K,reducers:{controls:n("./MapStore2/web/client/reducers/controls.js").default,backgroundSelector:n("./MapStore2/web/client/reducers/backgroundselector.js").default},epics:n("./MapStore2/web/client/epics/backgroundselector.js")}},"./MapStore2/web/client/plugins/Expander.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,i=n("./node_modules/object-assign/index.js"),a=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx");e.exports={ExpanderPlugin:i(a,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,n=void 0===t?[]:t;return n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:r.createElement(o,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/FullScreen.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./MapStore2/web/client/actions/fullscreen.js").toggleFullscreen,i=n("./MapStore2/web/client/epics/fullscreen.js").toggleFullscreenEpic,a=n("./node_modules/object-assign/index.js"),c=n("./MapStore2/web/client/components/buttons/FullScreenButton.jsx"),s=r((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,n=void 0===t?{}:t;return{active:n.fullscreen&&n.fullscreen.enabled}}),{onClick:function(e,t){return o(e,t.querySelector)}})(c);e.exports={FullScreenPlugin:a(s,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:i}}},"./MapStore2/web/client/plugins/Identify.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("./node_modules/react/index.js"),s=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,u=n("./node_modules/react-redux/es/index.js").connect,l=n("./node_modules/reselect/es/index.js"),p=l.createSelector,f=l.createStructuredSelector,d=n("./node_modules/object-assign/index.js"),m=n("./MapStore2/node_modules/lodash/lodash.js").isUndefined,b=n("./MapStore2/web/client/selectors/map.js"),y=b.mapSelector,g=b.isMouseMoveIdentifyActiveSelector,h=n("./MapStore2/web/client/selectors/layers.js").layersSelector,S=n("./MapStore2/web/client/selectors/maptype.js"),E=S.mapTypeSelector,v=S.isCesium,O=n("./MapStore2/web/client/selectors/mapInfo.js"),j=O.generalInfoFormatSelector,A=O.clickPointSelector,w=O.indexSelector,T=O.responsesSelector,_=O.requestsSelector,M=O.validResponsesSelector,P=O.showEmptyMessageGFISelector,x=O.isHighlightEnabledSelector,R=O.currentFeatureSelector,C=O.currentFeatureCrsSelector,I=O.isLoadedResponseSelector,D=n("./MapStore2/web/client/selectors/featuregrid.js").isEditingAllowedSelector,L=n("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,N=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,k=n("./MapStore2/web/client/actions/mapInfo.js"),F=k.hideMapinfoMarker,G=k.showMapinfoRevGeocode,U=k.hideMapinfoRevGeocode,B=k.clearWarning,H=k.toggleMapInfoState,z=k.changeMapInfoFormat,Y=k.updateCenterToMarker,V=k.closeIdentify,W=k.purgeMapInfoResults,q=k.updateFeatureInfoClickPoint,K=k.changeFormat,Q=k.toggleShowCoordinateEditor,Z=k.changePage,$=k.toggleHighlightFeature,X=k.editLayerFeatures,J=k.setMapTrigger,ee=n("./MapStore2/web/client/actions/map.js"),te=ee.changeMousePointer,ne=ee.zoomToExtent,re=n("./MapStore2/web/client/utils/ConfigUtils.js").getConfigProp,oe=n("./node_modules/recompose/es/Recompose.js"),ie=oe.compose,ae=oe.defaultProps,ce=n("./MapStore2/web/client/utils/MapInfoUtils.js"),se=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),ue=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),le=ue.defaultViewerHandlers,pe=ue.defaultViewerDefaultProps,fe=n("./MapStore2/web/client/components/data/identify/enhancers/identify.js").identifyLifecycle,de=n("./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js"),me=n("./MapStore2/web/client/plugins/identify/toolButtons.js"),be=n("./MapStore2/web/client/plugins/identify/featureButtons.js"),ye=n("./MapStore2/web/client/plugins/locale/Message.jsx");n("./MapStore2/web/client/plugins/identify/identify.css");var ge=f({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:T,validResponses:M,requests:_,format:j,map:y,layers:h,point:A,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:L,dockStyle:function(e){return N(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||re("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return P(e)},isEditingAllowed:D,isCesium:v,floatingIdentifyEnabled:function(e){return g(e)}}),he=ie(u(p(w,I,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,n){return{index:e,loaded:t,isMobile:n}})),{setIndex:Z})),Se=ie(he,pe,le,se((function(e){var t=e.loaded;return m(t)})))(n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx")),Ee=ae({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:ce.getDefaultInfoFormatValue(),requests:[],responses:[],viewerOptions:{},viewer:Se,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:me,getFeatureButtons:be,showFullscreen:!1,validResponses:[],validator:ce.getValidator,zIndex:1050}),ve=ie(u(ge,{purgeResults:W,closeIdentify:V,onSubmitClickPoint:q,onToggleShowCoordinateEditor:Q,onChangeFormat:K,changeMousePointer:te,clearWarning:B,hideMarker:F,showRevGeocode:G,hideRevGeocode:U,onEnableCenterToMarker:Y.bind(null,"enabled"),onEdit:X},(function(e,t,n){return i(i(i(i({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),ie(u(f({highlight:x,currentFeature:R,currentFeatureCrs:C}),{toggleHighlightFeature:$,zoomToExtent:ne}),de),u(p(E,(function(e){return{mapType:e}})),{},(function(e,t,n){var o=e.mapType,a=n.showHighlightFeatureButton;return i(i({},r(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===o&&a})})),Ee,he,le,fe)(n("./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx")),Oe=u((function(e){return{infoFormat:j(e)}}),{onInfoFormatChange:z})(n("./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx").default),je=u((function(e){return{trigger:g(e)?"hover":"click"}}),{onSetMapTrigger:J})(n("./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx"));e.exports={IdentifyPlugin:d(ve,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:c.createElement(s,{glyph:"map-marker"}),help:c.createElement(ye,{msgId:"helptexts.infoButton"}),action:H,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[c.createElement(Oe,{key:"featureinfoformat",label:c.createElement(ye,{msgId:"infoFormatLbl"})}),c.createElement(je,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:n("./MapStore2/web/client/reducers/mapInfo.js").default},epics:n("./MapStore2/web/client/epics/identify.js").default}},"./MapStore2/web/client/plugins/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),g=n("./MapStore2/web/client/utils/PluginsUtils.js").connect,h=n("./MapStore2/web/client/utils/AgentUtils.js").loadFont,S=n("./node_modules/object-assign/index.js"),E=n("./node_modules/react-spinkit/dist/index.js");n("./MapStore2/web/client/plugins/map/css/map.css");var v,O=n("./MapStore2/web/client/components/I18N/Message.jsx"),j=n("./MapStore2/web/client/utils/ConfigUtils.js"),A=n("./MapStore2/web/client/actions/map.js"),w=A.errorLoadingFont,T=A.setMapResolutions,_=n("./MapStore2/node_modules/lodash/lodash.js").isString,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,a,p=l(d);function d(){var e;c(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return m(f(e=p.call.apply(p,[this].concat(r))),"state",{canRender:!0}),m(f(e),"getHighlightLayer",(function(t,n,r){return y.createElement(v.Layer,{type:"vector",srs:t,position:n,key:"highlight",options:{name:"highlight"},env:r},e.props.features.map((function(e){return y.createElement(v.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),m(f(e),"getTool",(function(t){return _(t)?{name:t,impl:v.tools[t]}:t[e.props.mapType]||t})),m(f(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||j.getConfigProp("defaultMapOptions")&&j.getConfigProp("defaultMapOptions")[e.props.mapType]})),m(f(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",n=[];return e.props.isLocalizedLayerStylesEnabled&&n.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage}),[].concat(i(e.props.layers),i(e.props.additionalLayers)).filter(e.filterLayer).map((function(r,o){return y.createElement(v.Layer,{type:r.type,srs:t,position:o,key:r.id||r.name,options:r,securityToken:e.props.securityToken,env:n},e.renderLayerContent(r,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,n)||[])})),m(f(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return y.createElement(v.Feature,{key:n.id,msId:n.id,type:n.type,crs:t,geometry:n.geometry,features:n.features,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),m(f(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(e){var t=e.Tool,n=e.name;return y.createElement(t,{key:n})}));return e.props.tools.map((function(t){var n=e.getTool(t),r=e.props.toolsOptions[n.name]&&e.props.toolsOptions[n.name][e.props.mapType]||e.props.toolsOptions[n.name]||{};return y.createElement(n.impl,o({key:n.name},r))})).concat(t)})),m(f(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),m(f(e),"updatePlugins",(function(e){v=n("./MapStore2/web/client/plugins/map/index.js")(e.mapType,e.actions)})),e}return t=d,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.shouldLoadFont,r=t.fonts;n&&r&&(this.setState({canRender:!1}),Promise.all(r.map((function(t){return h(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return y.createElement(v.Map,o({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:S({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?y.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},y.createElement(O,{msgId:"map.loadingerror"}),":",this.props.loadingError):y.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?y.createElement(E,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,y.createElement(O,{msgId:this.props.mapLoadingMessage}))}}])&&s(t.prototype,r),a&&s(t,a),d}(y.Component);m(M,"propTypes",{mapType:b.string,map:b.object,layers:b.array,additionalLayers:b.array,zoomControl:b.bool,mapLoadingMessage:b.string,loadingSpinner:b.bool,loadingError:b.string,tools:b.array,fonts:b.array,options:b.object,mapOptions:b.object,projectionDefs:b.array,toolsOptions:b.object,onFontError:b.func,onResolutionsChange:b.func,actions:b.object,features:b.array,securityToken:b.string,shouldLoadFont:b.bool,elevationEnabled:b.bool,isLocalizedLayerStylesEnabled:b.bool,localizedLayerStylesName:b.string,currentLocaleLanguage:b.string,items:b.array}),m(M,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[]});var P=n("./MapStore2/web/client/plugins/map/selector.js").default;e.exports={MapPlugin:g(P,{onFontError:w,onResolutionsChange:T})(M),reducers:{map:n("./MapStore2/web/client/reducers/map.js").default,layers:n("./MapStore2/web/client/reducers/layers.js").default,draw:n("./MapStore2/web/client/reducers/draw.js").default,highlight:n("./MapStore2/web/client/reducers/highlight.js").default,maptype:n("./MapStore2/web/client/reducers/maptype.js").default,additionallayers:n("./MapStore2/web/client/reducers/additionallayers.js").default},epics:n("./MapStore2/web/client/epics/map.js")}},"./MapStore2/web/client/plugins/MapFooter.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),b=n("./node_modules/prop-types/index.js"),y=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),g=n("./node_modules/recompose/es/Recompose.js").lifecycle,h={},S=g({componentDidMount:function(){if(h[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(h[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){h[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return m.createElement("div",{id:t})})),E=[{element:m.createElement(S,{key:"attribution",id:"footer-attribution-container"})},{element:m.createElement(S,{key:"scalebar",id:"footer-scalebar-container"})}],v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,i=u(l);function l(){var e;a(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=i.call.apply(i,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[])})),d(p(e),"getTools",(function(){return[E[0]].concat(o(e.props.items.sort((function(e,t){return t.position-e.position}))),[E[1]])})),e}return t=l,(n=[{key:"render",value:function(){return m.createElement(y,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return m.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return m.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&c(t.prototype,n),r&&c(t,r),l}(m.Component);d(v,"propTypes",{className:b.string,style:b.object,items:b.array,id:b.string,mapType:b.string}),d(v,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"}),e.exports={MapFooterPlugin:v,reducers:{}}},"./MapStore2/web/client/plugins/MapLoading.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./node_modules/reselect/es/index.js").createSelector,i=n("./MapStore2/web/client/selectors/layers.js").layersSelector,a=n("./node_modules/object-assign/index.js"),c=o([i],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}}));n("./MapStore2/web/client/plugins/maploading/maploading.css");var s=r(c)(n("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx"));e.exports={MapLoadingPlugin:a(s,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Playback.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/react/index.js"),p=n("./node_modules/object-assign/index.js"),f=n("./node_modules/recompose/es/Recompose.js"),d=f.defaultProps,m=f.compose,b=n("./node_modules/reselect/es/index.js").createSelector,y=n("./MapStore2/web/client/actions/playback.js"),g=y.play,h=y.pause,S=y.stop,E=y.STATUS,v=n("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,O=n("./MapStore2/web/client/selectors/playback.js"),j=O.statusSelector,A=O.loadingSelector,w=n("./node_modules/react-redux/es/index.js").connect,T=m(d({statusMap:E}),w(b(j,v,A,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:g,pause:h,stop:S}))(n("./MapStore2/web/client/plugins/playback/Playback.jsx")),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return l.createElement("div",{className:"playback-plugin"},l.createElement(T,this.props))}}])&&i(t.prototype,n),r&&i(t,r),u}(l.Component);e.exports={PlaybackPlugin:p(_,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:n("./MapStore2/web/client/epics/playback.js"),reducers:{playback:n("./MapStore2/web/client/reducers/playback.js").default,dimension:n("./MapStore2/web/client/reducers/dimension.js").default}}},"./MapStore2/web/client/plugins/Print.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n("./node_modules/react/index.js"),h=n("./node_modules/prop-types/index.js"),S=n("./node_modules/react-redux/es/index.js").connect,E=n("./MapStore2/web/client/utils/LocaleUtils.js"),v=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=n("./MapStore2/web/client/utils/MapUtils.js"),j=n("./MapStore2/web/client/components/misc/Dialog.jsx"),A=n("./node_modules/react-bootstrap/es/index.js"),w=A.Grid,T=A.Row,_=A.Col,M=A.Panel,P=A.Accordion,x=A.Glyphicon,R=n("./MapStore2/web/client/actions/controls.js"),C=R.toggleControl,I=R.setControlProperty,D=n("./MapStore2/web/client/actions/print.js"),L=D.printSubmit,N=D.printError,k=D.printSubmitting,F=D.configurePrintMap,G=n("./MapStore2/web/client/selectors/map.js").mapSelector,U=n("./MapStore2/web/client/selectors/layers.js").layersSelector,B=n("./node_modules/reselect/es/index.js").createSelector,H=n("./node_modules/object-assign/index.js"),z=n("./MapStore2/node_modules/lodash/lodash.js").head,Y=n("./MapStore2/web/client/selectors/map.js").scalesSelector,V=n("./MapStore2/web/client/selectors/locale.js"),W=V.currentLocaleSelector,q=V.currentLocaleLanguageSelector,K=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),Q=K.isLocalizedLayerStylesEnabledSelector,Z=K.localizedLayerStylesEnvSelector,$=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,X=n("./MapStore2/web/client/components/I18N/Message.jsx");n("./MapStore2/web/client/plugins/print/print.css"),e.exports={PrintPlugin:H({loadPlugin:function(e){Promise.all([n.e(13),n.e(14)]).then(function(){var t=n("./MapStore2/web/client/plugins/print/index.js"),r=t.Name,o=t.Description,c=t.Resolution,d=t.DefaultBackgroundOption,b=t.Sheet,A=t.LegendOption,R=t.MultiPageOption,D=t.LandscapeOption,V=t.ForceLabelsOption,K=t.AntiAliasingOption,J=t.IconSizeOption,ee=t.LegendDpiOption,te=t.Font,ne=t.MapPreview,re=t.PrintSubmit,oe=t.PrintPreview,ie=n("./MapStore2/web/client/utils/PrintUtils.js"),ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(A,e);var t,n,h,S=f(A);function A(){var e;u(this,A);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return y(m(e=S.call.apply(S,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),y(m(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return z(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),y(m(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return g.createElement(t.component,{key:"printoption_"+t.name,label:E.getMessageById(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),y(m(e),"renderPreviewPanel",(function(){return g.createElement(oe,s({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),y(m(e),"renderError",(function(){return e.props.error?g.createElement(T,null,g.createElement(_,{xs:12},g.createElement("div",{className:"print-error"},g.createElement("span",null,e.props.error)))):null})),y(m(e),"renderWarning",(function(e){return e?null:g.createElement(T,null,g.createElement(_,{xs:12},g.createElement("div",{className:"print-warning"},g.createElement("span",null,g.createElement(X,{msgId:"print.layoutWarning"})))))})),y(m(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),i=e.getMapSize(t);return g.createElement(w,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),g.createElement(T,null,g.createElement(_,{xs:12,md:6},g.createElement(r,{label:E.getMessageById(e.context.messages,"print.title"),placeholder:E.getMessageById(e.context.messages,"print.titleplaceholder")}),g.createElement(o,{label:E.getMessageById(e.context.messages,"print.description"),placeholder:E.getMessageById(e.context.messages,"print.descriptionplaceholder")}),g.createElement(P,{defaultActiveKey:"1"},g.createElement(M,{className:"print-layout",header:E.getMessageById(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},g.createElement(b,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:E.getMessageById(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),g.createElement(M,{className:"print-legend-options",header:E.getMessageById(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},g.createElement(te,{label:E.getMessageById(e.context.messages,"print.legend.font")}),g.createElement(V,{label:E.getMessageById(e.context.messages,"print.legend.forceLabels")}),g.createElement(K,{label:E.getMessageById(e.context.messages,"print.legend.antiAliasing")}),g.createElement(J,{label:E.getMessageById(e.context.messages,"print.legend.iconsSize")}),g.createElement(ee,{label:E.getMessageById(e.context.messages,"print.legend.dpi")})))),g.createElement(_,{xs:12,md:6,style:{textAlign:"center"}},g.createElement(c,{label:E.getMessageById(e.context.messages,"print.resolution")}),g.createElement(ne,s({width:i.width,height:i.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:O.getResolutions(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?g.createElement(d,{label:E.getMessageById(e.context.messages,"print.defaultBackground")}):null,g.createElement(re,s({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),y(m(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?g.createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),y(m(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),y(m(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),y(m(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),y(m(e),"filterLayers",(function(t){var n=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var r=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[H({},r,{visibility:!0})].concat(a(n))}return n})),y(m(e),"configurePrintMap",(function(t,n){var r=t||e.props.map,o=n||e.props.printSpec;if(r&&r.bbox&&e.props.capabilities){var i=v.reprojectBbox([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),a=e.getMapSize();if(e.props.useFixedScales){var c=e.props.getZoomForExtent(i,a,e.props.minZoom,e.props.maxZoom),s=ie.getPrintScales(e.props.capabilities),u=ie.getNearestZoom(r.zoom,s);e.props.configurePrintMap(r.center,c,u,s[u],e.filterLayers(o),r.projection,e.props.currentLocale)}else e.props.configurePrintMap(r.center,r.zoom,r.zoom,e.props.scales[r.zoom],e.filterLayers(o),r.projection,e.props.currentLocale)}})),y(m(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=i(i({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,i(i({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=A,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&O.mapUpdated(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?g.createElement(M,{className:"mapstore-print-panel",header:g.createElement("span",null,g.createElement("span",{className:"print-panel-title"},g.createElement(X,{msgId:"print.paneltitle"})),g.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):g.createElement(j,{id:"mapstore-print-panel",style:i({left:"17%",top:"50px",zIndex:1990},this.props.style)},g.createElement("span",{role:"header"},g.createElement("span",{className:"print-panel-title"},g.createElement(X,{msgId:"print.paneltitle"})),g.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?g.createElement(x,{glyph:this.props.closeGlyph}):g.createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&l(t.prototype,n),h&&l(t,h),A}(g.Component);y(ae,"propTypes",{map:h.object,layers:h.array,capabilities:h.object,printSpec:h.object,printSpecTemplate:h.object,withContainer:h.bool,withPanelAsContainer:h.bool,open:h.bool,pdfUrl:h.string,title:h.string,style:h.object,mapWidth:h.number,mapType:h.string,alternatives:h.array,toggleControl:h.func,onBeforePrint:h.func,setPage:h.func,onPrint:h.func,printError:h.func,configurePrintMap:h.func,preloadData:h.func,getPrintSpecification:h.func,getLayoutName:h.func,error:h.string,getZoomForExtent:h.func,minZoom:h.number,maxZoom:h.number,usePreview:h.bool,mapPreviewOptions:h.object,syncMapPreview:h.bool,useFixedScales:h.bool,scales:h.array,ignoreLayers:h.array,defaultBackground:h.string,closeGlyph:h.string,submitConfig:h.object,previewOptions:h.object,currentLocale:h.string,currentLocaleLanguage:h.string,overrideOptions:h.object,isLocalizedLayerStylesEnabled:h.bool,localizedLayerStylesEnv:h.object}),y(ae,"contextTypes",{messages:h.object}),y(ae,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:ie.preloadData,getPrintSpecification:ie.getMapfishPrintSpecification,getLayoutName:ie.getLayoutName,getZoomForExtent:O.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:A,regex:/legend/},{name:"2pages",component:R,regex:/2_pages/},{name:"landscape",component:D,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ce=B([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&H({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},G,U,Y,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},W,q,$,Q,Z],(function(e,t,n,r,o,i,a,c,s,u,l,p,f,d){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:c,usePreview:s,currentLocale:u,currentLocaleLanguage:l,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:d}})),se=S(ce,{toggleControl:C.bind(null,"print",null),onPrint:L,printError:N,onBeforePrint:k,setPage:I.bind(null,"print","currentPage"),configurePrintMap:F})(ae);e(se)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:g.createElement(X,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:g.createElement(x,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:g.createElement(X,{msgId:"printbutton"}),icon:g.createElement(x,{glyph:"print"}),action:C.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:n("./MapStore2/web/client/reducers/print.js").default}}},"./MapStore2/web/client/plugins/ScaleBox.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/utils/PluginsUtils.js").connect,d=n("./node_modules/reselect/es/index.js").createSelector,m=n("./MapStore2/web/client/selectors/map.js"),b=m.mapSelector,y=m.minZoomSelector,g=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,h=n("./MapStore2/web/client/plugins/help/HelpWrapper.jsx"),S=n("./MapStore2/web/client/plugins/locale/Message.jsx"),E=n("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),v=n("./MapStore2/web/client/utils/MapUtils.js"),O=n("./node_modules/object-assign/index.js"),j=d([b,y],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:v.getScales(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}}));n("./MapStore2/web/client/plugins/scalebox/scalebox.css");var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,u=s(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return p.createElement(h,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:p.createElement(S,{msgId:"helptexts.scaleBox"})},p.createElement(E,o({key:"scaleBox",label:p.createElement(S,{msgId:"mapScale"})},this.props)))}}])&&a(t.prototype,n),r&&a(t,r),l}(p.Component),w=f(j,{onChange:g})(A);e.exports={ScaleBoxPlugin:O(w,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Timeline.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js").connect,u=n("./node_modules/reselect/es/index.js").createSelector,l=n("./MapStore2/web/client/plugins/timeline/Timeline.jsx"),p=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),d=n("./MapStore2/web/client/selectors/dimension.js"),m=d.offsetEnabledSelector,b=d.currentTimeSelector,y=n("./MapStore2/web/client/selectors/timeline.js"),g=y.currentTimeRangeSelector,h=y.isVisible,S=y.rangeSelector,E=y.timelineLayersSelector,v=y.isMapSync,O=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,j=n("./node_modules/recompose/es/Recompose.js"),A=j.withState,w=j.compose,T=j.branch,_=j.renderNothing,M=j.withStateHandlers,P=j.withProps,x=j.defaultProps,R=j.setDisplayName,C=n("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),I=n("./MapStore2/web/client/actions/timeline.js"),D=I.selectTime,L=I.enableOffset,N=I.onRangeChanged,k=I.setMapSync,F=n("./MapStore2/web/client/actions/dimension.js").setCurrentOffset,G=n("./MapStore2/web/client/components/I18N/Message.jsx"),U=n("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,B=n("./MapStore2/web/client/selectors/playback.js"),H=B.playbackRangeSelector,z=B.statusSelector,Y=n("./node_modules/react-bootstrap/es/index.js"),V=Y.Button,W=Y.Glyphicon,q=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(V),K=n("./MapStore2/node_modules/lodash/lodash.js"),Q=K.head,Z=K.isString,$=n("./node_modules/moment/moment.js"),X=function(e){return Z(e)&&-1!==e.indexOf("%")},J=function(e){return parseInt(e,10)/100},ee=function(e,t){return $(t).diff(e)>0},te=w(s(u(h,E,b,g,m,H,z,S,(function(e,t,n,r,o,i,a,c){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:c}})),{setCurrentTime:D,onOffsetEnabled:L,setOffset:F,setPlaybackRange:U,moveRangeTo:N}),T((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),_),A("options","setOptions",{collapsed:!0}),s(u(v,(function(e){return{mapSync:e}})),{toggleMapSync:k}),w(w(M((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),C({querySelector:".ms2",closest:!0,debounceTime:100})),x({style:{marginBottom:35,marginLeft:100,marginRight:80}}),s(u((function(e){return O(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),P((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},a=o.marginLeft,c=o.marginRight,s=r.left,u=void 0===s?0:s,l=r.right,p=void 0===l?0:l;p=X(p)&&J(p)*t||p,u=X(u)&&J(u)*t||u;if(t){var f=t-p-u-a-c;return{hide:f<410,compactToolbar:f<880,style:i(i(i({},n),r),{},{minWidth:410})}}return{style:i(i(i({},n),r),{},{minWidth:410})}})),T((function(e){return e.hide}),_),R("TimelinePlugin")))((function(e){var t=e.items,n=e.options,o=e.setOptions,a=e.mapSync,s=e.toggleMapSync,u=void 0===s?function(){}:s,d=e.currentTime,m=e.setCurrentTime,b=e.offsetEnabled,y=e.onOffsetEnabled,g=e.currentTimeRange,h=e.setOffset,S=e.style,E=e.status,v=e.viewRange,O=e.moveRangeTo,j=e.compactToolbar,A=n.hideLayersName,w=n.collapsed,T=Q(t&&t.filter((function(e){return"playback"===e.name}))),_=T&&T.plugin,M=function(e,t,n,r){var o=$(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==$(e).add(-1*o).toString()&&n.end.toString()!==$(e).add(o).toString()&&O({start:$(e).add(-1*o),end:$(e).add(o)}),"range-start"===t||"range-end"===t){var i=$(r.end).diff(r.start),a=$(r.start).add(i/2);O(i/2<=o?{start:$(a).add(-1*o),end:$(a).add(o)}:{start:$(a).add(-1*i*5/2),end:$(a).add(5*i/2)})}};return c.createElement("div",{style:i(i({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},S),{},{right:w?"auto":S.right||0}),className:"timeline-plugin".concat(A?" hide-layers-name":"").concat(b?" with-time-offset":"")},b&&c.createElement(p,{clickable:!w,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==E&&M(e,t,v,g)},tooltip:c.createElement(G,{msgId:"timeline.rangeStart"}),showButtons:!0,date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==E&&m(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),c.createElement("div",{className:"timeline-plugin-toolbar".concat(j?" ms-collapsed":"")},b&&g?c.createElement(p,{clickable:!w,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==E&&M(e,t,v,g)},tooltip:c.createElement(G,{msgId:"timeline.rangeEnd"}),date:g.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==E&&ee(d,e)&&h(e)}}):c.createElement(p,{clickable:!w,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==E&&M(e,t,v)},tooltip:c.createElement(G,{msgId:"timeline.currentTime"}),date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==E&&m(e)}}),c.createElement("div",{className:"timeline-plugin-btn-group"},c.createElement(f,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:c.createElement(G,{msgId:A?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:A?"primary":"success",visible:!w,active:!A,onClick:function(){return o(i(i({},n),{},{hideLayersName:!A}))}},{glyph:"time-offset",bsStyle:b?"success":"primary",active:b,disabled:"PLAY"===E,tooltip:c.createElement(G,{msgId:b?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==E&&y(!b)}},{glyph:"map-synch",tooltip:c.createElement(G,{msgId:a?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:a?"success":"primary",active:a,onClick:function(){return u(!a)}}]}),_&&c.createElement(_,r({},T,{settingsStyle:{right:w||j?40:"unset"}}))),c.createElement(q,{onClick:function(){return o(i(i({},n),{},{collapsed:!w}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:c.createElement(G,{msgId:w?"timeline.expand":"timeline.collapse"})},c.createElement(W,{glyph:w?"chevron-up":"chevron-down"}))),!w&&c.createElement(l,{offsetEnabled:b,playbackEnabled:!0,hideLayersName:A}))})),ne=n("./node_modules/object-assign/index.js"),re=n("./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx");e.exports={TimelinePlugin:ne(te,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:c.createElement(re,null),position:0}}),reducers:{dimension:n("./MapStore2/web/client/reducers/dimension.js").default,timeline:n("./MapStore2/web/client/reducers/timeline.js").default},epics:n("./MapStore2/web/client/epics/timeline.js")}},"./MapStore2/web/client/plugins/Toolbar.jsx":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=n("./node_modules/react/index.js"),g=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react-redux/es/index.js").connect;n("./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");var S=n("./node_modules/react-transition-group/index.js").CSSTransitionGroup,E=n("./MapStore2/web/client/selectors/featuregrid.js").isFeatureGridOpen,v=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,O=n("./node_modules/reselect/es/index.js").createSelector,j=n("./node_modules/object-assign/index.js"),A=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),w=function(e){l(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=a(e,["children"]);return y.createElement(S,i({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),n}(y.Component),T=function(e){l(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=a(e,["children"]);return y.createElement("div",n,t)}}]),n}(y.Component),_=function(e){l(n,e);var t=f(n);function n(){var e;c(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r(m(e=t.call.apply(t,[this].concat(i))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),r(m(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),r(m(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(n){return n.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return j({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return u(n,[{key:"render",value:function(){var e=this.props.disableAnimation?T:w;return y.createElement(A,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(y.Component);r(_,"propTypes",{id:g.string,tools:g.array,mapType:g.string,style:g.object,panelStyle:g.object,panelClassName:g.string,disableAnimation:g.bool,active:g.string,items:g.array,allVisible:g.bool,layout:g.string,stateSelector:g.string,buttonStyle:g.string,buttonSize:g.string,pressedButtonStyle:g.string,btnConfig:g.object}),r(_,"contextTypes",{messages:g.object,router:g.object}),r(_,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var M=function(e){return O([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},E,function(e){return v(e,{right:!0,bottom:!0})}],(function(t,n,r,o){return{active:t,allVisible:n,stateSelector:e,layout:r?"horizontal":"vertical",style:o}}))};e.exports={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return h(M(e))(_)},reducers:{controls:n("./MapStore2/web/client/reducers/controls.js").default}}},"./MapStore2/web/client/plugins/ZoomAll.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/react/index.js"),f=n("./node_modules/react-redux/es/index.js").connect,d=n("./node_modules/reselect/es/index.js").createSelector,m=n("./MapStore2/web/client/selectors/map.js").mapSelector,b=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,y=f(d([m,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),{changeMapView:n("./MapStore2/web/client/actions/map.js").changeMapView})(n("./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx")),g=n("./MapStore2/web/client/components/I18N/Message.jsx");n("./MapStore2/web/client/plugins/zoomall/zoomall.css");var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,u=s(l);function l(){return i(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return p.createElement(y,o({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&a(t.prototype,n),r&&a(t,r),l}(p.Component),S=n("./node_modules/object-assign/index.js");e.exports={ZoomAllPlugin:S(h,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:p.createElement(b,{glyph:"resize-full"}),help:p.createElement(g,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomIn.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js").connect,i=(0,n("./node_modules/reselect/es/index.js").createSelector)([n("./MapStore2/web/client/selectors/map.js").mapSelector],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),a=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,c=n("./MapStore2/web/client/components/I18N/Message.jsx"),s=o(i,{onZoom:a})(n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));n("./MapStore2/web/client/plugins/zoom/zoom.css");var u=n("./node_modules/object-assign/index.js");e.exports={ZoomInPlugin:u(s,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:r.createElement(c,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomOut.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js").connect,s=n("./node_modules/reselect/es/index.js").createSelector,u=n("./MapStore2/web/client/selectors/map.js"),l=s([u.mapSelector,u.minZoomSelector],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),p=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,f=n("./MapStore2/web/client/components/I18N/Message.jsx"),d=c(l,{onZoom:p},(function(e,t,n){return o(o(o({},e),t),n)}))(n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));n("./MapStore2/web/client/plugins/zoom/zoom.css");var m=n("./node_modules/object-assign/index.js");e.exports={ZoomOutPlugin:m(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:a.createElement(f,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/background/DefaultThumbs.js":function(e,t,n){var r=n("./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"),o=n("./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"),i=n("./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"),a=n("./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"),c=n("./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"),s=n("./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"),u=n("./MapStore2/web/client/plugins/background/assets/img/none.jpg"),l=n("./MapStore2/web/client/plugins/background/assets/img/dafault.jpg"),p=n("./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"),f=n("./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"),d=n("./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"),m={google:{HYBRID:n("./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"),ROADMAP:r,TERRAIN:o,SATELLITE:i},bing:{Aerial:a,AerialWithLabels:f},osm:{mapnik:c},mapquest:{osm:n("./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg")},ol:{undefined:u},nasagibs:{Night2012:p},OpenTopoMap:{OpenTopoMap:d},unknown:l,s2cloudless:{"s2cloudless:s2cloudless":s}};e.exports=m},"./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},"./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},"./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},"./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},"./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},"./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},"./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},"./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},"./MapStore2/web/client/plugins/background/assets/img/dafault.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},"./MapStore2/web/client/plugins/background/assets/img/none.jpg":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},"./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},"./MapStore2/web/client/plugins/help/HelpWrapper.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./MapStore2/web/client/actions/help.js"),i=o.changeHelpwinVisibility,a=o.changeHelpText;e.exports=r((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:a,changeHelpwinVisibility:i})(n("./MapStore2/web/client/components/help/HelpWrapper.jsx"))},"./MapStore2/web/client/plugins/identify/featureButtons.js":function(e,t){e.exports=function(e){var t=e.showHighlightFeatureButton,n=e.currentFeature,r=e.highlight,o=e.toggleHighlightFeature,i=void 0===o?function(){}:o,a=e.zoomToFeature,c=void 0===a?function(){}:a;return[{glyph:"map-filter",visible:t,tooltipId:r?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:r?"success":"primary",onClick:function(){return i(!r)}},{glyph:"zoom-to",visible:r&&!!n&&n.length>0&&n.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.geometry;return e||!!n}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:c}]}},"./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/identify/toolButtons.js":function(e,t){function n(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}e.exports=function(e){e.showHighlightFeatureButton,e.currentFeature,e.highlight;var t=e.onEdit,r=void 0===t?function(){}:t,o=n(e,["showHighlightFeatureButton","currentFeature","highlight","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:o.latlng&&o.enableRevGeocode&&o.lngCorrected&&o.showMoreInfo,onClick:function(){o.showRevGeocode({lat:o.latlng.lat,lng:o.lngCorrected})}},{glyph:"search-coords",tooltipId:o.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:o.enabledCoordEditorButton,bsStyle:o.showCoordinateEditor?"success":"primary",onClick:function(){o.onToggleShowCoordinateEditor(o.showCoordinateEditor)}},{glyph:"pencil",visible:o.showEdit,tooltipId:"identifyEdit",onClick:function(){return r()}}].filter((function(e){return e&&e.visible}))}},"./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$":function(e,t,n){var r={"./cesium/index":"./MapStore2/web/client/plugins/map/cesium/index.js","./leaflet/index":"./MapStore2/web/client/plugins/map/leaflet/index.js","./openlayers/index":"./MapStore2/web/client/plugins/map/openlayers/index.js"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$"},"./MapStore2/web/client/plugins/map/cesium/index.js":function(e,t,n){e.exports={LMap:n("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/cesium/Layer.jsx")}},"./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/map/index.js":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/reselect/es/index.js").createSelector,i=n("./MapStore2/web/client/actions/map.js"),a=i.creationError,c=i.changeMapView,s=i.clickOnMap,u=i.mouseMove,l=i.mouseOut,p=n("./MapStore2/web/client/actions/mapPopups.js").removePopup,f=n("./MapStore2/web/client/actions/layers.js"),d=f.layerLoading,m=f.layerLoad,b=f.layerError,y=n("./MapStore2/web/client/actions/measurement.js"),g=y.changeMeasurementState,h=y.changeGeometry,S=y.resetGeometry,E=y.updateMeasures,v=y.setTextLabels,O=y.changeMeasurement,j=n("./MapStore2/web/client/selectors/measurement.js").measurementSelector,A=n("./MapStore2/web/client/actions/selection.js").changeSelectionState,w=n("./MapStore2/web/client/actions/locate.js"),T=w.changeLocateState,_=w.onLocateError,M=n("./MapStore2/web/client/actions/draw.js"),P=M.changeDrawingStatus,x=M.endDrawing,R=M.setCurrentStyle,C=M.geometryChanged,I=M.drawStopped,D=M.selectFeatures,L=M.drawingFeatures,N=n("./MapStore2/web/client/actions/highlight.js").updateHighlighted,k=n("./MapStore2/web/client/actions/notifications.js").warning,F=n("./node_modules/react-redux/es/index.js").connect,G=n("./node_modules/object-assign/index.js"),U=n("./MapStore2/web/client/selectors/map.js"),B=U.projectionDefsSelector,H=U.isMouseMoveActiveSelector,z=function(){return r.createElement("span",null)};e.exports=function(e,t){var r=n("./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$")("./"+e+"/index"),i=F((function(e){return{projectionDefs:B(e),mousePosition:H(e)}}),G({},{onCreationError:a,onMapViewChanges:c,onClick:s,onMouseMove:u,onLayerLoading:d,onLayerLoad:m,onLayerError:b,onWarning:k,onMouseOut:l},t),(function(e,t,n){return G({},n,e,G({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(r.LMap),f=F((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:j(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:g,updateMeasures:E,resetGeometry:S,changeGeometry:h,setTextLabels:v,changeMeasurement:O})(r.MeasurementSupport||z),y=F((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:T,onLocateError:_})(r.Locate||z),w=F((function(e){return e.draw||{}}),{onChangeDrawingStatus:P,onEndDrawing:x,onGeometryChanged:C,onSelectFeatures:D,onDrawingFeatures:L,onDrawStopped:I,setCurrentStyle:R})(r.DrawSupport||z),M=F((function(e){return e.highlight||{}}),{updateHighlighted:N})(r.HighlightFeatureSupport||z),U=F((function(e){return{selection:e.selection||{}}}),{changeSelectionState:A})(r.SelectionSupport||z);n("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$")("./"+e+"/plugins/index");var Y=F(null,{onWarning:k})(r.Layer||z),V=[],W=F(o((function(e){return e.mapPopups&&e.mapPopups.popups||V}),(function(e){return{popups:e}})),{onPopupClose:p})(r.PopupSupport||z);return{Map:i,Layer:Y,Feature:r.Feature||z,tools:{measurement:f,locate:y,overview:r.Overview||z,scalebar:r.ScaleBar||z,draw:w,highlight:M,selection:U,popup:W}}}},"./MapStore2/web/client/plugins/map/leaflet/index.js":function(e,t,n){e.exports={LMap:n("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:n("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:n("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:n("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:n("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:n("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:n("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),HighlightFeatureSupport:n("./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx"),PopupSupport:n("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/openlayers/index.js":function(e,t,n){var r=n("./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js")(["formatNumber"]);e.exports={LMap:n("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:n("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:n("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:n("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:r(n("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default),Overview:n("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:n("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:n("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,HighlightFeatureSupport:n("./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx").default,SelectionSupport:n("./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx").default,PopupSupport:n("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/selector.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/map.js"),i=n("./MapStore2/web/client/selectors/maptype.js"),a=n("./MapStore2/web/client/selectors/layers.js"),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js");function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){return Object(c.get)(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},f=function(e){return p(e)&&p(e).geometry},d=Object(r.createSelector)([function(e){return f(e)&&f(e).coordinates||[]},function(e){return f(e)&&f(e).type||"Polygon"},function(e){return f(e)&&f(e).id||"spatial_object"},function(e){return f(e)&&f(e).projection||"EPSG:3857"}],(function(e,t,n,r){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return e.length>0&&t?Object(s.reprojectGeoJson)(o,r,"EPSG:4326").features:[]})),m=Object(r.createSelector)([d,function(e){return Object(c.get)(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(u(t),u(e))})),b=n("./MapStore2/web/client/selectors/security.js"),y=n("./MapStore2/web/client/selectors/locale.js"),g=n("./MapStore2/web/client/selectors/localizedLayerStyles.js");t.default=Object(r.createStructuredSelector)({projectionDefs:o.projectionDefsSelector,map:o.mapSelector,mapType:i.mapTypeSelector,layers:a.layerSelectorWithMarkers,features:m,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:b.securityTokenSelector,elevationEnabled:o.isMouseMoveCoordinatesActiveSelector,shouldLoadFont:i.isOpenlayers,isLocalizedLayerStylesEnabled:g.isLocalizedLayerStylesEnabledSelector,localizedLayerStylesName:g.localizedLayerStylesNameSelector,currentLocaleLanguage:y.currentLocaleLanguageSelector})},"./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/playback/Playback.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js").connect,i=n("./node_modules/reselect/es/index.js").createSelector,a=n("./node_modules/recompose/es/Recompose.js"),c=a.compose,s=a.withState,u=a.withProps,l=a.withHandlers,p=n("./MapStore2/web/client/selectors/timeline.js").selectedLayerSelector,f=n("./MapStore2/web/client/selectors/playback.js"),d=f.statusSelector,m=f.hasPrevNextAnimationSteps,b=f.playbackMetadataSelector,y=n("./MapStore2/web/client/actions/playback.js"),g=y.animationStepMove,h=y.STATUS,S=n("./MapStore2/web/client/components/I18N/Message.jsx"),E=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),v=n("./MapStore2/web/client/plugins/playback/Settings.jsx"),O=c(s("showSettings","onShowSettings",!1),s("collapsed","setCollapsed",!0),u((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),j=c(o(i(d,p,b,m,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===h.PLAY||e===h.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),{stepMove:g}),l({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}})),A=c(O,j);e.exports=A((function(e){var t=e.status,n=e.statusMap,o=e.play,i=void 0===o?function(){}:o,a=e.forward,c=void 0===a?function(){}:a,s=e.backward,u=void 0===s?function(){}:s,l=e.pause,p=void 0===l?function(){}:l,f=e.stop,d=void 0===f?function(){}:f,m=e.hasPrevious,b=e.hasNext,y=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,O=e.settingsStyle,j=void 0===O?{}:O;return r.createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&y&&r.createElement(v,{style:j}),r.createElement(E,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:u,disabled:!m,tooltip:r.createElement(S,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!b,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?p():i()},tooltipId:b&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:d,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&r.createElement(S,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!b,tooltip:b&&r.createElement(S,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&y?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!y,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&h(!y)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&r.createElement(S,{msgId:"playback.settings.tooltip"})}]}))}))},"./MapStore2/web/client/plugins/playback/Settings.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react-redux/es/index.js").connect,a=n("./node_modules/reselect/es/index.js").createSelector,c=n("./node_modules/moment/moment.js"),s=n("./node_modules/recompose/es/Recompose.js"),u=s.compose,l=s.withProps,p=s.withHandlers,f=n("./MapStore2/web/client/selectors/playback.js"),d=f.playbackSettingsSelector,m=f.playbackRangeSelector,b=n("./MapStore2/web/client/selectors/timeline.js"),y=b.selectedLayerSelector,g=b.rangeSelector,h=b.selectedLayerDataRangeSelector,S=n("./MapStore2/web/client/actions/playback.js"),E=S.selectPlaybackRange,v=S.changeSetting,O=S.toggleAnimationMode,j=n("./MapStore2/web/client/actions/timeline.js").onRangeChanged;e.exports=u(i(a(d,y,m,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n},e)})),{setPlaybackRange:E,onSettingChange:v,toggleAnimationMode:O}),u(i(a(g,h,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:j}),p({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,i=e.setPlaybackRange,a=void 0===i?function(){}:i;return function(e){var r=t?o:n;r={startPlaybackTime:c(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:c(r&&r.end||new Date).add(1,"days").toISOString()},a(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:c(n.start).toISOString(),endPlaybackTime:c(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),l((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,i=e.setPlaybackToCurrentViewRange,a=void 0===i?function(){}:i,c=e.setPlaybackToCurrentLayerDataRange,s=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return a()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return s()}}]}}))))(n("./MapStore2/web/client/components/playback/Settings.jsx"))},"./MapStore2/web/client/plugins/print/print.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/timeline/Timeline.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js").connect,s=n("./MapStore2/node_modules/lodash/lodash.js"),u=s.isString,l=s.differenceBy,p=s.isNil,f=n("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,d=n("./MapStore2/web/client/actions/timeline.js"),m=d.selectTime,b=d.selectLayer,y=d.onRangeChanged,g=n("./MapStore2/web/client/selectors/timeline.js"),h=g.itemsSelector,S=g.loadingSelector,E=g.selectedLayerSelector,v=g.currentTimeRangeSelector,O=g.rangeSelector,j=g.timelineLayersSelector,A=n("./MapStore2/web/client/actions/dimension.js"),w=A.moveTime,T=A.setCurrentOffset,_=n("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,M=n("./MapStore2/web/client/selectors/playback.js"),P=M.playbackRangeSelector,x=M.statusSelector,R=n("./node_modules/reselect/es/index.js"),C=R.createStructuredSelector,I=R.createSelector,D=n("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelectorCreator,L=n("./node_modules/recompose/es/Recompose.js"),N=L.compose,k=L.withPropsOnChange,F=L.defaultProps,G=n("./MapStore2/web/client/components/misc/enhancers/withMask.js"),U=n("./MapStore2/web/client/components/I18N/Message.jsx"),B=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),H=n("./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js"),z=n("./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js"),Y=n("./node_modules/moment/moment.js"),V=N(c(I(O,h,D((function(e,t){return e===t||!p(e)&&!p(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(j,(function(e){return e})),S,(function(e,t,n,r){return{viewRange:e,items:t,layers:n,loading:r}}))),k((function(e,t){var n=e.layers,r=void 0===n?[]:n,o=e.loading,i=e.selectedLayer,a=t.layers,c=t.loading,s=t.selectedLayer,u=e.hideLayersName!==t.hideLayersName;return o!==c||i!==s||u||r&&a&&r.length!==a.length||l(r,a||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,r=e.name;return t+n+r})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,r=e.loading,o=void 0===r?{}:r,i=e.selectedLayer;return{groups:n.map((function(e){return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(u(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),W=N(c(I(f,v,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:m,moveCurrentRange:w,setOffset:T})),q=N(c(C({playbackRange:P,status:x}),{setPlaybackRange:_})),K=N(c(I(E,(function(e){return{selectedLayer:e}})),{selectGroup:b})),Q=N(c((function(){return{}}),{rangechangedHandler:y})),Z=N(W,q,K,H,Q,V,F({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return Y(e).utc()}}}),k(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:o(o({},e.options),n)}})),k(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),z,G((function(e){var t=e.loading;return t&&t.timeline}),(function(){return a.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},a.createElement(B,{style:{display:"inline-block",verticalAlign:"middle"}}),a.createElement(U,{msgId:"loading"}))}),{white:!0})),$=n("./MapStore2/web/client/components/time/TimelineComponent.jsx");e.exports=Z($)},"./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("./node_modules/react/index.js"),s=n("./node_modules/rxjs/Rx.js"),u=n("./MapStore2/web/client/components/I18N/Message.jsx"),l=n("./node_modules/react-bootstrap/es/index.js"),p=l.Button,f=l.Glyphicon,d=n("./MapStore2/web/client/actions/timeline.js").setCollapsed,m=n("./MapStore2/web/client/selectors/timeline.js"),b=m.isCollapsed,y=m.hasLayers,g=n("./node_modules/recompose/es/Recompose.js"),h=g.compose,S=g.withHandlers,E=g.withProps,v=g.renderNothing,O=g.branch,j=g.mapPropsStream,A=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),w=n("./node_modules/reselect/es/index.js").createSelector,T=n("./node_modules/react-redux/es/index.js").connect,_=n("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js"),M=h(E({collapseHintPopoverOptions:{placement:"top",props:{title:c.createElement("span",null,c.createElement(f,{glyph:"time"})," ",c.createElement("strong",null,c.createElement(u,{msgId:"timeline.collapsed.title"})))},content:c.createElement(u,{msgId:"timeline.collapsed.tooltip"})}}),j((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return s.Observable.timer(5e3).startWith({popoverOptions:t}).concat(s.Observable.of({}))})).startWith({})}(e),(function(e,t){return i(i({},e),t)}))})),O((function(e){return e.popoverOptions}),_,A))(p);e.exports=h(T(w(b,y,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:d}),O((function(e){return!e.visible}),v),S({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),E((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return c.createElement(M,r({},e,{bsSize:"xsmall"}),c.createElement(f,{glyph:"time"}))}))},"./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/reducers/additionallayers.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/additionallayers.js"),o=n("./MapStore2/node_modules/lodash/lodash.js");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPDATE_ADDITIONAL_LAYER:var n=Object(o.pickBy)({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},o.identity),a=Object(o.head)(e.filter((function(e){return e.id===n.id})));return a?e.map((function(e){return e.id===n.id?s(s({},a),n):s({},e)})):[].concat(i(e),[n]);case r.UPDATE_OPTIONS_BY_OWNER:var c=t.options,u=t.owner;return e.map((function(e,t){return e.owner===u?s(s({},e),{},{options:Object(o.isObject)(c)&&c[e.id]||Object(o.isArray)(c)&&c[t]||{}}):s({},e)}));case r.REMOVE_ADDITIONAL_LAYER:var l=t.id,p=t.owner;return p?e.filter((function(e){return e.owner!==p})):e.filter((function(e){return e.id!==l}));case r.REMOVE_ALL_ADDITIONAL_LAYERS:return[];default:return e}}},"./MapStore2/web/client/reducers/backgroundselector.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/backgroundselector.js"),o=n("./MapStore2/web/client/actions/catalog.js"),i=n("./node_modules/object-assign/index.js"),a=n.n(i);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_BACKGROUND:return a()({},e,{source:t.source});case o.RESET_CATALOG:return a()({},e,{source:"metadataExplorer"});case r.SET_BACKGROUND_MODAL_PARAMS:return a()({},e,{modalParams:t.modalParams});case r.BACKGROUNDS_CLEAR:return a()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case r.UPDATE_BACKGROUND_THUMBNAIL:if(t.id){var n=e.backgrounds||[],i=-1===n.findIndex((function(e){return e.id===t.id})),c=i?n.concat({id:t.id}):n,s=c.map((function(e){return e.id===t.id?a()({},e,{id:t.id,thumbnail:t.thumbnailData}):a()({},e)}));return a()({},e,{backgrounds:s})}return e;case r.CLEAR_MODAL_PARAMETERS:return a()({},e,{modalParams:void 0});case r.REMOVE_BACKGROUND:var u=e.backgrounds||[],l=e.removedBackgroundsThumbIds||[],p=u.filter((function(e){return e.id!==t.backgroundId})),f=u.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return a()({},e,{backgrounds:p,removedBackgroundsThumbIds:l.concat(f),lastRemovedId:t.backgroundId});case r.CREATE_BACKGROUNDS_LIST:return a()({},e,{backgrounds:t.backgrounds});case r.CONFIRM_DELETE_BACKGROUND_MODAL:return a()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case r.ALLOW_BACKGROUNDS_DELETION:return a()({},e,{allowDeletion:t.allow||!1});default:return e}}},"./MapStore2/web/client/reducers/dimension.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/dimension.js"),o=n("./MapStore2/web/client/actions/layers.js"),i=n("./MapStore2/web/client/actions/controls.js"),a=n("./MapStore2/web/client/utils/ImmutableUtils.js"),c=n("./node_modules/moment/moment.js"),s=n.n(c),u=n("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPDATE_LAYER_DIMENSION_DATA:return Object(a.set)("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case r.SET_CURRENT_TIME:return Object(a.set)("currentTime",t.time,e);case r.SET_OFFSET_TIME:return Object(a.set)("offsetTime",t.offsetTime,e);case r.MOVE_TIME:if(e.offsetTime&&e.currentTime){var n=s()(e.offsetTime).diff(e.currentTime),c=s()(t.time).add(n);return Object(a.set)("currentTime",t.time,Object(a.set)("offsetTime",c.toISOString(),e))}return Object(a.set)("currentTime",t.time,e);case o.REMOVE_NODE:var l=Object(u.mapValues)(e.data,(function(e){return Object(u.pickBy)(e,(function(e,n){return n!==t.node}))}));return Object(a.set)("data",l,e);case i.RESET_CONTROLS:return Object(a.set)("data",void 0,Object(a.set)("currentTime",void 0,Object(a.set)("offsetTime",void 0,e)));default:return e}}},"./MapStore2/web/client/reducers/draw.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/draw.js"),o=n("./node_modules/object-assign/index.js"),i=n.n(o),a={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.CHANGE_DRAWING_STATUS:return i()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case r.SET_CURRENT_STYLE:return i()({},e,{currentStyle:t.currentStyle});case r.GEOMETRY_CHANGED:return i()({},e,{tempFeatures:t.features});case r.DRAW_SUPPORT_STOPPED:return i()({},e,{tempFeatures:[]});default:return e}}},"./MapStore2/web/client/reducers/highlight.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/highlight.js"),o=n("./node_modules/object-assign/index.js"),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_HIGHLIGHT_FEATURES_PATH:return i()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case r.HIGHLIGHT_STATUS:return c(c({},e),{},{status:t.status});case r.UPDATE_HIGHLIGHTED:return c(c({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}}},"./MapStore2/web/client/reducers/mapInfo.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/mapInfo.js"),o=n("./MapStore2/web/client/actions/config.js"),i=n("./MapStore2/web/client/actions/controls.js"),a=n("./node_modules/object-assign/index.js"),c=n.n(a),s=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./MapStore2/web/client/utils/MapInfoUtils.js");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){var r="vector"===n,o=r?t.reqId:Object(s.findIndex)(e.requests||[],(function(e){return e.reqId===t.reqId}));if(-1!==o){if(["exceptions","error"].includes(n)){var i=e.requests.filter((function(e,t){return t!==o})),a=e.responses.filter((function(e,t){return t!==o}));return m(m({},e),{},{responses:a,requests:i})}var l,f=e.configuration,d=e.requests,b=e.responses||[],y="hover"===(null==f?void 0:f.trigger);if(!r){var g={response:t[n],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};y?b=[].concat(p(b),[g]):b[o]=g}return y?l={loaded:!0,index:0}:!y&&function(e,t,n,r){var o,i,a=e.configuration,c=e.requests,l=e.queryableLayers,p=e.index,f=(a||{}).infoFormat,d=null===(o=Object(u.getValidator)(f))||void 0===o?void 0:o.getValidResponses([t[n]],!0),m=null===(i=Object(u.getValidator)(f))||void 0===i?void 0:i.getNoValidResponses(t,!0);return Object(s.isUndefined)(p)&&!!d.length||!r&&c.length===m.filter((function(e){return e})).length||Object(s.isUndefined)(p)&&r&&c.filter((function(e){return Object(s.isEmpty)(e)})).length===l.length}(e,b,o,r)&&(l={loaded:!0,index:o}),c()({},e,m(m(m({},r&&{requests:d}),!Object(s.isUndefined)(l)&&l),{},{responses:p(b)}))}return e}var g={enabled:!0,configuration:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.NO_QUERYABLE_LAYERS:return c()({},e,{warning:"NO_QUERYABLE_LAYERS"});case r.CLEAR_WARNING:return c()({},e,{warning:null});case r.CHANGE_MAPINFO_STATE:return c()({},e,{enabled:t.enabled});case r.TOGGLE_MAPINFO_STATE:return c()({},e,{enabled:!e.enabled});case r.CHANGE_PAGE:return c()({},e,{index:t.index});case r.TOGGLE_HIGHLIGHT_FEATURE:return c()({},e,{highlight:t.enabled});case r.NEW_MAPINFO_REQUEST:var a=t.reqId,s=t.request,u=e.requests||[];return c()({},e,{requests:[].concat(p(u),[{request:s,reqId:a}])});case r.PURGE_MAPINFO_RESULTS:e.index,e.loaded;var f=l(e,["index","loaded"]);return m(m({},f),{},{queryableLayers:[],responses:[],requests:[]});case r.LOAD_FEATURE_INFO:return y(e,t,"data");case r.EXCEPTIONS_FEATURE_INFO:return y(e,t,"exceptions");case r.ERROR_FEATURE_INFO:return y(e,t,"error");case r.FEATURE_INFO_CLICK:return c()({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case r.CHANGE_MAPINFO_FORMAT:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{infoFormat:t.infoFormat})});case r.SHOW_MAPINFO_MARKER:return c()({},e,{showMarker:!0});case r.HIDE_MAPINFO_MARKER:return c()({},e,{showMarker:!1});case r.SHOW_REVERSE_GEOCODE:return c()({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case r.HIDE_REVERSE_GEOCODE:return c()({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case i.RESET_CONTROLS:return c()({},e,{showMarker:!1,responses:[],requests:[]});case r.GET_VECTOR_INFO:var d,b=n("./node_modules/turf-buffer/index.js"),h=n("./node_modules/turf-intersect/index.js"),S={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},E=t.metadata&&t.metadata.units;switch(E){case"m":E="meters";break;case"deg":E="degrees";break;case"mi":E="miles";break;default:E="meters"}var v,O=t.metadata&&t.metadata.resolution||1,j=b(S,(t.metadata.buffer||1)*O,E),A=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,n){var r=n.properties.useGeodesicLines&&n.properties.geometryGeodesic?m(m({},n),{},{geometry:n.properties.geometryGeodesic}):n;return e||h(j,O&&t.metadata.buffer&&E?b(r,1,"meters"):r)}),!1):h(j,O&&t.metadata.buffer&&E?b(e,1,"meters"):e)}catch(e){return!1}})),w=e.responses||[],T="hover"===(null==e||null===(d=e.configuration)||void 0===d?void 0:d.trigger)||!1,_={response:{crs:null,features:A,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};T?(w=[].concat(p(w),[_]),v={reqId:0}):(w[e.requests.length]=_,v={reqId:e.requests.length});var M=[].concat(p(e.requests),[{}]);return y(c()({},e,{requests:M,queryableLayers:t.queryableLayers,responses:p(w)}),v,"vector");case r.UPDATE_CENTER_TO_MARKER:return c()({},e,{centerToMarker:t.status});case r.TOGGLE_EMPTY_MESSAGE_GFI:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case o.MAP_CONFIG_LOADED:return m(m({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case r.CHANGE_FORMAT:return m(m({},e),{},{formatCoord:t.format});case r.TOGGLE_SHOW_COORD_EDITOR:return m(m({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case r.SET_CURRENT_EDIT_FEATURE_QUERY:return m(m({},e),{},{currentEditFeatureQuery:t.query});case r.SET_MAP_TRIGGER:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{trigger:t.trigger})});default:return e}}},"./MapStore2/web/client/reducers/maplayout.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/maplayout.js"),o=n("./node_modules/object-assign/index.js"),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPDATE_MAP_LAYOUT:var n=t.layout,o=n.boundingMapRect,a=void 0===o?{}:o,s=u(n,["boundingMapRect"]);return i()({},e,{layout:i()({},s,s),boundingMapRect:c({},a)});default:return e}}},"./MapStore2/web/client/reducers/maps.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/maps.js"),o=n("./node_modules/object-assign/index.js"),i=n.n(o),a=n("./MapStore2/node_modules/lodash/lodash.js");function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.MAPS_SEARCH_TEXT_CHANGED:return i()({},e,{searchText:t.text});case r.SEARCH_FILTER_CHANGED:return i()({},e,{searchFilter:l(l({},e.searchFilter),{},p({},t.filter,t.filterData))});case r.SET_SEARCH_FILTER:return i()({},e,{searchFilter:t.searchFilter});case r.SET_CONTEXTS:return i()({},e,{contexts:t.contexts});case r.LOADING:return i()({},e,{loading:t.value,loadFlags:l(l({},e.loadFlags||{}),"loading"!==t.name?p({},t.name,t.value):{})});case r.METADATA_CHANGED:return i()({},e,{metadata:i()({},e.metadata,p({},t.prop,t.value))});case r.SHOW_DETAILS:return i()({},e,{showMapDetails:t.showMapDetails});case r.MAPS_LIST_LOADING:return i()({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case r.MAPS_LIST_LOADED:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return i()({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var n=""!==t.maps.results?[t.maps.results]:[];return i()({},e,t.maps,{results:n,loading:!1});case r.MAPS_LIST_LOAD_ERROR:return{loadingError:t.error};case r.MAP_UPDATING:for(var o=""===e.results||Object(a.isNil)(e.results)?[]:c(e.results),s=0;s<o.length;s++)o[s].id&&o[s].id===t.resourceId&&(o[s]=i()({},o[s],{updating:!0}));return i()({},e,{results:o});case r.ATTRIBUTE_UPDATED:for(var u=""===e.results?[]:c(e.results),f=0;f<u.length;f++){var d;if(u[f].id&&u[f].id===t.resourceId)u[f]=i()({},u[f],(p(d={},t.name,decodeURIComponent(t.value)),p(d,"updating",!1),p(d,"loadingError",t.error?t.error:null),d))}return i()({},e,{results:u});case r.MAP_DELETING:for(var m=""===e.results?[]:c(e.results),b=0;b<m.length;b++)m[b].id&&m[b].id===t.resourceId&&(m[b]=i()({},m[b],{deleting:!0}));return i()({},e,{results:m});case r.MAP_CREATED:var y=""===e.results?[]:c(e.results),g={results:[].concat(c(y),[t.metadata]),totalCount:e.totalCount+1};return i()({},e,g);case r.THUMBNAIL_ERROR:case r.MAP_ERROR:for(var h=""===e.results?[]:c(e.results),S=0;S<h.length;S++)h[S].id&&h[S].id===t.resourceId&&(h[S]=i()({},h[S],{updating:!1}));return i()({},e,{results:h});case r.PERMISSIONS_LIST_LOADING:var E=""===e.results?[]:c(e.results),v=i()({},e,{results:E.map((function(e){return e.id===t.mapId?i()({},e,{permissionLoading:!0}):e}))});return v;case r.UPDATE_DETAILS:return l(l({},e),{},{detailsText:t.detailsText});default:return e}}},"./MapStore2/web/client/reducers/maptype.js":function(e,t,n){"use strict";n.r(t);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_TYPE_CHANGED":return{mapType:t.mapType};default:return e}}},"./MapStore2/web/client/reducers/playback.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/playback.js"),o=n("./MapStore2/web/client/actions/controls.js"),i=n("./MapStore2/web/client/utils/ImmutableUtils.js");function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:r.STATUS.STOP,currentFrame:-1,settings:s},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.PLAY:return Object(i.set)("status",r.STATUS.PLAY,e);case r.PAUSE:return Object(i.set)("status",r.STATUS.PAUSE,e);case r.STOP:return Object(i.set)("status",r.STATUS.STOP,Object(i.set)("currentFrame",-1,e));case r.SET_FRAMES:return Object(i.set)("frames",t.frames,Object(i.set)("currentFrame",-1,e));case r.FRAMES_LOADING:return Object(i.set)("framesLoading",t.loading,e);case r.APPEND_FRAMES:return Object(i.set)("frames",[].concat(a(e.frames||[]),a(t.frames)),e);case r.SET_CURRENT_FRAME:return Object(i.set)("currentFrame",t.frame,e);case r.SELECT_PLAYBACK_RANGE:return Object(i.set)("playbackRange",t.range,e);case r.CHANGE_SETTING:return Object(i.set)("settings[".concat(t.name,"]"),t.value,e);case r.UPDATE_METADATA:return Object(i.set)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case o.RESET_CONTROLS:return Object(i.set)("metadata",void 0,Object(i.set)("framesLoading",void 0,Object(i.set)("playbackRange",void 0,Object(i.set)("frames",void 0,Object(i.set)("currentFrame",-1,Object(i.set)("status","STOP",Object(i.set)("settings",s,e)))))));default:return e}}},"./MapStore2/web/client/reducers/print.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/print.js"),o=n("./MapStore2/web/client/actions/controls.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./node_modules/object-assign/index.js"),c=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:u,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.TOGGLE_CONTROL:return"print"===t.control?c()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case r.PRINT_CAPABILITIES_LOADED:var n=Object(i.get)(t,"capabilities.layouts",[{name:"A4"}]),a=n.filter((function(t){return l(t.name)===e.spec.sheet})).length?e.spec.sheet:l(n[0].name);return c()({},e,{capabilities:t.capabilities,spec:c()({},e.spec||{},{sheet:a,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case r.SET_PRINT_PARAMETER:return c()({},e,{spec:c()({},e.spec,s({},t.name,t.value))});case r.CONFIGURE_PRINT_MAP:var p=t.layers.map((function(e){return e.title?c()({},e,{title:Object(i.isObject)(e.title)&&t.currentLocale&&e.title[t.currentLocale]||Object(i.isObject)(e.title)&&e.title.default||e.title}):e}));return c()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:p,projection:t.projection},error:null});case r.CHANGE_PRINT_ZOOM_LEVEL:var f=t.zoom-e.map.scaleZoom;return c()({},e,{map:c()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+f,scale:t.scale})});case r.CHANGE_MAP_PRINT_PREVIEW:return c()({},e,{map:c()({},e.map,{size:t.size})});case r.PRINT_SUBMITTING:return c()({},e,{isLoading:!0,pdfUrl:null,error:null});case r.PRINT_CREATED:return c()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case r.PRINT_ERROR:case r.PRINT_CAPABILITIES_ERROR:return c()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case r.PRINT_CANCEL:return c()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},"./MapStore2/web/client/reducers/timeline.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/layers.js"),o=n("./MapStore2/web/client/actions/controls.js"),i=n("./MapStore2/web/client/actions/timeline.js"),a=n("./MapStore2/web/client/utils/ImmutableUtils.js"),c=n("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SET_COLLAPSED:return Object(a.set)("settings.collapsed",t.collapsed,e);case i.SET_MAP_SYNC:return Object(a.set)("settings.mapSync",t.mapSync,e);case i.RANGE_CHANGED:return Object(a.set)("range",{start:t.start,end:t.end},e);case i.RANGE_DATA_LOADED:return Object(a.set)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.LOADING:return t.layerId?Object(a.set)("loading[".concat(t.layerId,"]"),t.loading,e):Object(a.set)("loading.timeline",t.loading,e);case i.SELECT_LAYER:return Object(a.set)("selectedLayer",t.layerId,e);case r.REMOVE_NODE:var n=e;return Object(c.assign)({},e,{rangeData:Object(c.has)(n.rangeData,t.node)?Object(c.pickBy)(n.rangeData,(function(e,n){return n!==t.node})):n.rangeData,loading:Object(c.has)(n.rangeData,t.node)?Object(c.pickBy)(n.loading,(function(e,n){return n!==t.node})):n.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.RESET_CONTROLS:return Object(c.assign)({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getLayerById",(function(){return y})),n.d(t,"getTitle",(function(){return g})),n.d(t,"selectedLayerIdSelector",(function(){return h})),n.d(t,"chartDisabledSelector",(function(){return S})),n.d(t,"getCustomAttributeSettings",(function(){return E})),n.d(t,"selectedFeaturesSelector",(function(){return v})),n.d(t,"changesSelector",(function(){return O})),n.d(t,"newFeaturesSelector",(function(){return j})),n.d(t,"selectedFeatureSelector",(function(){return A})),n.d(t,"geomTypeSelectedFeatureSelector",(function(){return w})),n.d(t,"hasGeometrySelectedFeature",(function(){return T})),n.d(t,"notSupportedGeometries",(function(){return _})),n.d(t,"hasSupportedGeometry",(function(){return M})),n.d(t,"hasChangesSelector",(function(){return P})),n.d(t,"hasNewFeaturesSelector",(function(){return x})),n.d(t,"getAttributeFilters",(function(){return R})),n.d(t,"selectedLayerParamsSelector",(function(){return C})),n.d(t,"selectedLayerSelector",(function(){return I})),n.d(t,"editingAllowedRolesSelector",(function(){return D})),n.d(t,"canEditSelector",(function(){return L})),n.d(t,"isFeatureGridOpen",(function(){return N})),n.d(t,"getAttributeFilter",(function(){return k})),n.d(t,"getTitleSelector",(function(){return F})),n.d(t,"getCustomizedAttributes",(function(){return G})),n.d(t,"modeSelector",(function(){return U})),n.d(t,"selectedFeaturesCount",(function(){return B})),n.d(t,"changesMapSelector",(function(){return H})),n.d(t,"hasGeometrySelector",(function(){return z})),n.d(t,"showAgainSelector",(function(){return Y})),n.d(t,"showTimeSync",(function(){return V})),n.d(t,"timeSyncActive",(function(){return W})),n.d(t,"showPopoverSyncSelector",(function(){return q})),n.d(t,"isSavingSelector",(function(){return K})),n.d(t,"isSavedSelector",(function(){return Q})),n.d(t,"isDrawingSelector",(function(){return Z})),n.d(t,"hasNewFeaturesOrChanges",(function(){return $})),n.d(t,"isSimpleGeomSelector",(function(){return X})),n.d(t,"getDockSize",(function(){return J})),n.d(t,"selectedLayerNameSelector",(function(){return ee})),n.d(t,"queryOptionsSelector",(function(){return te})),n.d(t,"isEditingAllowedSelector",(function(){return ne}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/layers.js"),i=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),a=n("./MapStore2/web/client/selectors/locale.js"),c=n("./MapStore2/web/client/utils/MapUtils.js"),s=n("./MapStore2/web/client/utils/FeatureGridUtils.js"),u=n("./MapStore2/web/client/selectors/dimension.js"),l=n("./MapStore2/web/client/selectors/security.js"),p=n("./MapStore2/web/client/selectors/maptype.js"),f=n("./MapStore2/web/client/selectors/query.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=o.getLayerFromId,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name},h=function(e){return Object(r.get)(e,"featuregrid.selectedLayer")},S=function(e){return Object(r.get)(e,"featuregrid.chartDisabled",!1)},E=function(e,t){return Object(r.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))},v=function(e){return e&&e.featuregrid&&e.featuregrid.select},O=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},A=function(e){return Object(r.head)(v(e))},w=function(e){var t=Object(f.describeSelector)(e);if(t){var n=Object(i.findGeometryProperty)(t);return n&&n.localType}return null},T=function(e){var t=A(e);if(t){var n=Object(s.toChangesMap)(O(e));return!(!n[t.id]||null===n[t.id].geometry)||(!n[t.id]||null!==n[t.id].geometry)&&((!t._new||!Object(r.head)(j(e))||null!==Object(r.head)(j(e)).geometry)&&(!(!t._new||!Object(r.head)(j(e))||null===Object(r.head)(j(e)).geometry)||null!==t.geometry))}return!1},_=["Geometry","GeometryCollection"],M=function(e){return!Object(r.head)(_.filter((function(t){return w(e)===t})))},P=function(e){return O(e)&&O(e).length>0},x=function(e){return j(e)&&j(e).length>0},R=function(e){return e&&e.featuregrid&&e.featuregrid.filters},C=function(e){return Object(r.get)(y(e,h(e)),"params")},I=function(e){return y(e,h(e))},D=function(e){return Object(r.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])},L=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit},N=function(e){return e&&e.featuregrid&&e.featuregrid.open},k=function(e,t){return Object(r.get)(R(e),t)},F=function(e){var t=g(y(e,h(e)));return Object(r.isObject)(t)?t[Object(a.currentLocaleSelector)(e)]||t.default||"":t},G=function(e){return(Object(f.attributesSelector)(e)||[]).map((function(t){var n=E(e,t);return n?m(m({},t),n):t}))},U=function(e){return e&&e.featuregrid&&e.featuregrid.mode},B=function(e){return(v(e)||[]).length},H=function(e){return Object(s.toChangesMap)(O(e))},z=function(e){return T(e)},Y=function(e){return Object(r.get)(e,"featuregrid.showAgain",!1)},V=function(e){if(Object(r.get)(e,"featuregrid.showTimeSync",!1)){var t=h(e);return Object(u.layerDimensionSelectorCreator)({id:t},"time")(e)}return null},W=function(e){return Object(r.get)(e,"featuregrid.timeSync",!1)},q=function(e){return Object(r.get)(e,"featuregrid.showPopoverSync",!0)},K=function(e){return e&&e.featuregrid&&e.featuregrid.saving},Q=function(e){return e&&e.featuregrid&&e.featuregrid.saved},Z=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},$=function(e){return x(e)||P(e)},X=function(e){return Object(c.isSimpleGeomType)(w(e))},J=function(e){return e.featuregrid&&e.featuregrid.dockSize},ee=function(e){var t=y(e,h(e));return t&&t.name||""},te=function(e){var t=C(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},ne=function(e){var t=Object(l.userRoleSelector)(e),n=D(e)||["ADMIN"],r=L(e);return(-1!==n.indexOf(t)||r)&&!Object(p.isCesium)(e)}},"./MapStore2/web/client/selectors/localizedLayerStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isLocalizedLayerStylesEnabledSelector",(function(){return a})),n.d(t,"isLocalizedLayerStylesEnabledDashboardsSelector",(function(){return c})),n.d(t,"localizedLayerStylesNameSelector",(function(){return s})),n.d(t,"localizedLayerStylesEnvSelector",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),i=n("./MapStore2/web/client/selectors/locale.js"),a=function(e){return Object(r.has)(e,"localConfig.localizedLayerStyles")},c=function(e){var t=Object(r.get)(e,"localConfig.plugins.dashboard",[]),n=Object(r.find)(t,(function(e){return"DashboardEditor"===e.name}))||{};return Object(r.get)(n,"cfg.catalog.localizedLayerStyles",!1)},s=function(e){return Object(r.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},u=Object(o.createSelector)(a,s,i.currentLocaleLanguageSelector,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mapLayoutSelector",(function(){return u})),n.d(t,"boundingMapRectSelector",(function(){return l})),n.d(t,"mapLayoutValuesSelector",(function(){return p})),n.d(t,"checkConditionsSelector",(function(){return f})),n.d(t,"rightPanelOpenSelector",(function(){return d})),n.d(t,"bottomPanelOpenSelector",(function(){return m})),n.d(t,"mapPaddingSelector",(function(){return b}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/map.js"),i=n("./MapStore2/web/client/utils/MapUtils.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return e.maplayout&&e.maplayout.layout||{}},l=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},s({},t,n[t]))}),{})||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u(e),o=!!Object(r.head)(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return o},d=function(e){return f(e,[{key:"right",value:658}])},m=function(e){return f(e,[{key:"bottom",value:30,type:"not"}])},b=function(e){var t=Object(o.mapSelector)(e),n=l(e);return n&&t&&t.size&&{left:Object(i.parseLayoutValue)(n.left,t.size.width),bottom:Object(i.parseLayoutValue)(n.bottom,t.size.height),right:Object(i.parseLayoutValue)(n.right,t.size.width),top:Object(i.parseLayoutValue)(n.top,t.size.height)}}},"./MapStore2/web/client/selectors/measurement.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isCoordinateEditorEnabledSelector",(function(){return l})),n.d(t,"showAddAsAnnotationSelector",(function(){return p})),n.d(t,"isTrueBearingEnabledSelector",(function(){return f})),n.d(t,"getValidFeatureSelector",(function(){return d})),n.d(t,"measurementSelector",(function(){return m})),n.d(t,"geomTypeSelector",(function(){return b}));var r=n("./MapStore2/web/client/selectors/maptype.js"),o=n("./MapStore2/web/client/selectors/controls.js"),i=n("./MapStore2/web/client/utils/ImmutableUtils.js"),a=n("./MapStore2/web/client/utils/MeasureUtils.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return Object(o.showCoordinateEditorSelector)(e)&&!e.measurement.isDrawing&&Object(r.isOpenlayers)(e)},p=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},f=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},d=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=Object(i.set)("geometry.coordinates",Object(a.validateFeatureCoordinates)(t.geometry||{}),t)),t},m=function(e){return e.measurement&&s(s({},e.measurement),{},{feature:d(e)})||{}},b=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},"./MapStore2/web/client/selectors/playback.js":function(e,t,n){"use strict";n.r(t),n.d(t,"playbackSettingsSelector",(function(){return o})),n.d(t,"frameDurationSelector",(function(){return i})),n.d(t,"statusSelector",(function(){return a})),n.d(t,"framesSelector",(function(){return c})),n.d(t,"lastFrameSelector",(function(){return s})),n.d(t,"loadingSelector",(function(){return u})),n.d(t,"currentFrameSelector",(function(){return l})),n.d(t,"range",(function(){return p})),n.d(t,"playbackRangeSelector",(function(){return f})),n.d(t,"currentFrameValueSelector",(function(){return d})),n.d(t,"playbackMetadataSelector",(function(){return m})),n.d(t,"hasPrevNextAnimationSteps",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),o=function(e){return e&&e.playback&&e.playback.settings},i=function(e){return(o(e)||{}).frameDuration||5},a=function(e){return e&&e.playback&&e.playback.status},c=function(e){return e&&e.playback&&e.playback.frames},s=function(e){var t=c(e)||[];return t[t.length-1]},u=function(e){return e&&e.playback&&e.playback.framesLoading},l=function(e){return e&&e.playback&&e.playback.currentFrame},p=function(e){return e&&e.playback&&e.playback.playbackRange},f=function(e){return p(e)},d=function(e){return(c(e)||[])[l(e)]},m=function(e){return e&&e.playback&&e.playback.metadata},b=Object(r.createSelector)(c,l,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},"./MapStore2/web/client/selectors/query.js":function(e,t,n){"use strict";n.r(t),n.d(t,"queryFeatureTypeName",(function(){return c})),n.d(t,"featureTypeSelectorCreator",(function(){return s})),n.d(t,"layerDescribeSelector",(function(){return u})),n.d(t,"wfsURL",(function(){return l})),n.d(t,"wfsURLSelector",(function(){return p})),n.d(t,"wfsFilter",(function(){return f})),n.d(t,"attributesSelector",(function(){return d})),n.d(t,"typeNameSelector",(function(){return m})),n.d(t,"resultsSelector",(function(){return b})),n.d(t,"featureCollectionResultSelector",(function(){return y})),n.d(t,"getFeatureById",(function(){return g})),n.d(t,"paginationInfo",(function(){return h})),n.d(t,"isDescribeLoaded",(function(){return S})),n.d(t,"describeSelector",(function(){return E})),n.d(t,"featureLoadingSelector",(function(){return v})),n.d(t,"isSyncWmsActive",(function(){return O})),n.d(t,"isFilterActive",(function(){return j}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return Object(r.get)(e,"query.filterObj.featureTypeName")},s=function(e){return function(t){return Object(r.get)(t,'query.featureTypes["'.concat(e,'"]'))}},u=function(e,t){return Object(r.get)(s(t)(e),"original")},l=function(e){return e&&e.query&&e.query.searchUrl},p=function(e){return e&&e.query&&e.query.url},f=function(e){return e&&e.query&&e.query.filterObj},d=function(e){return Object(r.get)(s(c(e))(e),"attributes")},m=function(e){return Object(r.get)(e,"query.typeName")},b=function(e){return Object(r.get)(e,"query.result.features")},y=function(e){var t=Object(r.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!Object(r.isNil)(e.geometry)}))})},g=function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return Object(r.head)(n.filter((function(e){return e.id===t})))},h={startIndex:function(e){return Object(r.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return Object(r.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return Object(r.get)(e,"query.result.features.length")},totalFeatures:function(e){return Object(r.get)(e,"query.result.totalFeatures")}},S=function(e,t){var n=s(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},E=function(e){return u(e,c(e))},v=function(e){return Object(r.get)(e,"query.featureLoading")},O=function(e){return Object(r.get)(e,"query.syncWmsFilter",!1)},j=function(e){var t=Object(r.get)(e,"query.filterObj.crossLayerFilter"),n=Object(r.get)(e,"query.filterObj.spatialField"),o=Object(r.get)(e,"query.filterObj.filterFields");return!!(o&&Object(r.head)(o)||n&&(n.method&&n.operation&&n.geometry||Object(r.isArray)(n)&&Object(r.findIndex)(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},"./MapStore2/web/client/selectors/queryform.js":function(e,t,n){"use strict";n.r(t),n.d(t,"crossLayerFilterSelector",(function(){return f})),n.d(t,"availableCrossLayerFilterLayersSelector",(function(){return d})),n.d(t,"spatialFieldGeomSelector",(function(){return m})),n.d(t,"spatialFieldSelector",(function(){return b})),n.d(t,"attributePanelExpandedSelector",(function(){return y})),n.d(t,"spatialPanelExpandedSelector",(function(){return g})),n.d(t,"crossLayerExpandedSelector",(function(){return h})),n.d(t,"queryFormUiStateSelector",(function(){return S})),n.d(t,"storedFilterSelector",(function(){return E})),n.d(t,"appliedFilterSelector",(function(){return v})),n.d(t,"spatialFieldMethodSelector",(function(){return O})),n.d(t,"maxFeaturesWPSSelector",(function(){return j})),n.d(t,"spatialFieldGeomTypeSelector",(function(){return A})),n.d(t,"spatialFieldGeomProjSelector",(function(){return w})),n.d(t,"spatialFieldGeomCoordSelector",(function(){return T}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),i=n("./MapStore2/web/client/selectors/layers.js"),a=n("./MapStore2/web/client/selectors/locale.js"),c=n("./MapStore2/web/client/utils/LocaleUtils.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=function(e){return Object(r.get)(e,"queryform.crossLayerFilter")},d=function(e){return(Object(i.layersSelector)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.group;return"wms"===t&&"background"!==n})).map((function(t){var n=t.title;return u(u({},p(t,["title"])),{},{title:Object(c.getLocalizedProp)(Object(a.currentLocaleSelector)(e),n)})}))},m=function(e){return Object(r.get)(e,"queryform.spatialField.geometry")},b=function(e){return Object(r.get)(e,"queryform.spatialField")},y=function(e){return Object(r.get)(e,"queryform.attributePanelExpanded")},g=function(e){return Object(r.get)(e,"queryform.spatialPanelExpanded")},h=function(e){return Object(r.get)(e,"queryform.crossLayerExpanded")},S=Object(o.createSelector)(y,g,h,(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}})),E=function(e){return Object(r.get)(e,"layerFilter.persisted")},v=function(e){return Object(r.get)(e,"layerFilter.applied")},O=function(e){return Object(r.get)(e,"queryform.spatialField.method")},j=function(e){return Object(r.get)(e,"queryform.maxFeaturesWPS")},A=function(e){return m(e)&&m(e).type||"Polygon"},w=function(e){return m(e)&&m(e).projection||"EPSG =4326"},T=function(e){return m(e)&&m(e).coordinates||[]}},"./MapStore2/web/client/selectors/router.js":function(e,t,n){"use strict";n.r(t),n.d(t,"pathnameSelector",(function(){return o})),n.d(t,"searchSelector",(function(){return i}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=function(e){return Object(r.get)(e,"router.location.pathname")||"/"},i=function(e){return Object(r.get)(e,"router.location.search")||""}},"./MapStore2/web/client/utils/AgentUtils.js":function(e,t){var n={getWindowSize:function(){return{maxWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onfontready:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=r,c=o,s=i;if(Object({NODE_ENV:"production"}).isTest){var u={},l=function(e){return u[e]=u[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},u[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){l(e).rootCount+=t},iframesCreated:function(e){l(e).iframesCreated=!0},timedOut:function(e){l(e).timedOut=!0},fontLoaded:function(e){l(e).fontLoaded=!0},requiredExtraTimeout:function(e){l(e).requiredExtraTimeout=!0},getTests:function(){return u}}}n.timeoutAfter&&setTimeout((function(){a&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,n.onTimeout&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(s),n.onTimeout()))}),n.timeoutAfter),c=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(a),a=0,Object({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(s),t())},Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,1),Object({NODE_ENV:"production"}).isLegacy||c(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),Object({NODE_ENV:"production"}).isLegacy&&c(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+i+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),a&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(s),Object({NODE_ENV:"production"}).isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=c,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=c),Object({NODE_ENV:"production"}).isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",c):i.contentWindow.onresize=c,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",c):i.contentWindow.onresize=c),Object({NODE_ENV:"production"}).isTest||(i=setTimeout(c)),Object({NODE_ENV:"production"}).isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(s),c())}))))},loadFont:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){n.onfontready(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:o,sampleText:t.sampleText,generic:t.generic})}))}};e.exports=n},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./MapStore2/node_modules/lodash/lodash.js"),u=s.get,l=s.findIndex,p=s.isNil,f=s.fill,d=s.isArray,m=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),b=m.getFeatureTypeProperties,y=m.isGeometryType,g=m.isValid,h=m.isValidValueForPropertyName,S=m.findGeometryProperty,E=m.getPropertyDesciptor,v=function(e,t){return"geometry"===e?function(e){return u(S(e),"name")}(t):e},O=function(e,t,n){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return l(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===r?r:r*n+e-t[r]},j={id:"empty_row",get:function(){}},A=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return a(a({},e),{},c({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return a(a({},e),{},c({},n,t[n]))}),{});return a(a(a({},e),r),{},{properties:a(a({},e&&e.properties||{}),n)})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=l(e,t);return o>=0?e.map((function(e,t){return t===o?n:e})):[].concat(r(e),[n])},T=function(e){return(b(e)||[]).filter((function(e){return!y(e)}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},M=function(e,t){return t.filter((function(t,n){return n!==e}))},P=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},x=function(e,t,n,r){for(var o,i,a=e;a<=t&&void 0===o;a++)-1===O(a*r,n,r)&&(o=a);for(var c=t;c>=e&&void 0===i;c--)-1===O(c*r,n,r)&&(i=c);return[o,i].filter((function(e){return void 0!==e}))};e.exports={getAttributeFields:T,featureTypeToGridColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,i=n.sortable,a=void 0===i||i,c=n.resizable,s=void 0===c||c,u=n.filterable,l=void 0===u||u,p=n.defaultSize,f=void 0===p?200:p,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=d.getEditor,b=void 0===m?function(){}:m,y=d.getFilterRenderer,g=void 0===y?function(){}:y,h=d.getFormatter,S=void 0===h?function(){}:h;return T(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:a,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:s,editable:o,filterable:l,editor:b(e),formatter:S(e),filterRenderer:g(e,e.name)}}))},getRow:function(e,t){return t[e]},getRowVirtual:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[O(e,n,r)]||a({},j)},getToolColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=S(n);return e.map((function(e){return a(a({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return a(a({},o),{},c({},i,(function(o,a){return e.events[i](t(a.rowIdx),a,n,r)})))}),{})},"geometry"===e.key&&i?{filterRenderer:o(a(a({},i),{},{localType:"geometry"}),i.name),filterable:!0,geometryPropName:i.name}:{})}))},getGridEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,s){return a(a({},i),{},c({},s,(function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e[s].apply(e,a.concat([t,n,r,o]))})))}),{})},isProperty:function(e,t){return!!E(e,t)},isValidValueForPropertyName:function(e,t,n){return h(e,v(t,n),n)},getDefaultFeatureProjection:function(){return"EPSG:4326"},toChangesMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return d(e)?e.reduce((function(e,t){return a(a({},e),{},c({},t.id,a(a({},e[t.id]),t.updated)))}),{}):{}},createNewAndEditingFilter:function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},hasValidNewFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return g(e,t)})).reduce((function(e,t){return t&&e}),!0)},applyAllChanges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(e,t[e.id]||{})},applyChanges:A,gridUpdateToQueryUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,n=e.operator,r=e.value,o=e.type,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(a({},i),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===o?i.filterFields:p(r)?(i.filterFields||[]).filter((function(e){return e.attribute!==t})):w(i.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:o,groupId:1,operator:n,value:r}),spatialField:"geometry"===o?r:i.spatialField})},toPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,i=e.totalFeatures,a=void 0===i?0:i,c=e.resultSize;return{page:Math.ceil(n/o),resultSize:c,size:o,total:a,maxPages:Math.ceil(a/o)-1}},getCurrentPaginationOptions:function(e,t,n){var r=e.startPage,o=e.endPage,i=x(r,o,t,n),a=i[1]-i[0]+1;return{startIndex:i[0]*n,maxFeatures:a*n}},updatePages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,r=t.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.pages,a=o.features,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.size,l=c.maxStoredPages,p=c.startIndex,d=x(r,n,i,s),m=d[1]-d[0]+1,b=u(e,"features",[]);b.length!==m*s&&(b=b.concat(f(Array(m*s-b.length>0?m*s-b.length:b.length),!1)));var y=i,g=a,h=y.length+m-Math.max(l,n-r+1);if(h>0)for(var S=r*s,E=n*s,v=S+(E-S)/2,O=0;O<h;O++){var j=_(v,i,S,E),A=j*s;y=M(j,y),g=P(a,A,s)}for(var w=[],T=0;T<m;T++)w.push(p+s*T);return{pages:y.concat(w),features:g.concat(b)}},getRowIdx:O,getPagesToLoad:x}},"./js/epics/index.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/rxjs/Rx.js"),c=n("./MapStore2/web/client/actions/layers.js").SELECT_NODE,s=n("./MapStore2/web/client/actions/featuregrid.js").setPermission,u=n("./MapStore2/web/client/actions/styleeditor.js"),l=u.setEditPermissionStyleEditor,p=u.INIT_STYLE_SERVICE,f=n("./js/api/geonode.js"),d=f.layerEditPermissions,m=f.styleEditPermissions,b=f.updateThumb,y=n("./MapStore2/web/client/selectors/layers.js"),g=y.getSelectedLayer,h=y.layersSelector,S=n("./MapStore2/web/client/selectors/map.js").mapSelector,E=n("./MapStore2/web/client/utils/ConfigUtils.js"),v=n("./MapStore2/web/client/actions/maplayout.js").updateMapLayout,O=n("./MapStore2/web/client/actions/controls.js"),j=O.TOGGLE_CONTROL,A=O.SET_CONTROL_PROPERTY,w=O.SET_CONTROL_PROPERTIES,T=n("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,_=n("./MapStore2/web/client/actions/featuregrid.js"),M=_.SIZE_CHANGE,P=_.CLOSE_FEATURE_GRID,x=_.OPEN_FEATURE_GRID,R=n("./MapStore2/web/client/actions/mapInfo.js"),C=R.CLOSE_IDENTIFY,I=R.ERROR_FEATURE_INFO,D=R.TOGGLE_MAPINFO_STATE,L=R.LOAD_FEATURE_INFO,N=R.EXCEPTIONS_FEATURE_INFO,k=R.NO_QUERYABLE_LAYER,F=n("./MapStore2/web/client/actions/layers.js"),G=F.SHOW_SETTINGS,U=F.HIDE_SETTINGS,B=n("./MapStore2/web/client/actions/mapInfo.js").PURGE_MAPINFO_RESULTS,H=n("./MapStore2/web/client/selectors/mapInfo.js").isMapInfoOpen,z=n("./MapStore2/web/client/selectors/featuregrid.js"),Y=z.isFeatureGridOpen,V=z.getDockSize,W=n("./node_modules/lodash/lodash.js"),q=W.head,K=W.get,Q=n("./MapStore2/web/client/epics/maps.js").mapSaveMapResourceEpic,Z=n("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector;e.exports={mapSaveMapResourceEpic:Q,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(c).filter((function(e){return"layer"===e.nodeType&&!E.getConfigProp("disableCheckEditPermissions")})).switchMap((function(){var e=g(n()||{});return e?d(e).map((function(e){return s(e)})).startWith(s({canEdit:!1})).catch((function(){return a.Observable.empty()})):a.Observable.of(s({canEdit:!1}))}))},_setThumbnail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,r=n(),o=h(r),i=S(r),c="GEONODE:CREATE_MAP_THUMBNAIL"===t,s=c?K(i,"info.id"):o[o.length-1].name,u=c?"maps":"layers",l=i.size,p=l.width,f=l.height,d=i.bbox.bounds,m=d.maxx,y=d.minx,g=d.maxy,E={bbox:[y,m,d.miny,g],srid:i.bbox.crs,center:i.center,zoom:i.zoom,width:p,height:f,layers:o.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return b(u,s,E).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,n=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return a.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(p,c).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!E.getConfigProp("disableCheckEditPermissions")||!t&&!E.getConfigProp("disableCheckEditPermissions")})).switchMap((function(e){var t=g(n()||{});return t?m(t).map((function(e){var t=e.canEdit;return l(t)})).startWith(l(e.canEdit)).catch((function(){return a.Observable.empty()})):a.Observable.of(l(!1))}))},updateMapLayoutEpic:function(e,t){return e.ofType(T,M,k,w,P,x,C,D,L,N,j,A,G,U,I,B).switchMap((function(){var e=t.getState();if(K(e,"browser.mobile")){var n=o({},H(e)?{bottom:"50%"}:{bottom:void 0});return a.Observable.of(v({boundingMapRect:n}))}var r=E.getConfigProp("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===K(e,"mode")){var i={height:"calc(100% - "+r.bottom.sm+"px)"},c=o({},H(e)?{bottom:"50%"}:{bottom:void 0});return a.Observable.of(v(o(o({},i),{},{boundingMapRect:c})))}var s=K(e,"controls.drawer.resizedWidth"),u=q([K(e,"controls.queryPanel.enabled")&&{left:r.left.lg}||null,K(e,"controls.widgetBuilder.enabled")&&{left:r.left.md}||null,K(e,"layers.settings.expanded")&&{left:r.left.md}||null,K(e,"controls.drawer.enabled")&&{left:s||r.left.sm}||null].filter((function(e){return e})))||{left:0},l=q([K(e,"controls.details.enabled")&&{right:r.right.md}||null,K(e,"controls.annotations.enabled")&&{right:r.right.md}||null,K(e,"controls.metadataexplorer.enabled")&&{right:r.right.md}||null,K(e,"controls.measure.enabled")&&Z(e)&&{right:r.right.md}||null,K(e,"mapInfo.enabled")&&H(e)&&{right:r.right.md}||null].filter((function(e){return e})))||{right:0},p=100*V(e),f=Y(e)&&{bottom:p+"%",dockSize:p}||{bottom:r.bottom.sm},d=Y(e)&&{transform:"translate(0, -"+r.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+r.bottom.sm+"px)"},b=o(o(o({},f),u),l);return a.Observable.of(v(o(o(o(o(o(o({},u),l),f),d),m),{},{boundingMapRect:b})))}))}}},"./js/previewPlugins.js":function(e,t,n){var r=n("./node_modules/rxjs/Rx.js"),o=n("./js/epics/index.js"),i=o._setThumbnail,a=o.updateMapLayoutEpic;e.exports={plugins:{MapPlugin:n("./MapStore2/web/client/plugins/Map.jsx"),IdentifyPlugin:n("./MapStore2/web/client/plugins/Identify.jsx"),ToolbarPlugin:n("./MapStore2/web/client/plugins/Toolbar.jsx"),ZoomAllPlugin:n("./MapStore2/web/client/plugins/ZoomAll.jsx"),MapLoadingPlugin:n("./MapStore2/web/client/plugins/MapLoading.jsx"),OmniBarPlugin:n("./MapStore2/web/client/plugins/OmniBar.jsx"),BackgroundSelectorPlugin:n("./MapStore2/web/client/plugins/BackgroundSelector.jsx"),FullScreenPlugin:n("./MapStore2/web/client/plugins/FullScreen.jsx"),ZoomInPlugin:n("./MapStore2/web/client/plugins/ZoomIn.jsx"),ZoomOutPlugin:n("./MapStore2/web/client/plugins/ZoomOut.jsx"),ExpanderPlugin:n("./MapStore2/web/client/plugins/Expander.jsx"),BurgerMenuPlugin:n("./MapStore2/web/client/plugins/BurgerMenu.jsx"),ScaleBoxPlugin:n("./MapStore2/web/client/plugins/ScaleBox.jsx"),MapFooterPlugin:n("./MapStore2/web/client/plugins/MapFooter.jsx"),PrintPlugin:n("./MapStore2/web/client/plugins/Print.jsx"),TimelinePlugin:n("./MapStore2/web/client/plugins/Timeline.jsx"),PlaybackPlugin:n("./MapStore2/web/client/plugins/Playback.jsx"),AddReducersAndEpics:{reducers:{security:n("./MapStore2/web/client/reducers/security.js").default,maps:n("./MapStore2/web/client/reducers/maps.js").default,maplayout:n("./MapStore2/web/client/reducers/maplayout.js").default},epics:{_setThumbnail:i,updateMapLayoutEpic:a,zoomToVisibleAreaEpic:function(){return r.Observable.empty()}}}},requires:{ReactSwipe:n("./node_modules/react-swipeable-views/lib/index.js").default,SwipeHeader:n("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx")}}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-button-label {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    -webkit-transition: all 0.0s;\r\n    -moz-transition: all 0.0s;\r\n    -o-transition: all 0.0s;\r\n    transition: all 0.0s;\r\n\r\n}\r\n\r\n.msgapi .background-preview-button-label div {\r\n    overflow: hidden;\r\n    opacity: 0.8;\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n}\r\n\r\n.msgapi .background-preview-button-container {\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-button-frame {\r\n    overflow: hidden;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.msgapi .background-preview-button-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-button-container:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .background-preview-button-container:active {\r\n    opacity: 0.6;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-icon-frame {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi .background-preview-icon-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal {\r\n    cursor: pointer;\r\n    float: left;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\r\n    cursor: not-allowed;\r\n    float: left;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical {\r\n    cursor: pointer;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    margin: 0 !important;\r\n    width: 40px !important;\r\n    position:static !important;\r\n    border-radius: 0 !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.msgapi .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.msgapi #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-bottom: 35px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter {\r\n  opacity: 0.01;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\r\n  opacity: 1;\r\n  transition: opacity 500ms ease-in;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\r\n  opacity: 0.01;\r\n  transition: opacity 300ms ease-in;\r\n}\r\n\r\n.msgapi #navigationBar .toolbar-panel {\r\n    bottom: 80px !important;\r\n}\r\n\r\n.msgapi #identifyBar .mapToolbar {\r\n    top: auto !important;\r\n    bottom: 5px;\r\n    right: 212px !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])}}]);