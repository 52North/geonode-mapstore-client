webpackJsonp([2],Array(427).concat([function(t,e,n){"use strict";var i=n(98),r=n(2766),o=r._setThumbnail,a=r.updateMapLayoutEpic;t.exports={plugins:{MapPlugin:n(3042),IdentifyPlugin:n(3041),ToolbarPlugin:n(3050),ZoomAllPlugin:n(3051),MapLoadingPlugin:n(3044),OmniBarPlugin:n(3045),BackgroundSelectorPlugin:n(3037),FullScreenPlugin:n(3040),ZoomInPlugin:n(3052),ZoomOutPlugin:n(3053),ExpanderPlugin:n(3039),BurgerMenuPlugin:n(3038),ScaleBoxPlugin:n(3048),MapFooterPlugin:n(3043),PrintPlugin:n(3047),TimelinePlugin:n(3049),PlaybackPlugin:n(3046),AddReducersAndEpics:{reducers:{security:n(2746),maps:n(2742),currentMap:n(2738),maplayout:n(2741)},epics:{_setThumbnail:o,updateMapLayoutEpic:a,zoomToVisibleAreaEpic:function(){return i.Observable.empty()}}}},requires:{ReactSwipe:n(3096).default,SwipeHeader:n(3004)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Message:{displayName:"Message"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/I18N/Message.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(435),w=b.FormattedMessage,x=function(t){return function(e){return m(e,t)}}("Message")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){return this.context.intl?v.createElement(w,{id:this.props.msgId,values:this.props.msgParams}):v.createElement("span",null,this.props.msgId||"")}}]),e}(v.Component),a.propTypes={msgId:y.string.isRequired,msgParams:y.object},a.contextTypes={intl:y.object},s));t.exports=x}).call(this)}finally{}},function(t,e,n){t.exports=n(2893)},function(t,e,n){"use strict";function i(t){return{prev:null,next:null,data:t}}function r(t,e,n){var i;return null!==a?(i=a,a=a.cursor,i.prev=e,i.next=n,i.cursor=t.cursor):i={prev:e,next:n,cursor:t.cursor},t.cursor=i,i}function o(t){var e=t.cursor;t.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=a,a=e}var a=null,s=function(){this.cursor=null,this.head=null,this.tail=null};s.createItem=i,s.prototype.createItem=i,s.prototype.getSize=function(){for(var t=0,e=this.head;e;)t++,e=e.next;return t},s.prototype.fromArray=function(t){var e=null;this.head=null;for(var n=0;n<t.length;n++){var r=i(t[n]);null!==e?e.next=r:this.head=r,r.prev=e,e=r}return this.tail=e,this},s.prototype.toArray=function(){for(var t=this.head,e=[];t;)e.push(t.data),t=t.next;return e},s.prototype.toJSON=s.prototype.toArray,s.prototype.isEmpty=function(){return null===this.head},s.prototype.first=function(){return this.head&&this.head.data},s.prototype.last=function(){return this.tail&&this.tail.data},s.prototype.each=function(t,e){var n;void 0===e&&(e=this);for(var i=r(this,null,this.head);null!==i.next;)n=i.next,i.next=n.next,t.call(e,n.data,n,this);o(this)},s.prototype.eachRight=function(t,e){var n;void 0===e&&(e=this);for(var i=r(this,this.tail,null);null!==i.prev;)n=i.prev,i.prev=n.prev,t.call(e,n.data,n,this);o(this)},s.prototype.nextUntil=function(t,e,n){if(null!==t){var i;void 0===n&&(n=this);for(var a=r(this,null,t);null!==a.next&&(i=a.next,a.next=i.next,!e.call(n,i.data,i,this)););o(this)}},s.prototype.prevUntil=function(t,e,n){if(null!==t){var i;void 0===n&&(n=this);for(var a=r(this,t,null);null!==a.prev&&(i=a.prev,a.prev=i.prev,!e.call(n,i.data,i,this)););o(this)}},s.prototype.some=function(t,e){var n=this.head;for(void 0===e&&(e=this);null!==n;){if(t.call(e,n.data,n,this))return!0;n=n.next}return!1},s.prototype.map=function(t,e){var n=[],i=this.head;for(void 0===e&&(e=this);null!==i;)n.push(t.call(e,i.data,i,this)),i=i.next;return n},s.prototype.clear=function(){this.head=null,this.tail=null},s.prototype.copy=function(){for(var t=new s,e=this.head;null!==e;)t.insert(i(e.data)),e=e.next;return t},s.prototype.updateCursors=function(t,e,n,i){for(var r=this.cursor;null!==r;)r.prev===t&&(r.prev=e),r.next===n&&(r.next=i),r=r.cursor},s.prototype.prepend=function(t){return this.updateCursors(null,t,this.head,t),null!==this.head?(this.head.prev=t,t.next=this.head):this.tail=t,this.head=t,this},s.prototype.prependData=function(t){return this.prepend(i(t))},s.prototype.append=function(t){return this.updateCursors(this.tail,t,null,t),null!==this.tail?(this.tail.next=t,t.prev=this.tail):this.head=t,this.tail=t,this},s.prototype.appendData=function(t){return this.append(i(t))},s.prototype.insert=function(t,e){if(void 0!==e&&null!==e)if(this.updateCursors(e.prev,t,e,t),null===e.prev){if(this.head!==e)throw new Error("before doesn't belong to list");this.head=t,e.prev=t,t.next=e,this.updateCursors(null,t)}else e.prev.next=t,t.prev=e.prev,e.prev=t,t.next=e;else this.append(t)},s.prototype.insertData=function(t,e){this.insert(i(t),e)},s.prototype.remove=function(t){if(this.updateCursors(t,t.prev,t,t.next),null!==t.prev)t.prev.next=t.next;else{if(this.head!==t)throw new Error("item doesn't belong to list");this.head=t.next}if(null!==t.next)t.next.prev=t.prev;else{if(this.tail!==t)throw new Error("item doesn't belong to list");this.tail=t.prev}return t.prev=null,t.next=null,t},s.prototype.appendList=function(t){null!==t.head&&(this.updateCursors(this.tail,t.tail,null,t.head),null!==this.tail?(this.tail.next=t.head,t.head.prev=this.tail):this.head=t.head,this.tail=t.tail,t.head=null,t.tail=null)},s.prototype.insertList=function(t,e){if(void 0!==e&&null!==e){if(null===t.head)return;this.updateCursors(e.prev,t.tail,e,t.head),null!==e.prev?(e.prev.next=t.head,t.head.prev=e.prev):this.head=t.head,e.prev=t.tail,t.tail.next=e,t.head=null,t.tail=null}else this.appendList(t)},s.prototype.replace=function(t,e){"head"in e?this.insertList(e,t):this.insert(e,t),this.remove(t)},t.exports=s},,,,,function(t,e,n){try{(function(){"use strict";var e=n(2262);t.exports=e(n(854).OverlayTrigger)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),o=n(854),a=o.ButtonGroup,s=n(3032),l=n(2259);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.buttons,o=void 0===n?[]:n,u=t.btnGroupProps,c=void 0===u?{}:u,h=t.btnDefaultProps,p=void 0===h?{}:h,d=t.transitionProps,f=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,g=function(){return o.map(function(t,n){var o=t.visible,a=void 0===o||o,l=t.Element,u=e(t,["visible","Element"]);return a?l&&r.createElement(l,i({key:u.key||n},u))||r.createElement(s,i({key:u.key||n},p,u)):null})};return r.createElement(a,c,f?r.createElement(l,f,g()):g())}}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0);t.exports=function(t){var n=t.id,r=t.children,o=t.header,a=t.footer,s=t.columns,l=t.height,u=t.style,c=void 0===u?{}:u,h=t.className,p=t.bodyClassName,d=void 0===p?"ms2-border-layout-body":p;return i.createElement("div",{id:n,className:h,style:e({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},c)},o,i.createElement("div",{className:d,style:{display:"flex",flex:1,overflowY:"auto"}},i.createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},l?i.createElement("div",{style:{height:l}},r):r),l?i.createElement("div",{style:{height:l}},s):s),a)}}).call(this)}finally{}},,,,,function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=n(0),r=n(428),o=r.branch,a=n(854),s=a.Tooltip,l=n(2165),u=n(2158),c=n(14),h=c.omit;t.exports=o(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tooltip,n=t.tooltipId;return e||n},function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.tooltip,o=n.tooltipId,a=n.tooltipPosition,c=void 0===a?"top":a,h=n.tooltipTrigger,p=n.keyProp,d=n.idDropDown,f=e(n,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown"]);return i.createElement(l,{trigger:h,id:d,key:p,placement:c,overlay:i.createElement(s,{id:"tooltip-"+{keyProp:p}},o?i.createElement(u,{msgId:o}):r)},i.createElement(t,f))}},function(t){return function(e){return i.createElement(t,h(e,["tooltipId","tooltip"]),e.children)}})}).call(this)}finally{}},function(t,e,n){"use strict";function i(){return{type:Dt}}function r(){return{type:Rt}}function o(t,e){return{type:zt,features:t,pages:e}}function a(t){return{type:jt,filterObj:t}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Mt,options:t}}function l(){return{type:kt}}function u(){return{type:Ot}}function c(t,e){return{type:K,features:t,append:e}}function h(t){return{type:X,options:t}}function p(t){return{type:wt,features:t}}function d(){return{type:at}}function f(){return{type:st}}function g(t){return{type:Q,features:t}}function m(){return{type:lt}}function y(t){return{type:ut,features:t}}function v(){return{type:J}}function b(t){return{type:et,features:t}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.multiselect;return{type:$,multiselect:void 0!==e&&e}}function x(t){return{type:gt,features:t}}function _(t){return{type:xt,dockSize:t}}function E(t,e){return{type:mt,sortBy:t,sortOrder:e}}function S(t,e){return{type:bt,page:t,size:e}}function C(t){return{type:yt,id:t}}function T(t){return{type:vt,update:t}}function k(t,e){return{type:_t,tool:t,value:e}}function O(t,e,n){return{type:Et,name:t,key:e,value:n}}function L(){return{type:tt,mode:Ft.EDIT}}function I(){return{type:tt,mode:Ft.VIEW}}function A(t,e){return{type:nt,features:t,updated:e}}function P(t){return{type:it,features:t}}function M(){return{type:rt}}function N(){return{type:ct}}function D(){return{type:ft}}function R(){return{type:dt}}function F(){return{type:ot}}function G(){return{type:ht}}function j(){return{type:pt}}function z(){return{type:St}}function U(){return{type:Tt}}function B(){return{type:Ct}}function H(t){return{type:It,disabled:t}}function Y(t){return{type:Lt,permission:t}}function V(){return{type:At}}function W(){return{type:Pt}}function q(){return{type:Gt}}function Z(t,e){return{type:Nt,size:t,dockProps:e}}var X="FEATUREGRID:SET_UP",K="FEATUREGRID:SELECT_FEATURES",Q="FEATUREGRID:DESELECT_FEATURES",J="FEATUREGRID:CLEAR_SELECTION",$="FEATUREGRID:SET_SELECTION_OPTIONS",tt="FEATUREGRID:TOGGLE_MODE",et="FEATUREGRID:TOGGLE_FEATURES_SELECTION",nt="FEATUREGRID:FEATURES_MODIFIED",it="FEATUREGRID:NEW_FEATURE",rt="FEATUREGRID:SAVE_CHANGES",ot="FEATUREGRID:SAVING",at="FEATUREGRID:START_EDITING_FEATURE",st="FEATUREGRID:START_DRAWING_FEATURE",lt="FEATUREGRID:DELETE_GEOMETRY",ut="FEATUREGRID:DELETE_GEOMETRY_FEATURE",ct="FEATUREGRID:SAVE_SUCCESS",ht="FEATUREGRID:CLEAR_CHANGES",pt="FEATUREGRID:SAVE_ERROR",dt="FEATUREGRID:DELETE_SELECTED_FEATURES",ft="FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM",gt="SET_FEATURES",mt="FEATUREGRID:SORT_BY",yt="FEATUREGRID:SET_LAYER",vt="QUERY:UPDATE_FILTER",bt="FEATUREGRID:CHANGE_PAGE",wt="FEATUREGRID:GEOMETRY_CHANGED",xt="DOCK_SIZE_FEATURES",_t="FEATUREGRID:TOGGLE_TOOL",Et="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",St="ASK_CLOSE_FEATURE_GRID_CONFIRM",Ct="FEATUREGRID:OPEN_GRID",Tt="FEATUREGRID:CLOSE_GRID",kt="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",Ot="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",Lt="FEATUREGRID:SET_PERMISSION",It="FEATUREGRID:DISABLE_TOOLBAR",At="FEATUREGRID:ADVANCED_SEARCH",Pt="FEATUREGRID:ZOOM_ALL",Mt="FEATUREGRID:INIT_PLUGIN",Nt="FEATUREGRID:SIZE_CHANGE",Dt="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",Rt="FEATUREGRID:HIDE_SYNC_POPOVER",Ft={EDIT:"EDIT",VIEW:"VIEW"},Gt="FEATUREGRID:START_SYNC_WMS",jt="STORE_ADVANCED_SEARCH_FILTER",zt="FEATUREGRID:QUERY_RESULT",Ut=function(t){return{type:"LOAD_MORE_FEATURES",pages:t}},Bt=function(t){return{type:"FEATUREGRID:SET_TIME_SYNC",value:t}};t.exports={SELECT_FEATURES:K,DESELECT_FEATURES:Q,CLEAR_SELECTION:J,TOGGLE_FEATURES_SELECTION:et,SET_SELECTION_OPTIONS:$,SET_FEATURES:gt,FEATURES_MODIFIED:nt,CREATE_NEW_FEATURE:it,SAVE_CHANGES:rt,CLEAR_CHANGES:ht,SAVE_SUCCESS:ct,SAVE_ERROR:pt,DELETE_SELECTED_FEATURES_CONFIRM:ft,DELETE_SELECTED_FEATURES:dt,DOCK_SIZE_FEATURES:xt,SORT_BY:mt,CHANGE_PAGE:bt,SET_LAYER:yt,TOGGLE_TOOL:_t,CUSTOMIZE_ATTRIBUTE:Et,TOGGLE_MODE:tt,MODES:Ft,SAVING:ot,SET_PERMISSION:Lt,setPermission:Y,START_EDITING_FEATURE:at,startEditingFeature:d,START_DRAWING_FEATURE:st,startDrawingFeature:f,GEOMETRY_CHANGED:wt,geometryChanged:p,DELETE_GEOMETRY:lt,deleteGeometry:m,DELETE_GEOMETRY_FEATURE:ut,deleteGeometryFeature:y,CLEAR_CHANGES_CONFIRMED:kt,clearChangeConfirmed:l,CLOSE_FEATURE_GRID:Tt,closeFeatureGrid:U,OPEN_FEATURE_GRID:Ct,openFeatureGrid:B,CLOSE_FEATURE_GRID_CONFIRM:St,closeFeatureGridConfirm:z,FEATURE_GRID_CLOSE_CONFIRMED:Ot,closeFeatureGridConfirmed:u,SET_UP:X,setUp:h,DISABLE_TOOLBAR:It,disableToolbar:H,OPEN_ADVANCED_SEARCH:At,openAdvancedSearch:V,ZOOM_ALL:Pt,zoomAll:W,UPDATE_FILTER:vt,updateFilter:T,SIZE_CHANGE:Nt,sizeChange:Z,setLayer:C,selectFeatures:c,deselectFeatures:g,setSelectionOptions:w,clearSelection:v,toggleSelection:b,setFeatures:x,featureModified:A,createNewFeatures:P,saveChanges:M,featureSaving:F,clearChanges:G,saveSuccess:N,saveError:j,deleteFeaturesConfirm:D,deleteFeatures:R,dockSizeFeatures:_,sort:E,changePage:S,toggleTool:k,customizeAttribute:O,toggleEditMode:L,toggleViewMode:I,initPlugin:s,INIT_PLUGIN:Mt,hideSyncPopover:r,HIDE_SYNC_POPOVER:Rt,toggleShowAgain:i,TOGGLE_SHOW_AGAIN_FLAG:Dt,START_SYNC_WMS:Gt,startSyncWMS:q,STOP_SYNC_WMS:"FEATUREGRID:STOP_SYNC_WMS",storeAdvancedSearchFilter:a,STORE_ADVANCED_SEARCH_FILTER:jt,moreFeatures:Ut,LOAD_MORE_FEATURES:"LOAD_MORE_FEATURES",fatureGridQueryResult:o,GRID_QUERY_RESULT:zt,setTimeSync:Bt,SET_TIME_SYNC:"FEATUREGRID:SET_TIME_SYNC"}},function(t,e,n){"use strict";t.exports=window.Cesium},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(14),a=o.head,s=n(858),l=s.mapSelector,u=n(196),c=u.parseLayoutValue,h=function(t){return t.maplayout&&t.maplayout.layout||{}},p=function(t){return t.maplayout&&t.maplayout.boundingMapRect||{}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h(t);return n&&Object.keys(n).filter(function(t){return e[t]}).reduce(function(t,e){return r({},t,i({},e,n[e]))},{})||{}},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=h(t);return!!a(e.filter(function(t){return n[t.key]}).map(function(t){return"not"===t.type?n[t.key]!==t.value&&n[t.key]:n[t.key]===t.value}))},g=function(t){return f(t,[{key:"right",value:658}])},m=function(t){return f(t,[{key:"bottom",value:30,type:"not"}])},y=function(t){var e=l(t),n=p(t);return n&&e&&e.size&&{left:c(n.left,e.size.width),bottom:c(n.bottom,e.size.height),right:c(n.right,e.size.width),top:c(n.top,e.size.height)}};t.exports={mapLayoutSelector:h,mapLayoutValuesSelector:d,checkConditionsSelector:f,rightPanelOpenSelector:g,bottomPanelOpenSelector:m,boundingMapRectSelector:p,mapPaddingSelector:y}},,,function(t,e,n){"use strict";var i=function(t){return t&&t.maptype&&t.maptype.mapType||"leaflet"},r=function(t){return"cesium"===i(t)},o=function(t){return"leaflet"===i(t)},a=function(t){return"openlayers"===i(t)};t.exports={mapTypeSelector:i,isCesium:r,isLeaflet:o,isOpenlayers:a}},function(t,e,n){"use strict";var i=function(t,e,n,i){return{type:"TIMELINE:SELECT_TIME",time:t,group:e,what:n,item:i}},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"TIMELINE:RANGE_CHANGE",start:t.start,end:t.end}},o=function(t,e,n,i){return{type:"TIMELINE:RANGE_DATA_LOADED",layerId:t,range:e,histogram:n,domain:i}},a=function(t,e){return{type:"TIMELINE:LOADING",layerId:t,loading:e}},s=function(t){return{type:"TIMELINE:SELECT_LAYER",layerId:t}},l=function(t){return{type:"TIMELINE:ENABLE_OFFSET",enabled:t}},u=function(t){return{type:"TIMELINE:SET_COLLAPSED",collapsed:t}},c=function(t){return{type:"TIMELINE:SET_MAP_SYNC",mapSync:t}};t.exports={RANGE_CHANGED:"TIMELINE:RANGE_CHANGE",onRangeChanged:r,SELECT_TIME:"TIMELINE:SELECT_TIME",selectTime:i,RANGE_DATA_LOADED:"TIMELINE:RANGE_DATA_LOADED",rangeDataLoaded:o,LOADING:"TIMELINE:LOADING",timeDataLoading:a,SELECT_LAYER:"TIMELINE:SELECT_LAYER",selectLayer:s,ENABLE_OFFSET:"TIMELINE:ENABLE_OFFSET",enableOffset:l,SET_COLLAPSED:"TIMELINE:SET_COLLAPSED",setCollapsed:u,SET_MAP_SYNC:"TIMELINE:SET_MAP_SYNC",setMapSync:c}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),o=r.isNil,a=n(431),s=a.set,l=n(2216),u=l.colorToRgbaStr,c=n(437),h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments[1].filter(function(e){return!o(t[e])}).length>0},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return h(t,e)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return h(t,e)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign"];return h(t,e)},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return h(t,e)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return h(t,e)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return h(t,e)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(t)?"Marker":y(t)?"Symbol":f(t)?"Text":g(t)||"Circle Style"===t.title?"Circle":d(t)?"Polygon":p(t)?"Polyline":""},b={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},w=function(t,e){return b[t]&&b[t][e]},x=function(t,e,n){if(!(t&&e&&n))throw new Error("specify all the params: functionName, func, type");b[t]={func:e,type:n}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return s("a",e,t)},E=function(t){var e=0,n=void 0,i=void 0;if(0===t.length)return e;for(n=0;n<t.length;n++)i=t.charCodeAt(n),e=(e<<5)-e+i,e|=0;return e},S={},C=function(t,e){if(!t||!e)throw new Error("specify all the params: sha, style");S[t]=e},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S=t},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return S[t]&&S[t][e]},O=function(){return S},L=function(t){if(t)return E(JSON.stringify(t));throw new Error("hashAndStringify: specify mandatory params: style")},I=function(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return y(t)&&t.symbolUrl?c.get(e,{"Content-Type":"image/svg+xml;charset=utf-8"}).then(function(e){var n=window.URL||window.webkitURL||window,r=new DOMParser,a=r.parseFromString(e.data,"image/svg+xml"),s=a.firstElementChild;s.setAttribute("fill",t.fillColor||"#FFCC33"),s.setAttribute("fill-opacity",o(t.fillOpacity)?.2:t.fillOpacity),s.setAttribute("stroke",u(t.color||"#FFCC33",o(t.opacity)?1:t.opacity)),s.setAttribute("stroke-opacity",o(t.opacity)?1:t.opacity),s.setAttribute("stroke-width",t.weight||1),s.setAttribute("width",t.size||32),s.setAttribute("height",t.size||32),s.setAttribute("stroke-dasharray",t.dashArray||"none");var l=new Blob([I(s)],{type:"image/svg+xml;charset=utf-8"}),c=n.createObjectURL(l),h=document.createElement("canvas");h.width=t.size,h.height=t.size;var p=h.getContext("2d"),d=new Image;d.src=c;var f="",g=L(t);return d.onload=function(){try{p.drawImage(d,h.width/2-d.width/2,h.height/2-d.height/2),f=h.toDataURL("image/png"),h=null,C(g,{style:i({},t,{symbolUrlCustomized:c}),base64:f})}catch(t){return}},C(g,{style:i({},t,{symbolUrlCustomized:c}),svg:s,base64:f}),c}).catch(function(){return n(2253)}):new Promise(function(t){t(null)})},P=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return y(t)&&!k(L(t))?A(t,t.symbolUrl||t.symbolUrlCustomized).then(function(e){return e?i({},t,{symbolUrlCustomized:e}):k(L(t))}).catch(function(){return i({},t,{symbolUrlCustomized:n(2253)})}):new Promise(function(e){e(y(t)?k(L(t)):t)})})};t.exports={getGeometryFunction:w,SymbolsStyles:S,registerStyle:C,fetchStyle:k,hashCode:E,hashAndStringify:L,domNodeToString:I,createSvgUrl:A,registerGeometryFunctions:x,geometryFunctions:b,getStylerTitle:v,isAttrPresent:h,addOpacityToColor:_,isMarkerStyle:m,isSymbolStyle:y,isTextStyle:f,isCircleStyle:g,isStrokeStyle:p,isFillStyle:d,getSymbolsStyles:O,setSymbolsStyles:T,createStylesAsync:P}},function(t,e,n){try{(function(){"use strict";var e=n(2262);t.exports=e(n(3066).Portal)}).call(this)}finally{}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(4),h=i(c),p=n(0),d=i(p),f=n(10),g=i(f),m=n(12),y=i(m);n(3166),n(3162),n(3163),n(3164),n(3165),n(3167),n(3168),n(3169),n(3170),n(3171),n(3172),n(3173);var v=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.displayName="SpinKit",n}return s(e,t),u(e,[{key:"render",value:function(){var t,e=(0,g.default)((t={"sk-fade-in":!this.props.noFadeIn,"sk-spinner":""===this.props.overrideSpinnerClassName},r(t,this.props.overrideSpinnerClassName,!!this.props.overrideSpinnerClassName),r(t,this.props.className,!!this.props.className),t)),n=(0,y.default)({},this.props);delete n.spinnerName,delete n.noFadeIn,delete n.overrideSpinnerClassName,delete n.className;var i=void 0;switch(this.props.spinnerName){case"double-bounce":i=d.default.createElement("div",l({},n,{className:"sk-double-bounce "+e}),d.default.createElement("div",{className:"sk-double-bounce1"}),d.default.createElement("div",{className:"sk-double-bounce2"}));break;case"rotating-plane":i=d.default.createElement("div",l({},n,{className:e}),d.default.createElement("div",{className:"sk-rotating-plane"}));break;case"wave":i=d.default.createElement("div",l({},n,{className:"sk-wave "+e}),d.default.createElement("div",{className:"sk-rect1"}),d.default.createElement("div",{className:"sk-rect2"}),d.default.createElement("div",{className:"sk-rect3"}),d.default.createElement("div",{className:"sk-rect4"}),d.default.createElement("div",{className:"sk-rect5"}));break;case"wandering-cubes":i=d.default.createElement("div",l({},n,{className:"sk-wandering-cubes "+e}),d.default.createElement("div",{className:"sk-cube1"}),d.default.createElement("div",{className:"sk-cube2"}));break;case"pulse":i=d.default.createElement("div",l({},n,{className:e}),d.default.createElement("div",{className:"sk-pulse"}));break;case"chasing-dots":i=d.default.createElement("div",l({},n,{className:e}),d.default.createElement("div",{className:"sk-chasing-dots"},d.default.createElement("div",{className:"sk-dot1"}),d.default.createElement("div",{className:"sk-dot2"})));break;case"circle":i=d.default.createElement("div",l({},n,{className:"sk-circle-wrapper "+e}),d.default.createElement("div",{className:"sk-circle1 sk-circle"}),d.default.createElement("div",{className:"sk-circle2 sk-circle"}),d.default.createElement("div",{className:"sk-circle3 sk-circle"}),d.default.createElement("div",{className:"sk-circle4 sk-circle"}),d.default.createElement("div",{className:"sk-circle5 sk-circle"}),d.default.createElement("div",{className:"sk-circle6 sk-circle"}),d.default.createElement("div",{className:"sk-circle7 sk-circle"}),d.default.createElement("div",{className:"sk-circle8 sk-circle"}),d.default.createElement("div",{className:"sk-circle9 sk-circle"}),d.default.createElement("div",{className:"sk-circle10 sk-circle"}),d.default.createElement("div",{className:"sk-circle11 sk-circle"}),d.default.createElement("div",{className:"sk-circle12 sk-circle"}));break;case"cube-grid":i=d.default.createElement("div",l({},n,{className:"sk-cube-grid "+e}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}));break;case"folding-cube":i=d.default.createElement("div",l({},n,{className:"sk-folding-cube "+e}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}),d.default.createElement("div",{className:"sk-cube"}));break;case"wordpress":i=d.default.createElement("div",l({},n,{className:e}),d.default.createElement("div",{className:"sk-wordpress"},d.default.createElement("div",{className:"sk-inner-circle"})));break;case"three-bounce":default:i=d.default.createElement("div",l({},n,{className:"sk-three-bounce "+e}),d.default.createElement("div",{className:"sk-bounce1"}),d.default.createElement("div",{className:"sk-bounce2"}),d.default.createElement("div",{className:"sk-bounce3"}))}return i}}]),e}(d.default.Component);v.propTypes={spinnerName:h.default.string.isRequired,noFadeIn:h.default.bool,overrideSpinnerClassName:h.default.string,className:h.default.string},v.defaultProps={spinnerName:"sk-three-bounce",noFadeIn:!1,overrideSpinnerClassName:""},t.exports=v},,function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(14),l=s.get,u=s.head,c=n(195),h=c.createSelector,p=n(2461),d=p.createShallowSelector,f=n(80),g=f.reprojectBbox,m=n(866),y=m.timeIntervalToSequence,v=m.timeIntervalToIntervalSequence,b=m.analyzeIntervalInRange,w=m.isTimeDomainInterval,x=n(862),_=x.timeDataSelector,E=x.currentTimeSelector,S=x.offsetTimeSelector,C=x.layerDimensionRangeSelector,T=x.layersWithTimeDataSelector,k=x.layerDimensionDataSelectorCreator,O=n(858),L=O.mapSelector,I=O.projectionSelector,A=n(429),P=A.getLayerFromId,M=function(t){return l(t,"timeline.range")},N=function(t){return l(t,"timeline.rangeData")},D=function(t){return l(t,"timeline.settings.collapsed")},R=function(t){return l(t,"timeline.settings.autoSelect")},F=function(t){return l(t,"timeline.settings.mapSync")},G=function(t,e){
var n=t.split("/"),i=a(n,3),r=i[0],o=i[1],s=i[2];if(s&&"0"!==s){var l=b({start:r,end:o,duration:s},e),u=l.count,c=l.start,h=l.end;return u>50?[{start:r,end:o,duration:s,type:"range",content:u+" items"}]:y({start:c,end:h,duration:s}).map(function(t){return{start:new Date(t),end:new Date(t),type:"point"}})}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]},j=function(t,e){return(t||[]).reduce(function(t,n){return[].concat(r(t),r(G(n,e)))},[]).filter(function(t){return t&&t.start})},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(t.domain&&t.domain.values)return j(t.domain.values,e);if(t.histogram&&t.histogram.domain&&t.histogram.values){var n=t.histogram.domain.split("/"),i=a(n,3),s=i[0],l=i[1],u=i[2],c=Math.max.apply(Math,r(t.histogram.values)),h=v({start:s,end:l,duration:u});return t.histogram.values.map(function(t,e){return o({},h[e],{type:"range",itemType:"histogram",count:t,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '+100*t/c+'%"></div> <span class="histogram-count">'+t+"</span></div>"})})}return[]},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2];return t&&t.values||t&&t.domain&&!w(t.domain)?j(t.values||t.domain.split(","),e):n&&n.histogram?z(n,e):[]},B=d(_,M,N,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[].concat(r(Object.keys(t).map(function(i){return U(t[i],e,n[i]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o({content:" "},t,{group:i})})}).reduce(function(t,e){return[].concat(r(t),r(e))},[])))}),H=function(t){return l(t,"timeline.loading")},Y=function(t){return l(t,"timeline.selectedLayer")},V=function(t){return P(t,Y(t))},W=function(t){return V(t)&&V(t).name},q=function(t){return V(t)&&V(t).dimensions&&u(V(t).dimensions.filter(function(t){return"time"===t.name}))},Z=function(t){return l(q(t),"source.url")},X=h(E,S,function(t,e){return{start:t,end:e}}),K=function(t){return C(t,Y(t))},Q=T,J=h(Q,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0}),$=function(t){return!D(t)&&J(t)},tt=function(t){return function(e){var n=L(e)||{},r=n.bbox;if(!r)return{};var s=k(t,"time")(e),u=l(s,"source.version"),c=Object.keys(r.bounds).reduce(function(t,e){return o({},t,i({},e,parseFloat(r.bounds[e])))},{});if(!c||!F(e))return{};if("1.1"!==u){var h=k(t,"space")(e),p=l(h,"domain.CRS");if(!p||!c||!F(e))return{};var d=g(c,I(e),p),f=a(d,4),m=f[0],y=f[1],v=f[2],b=f[3];v<m&&"EPSG:4326"===p&&(v+=360);return{bbox:m+","+y+","+v+","+b,crs:p}}return{bbox:c.minx+","+c.miny+","+c.maxx+","+c.maxy+","+r.crs}}};t.exports={isVisible:$,isCollapsed:D,currentTimeRangeSelector:X,timelineLayersSelector:Q,hasLayers:J,itemsSelector:B,rangeSelector:M,isAutoSelectEnabled:R,loadingSelector:H,selectedLayerSelector:Y,selectedLayerData:V,selectedLayerTimeDimensionConfiguration:q,selectedLayerDataRangeSelector:K,selectedLayerName:W,selectedLayerUrl:Z,rangeDataSelector:N,isMapSync:F,multidimOptionsSelectorCreator:tt}},,function(t,e,n){"use strict";function i(t,e,n,i){return{type:S,data:e,reqId:t,requestParams:n,layerMetadata:i}}function r(t,e,n,i){return{type:C,error:e,reqId:t,requestParams:n,layerMetadata:i}}function o(t,e,n,i){return{type:T,reqId:t,exceptions:e,requestParams:n,layerMetadata:i}}function a(){return{type:R}}function s(){return{type:F}}function l(t,e){return{type:O,reqId:t,request:e}}function u(t,e,n){return{type:D,layer:t,request:e,metadata:n}}function c(t){return{type:k,enabled:t}}function h(){return{type:L}}function p(t){return{type:I,infoFormat:t}}function d(){return{type:A}}function f(){return{type:P}}function g(t){return{type:M,reverseGeocodeData:t.data}}function m(t){return function(e){E.reverseGeocode(t).then(function(t){e(g(t))}).catch(function(t){e(g(t))})}}function y(){return{type:N}}function v(){return{type:z}}function b(t){return{type:U,status:t}}function w(t,e){return{type:G,point:t,layer:e}}function x(t){return{type:j,enabled:t}}function _(t){return{type:B,index:t}}var E=n(2602),S="LOAD_FEATURE_INFO",C="ERROR_FEATURE_INFO",T="EXCEPTIONS_FEATURE_INFO",k="CHANGE_MAPINFO_STATE",O="NEW_MAPINFO_REQUEST",L="PURGE_MAPINFO_RESULTS",I="CHANGE_MAPINFO_FORMAT",A="SHOW_MAPINFO_MARKER",P="HIDE_MAPINFO_MARKER",M="SHOW_REVERSE_GEOCODE",N="HIDE_REVERSE_GEOCODE",D="GET_VECTOR_INFO",R="NO_QUERYABLE_LAYERS",F="CLEAR_WARNING",G="FEATURE_INFO_CLICK",j="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",z="TOGGLE_MAPINFO_STATE",U="UPDATE_CENTER_TO_MARKER",B="IDENTIFY:CHANGE_PAGE",H=function(){return{type:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI"}},Y=function(){return{type:"IDENTIFY:CLOSE_IDENTIFY"}},V=function(t){return{type:"IDENTIFY:CHANGE_FORMAT",format:t}},W=function(t){return{type:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",showCoordinateEditor:t}};t.exports={ERROR_FEATURE_INFO:C,EXCEPTIONS_FEATURE_INFO:T,LOAD_FEATURE_INFO:S,CHANGE_MAPINFO_STATE:k,NEW_MAPINFO_REQUEST:O,PURGE_MAPINFO_RESULTS:L,CHANGE_MAPINFO_FORMAT:I,SHOW_MAPINFO_MARKER:A,HIDE_MAPINFO_MARKER:P,SHOW_REVERSE_GEOCODE:M,HIDE_REVERSE_GEOCODE:N,GET_VECTOR_INFO:D,NO_QUERYABLE_LAYERS:R,CLEAR_WARNING:F,FEATURE_INFO_CLICK:G,TOGGLE_HIGHLIGHT_FEATURE:j,toggleHighlightFeature:x,CHANGE_PAGE:B,changePage:_,TOGGLE_MAPINFO_STATE:z,UPDATE_CENTER_TO_MARKER:U,CLOSE_IDENTIFY:"IDENTIFY:CLOSE_IDENTIFY",TOGGLE_EMPTY_MESSAGE_GFI:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",toggleEmptyMessageGFI:H,TOGGLE_SHOW_COORD_EDITOR:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",toggleShowCoordinateEditor:W,CHANGE_FORMAT:"IDENTIFY:CHANGE_FORMAT",changeFormat:V,closeIdentify:Y,exceptionsFeatureInfo:o,changeMapInfoState:c,newMapInfoRequest:l,purgeMapInfoResults:h,changeMapInfoFormat:p,showMapinfoMarker:d,hideMapinfoMarker:f,revGeocodeInfo:g,hideMapinfoRevGeocode:y,showMapinfoRevGeocode:m,getVectorInfo:u,noQueryableLayers:a,clearWarning:s,errorFeatureInfo:r,loadFeatureInfo:i,toggleMapInfoState:v,updateCenterToMarker:b,featureInfoClick:w}},function(t,e,n){"use strict";var i="PLAYBACK:START",r="PLAYBACK:STOP",o={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},a=function(){return{type:i}},s=function(){return{type:"PLAYBACK:PAUSE"}},l=function(){return{type:r}},u=function(t){return{type:"PLAYBACK:SET_FRAMES",frames:t}},c=function(t){return{type:"PLAYBACK:SET_CURRENT_FRAME",frame:t}},h=function(t){return{type:"PLAYBACK:APPEND_FRAMES",frames:t}},p=function(t){return{type:"PLAYBACK:FRAMES_LOADING",loading:t}},d=function(t){return{type:"PLAYBACK:SELECT_PLAYBACK_RANGE",range:t}},f=function(t,e){return{type:"PLAYBACK:SETTINGS_CHANGE",name:t,value:e}},g=function(){return{type:"PLAYBACK:TOGGLE_ANIMATION_MODE"}},m=function(t){return{type:"PLAYBACK:ANIMATION_STEP_MOVE",direction:t}},y=function(t){var e=t.next,n=t.previous;return{type:"PLAYBACK:UPDATE_METADATA",forTime:t.forTime,next:e,previous:n}};t.exports={play:a,stop:l,pause:s,setFrames:u,appendFrames:h,framesLoading:p,setCurrentFrame:c,selectPlaybackRange:d,changeSetting:f,toggleAnimationMode:g,animationStepMove:m,updateMetadata:y,PLAY:i,PAUSE:"PLAYBACK:PAUSE",STOP:r,STATUS:o,SET_FRAMES:"PLAYBACK:SET_FRAMES",APPEND_FRAMES:"PLAYBACK:APPEND_FRAMES",FRAMES_LOADING:"PLAYBACK:FRAMES_LOADING",SET_CURRENT_FRAME:"PLAYBACK:SET_CURRENT_FRAME",SELECT_PLAYBACK_RANGE:"PLAYBACK:SELECT_PLAYBACK_RANGE",CHANGE_SETTING:"PLAYBACK:SETTINGS_CHANGE",TOGGLE_ANIMATION_MODE:"PLAYBACK:TOGGLE_ANIMATION_MODE",ANIMATION_STEP_MOVE:"PLAYBACK:ANIMATION_STEP_MOVE",UPDATE_METADATA:"PLAYBACK:UPDATE_METADATA"}},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(43),o=i(r),a=n(2204),s=i(a);e.default=function(t){return s.default(o.default.findDOMNode(t))},t.exports=e.default},function(t,e,n){"use strict";t.exports=!("undefined"==typeof window||!window.document||!window.document.createElement)},,,,,function(t,e,n){"use strict";function i(t,e,n,i,r){return{type:d,features:t,owner:e,enableEdit:n,textChanged:i,circleChanged:r}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:g,features:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:m,features:t}}function a(){return{type:f}}function s(t,e,n,i,r,o){return{type:c,status:t,method:e,owner:n,features:i,options:r,style:o}}function l(t,e){return{type:h,geometry:t,owner:e}}function u(t){return{type:p,currentStyle:t}}var c="CHANGE_DRAWING_STATUS",h="DRAW:END_DRAWING",p="DRAW:SET_CURRENT_STYLE",d="DRAW:GEOMETRY_CHANGED",f="DRAW:DRAW_SUPPORT_STOPPED",g="DRAW:FEATURES_SELECTED",m="DRAW:DRAWING_FEATURES",y=function(t){return s("clean","",t,[],{})};t.exports={CHANGE_DRAWING_STATUS:c,changeDrawingStatus:s,drawSupportReset:y,END_DRAWING:h,endDrawing:l,SET_CURRENT_STYLE:p,setCurrentStyle:u,FEATURES_SELECTED:g,selectFeatures:r,DRAWING_FEATURE:m,drawingFeatures:o,DRAW_SUPPORT_STOPPED:f,drawStopped:a,GEOMETRY_CHANGED:d,geometryChanged:i}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),o=r.head,a=r.get,s=r.isObject,l=n(429),u=l.getLayerFromId,c=n(863),h=c.findGeometryProperty,p=n(864),d=p.currentLocaleSelector,f=n(196),g=f.isSimpleGeomType,m=n(2208),y=m.toChangesMap,v=n(862),b=v.layerDimensionSelectorCreator,w=u,x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.title||t.name},_=function(t){return a(t,"featuregrid.selectedLayer")},E=function(t){return a(t,"featuregrid.chartDisabled",!1)},S=function(t,e){return a(t,"featuregrid.attributes["+(e.name||e.attribute)+"]")},C=n(2226),T=C.attributesSelector,k=C.describeSelector,O=function(t){return t&&t.featuregrid&&t.featuregrid.select},L=function(t){return t&&t.featuregrid&&t.featuregrid.changes},I=function(t){return t&&t.featuregrid&&t.featuregrid.newFeatures},A=function(t){return o(O(t))},P=function(t){var e=k(t);if(e){var n=h(e);return n&&n.localType}},M=function(t){var e=A(t);if(e){var n=y(L(t));return!(!n[e.id]||null===n[e.id].geometry)||(!n[e.id]||null!==n[e.id].geometry)&&((!e._new||!o(I(t))||null!==o(I(t)).geometry)&&(!(!e._new||!o(I(t))||null===o(I(t)).geometry)||null!==e.geometry))}return!1},N=["Geometry","GeometryCollection"],D=function(t){return!o(N.filter(function(e){return P(t)===e}))},R=function(t){return L(t)&&L(t).length>0},F=function(t){return I(t)&&I(t).length>0},G=function(t){return t&&t.featuregrid&&t.featuregrid.filters},j=function(t){return a(w(t,_(t)),"params")};t.exports={isFeatureGridOpen:function(t){return t&&t.featuregrid&&t.featuregrid.open},getAttributeFilters:G,getAttributeFilter:function(t,e){return a(G(t),e)},selectedLayerIdSelector:_,getCustomAttributeSettings:S,getTitleSelector:function(t){var e=x(w(t,_(t)));return s(e)?e[d(t)]||e.default||"":e},getCustomizedAttributes:function(t){return(T(t)||[]).map(function(e){var n=S(t,e);return n?i({},e,n):e})},modeSelector:function(t){return t&&t.featuregrid&&t.featuregrid.mode},selectedFeaturesSelector:O,selectedFeatureSelector:A,selectedFeaturesCount:function(t){return(O(t)||[]).length},changesSelector:L,toChangesMap:y,changesMapSelector:function(t){return y(L(t))},hasChangesSelector:R,hasGeometrySelector:function(t){return M(t)},newFeaturesSelector:I,hasNewFeaturesSelector:F,showAgainSelector:function(t){return a(t,"featuregrid.showAgain",!1)},showTimeSync:function(t){if(a(t,"featuregrid.showTimeSync",!1)){var e=_(t);return b({id:e},"time")(t)}},timeSyncActive:function(t){return a(t,"featuregrid.timeSync",!1)},showPopoverSyncSelector:function(t){return a(t,"featuregrid.showPopoverSync",!0)},isSavingSelector:function(t){return t&&t.featuregrid&&t.featuregrid.saving},editingAllowedRolesSelector:function(t){return a(t,"featuregrid.editingAllowedRoles",["ADMIN"])},isSavedSelector:function(t){return t&&t.featuregrid&&t.featuregrid.saved},isDrawingSelector:function(t){return t&&t.featuregrid&&t.featuregrid.drawing},geomTypeSelectedFeatureSelector:P,chartDisabledSelector:E,hasNewFeaturesOrChanges:function(t){return F(t)||R(t)},isSimpleGeomSelector:function(t){return g(P(t))},canEditSelector:function(t){return t&&t.featuregrid&&t.featuregrid.canEdit},hasSupportedGeometry:D,getDockSize:function(t){return t.featuregrid&&t.featuregrid.dockSize},selectedLayerNameSelector:function(t){var e=w(t,_(t));return e&&e.name||""},queryOptionsSelector:function(t){var e=j(t);return{viewParams:e&&(e.VIEWPARAMS||e.viewParams||e.viewparams),cqlFilter:e&&(e.CQL_FILTER||e.cqlFilter||e.cql_filter)}}}},function(t,e,n){"use strict";var i=n(195),r=i.createSelector,o=function(t){return t&&t.playback&&t.playback.settings},a=function(t){return(o(t)||{}).frameDuration||5},s=function(t){return t&&t.playback&&t.playback.status},l=function(t){return t&&t.playback&&t.playback.frames},u=function(t){var e=l(t)||[];return e[e.length-1]},c=function(t){return t&&t.playback&&t.playback.framesLoading},h=function(t){return t&&t.playback&&t.playback.currentFrame},p=function(t){return t&&t.playback&&t.playback.playbackRange},d=function(t){return p(t)},f=function(t){return(l(t)||[])[h(t)]},g=function(t){return t&&t.playback&&t.playback.metadata},m=r(l,h,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];return{hasNext:t[e+1],hasPrevious:t[e-1]}});t.exports={playbackSettingsSelector:o,frameDurationSelector:a,statusSelector:s,loadingSelector:c,lastFrameSelector:u,framesSelector:l,currentFrameSelector:h,currentFrameValueSelector:f,playbackRangeSelector:d,playbackMetadataSelector:g,hasPrevNextAnimationSteps:m}},,,function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(854),r=i.Glyphicon,o=n(2244),a=n(2166),s=n(428),l=s.withState,u=n(2259),c=n(2261),h={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},d=function(t){var n=t.show,i=void 0!==n&&n,s=t.loading,l=t.onClose,d=void 0===l?function(){}:l,f=t.title,g=void 0===f?"":f,m=t.clickOutEnabled,y=void 0===m||m,v=t.showClose,b=void 0===v||v,w=t.disabledClose,x=void 0!==w&&w,_=t.showFullscreen,E=void 0!==_&&_,S=t.fullscreenType,C=void 0===S?"full":S,T=t.buttons,k=void 0===T?[]:T,O=t.size,L=void 0===O?"":O,I=t.bodyClassName,A=void 0===I?"":I,P=t.children,M=t.draggable,N=void 0!==M&&M,D=t.fullscreenState,R=t.onFullscreen,F=t.fade,G=void 0!==F&&F,j=t.fitContent,z=h[L]||"",U=E&&"expanded"===D&&p.className[C]||"",B=i?e.createElement("div",{className:"modal-fixed "+(N?"ms-draggable":"")},e.createElement(o,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:y?d:function(){},containerClassName:"ms-resizable-modal",draggable:N,modal:!0,className:"modal-dialog modal-content"+z+U+(j?" ms-fit-content":"")},e.createElement("span",{role:"header"},e.createElement("h4",{className:"modal-title"},e.createElement("div",{className:"ms-title"},g),E&&p.className[C]&&e.createElement(r,{className:"ms-header-btn",onClick:function(){return R("expanded"===D?"collapsed":"expanded")},glyph:p.glyph[D][C]}),b&&d&&e.createElement(r,{glyph:"1-close",className:"ms-header-btn",onClick:d,disabled:x}))),e.createElement("div",{role:"body",className:A},P),e.createElement("div",{role:"footer"},s?e.createElement(c,{style:{position:"absolute",left:0,bottom:0,margin:18}}):null,e.createElement(a,{buttons:k})))):null;return G?e.createElement(u,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},B):B};t.exports=l("fullscreenState","onFullscreen","collapsed")(d)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(428),r=i.branch,o=n(2478),a=function(t){var e=t.loading,n=t.isLoading;return e||n&&("function"==typeof n?n():!0===n)};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return r(t,function(){return function(){return e.createElement(i,n)}})}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(133),i=e.connect;t.exports=i(function(t){return{locale:t.locale&&t.locale.currentLocale,messages:t.locale&&t.locale.messages||[]}})(n(2158))}).call(this)}finally{}},function(t,e,n){"use strict";function i(t){return t&&t.ownerDocument||document}e.__esModule=!0,e.default=i,t.exports=e.default},,,,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(14),s=a.get,l=a.findIndex,u=a.isNil,c=a.fill,h=a.isArray,p=n(863),d=p.getFeatureTypeProperties,f=p.isGeometryType,g=p.isValid,m=p.isValidValueForPropertyName,y=p.findGeometryProperty,v=p.getPropertyDesciptor,b=function(t){return s(y(t),"name")},w=function(t,e){return"geometry"===t?b(e):t},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];return l(t,function(t){return t<=n&&n<t+e})},_=function(t,e,n){var i=x(e,n,t);return-1===i?i:i*n+t-e[i]},E={id:"empty_row",get:function(){}},S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];return e[_(t,n,i)]||o({},E)},C=function(t,e){return e[t]},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(t)?t.reduce(function(t,e){return o({},t,r({},e.id,o({},t[e.id],e.updated)))},{}):{}},k=function(t,e){var n=Object.keys(e).filter(function(t){return"geometry"!==t}).reduce(function(t,n){return o({},t,r({},n,e[n]))},{}),i=Object.keys(e).filter(function(t){return"geometry"===t}).reduce(function(t,n){return o({},t,r({},n,e[n]))},{});return o({},t,i,{properties:o({},t&&t.properties||{},n)})},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2],r=l(t,e);return r>=0?t.map(function(t,e){return e===r?n:t}):[].concat(i(t),[n])},L=function(t){return(d(t)||[]).filter(function(t){return!f(t)})},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],i=arguments[3];return e.map(function(e){return n<=e&&e<=i?0:Math.abs(e-t)}).reduce(function(t,e,n,i){return e>i[t]&&n||t},0)},A=function(t,e){return e.filter(function(e,n){return n!==t})},P=function(t,e,n){return t.filter(function(t,i){return i<e||i>=e+n})},M=function(t,e,n,i){for(var r=void 0,o=void 0,a=t;a<=e&&void 0===r;a++)-1===_(a*i,n,i)&&(r=a);for(var s=e;s>=t&&void 0===o;s--)-1===_(s*i,n,i)&&(o=s);return[r,o].filter(function(t){return void 0!==t})},N=function(t,e,n){var i=t.startPage,r=t.endPage,o=M(i,r,e,n),a=o[1]-o[0]+1;return{startIndex:o[0]*n,maxFeatures:a*n}};t.exports={getAttributeFields:L,featureTypeToGridColumns:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.editable,r=void 0!==i&&i,o=n.sortable,a=void 0===o||o,s=n.resizable,l=void 0===s||s,u=n.filterable,c=void 0===u||u,h=n.defaultSize,p=void 0===h?200:h,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=d.getEditor,g=void 0===f?function(){}:f,m=d.getFilterRenderer,y=void 0===m?function(){}:m,v=d.getFormatter,b=void 0===v?function(){}:v;return L(t).filter(function(t){return!(e[t.name]&&e[t.name].hide)}).map(function(t){return{sortable:a,key:t.name,width:e[t.name]&&e[t.name].width||p||void 0,name:t.name,resizable:l,editable:r,filterable:c,editor:g(t),formatter:b(t),filterRenderer:y(t,t.name)}})},getRow:C,getRowVirtual:S,getToolColumns:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments[2],i=arguments[3];return t.map(function(t){return o({},t,{events:t.events&&Object.keys(t.events).reduce(function(a,s){return o({},a,r({},s,function(r,o){return t.events[s](e(o.rowIdx),o,n,i)}))},{})})})},getGridEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],i=arguments[3],a=arguments[4];return Object.keys(t).reduce(function(s,l){return o({},s,r({},l,function(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return t[l].apply(t,o.concat([e,n,i,a]))}))},{})},isProperty:function(t,e){return!!v(t,e)},isValidValueForPropertyName:function(t,e,n){return m(t,w(e,n),n)},getDefaultFeatureProjection:function(){return"EPSG:4326"},toChangesMap:T,createNewAndEditingFilter:function(t,e,n){return function(i){return e.length>0?i._new:!t||t&&!!n[i.id]}},hasValidNewFeatures:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];return t.map(function(t){return g(t,e)}).reduce(function(t,e){return e&&t},!0)},applyAllChanges:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(t,e[t.id]||{})},applyChanges:k,gridUpdateToQueryUpdate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.attribute,n=t.operator,i=t.value,r=t.type,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({},a,{groupFields:[{id:1,logic:"AND",index:0}],filterFields:u(i)?(a.filterFields||[]).filter(function(t){return t.attribute!==e}):O(a.filterFields||[],{attribute:e},{attribute:e,rowId:Date.now(),type:r,groupId:1,operator:n,value:i})})},toPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.startIndex,n=void 0===e?0:e,i=t.maxFeatures,r=void 0===i?1:i,o=t.totalFeatures,a=void 0===o?0:o,s=t.resultSize;return{page:Math.ceil(n/r),resultSize:s,size:r,total:a,maxPages:Math.ceil(a/r)-1}},getCurrentPaginationOptions:N,updatePages:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.endPage,i=e.startPage,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.pages,a=r.features,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=l.size,h=l.maxStoredPages,p=l.startIndex,d=M(i,n,o,u),f=d[1]-d[0]+1,g=s(t,"features",[]);g.length!==f*u&&(g=g.concat(c(Array(f*u-g.length),!1)));var m=o,y=a,v=m.length+f-Math.max(h,n-i+1);if(v>0)for(var b=i*u,w=n*u,x=b+(w-b)/2,_=0;_<v;_++){var E=I(x,o,b,w),S=E*u;m=A(E,m),y=P(a,S,u)}for(var C=[],T=0;T<f;T++)C.push(p+u*T);return{pages:m.concat(C),features:y.concat(g)}},getRowIdx:_,getPagesToLoad:M}},,,,,,function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(857),o=n(14),a=o.isNil,s=o.trim,l=o.isString,u=o.isArray,c=o.castArray,h=o.head,p=o.last,d=o.find,f=o.isObject,g=n(2216),m=g.colorToRgbaStr,y=n(80),v=y.reproject,b=y.transformLineToArcs,w=n(2507),x=n(2181),_=x.isMarkerStyle,E=x.isTextStyle,S=x.isStrokeStyle,C=x.isFillStyle,T=x.isCircleStyle,k=x.isSymbolStyle,O=x.registerGeometryFunctions,L=x.geometryFunctions,I={white:[255,255,255,1],blue:[0,153,255,1],width:3},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return T(t)?new r.style.Circle({stroke:e,fill:n,radius:t.radius||5}):null},P=function(t){if(_(t)){if(t.iconUrl)return w.standard.getIcon({style:t});var e=t.iconLibrary||"extra";if(w[e])return w[e].getIcon({style:t})}return null},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S(t)?new r.style.Stroke(t.stroke&&f(t.stroke)?t.stroke:{color:t.highlight?I.blue:m(t.color||t.stroke||"#0000FF",a(t.opacity)?1:t.opacity),width:a(t.weight)?1:t.weight,lineDash:l(t.dashArray)&&s(t.dashArray).split(" ")||u(t.dashArray)&&t.dashArray||[0],lineCap:t.lineCap||"round",lineJoin:t.lineJoin||"round",lineDashOffset:t.dashOffset||0}):null},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C(t)?new r.style.Fill(t.fill&&f(t.fill)?t.fill:{color:m(t.fillColor||"#0000FF",a(t.fillOpacity)?1:t.fillOpacity)}):null},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments[3];return E(t)?new r.style.Text({fill:n,offsetY:t.offsetY||-4*Math.sqrt(t.fontSize),textAlign:t.textAlign||"center",text:t.label||i&&i.properties&&i.properties.valueText||"New",font:t.font||"Arial",stroke:t.highlight?new r.style.Stroke({color:[255,255,255,1],width:2}):e,image:t.highlight?new r.style.Circle({radius:5,fill:null,stroke:new r.style.Stroke({color:m(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null}):null},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,i=t.fillColor,o=void 0===i?"green":i,a=t.applyToPolygon,s=void 0!==a&&a;return new r.style.Style({image:new r.style.Circle({radius:n,fill:new r.style.Fill({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!s&&"Polygon"===n)return null;var i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return i.length>1?new r.geom.Point(h(i)):null}})},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,i=t.fillColor,o=void 0===i?"red":i,a=t.applyToPolygon,s=void 0!==a&&a;return new r.style.Style({image:new r.style.Circle({radius:n,fill:new r.style.Fill({color:o})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!s&&"Polygon"===n)return null;var i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new r.geom.Point(i.length>3?i[i.length-("Polygon"===n?2:1)]:p(i))}})},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},r=[];return d(t,function(t){return"startPoint"===t.geometry&&t.filtering})||r.push(R(i({},e))),d(t,function(t){return"endPoint"===t.geometry&&t.filtering})||r.push(F(i({},n))),r},j=function(t){var e=t.getGeometry(),n=e.getExtent(),i=e.getCenter&&e.getCenter()||[n[2]-n[0],n[3]-n[1]];return new r.geom.Point(i)},z=function(t){var e=t.getGeometry().getType();if("LineString"===e||"MultiPoint"===e){var n=t.getGeometry().getCoordinates();return n=b(n.map(function(t){var e=v(t,"EPSG:3857","EPSG:4326");return[e.x,e.y]})),new r.geom.LineString(n.map(function(t){var e=v(t,"EPSG:4326","EPSG:3857");return[e.x,e.y]}))}return t.getGeometry()},U=function(t){var e=t.getGeometry(),n=e.getType(),i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return i.length>1?new r.geom.Point(h(i)):null},B=function(t){var e=t.getGeometry(),n=e.getType(),i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new r.geom.Point(i.length>3?i[i.length-("Polygon"===n?2:1)]:p(i))};O("centerPoint",j,"Point"),O("lineToArc",z,"LineString"),O("startPoint",U,"Point"),O("endPoint",B,"Point");var H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.geometry?function(e){var n=t.geometry||"centerPoint";return L[n].func(e)}:function(t){return t.getGeometry()}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!a(t.filtering)||t.filtering},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Y(e,t)){var i=M(e),o=N(e),a=A(e,i,o);if(_(e))return P(e).map(function(t){return t.setGeometry(H(e)),t});if(k(e))return w.standard.getIcon({style:e}).map(function(t){return t.setGeometry(H(e)),t});var s=D(e,i,o,t),l=e.zIndex;return[new r.style.Style({geometry:H(e),image:a,text:s,stroke:!s&&!a&&i||null,fill:!s&&!a&&o||null,zIndex:l})].concat(t&&t.properties&&t.properties.canEdit&&!t.properties.isCircle?G(n):[])}return new r.style.Style({})},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},e=t.style;if(e){var n=u(e)?e:c(e);return n.reduce(function(e,i){return e.concat(V(t,i,n))},[])}return[]};t.exports={getStyle:n(2234).getStyle,getMarkerStyleLegacy:n(2234).getMarkerStyle,startEndPolylineStyle:n(2234).startEndPolylineStyle,defaultStyles:n(2234).defaultStyles,getCircleStyle:A,getMarkerStyle:P,getStrokeStyle:M,getFillStyle:N,getTextStyle:D,firstPointOfPolylineStyle:R,lastPointOfPolylineStyle:F,centerPoint:j,startPoint:U,endPoint:B,getGeometryTrasformation:H,getFilter:Y,parseStyleToOl:V,parseStyles:W}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(275),s=n(108),l=n(2460),u=l.extraMarkers,c=n(2181),h=c.geometryFunctions,p=c.fetchStyle,d=c.hashAndStringify,f=n(431),g=f.set,m=n(14),y=m.values,v=m.isNil,b=m.slice,w=m.head,x=m.castArray,_=m.last,E=m.isArray,S=m.findIndex,C=m.isString,T=n(2268),k=n(2667).default,O=n(12),L={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},I={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},A={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},P={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},M={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},N={Text:A,Point:I,Circle:L,MultiPoint:I,LineString:P,MultiLineString:P,Polygon:M,MultiPolygon:M},D=function(){return[o({},N.Point,{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:a()}),o({},N.Point,{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:a()})]},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==t.indexOf("rgba")?"rgb"+t.slice(t.indexOf("("),t.lastIndexOf(","))+")":t},F=function(t){return"start"===t&&"lm"||"end"===t&&"rm"||"cm"},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"Point":e,i=t.features,r=void 0===i?[]:i;return"FeatureCollection"===n?r.reduce(function(t,e){return t[e.geometry.type]=N[e.geometry.type],t},{type:"FeatureCollection"}):o({},N[n])},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({title:"annotations.defaulttitle"!==s.getMessageById(e,"annotations.defaulttitle")?s.getMessageById(e,"annotations.defaulttitle"):"Default title",id:a()},t)},z=function(t){return C(t)&&t||E(t)&&t.join(" ")},U=function(t){return t.color&&t.opacity&&t.weight},B=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=e&&e[t]?e[t]:e,r=i,a=r.dashArray?z(r.dashArray):"solid";switch(t){case"MultiPolygon":case"Polygon":case"Circle":return{
strokeColor:R(r.color),strokeOpacity:r.opacity,strokeWidth:r.weight,fillColor:R(r.fillColor),fillOpacity:r.fillOpacity,strokeDashstyle:a};case"LineString":case"MultiLineString":return{strokeColor:R(r.color),strokeOpacity:r.opacity,strokeWidth:r.weight,strokeDashstyle:a};case"Text":var s=U(r)?{labelOutlineColor:R(r.color),labelOutlineOpacity:r.opacity,labelOutlineWidth:r.weight}:{};return o({fontStyle:r.fontStyle,fontSize:r.fontSize,fontFamily:r.fontFamily,fontWeight:r.fontWeight,labelAlign:F(r.textAlign),fontColor:R(r.fillColor),fontOpacity:r.fillOpacity,label:n,stroke:!0,strokeColor:R(r.color),strokeOpacity:r.opacity,strokeWidth:r.weight,strokeDashstyle:a},s);case"Point":case"MultiPoint":var l=r.symbolUrl&&p(d(r),"base64")||u.markerToDataUrl(r),c=-18,h=-46;return r.iconAnchor&&E(r.iconAnchor)&&r.size&&(c="pixels"===r.anchorXUnits?-1*r.iconAnchor[0]:-1*r.size*r.iconAnchor[0],h="pixels"===r.anchorYUnits?-1*r.iconAnchor[1]:-1*r.size*r.iconAnchor[1]),l?{graphicWidth:r.size||36,graphicHeight:r.size||46,externalGraphic:l,graphicXOffset:c,graphicYOffset:h,display:!1===r.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===r.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:a,strokeWidth:1}}},H={convertGeoJSONToInternalModel:function(t){var e=t.type,n=void 0===e?"Point":e,i=t.geometries,r=void 0===i?[]:i,o=t.features,a=void 0===o?[]:o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===s.length?"Text":n};case"Polygon":return{type:1===l.length?"Circle":n};case"GeometryCollection":var u=r.filter(function(t){return"Point"===t.type||"MultiPoint"===t.type}),c=r.filter(function(t){return"Polygon"===t.type}),h=0,p=0;return{type:"GeometryCollection",geometries:r.map(function(t){if("Point"===t.type||"MultiPoint"===t.type){if(u.length===s.length)return{type:"Text"};if(0===s.length)return{type:t.type};if(0===h)return h++,{type:"Text"}}if("Polygon"===t.type){if(c.length===l.length)return{type:"Circle"};if(0===l.length)return{type:t.type};if(0===p)return p++,{type:"Circle"}}return{type:t.type}})};case"FeatureCollection":return{type:"FeatureCollection",features:a.map(function(t){return t.properties&&t.properties.isCircle?{type:"Circle"}:t.properties&&t.properties.isText?{type:"Text"}:{type:t.geometry.type}})};default:return{type:n}}},getAvailableStyler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"Point":e,i=t.geometries,r=void 0===i?[]:i,o=t.features,a=void 0===o?[]:o;switch(n){case"Point":case"MultiPoint":case"Symbol":return[H.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[H.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[H.getRelativeStyler(n)];case"GeometryCollection":return r.reduce(function(t,e){return-1!==t.indexOf(H.getRelativeStyler(e.type))?t:t.concat(H.getAvailableStyler(e))},[]);case"FeatureCollection":return a.reduce(function(t,e){return-1!==t.indexOf(H.getRelativeStyler(e.type))?t:t.concat(H.getAvailableStyler(e))},[]);default:return[]}},getRelativeStyler:function(t){switch(t){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fontSize,n=void 0===e?"14":e,i=t.fontSizeUom,r=void 0===i?"px":i,o=t.fontFamily,a=void 0===o?"Arial":o,s=t.fontStyle,l=void 0===s?"normal":s,u=t.fontWeight;return l+" "+(void 0===u?"normal":u)+" "+n+r+" "+a},DEFAULT_ANNOTATIONS_STYLES:N,STYLE_CIRCLE:L,STYLE_POINT:I,STYLE_TEXT:A,STYLE_LINE:P,STYLE_POLYGON:M,normalizeAnnotation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===t.type?o({},t):{type:"Feature",geometry:t},i=G(n),r=j(n.properties,e);return o({style:i,properties:r},n)},removeDuplicate:function(t){return y(t.reduce(function(t,e){return o({},t,i({},e.properties.id,e))},{}))},circlesToMultiPolygon:function(t,e){var n=t.geometries,i=void 0===n?[]:n,r=e.circles,o=void 0===r?[]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:o.reduce(function(t,e){return t.concat([i[e].coordinates])},[])},properties:{id:a(),ms_style:B("Circle",s)}}},fromCircleToPolygon:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;return{type:"Feature",geometry:e.polygonGeom||t,properties:{id:e.id||a(),ms_style:B("Circle",n)}}},fromTextToPoint:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return{type:"Feature",geometry:t,properties:{id:e.id||a(),ms_style:B("Text",n,e.valueText)}}},fromLineStringToGeodesicLineString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return{type:"Feature",geometry:t.geometryGeodesic,properties:{id:t.id||a(),ms_style:B(t.geometryGeodesic.type,e)}}},textToPoint:function(t,e){var n=t.geometries,i=void 0===n?[]:n,r=e.textGeometriesIndexes,o=void 0===r?[]:r,s=e.textValues,l=void 0===s?[]:s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return o.map(function(t,e){return{type:"Feature",geometry:i[t],properties:{id:a(),ms_style:B("Text",u,l[e])}}})},flattenGeometryCollection:function(t){var e=t.geometry,n=t.properties,i=t.style,r=n.circles&&H.circlesToMultiPolygon(e,n,i.Circle)||[],o=n.textGeometriesIndexes&&H.textToPoint(e,n,i.Text)||[],s=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return e.geometries.filter(function(t,e){return-1===s.indexOf(e)}).map(function(t){return{type:"Feature",geometry:t,properties:{id:a(),ms_style:B(t.type,i[t.type])}}}).concat(r,o)},createGeometryFromGeomFunction:function(t){var e=h[t.style.geometry]&&h[t.style.geometry].type||t.geometry.type,n=t.geometry.coordinates||[];switch(t.style.geometry){case"startPoint":n=w(n);break;case"endPoint":n=_(n);break;case"centerPoint":n=k(t).geometry.coordinates}return{type:e,coordinates:n}},fromAnnotationToGeoJson:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.geometry,n=t.properties,i=void 0===n?{}:n,r=t.style,o=void 0===r?{}:r,s=o.geometry?H.createGeometryFromGeomFunction({geometry:e,properties:i,style:o,type:"Feature"}):e;return i.isCircle&&"Polygon"===s.type?H.fromCircleToPolygon(s,i,o):i.isText?H.fromTextToPoint(s,i,o):"LineString"===s.type&&i.useGeodesicLines&&o.filtering?H.fromLineStringToGeodesicLineString(i,o):{type:"Feature",geometry:s,properties:{id:i.id||a(),ms_style:B(s.type,o)}}},annotationsToPrint:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){return"FeatureCollection"===e.type?t.concat(e.features.map(function(t){return x(t.style||e.style||{}).filter(function(t){return!!v(t.filtering)||t.filtering}).map(function(e){return H.fromAnnotationToGeoJson(o({},t,{style:e}))})}).reduce(function(t,e){return t.concat(e)},[])):e.geometry&&"GeometryCollection"===e.geometry.type?t.concat(H.flattenGeometryCollection(e)):t.concat({type:"Feature",geometry:e.geometry,properties:o({},e.properties,{ms_style:B(e.geometry.type,e.style)})})},[])},formatCoordinates:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]]).map(function(t){return{lat:t&&t[1],lon:t&&t[0]}})},getBaseCoord:function(t){switch(t){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(t){var e=t.type,n=t.coordinates;switch(e){case"Polygon":return H.isCompletePolygon(n)?H.formatCoordinates(b(n[0],0,n[0].length-1)):H.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return H.formatCoordinates(n);default:return H.formatCoordinates([n])}},addIds:function(t){return t.map(function(t){return t.properties&&t.properties.id?t:g("properties.id",T.v1(),t)})},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.lat,n=t.lon;return!isNaN(parseFloat(e))&&!isNaN(parseFloat(n))},validateCoordsArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=r(t,2),n=e[0],i=e[1];return!isNaN(parseFloat(i))&&!isNaN(parseFloat(n))},validateCoord:function(t){return!isNaN(parseFloat(t))},coordToArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[t.lon,t.lat]},validateCoordinates:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,n=void 0===e?[]:e,i=t.remove,r=void 0!==i&&i,o=t.type;if(n&&n.length){var a=n.filter(H.validateCoords);return r?a.length>H.COMPONENTS_VALIDATION[o].min&&a.length===n.length:a.length>=H.COMPONENTS_VALIDATION[o].min&&a.length===n.length}return!1},validateCircle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,n=void 0===e?[]:e,i=t.properties,r=void 0===i?{radius:0}:i;if(n&&n.length){var o=w(n);return!isNaN(parseFloat(r.radius))&&H.validateCoords(o)}return!1},validateText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,n=void 0===e?[]:e,i=t.properties,r=void 0===i?{valueText:""}:i;if(n&&n.length){var o=w(n);return r&&!!r.valueText&&H.validateCoords(o)}return!1},validateFeature:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.components,n=void 0===e?[[]]:e,i=t.type,r=t.remove,o=void 0!==r&&r,a=t.properties,s=void 0===a?{}:a;return!v(i)&&("Text"===i?H.validateText({components:n,properties:s}):"Circle"===i?H.validateCircle({components:n,properties:s}):H.validateCoordinates({components:n,remove:o,type:i}))},updateAllStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.features&&t.features.length?o({},t,{features:t.features.map(function(t){return O({},t,{style:x(t.style).map(function(t){return O({},t,e)})})})}):t},getStartEndPointsForLinestring:D,DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return t.length&&-1!==S(t,function(t){return t===e})},isAMissingSymbol:function(t){return t.symbolUrlCustomized===n(2253)},isCompletePolygon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],e=t[0].filter(H.validateCoordsArray);return e.length>3&&w(e)[0]===_(e)[0]&&w(e)[1]===_(e)[1]},getDashArrayFromStyle:z};t.exports=H},function(t,e,n){"use strict";var i=n(2447),r=n(14),o=r.toNumber,a={decToHex:function(t){var e="0123456789ABCDEF",n=parseInt(t,10);return n=isNaN(n)?0:n,n=n>255||n<0?0:n,e.charAt((n-n%16)/16)+e.charAt(n%16)},rgbToHex:function(t,e,n){return t instanceof Array?a.rgbToHex(t[0],t[1],t[2]):"#"+a.decToHex(t)+a.decToHex(e)+a.decToHex(n)},realToDec:function(t){return Math.min(255,Math.round(256*t))},rgbToHsv:function(t,e,n){if(t instanceof Array)return a.rgbToHsv(i[0],i[1],i[2]);var i=t/255,r=e/255,o=n/255,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0;switch(s=Math.min(Math.min(i,r),o),l=Math.max(Math.max(i,r),o),u=l-s,l){case s:c=0;break;case i:c=60*(r-o)/u,r<o&&(c+=360);break;case r:c=60*(o-i)/u+120;break;case o:c=60*(i-r)/u+240}return h=0===l?0:1-s/l,[Math.round(c),h,l]},distributedColorsHEX:function(t){for(var e=360/(t-1),n=[],i=0;i<t;i++)n.push(function t(e,n,i){var r=t(e,n,i);return a.rgbToHex(r)}(e*i,.57,.63));return n},sameToneRangeColors:function(t,e,n,i){var r=t;if(isNaN(parseFloat(t))){r=a.hexToHsv(t)[0]}var o=.5/(n-1),s=e/(n-1),l=[];1===n&&(o=.5,s=e/2);for(var u=0;u<n;u++){var c=r+u*s-e/2,h=o*u+.3,p=h;i&&(c=i.h||c,h=i.s||h,p=i.v||p),l.push(a.hsvToHex(c,h,p,u))}return l},hsvToRgb:function(t,e,n){if(t instanceof Array)return a.hsvToRgb(t[0],t[1],t[2]);var i=void 0,r=void 0,o=void 0,s=Math.floor(t/60%6),l=t/60-s,u=n*(1-e),c=n*(1-l*e),h=n*(1-(1-l)*e);switch(s){case 0:i=n,r=h,o=u;break;case 1:i=c,r=n,o=u;break;case 2:i=u,r=n,o=h;break;case 3:i=u,r=c,o=n;break;case 4:i=h,r=u,o=n;break;case 5:i=n,r=u,o=c}return[a.realToDec(i),a.realToDec(r),a.realToDec(o)]},hsvToHex:function(t,e,n){var i=a.hsvToRgb(t,e,n);return a.rgbToHex(i)},hexToHsv:function(t){var e=t;if(e.length>0){"#"===e[0]&&(e=t.substring(1));var n=a.hexToRgb(e);return a.rgbToHsv(n)}},colorToHexStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return i(t).toHexString()},colorToRgbaStr:function(t,e,n){var r=i(t);return t&&r.setAlpha(o(void 0!==e?e:r.getAlpha())).toRgbString()||n}};t.exports=a},function(t,e,n){"use strict";t.exports=function(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}},function(t,e,n){"use strict";var i=n(2573),r=n(2217),o=n(2204);t.exports=function(t){var e=o(t),n=r(e),a=e&&e.documentElement,s={top:0,left:0,height:0,width:0};if(e)return i(a,t)?(void 0!==t.getBoundingClientRect&&(s=t.getBoundingClientRect()),(s.width||s.height)&&(s={top:s.top+(n.pageYOffset||a.scrollTop)-(a.clientTop||0),left:s.left+(n.pageXOffset||a.scrollLeft)-(a.clientLeft||0),width:(null==s.width?t.offsetWidth:s.width)||0,height:(null==s.height?t.offsetHeight:s.height)||0}),s):s}},function(t,e,n){var i,r,o;!function(n,a){r=[e],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t){var e=t;e.interopRequireDefault=function(t){return t&&t.__esModule?t:{default:t}},e._extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}})},,,,function(t,e){function n(t,e,n){if(e in t)return t[e];if(3===arguments.length)return n;throw new Error('"'+e+'" is a required argument.')}function i(t){var e=t.match(m);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function r(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}function o(t){var n=t,o=i(t);if(o){if(!o.path)return t;n=o.path}for(var a,s=e.isAbsolute(n),l=n.split(/\/+/),u=0,c=l.length-1;c>=0;c--)a=l[c],"."===a?l.splice(c,1):".."===a?u++:u>0&&(""===a?(l.splice(c+1,u),u=0):(l.splice(c,2),u--));return n=l.join("/"),""===n&&(n=s?"/":"."),o?(o.path=n,r(o)):n}function a(t,e){""===t&&(t="."),""===e&&(e=".");var n=i(e),a=i(t);if(a&&(t=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),r(n);if(n||e.match(y))return e;if(a&&!a.host&&!a.path)return a.host=e,r(a);var s="/"===e.charAt(0)?e:o(t.replace(/\/+$/,"")+"/"+e);return a?(a.path=s,r(a)):s}function s(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");for(var n=0;0!==e.indexOf(t+"/");){var i=t.lastIndexOf("/");if(i<0)return e;if(t=t.slice(0,i),t.match(/^([^\/]+:\/)?\/*$/))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}function l(t){return t}function u(t){return h(t)?"$"+t:t}function c(t){return h(t)?t.slice(1):t}function h(t){if(!t)return!1;var e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(var n=e-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}function p(t,e,n){var i=t.source-e.source;return 0!==i?i:0!==(i=t.originalLine-e.originalLine)?i:0!==(i=t.originalColumn-e.originalColumn)||n?i:0!==(i=t.generatedColumn-e.generatedColumn)?i:(i=t.generatedLine-e.generatedLine,0!==i?i:t.name-e.name)}function d(t,e,n){var i=t.generatedLine-e.generatedLine;return 0!==i?i:0!==(i=t.generatedColumn-e.generatedColumn)||n?i:0!==(i=t.source-e.source)?i:0!==(i=t.originalLine-e.originalLine)?i:(i=t.originalColumn-e.originalColumn,0!==i?i:t.name-e.name)}function f(t,e){return t===e?0:t>e?1:-1}function g(t,e){var n=t.generatedLine-e.generatedLine;return 0!==n?n:0!==(n=t.generatedColumn-e.generatedColumn)?n:0!==(n=f(t.source,e.source))?n:0!==(n=t.originalLine-e.originalLine)?n:(n=t.originalColumn-e.originalColumn,0!==n?n:f(t.name,e.name))}e.getArg=n;var m=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,y=/^data:.+\,.+$/;e.urlParse=i,e.urlGenerate=r,e.normalize=o,e.join=a,e.isAbsolute=function(t){return"/"===t.charAt(0)||!!t.match(m)},e.relative=s;var v=function(){return!("__proto__"in Object.create(null))}();e.toSetString=v?l:u,e.fromSetString=v?l:c,e.compareByOriginalPositions=p,e.compareByGeneratedPositionsDeflated=d,e.compareByGeneratedPositionsInflated=g},,,function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),o=r.isNil,a=r.get,s=r.head,l=function(t){return a(t,"query.filterObj.featureTypeName")},u=function(t){return function(e){return a(e,'query.featureTypes["'+t+'"]')}},c=function(t,e){return a(u(e)(t),"original")};t.exports={wfsURL:function(t){return t&&t.query&&t.query.searchUrl},wfsURLSelector:function(t){return t&&t.query&&t.query.url},wfsFilter:function(t){return t&&t.query&&t.query.filterObj},attributesSelector:function(t){return a(u(l(t))(t),"attributes")},typeNameSelector:function(t){return a(t,"query.typeName")},resultsSelector:function(t){return a(t,"query.result.features")},featureCollectionResultSelector:function(t){var e=a(t,"query.result");return i({},e,{features:(e&&e.features||[]).filter(function(t){return!o(t.geometry)})})},getFeatureById:function(t,e){var n=t&&t.query&&t.query.result&&t.query.result.features;return s(n.filter(function(t){return t.id===e}))},paginationInfo:{startIndex:function(t){return a(t,"query.filterObj.pagination.startIndex")},maxFeatures:function(t){return a(t,"query.filterObj.pagination.maxFeatures")},resultSize:function(t){return a(t,"query.result.features.length")},totalFeatures:function(t){return a(t,"query.result.totalFeatures")}},isDescribeLoaded:function(t,e){var n=u(e)(t);return!!(n&&n.attributes&&n.geometry&&n.original)},describeSelector:function(t){return c(t,l(t))},featureTypeSelectorCreator:u,layerDescribeSelector:c,featureLoadingSelector:function(t){return a(t,"query.featureLoading")},isSyncWmsActive:function(t){return a(t,"query.syncWmsFilter",!1)},isFilterActive:function(t){var e=a(t,"query.filterObj.crossLayerFilter"),n=a(t,"query.filterObj.spatialField"),i=a(t,"query.filterObj.filterFields");return!!(i&&s(i)||n&&n.method&&n.operation&&n.geometry||e&&e.collectGeometries&&e.operation)}}},function(t,e,n){"use strict";function i(t){var e=Math.floor(t),n=60*(t-e),i=Math.floor(n),r=60*(n-i);return e+"° "+i+"' "+Math.floor(r)+"'' "}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e="";return t>=0&&t<90?e="N "+i(t)+"E":t>90&&t<=180?e="S "+i(180-t)+"E":t>180&&t<270?e="S "+i(t-180)+"W":t>=270&&t<=360&&(e="N "+i(360-t)+"W"),e}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return c[e]&&c[e][n]?t*c[e][n]:t}var a=n(14),s=a.isArray,l=a.head,u=a.isNaN,c={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}},h=function(t){return!u(parseFloat(t[0]))&&!u(parseFloat(t[1]))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.coordinates,n=t.type,i=e;if("LineString"===n){if(i=e.filter(h),i.length<2)return[]}else if("Polygon"===n){if(i=l(e).filter(h),i.length<3)return[[]];i=[i.concat([l(i)])]}return i},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.coordinates,n=t.type;if(!n||!e||e&&s(e)&&0===e.length)return!1;var i=p({coordinates:e,type:n});return i="Polygon"===n?l(i):i,i.length>0};t.exports={validateFeatureCoordinates:p,isValidGeometry:d,convertUom:o,getFormattedBearingValue:r,degToDms:i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),c=i(u),h=n(4),p=i(h),d=n(43),f=i(d),g=n(2933),m=i(g),y=n(90),v=i(y),b=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={initiated:!1},t.onResize=t.onResize.bind(t),t}return a(e,t),l(e,null,[{key:"getDomNodeDimensions",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}}]),l(e,[{key:"componentDidMount",value:function(){this.parentNode=f.default.findDOMNode(this).parentNode,this.elementResizeDetector=(0,m.default)({strategy:"scroll",callOnAdd:!1}),this.elementResizeDetector.listenTo(this.parentNode,this.onResize),this.onResize()}},{key:"componentWillUnmount",value:function(){this.elementResizeDetector.uninstall(this.parentNode)}},{key:"onResize",value:function(){var t=e.getDomNodeDimensions(this.parentNode);this.setState(s({initiated:!0},t))}},{key:"render",value:function(){if((0,v.default)(this.props.children,"Expected children to be one of function or React.Element"),!this.state.initiated)return c.default.createElement("div",null);if("function"==typeof this.props.children){var t=this.props.children(this.state);return t&&u.Children.only(t)}return u.Children.only(c.default.cloneElement(this.props.children,this.state))}}]),e}(u.Component);b.propTypes={children:p.default.oneOfType([p.default.element,p.default.func]).isRequired},e.default=b},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={NumberFormat:{displayName:"NumberFormat"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/I18N/Number.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(14),x=w.isNil,_=n(435),E=_.FormattedNumber,S=function(t){return function(e){return y(e,t)}}("NumberFormat")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"render",value:function(){return this.context.intl?b.createElement(E,f({value:this.props.value},this.props.numberParams)):b.createElement("span",null,!x(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}]),e}(b.Component),a.propTypes={value:v.oneOfType([v.object,v.number]),numberParams:v.object},a.contextTypes={intl:v.object},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=function(t){return t>100?"full":t>40?"medium":"small"},r=n(0);t.exports=function(t){var n=t.size,o=t.style,a=void 0===o?{}:o,s=t.className;return r.createElement("div",{className:s,style:e({width:n,height:n,overflow:"hidden"},a)},r.createElement("div",{className:"mapstore-"+i(n)+"-size-loader"}))}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={SwitchPanel:{displayName:"SwitchPanel"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/switch/SwitchPanel.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(854),w=b.Panel,x=b.Button,_=b.Glyphicon,E=n(2480),S=n(3031),C=n(2166),T=function(){return y.createElement(x,{className:"square-button-sm no-border switch-error"},y.createElement(_,{glyph:"exclamation-mark",className:"text-danger"}))},k=n(2478),O=function(){return y.createElement("div",{className:"switch-loading"},y.createElement(k,{size:"small"}))},L=function(t){return function(e){return m(e,t)}}("SwitchPanel")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.state={},a=n,r(o,a)}return o(e,t),f(e,[{key:"renderHeader",value:function(){var t=this,e=this.props.useToolbar?S:E;return y.createElement("div",null,y.createElement("div",{className:"pull-left"},this.props.title||this.props.header),y.createElement("div",{className:"pull-right"},this.props.locked?null:y.createElement(e,{checked:this.props.expanded,onClick:function(e){t.props.onSwitch(e)}}),this.props.error?y.createElement(T,null):null,this.props.loading?y.createElement(O,null):null,this.props.buttons.length>0&&this.props.expanded&&y.createElement(C,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return y.createElement(w,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}]),e}(y.Component),a.propTypes={header:v.node,title:v.oneOfType([v.string,v.node]),defaultExpanded:v.string,expanded:v.bool,onSwitch:v.func,locked:v.bool,buttons:v.array,loading:v.bool,error:v.any,errorMsgId:v.string,transitionProps:v.object,useToolbar:v.object},a.defaultProps={title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1},s));t.exports=L}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y={ToolsContainer:{displayName:"ToolsContainer"}},v=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/containers/ToolsContainer.jsx",components:y,locals:[],imports:[p.default,c.default]}),b=n(0),w=n(4),x=n(133),_=x.connect,E=n(282),S=E.compose,C=n(878),T=C.changeHelpText,k=C.changeHelpwinVisibility,O=_(function(t){return{isVisible:t.controls&&t.controls.help&&t.controls.help.enabled}},{changeHelpText:T,changeHelpwinVisibility:k
})(n(2548)),L=n(2158),I=n(854),A=I.Button,P=I.Tooltip,M=I.Panel,N=I.Collapse,D=I.Glyphicon,R=n(2165),F=n(272),G=F.setControlProperty,j=F.toggleControl,z=n(14),U=z.partial,B=n(12),H=function(t){return function(e){return v(e,t)}}("ToolsContainer")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.getToolConfig=function(t){return t.tool?{}:a.props.toolCfg},a.getTool=function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var e=function(){return{}},n={};return t.exclusive?(e=function(e){return{active:e.controls&&e.controls[a.props.stateSelector]&&e.controls[a.props.stateSelector].active===t.name}},n[a.props.eventSelector]=G.bind(null,a.props.stateSelector,"active",t.name,!0)):t.toggle?(e=function(e){return{bsStyle:e.controls[t.toggleControl||t.name]&&e.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?a.props.activeStyle:a.props.toolStyle,active:e.controls[t.toggleControl||t.name]&&e.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},n[a.props.eventSelector]=j.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(n[a.props.eventSelector]=U(t.action,a.context),e=t.selector||e),_(e,n,function(t,e,n){return a.mergeHandlers(g({},n,t),e)})(a.props.tool)},a.renderTools=function(){return a.props.tools.map(function(t,e){if(t.element)return t.element;var n=t.help?b.createElement(O,{className:"mapstore-helpbadge",helpText:t.help}):b.createElement("span",null),i=t.tooltip?b.createElement(L,{msgId:t.tooltip}):null,r=a.getTool(t),o=a.getToolConfig(t);return a.addTooltip(b.createElement(r,g({},o,{pluginCfg:t.cfg,tooltip:i,btnSize:a.props.toolSize,bsStyle:a.props.toolStyle,help:n,key:t.name||"tool"+e,mapType:a.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?b.createElement(D,{glyph:t.cfg.glyph}):t.icon,n," ",t.text),t)})},a.renderPanels=function(){return a.props.panels.filter(function(t){return!t.panel.loadPlugin}).map(function(t){var e=t.panel,n=b.createElement(e,g({key:t.name,mapType:a.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),i=t.title?b.createElement(L,{msgId:t.title}):null;return t.wrap?b.createElement(N,{key:"mapToolBar-item-collapse-"+t.name,in:a.props.activePanel===t.name},b.createElement(M,{header:i,style:a.props.panelStyle,className:a.props.panelClassName},n)):n})},a.mergeHandlers=function(t,e){return Object.keys(e).reduce(function(n,r){return B(n,i({},r,t[r]?S(t[r],e[r]):e[r]))},t)},a.addTooltip=function(t,e){if(e.tooltip){var n=b.createElement(P,{id:a.props.id+"-"+e.name+"-tooltip"},b.createElement(L,{msgId:e.tooltip}));return b.createElement(R,{key:a.props.id+"-"+e.name+"-overlay",rootClose:!0,placement:"left",overlay:n},t)}return t},s=n,o(a,s)}return a(e,t),m(e,[{key:"render",value:function(){var t=this.props.container;return b.createElement("span",{id:this.props.id},b.createElement(t,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}]),e}(b.Component),s.propTypes={id:w.string.isRequired,container:w.func,tool:w.func,className:w.string,style:w.object,tools:w.array,panels:w.array,mapType:w.string,toolStyle:w.string,activeStyle:w.string,toolSize:w.string,stateSelector:w.string.isRequired,eventSelector:w.string,panelStyle:w.object,panelClassName:w.string,activePanel:w.string,toolCfg:w.object},s.contextTypes={messages:w.object,router:w.object},s.defaultProps={container:M,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:A,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}},l));t.exports=H}).call(this)}finally{}},function(t,e,n){"use strict";var i=function(t,e){return{type:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",id:t,owner:e,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments[3]}},r=function(t,e){return{type:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",owner:t,options:e}},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",id:t.id,owner:t.owner}},a=function(){return{type:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS"}};t.exports={UPDATE_ADDITIONAL_LAYER:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",updateAdditionalLayer:i,REMOVE_ADDITIONAL_LAYER:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",removeAdditionalLayer:o,REMOVE_ALL_ADDITIONAL_LAYERS:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",removeAllAdditionalLayers:a,UPDATE_OPTIONS_BY_OWNER:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",updateOptionsByOwner:r}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){if(t.style.iconUrl)return L.standard.getIcon(t);var e=t.style.iconLibrary||"extra";return L[e]?L[e].getIcon(t):null}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.nativeStyle,o=void 0,s=n,l=0,c=t.style&&t.style.type||(t.features&&t.features[0]&&t.features[0].geometry?t.features[0].geometry.type:void 0);if("FeatureCollection"===c||t.features&&t.features[0]&&"FeatureCollection"===t.features[0].type)return function(n){var i=this||n;o=i.getGeometry()&&i.getGeometry().getType();var r=i&&i.getProperties();r&&r.isCircle&&(o="Circle",l=r.radius),r&&r.isText&&(o="Text",s=[r.valueText]);var a=_("style.useSelectedStyle",r.canEdit,t);return U(o,a,e,s,null,l)};if(t&&t.properties&&t.properties.isText)return o="Text",s=[t.properties.valueText],U(o,t,e,s,null,l);if(t&&t.properties&&t.properties.isCircle)return o="Circle",l=t.properties.radius,U(o,t,e,s,null,l);if(!i&&t.style){if(i={stroke:new u.style.Stroke(t.style.stroke?t.style.stroke:{color:w(t.style&&t.style.color||"#0000FF",t.style.opacity||1),lineDash:t.style.highlight?[10]:[0],width:t.style.weight||1}),fill:new u.style.Fill(t.style.fill?t.style.fill:{color:w(t.style&&t.style.fillColor||"#0000FF",t.style.fillOpacity||1)})},"Point"===c&&(i={image:new u.style.Circle(f({},i,{radius:t.style.radius||5}))}),t.style.iconUrl||t.style.iconGlyph){var h=r(t);return i=function(e){var n=this||e;switch(o=n.getGeometry().getType()){case"Point":case"MultiPoint":return h;default:return z(n,t)}}}return i=new u.style.Style(i),"GeometryCollection"===c?i=function(i){var s=this||i,l=void 0;o=s.getGeometry().getType();var c=s.get("textGeometriesIndexes")||[],h=s.get("circles")||[],p=s.get("textValues");if("GeometryCollection"===s.getGeometry().getType()){return s.getGeometry().getGeometries().reduce(function(i,s,u){if(("Point"===(o=s.getType())||"MultiPoint"===o)&&c.length&&-1!==c.indexOf(u)){var d=U("Text",t,e,[p[c.indexOf(u)]]);return d.setGeometry(s),i.concat([d])}if("Polygon"===o&&h.length&&-1!==h.indexOf(u)){var f=U("Circle",t,e,[]);return f.setGeometry(s),i.concat([f])}if("Point"===o||"MultiPoint"===o)return l=r({style:a({},t.style[o],{highlight:t.style.highlight})}),i.concat(l.map(function(t){return t.setGeometry(s),t}));var g=U(o,t,e,n);return v(g)?g.forEach(function(t){return t.setGeometry(s)}):g.setGeometry(s),i.concat([g])},[])}return"Point"===o||"MultiPoint"===o?(l=r({style:a({},t.style[o],{highlight:t.style.highlight})}),e?new u.style.Style({image:S,geometry:s.getGeometry()}):l.map(function(t){return t.setGeometry(s.getGeometry()),t})):U(o,t,e,n)}:("Circle"===c&&(l=t.features&&t.features.length&&t.features[0].properties&&t.features[0].properties.radius||10),U(c,t,e,n,i,l))}return t.styleName&&!t.overrideOLStyle?function(e){if("marker"===t.styleName)switch(o=e.getGeometry().getType()){case"Point":case"MultiPoint":return j.marker(t)}return j[t.styleName](t)}:i||z}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(888),l=n(3179),u=n(857),c=n(14),h=c.last,p=c.head,d=[0,153,255,1],f=n(12),g=n(14),m=g.trim,y=g.isString,v=g.isArray,b=n(2216),w=b.colorToRgbaStr,x=n(431),_=x.set,E={white:[255,255,255,1],blue:[0,153,255,1],width:3},S=new u.style.Circle({radius:5,fill:null,stroke:new u.style.Stroke({color:"red",width:1})}),C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,i=t.fillColor,r=void 0===i?"green":i,o=t.applyToPolygon,a=void 0!==o&&o;return new u.style.Style({image:new u.style.Circle({radius:n,fill:new u.style.Fill({color:r})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!a&&"Polygon"===n)return null;var i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return i.length>1?new u.geom.Point(p(i)):null}})},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,n=void 0===e?5:e,i=t.fillColor,r=void 0===i?"red":i,o=t.applyToPolygon,a=void 0!==o&&o;return new u.style.Style({image:new u.style.Circle({radius:n,fill:new u.style.Fill({color:r})}),geometry:function(t){var e=t.getGeometry(),n=e.getType();if(!a&&"Polygon"===n)return null;var i="Polygon"===n?e.getCoordinates()[0]:e.getCoordinates();return new u.geom.Point(i.length>3?i[i.length-("Polygon"===n?2:1)]:h(i))}})},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[C(t),T(e)]},O=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new u.style.Style({text:new u.style.Text({offsetY:-4*Math.sqrt(t.fontSize),textAlign:t.textAlign||"center",text:e||"",font:t.font,fill:new u.style.Fill({color:w(t.stroke||t.color||"#000000",t.opacity||1)}),stroke:n?new u.style.Stroke({color:[255,255,255,1],width:2}):null}),image:n?new u.style.Circle({radius:5,fill:null,stroke:new u.style.Stroke({color:w(t.color||"#0000FF",t.opacity||1),width:t.weight||1})}):null})},L=n(2507),I={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},A={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},P={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},M={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},N={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},D={iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},R={Marker:D,Text:P,Circle:A,Point:I,MultiPoint:I,LineString:M,MultiLineString:M,Polygon:N,MultiPolygon:N},F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new u.style.Stroke(t.style?t.style.stroke||{color:t.style.color||e.color,lineDash:y(t.style.dashArray)&&m(t.style.dashArray).split(" ")||e.lineDash,width:t.style.weight||e.width,lineCap:t.style.lineCap||"round",lineJoin:t.style.lineJoin||"round",lineDashOffset:t.style.dashOffset||0}:a({},e))}},G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new u.style.Fill(t.style?t.style.fill||{color:w(t.style.fillColor,t.style.fillOpacity)||e.color}:a({},e))}},j={Point:function(){return[new u.style.Style({image:S})]},LineString:function(t){return[new u.style.Style(f({},F(t,{color:"blue",width:3})))]},MultiLineString:function(t){return[new u.style.Style(f({},F(t,{color:"blue",width:3})))]},MultiPoint:function(){return[new u.style.Style({image:S})]},MultiPolygon:function(t){return[new u.style.Style(f({},F(t),G(t)))]},Polygon:function(t){return[new u.style.Style(f({},F(t),G(t)))]},GeometryCollection:function(t){return[new u.style.Style(f({},F(t),G(t),{image:new u.style.Circle({radius:10,fill:null,stroke:new u.style.Stroke({color:"magenta"})})}))]},Circle:function(){return[new u.style.Style({stroke:new u.style.Stroke({color:"red",width:2}),fill:new u.style.Fill({color:"rgba(255,0,0,0.2)"})})]},marker:function(t){return[new u.style.Style({image:new u.style.Icon({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:l})}),new u.style.Style({image:new u.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:s}),text:new u.style.Text({text:t.label,scale:1.25,offsetY:8,fill:new u.style.Fill({color:"#000000"}),stroke:new u.style.Stroke({color:"#FFFFFF",width:2})})})]}},z=function(t,e){var n=t.getGeometry().getType();return j[n](e&&e.style&&e.style[n]&&{style:a({},e.style[n])}||e||{})},U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:R},n=arguments[2],o=arguments[3],s=arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=e.style[t]||e.style;if("MultiLineString"===t||"LineString"===t){var h=[new u.style.Style({stroke:e.style.useSelectedStyle?new u.style.Stroke({color:[255,255,255,1],width:c.weight+2}):null}),new u.style.Style(c?{stroke:new u.style.Stroke(c&&c.stroke?c.stroke:{color:w(e.style&&c.color||"#0000FF",c.opacity||1),lineDash:e.style.highlight?[10]:[0],width:c.weight||1}),image:n?S:null}:{stroke:new u.style.Stroke(R[t]&&R[t].stroke?R[t].stroke:{color:w(e.style&&R[t].color||"#0000FF",R[t].opacity||1),lineDash:e.style.highlight?[10]:[0],width:R[t].weight||1})})];return[].concat(i(e.style.useSelectedStyle?k({radius:c.weight,applyToPolygon:!0},{radius:c.weight,applyToPolygon:!0}):[]),h)}if(("MultiPoint"===t||"Point"===t)&&(c.iconUrl||c.iconGlyph))return n?new u.style.Style({image:S}):r({style:a({},c,{highlight:e.style.highlight||e.style.useSelectedStyle})});if("Circle"===t&&l){return[new u.style.Style({stroke:e.style.useSelectedStyle?new u.style.Stroke({color:[255,255,255,1],width:c.weight+4}):null}),new u.style.Style({stroke:new u.style.Stroke(c&&c.stroke?c.stroke:{color:e.style.useSelectedStyle?d:w(e.style&&c.color||"#0000FF",c.opacity||1),lineDash:e.style.highlight?[10]:[0],width:c.weight||1}),fill:new u.style.Fill(c.fill?c.fill:{color:w(e.style&&c.fillColor||"#0000FF",c.fillOpacity||.2)})}),new u.style.Style({image:e.style.useSelectedStyle?new u.style.Circle({radius:3,fill:new u.style.Fill(c.fill?c.fill:{color:d})}):null,geometry:function(t){var e=t.getGeometry();if("Circle"===e.getType()){var n=e.getCenter();return new u.geom.Point(n)}return null}})]}if("Text"===t&&c.font)return[O(c,o[0],e.style.useSelectedStyle||e.style.highlight)];if("MultiPolygon"===t||"Polygon"===t){return[].concat([new u.style.Style({stroke:e.style.useSelectedStyle?new u.style.Stroke({color:[255,255,255,1],width:c.weight+2}):null}),new u.style.Style({stroke:new u.style.Stroke(c.stroke?c.stroke:{color:e.style.useSelectedStyle?d:w(e.style&&c.color||"#0000FF",c.opacity||1),lineDash:e.style.highlight?[10]:[0],width:c.weight||1}),image:n?S:null,fill:new u.style.Fill(c.fill?c.fill:{color:w(e.style&&c.fillColor||"#0000FF",c.fillOpacity||1)})})],i(e.style.useSelectedStyle?k({radius:c.weight,applyToPolygon:!0},{radius:c.weight,applyToPolygon:!0}):[]))}return s};t.exports={startEndPolylineStyle:k,lastPointOfPolylineStyle:T,firstPointOfPolylineStyle:C,selectedStyleConfiguration:E,getStyle:o,getMarkerStyle:r,styleFunction:z,defaultStyles:R}},,function(t,e,n){"use strict";var i=n(38),r=n(14),o=r.isArray,a=r.isObject,s={needProxy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(t))return t.reduce(function(t,e){return s.needProxy(e)&&t},!0);var n=!1,r=!(0===t.indexOf("http")),l=!r&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(l){var u=window.location;r=l[1]===u.protocol&&l[3]===u.hostname;var c=l[4],h=u.port;(80!==c&&""!==c||"80"!==h&&""!==h)&&(r=r&&c===h)}if(!r){var p=i.getProxyUrl(e);if(p){var d=[];a(p)&&(d=p.useCORS||[],p=p.url);d.reduce(function(e,n){return e||0===t.indexOf(n)},!1)||(n=!0)}}return n},getProxyUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i.getProxyUrl(t);return e&&a(e)&&(e=e.url),e}};t.exports=s},function(t,e,n){"use strict";function i(t,e){return t.length-e>=2&&t.charCodeAt(e)===c&&t.charCodeAt(e+1)===c}function r(t,e){if(t.charCodeAt(e)===c){var n=t.indexOf("-",e+2);if(-1!==n)return t.substring(e,n+1)}return""}function o(t){if(s.call(l,t))return l[t];var e=t.toLowerCase();if(s.call(l,e))return l[t]=l[e];var n=i(e,0)?"":r(e,0);return l[t]=Object.freeze({vendor:n,prefix:n,name:e.substr(n.length)})}function a(t){if(s.call(u,t))return u[t];var e=t,n=t[0];"/"===n&&"/"===t[1]?n="//":"_"!==n&&"*"!==n&&"$"!==n&&"#"!==n&&"+"!==n&&(n="");var o=i(e,n.length);if(!o&&(e=e.toLowerCase(),s.call(u,e)))return u[t]=u[e];var a=o?"":r(e,n.length);return u[t]=Object.freeze({hack:n,vendor:a,prefix:n+a,name:e.substr(n.length+a.length),custom:o})}var s=Object.prototype.hasOwnProperty,l=Object.create(null),u=Object.create(null),c=45;t.exports={keyword:o,property:a}},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=e.publishSource,i=e.clientOffset,r=e.getSourceClientOffset;(0,h.default)((0,d.default)(t),"Expected sourceIds to be an array.");var o=this.getMonitor(),a=this.getRegistry();(0,h.default)(!o.isDragging(),"Cannot call beginDrag while dragging.");for(var s=0;s<t.length;s++)(0,h.default)(a.getSource(t[s]),"Expected sourceIds to be registered.");for(var l=null,u=t.length-1;u>=0;u--)if(o.canDragSource(t[u])){l=t[u];break}if(null!==l){var c=null;i&&((0,h.default)("function"==typeof r,"When clientOffset is provided, getSourceClientOffset must be a function."),c=r(l));var p=a.getSource(l),f=p.beginDrag(o,l);(0,h.default)((0,g.default)(f),"Item must be an object."),a.pinSource(l);var m=a.getSourceType(l);return{type:v,itemType:m,item:f,sourceId:l,clientOffset:i,sourceClientOffset:c,isSourcePublic:n}}}function o(){if(this.getMonitor().isDragging())return{type:b}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.clientOffset,i=void 0===n?null:n;(0,h.default)((0,d.default)(t),"Expected targetIds to be an array.");var r=t.slice(0),o=this.getMonitor(),a=this.getRegistry();(0,h.default)(o.isDragging(),"Cannot call hover while not dragging."),(0,h.default)(!o.didDrop(),"Cannot call hover after drop.");for(var s=0;s<r.length;s++){var l=r[s];(0,h.default)(r.lastIndexOf(l)===s,"Expected targetIds to be unique in the passed array.");var u=a.getTarget(l);(0,h.default)(u,"Expected targetIds to be registered.")}for(var c=o.getItemType(),p=r.length-1;p>=0;p--){var f=r[p],g=a.getTargetType(f);(0,y.default)(g,c)||r.splice(p,1)}for(var m=0;m<r.length;m++){var v=r[m];a.getTarget(v).hover(o,v)}return{type:w,targetIds:r,clientOffset:i}}function s(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),i=this.getRegistry();(0,h.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,h.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var r=n.getTargetIds().filter(n.canDropOnTarget,n);r.reverse(),r.forEach(function(r,o){var a=i.getTarget(r),s=a.drop(n,r);(0,h.default)(void 0===s||(0,g.default)(s),"Drop result must either be an object or undefined."),void 0===s&&(s=0===o?{}:n.getDropResult()),t.store.dispatch({type:x,dropResult:u({},e,s)})})}function l(){var t=this.getMonitor(),e=this.getRegistry();(0,h.default)(t.isDragging(),"Cannot call endDrag while not dragging.");var n=t.getSourceId();return e.getSource(n,!0).endDrag(t,n),e.unpinSource(),{type:_}}Object.defineProperty(e,"__esModule",{value:!0}),e.END_DRAG=e.DROP=e.HOVER=e.PUBLISH_DRAG_SOURCE=e.BEGIN_DRAG=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.beginDrag=r,e.publishDragSource=o,e.hover=a,e.drop=s,e.endDrag=l;var c=n(90),h=i(c),p=n(44),d=i(p),f=n(50),g=i(f),m=n(2528),y=i(m),v=e.BEGIN_DRAG="dnd-core/BEGIN_DRAG",b=e.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",w=e.HOVER="dnd-core/HOVER",x=e.DROP="dnd-core/DROP",_=e.END_DRAG="dnd-core/END_DRAG"},function(t,e,n){"use strict";function i(t){return{type:s,sourceId:t}}function r(t){return{type:l,targetId:t}}function o(t){return{type:u,sourceId:t}}function a(t){return{type:c,targetId:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.addSource=i,e.addTarget=r,e.removeSource=o,e.removeTarget=a;var s=e.ADD_SOURCE="dnd-core/ADD_SOURCE",l=e.ADD_TARGET="dnd-core/ADD_TARGET",u=e.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",c=e.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},,function(t,e,n){"use strict";function i(t,e){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={Dialog:{displayName:"Dialog"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/Dialog.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(2990),x=n(2183),_=n(12),E=n(2158),S=function(t){return function(e){return y(e,t)}}("Dialog")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.renderLoading=function(){if(o.props.maskLoading)return v.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},v.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},v.createElement(E,{msgId:"loading"}),v.createElement(x,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"})))},o.renderRole=function(t){return v.Children.toArray(o.props.children).filter(function(e){return e.props.role===t})},o.hasRole=function(t){return v.Children.toArray(o.props.children).filter(function(e){return e.props.role===t}).length>0},o.onClickOut=function(t){o.props.onClickOut&&o.mask===t.target&&o.props.onClickOut()},a=n,r(o,a)}return o(e,t),g(e,[{key:"render",value:function(){var t=this,e=v.createElement("div",{id:this.props.id,style:f({zIndex:3},this.props.style),className:(this.props.draggable?"modal-dialog-draggable":"")+" "+this.props.className+" modal-dialog-container"},v.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),v.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?v.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):v.createElement("span",null)),n=this.props.draggable?v.createElement(w,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},e):e,i=_({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?v.createElement("div",{ref:function(e){t.mask=e},onClick:this.onClickOut,style:i,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}]),e}(v.Component),a.propTypes={id:b.string.isRequired,style:b.object,backgroundStyle:b.object,className:b.string,maskLoading:b.bool,containerClassName:b.string,headerClassName:b.string,bodyClassName:b.string,footerClassName:b.string,onClickOut:b.func,modal:b.bool,start:b.object,draggable:b.bool,bounds:b.object},a.defaultProps={style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"},s));t.exports=S}).call(this)}finally{}},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(2572),o=i(r),a=n(3076),s=i(a);e.default=function(t,e,n){return o.default(t,e,n),{remove:function(){s.default(t,e,n)}}},t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return t="function"==typeof t?t():t,o.default.findDOMNode(t)||e}e.__esModule=!0,e.default=i;var r=n(43),o=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if("object"!=typeof t[e]||"function"!=typeof t[e].render&&1!==t[e].nodeType)return new Error(r.errMsg(t,e,n,", expected a DOM element or an object that has a `render` method"))}e.__esModule=!0;var r=n(2577);e.default=r.createChainableTypeChecker(i),t.exports=e.default},,,function(t,e,n){"use strict";function i(t,e){return{type:b,layer:t,enabled:e}}function r(t){return{type:_,status:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.code,n=t.templateId,i=t.format,r=t.languageVersion,o=t.init;return{type:w,code:e,templateId:n,format:i,init:o,languageVersion:r}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.temporaryId,n=t.templateId,i=t.code,r=t.format,o=t.languageVersion,a=t.init;return{type:x,temporaryId:e,templateId:n,code:i,format:r,init:a,languageVersion:o}}function s(t){return{type:T,status:t}}function l(){return{type:k}}function u(t){return{type:C,settings:t}}function c(){return{type:E}}function h(t){return{type:S,add:t}}function p(t,e){return{type:O,status:t,error:e}}function d(){return{type:L}}function f(t){return{type:I,code:t}}function g(t){return{type:A,styleName:t}}function m(t,e){return{type:P,service:t,canEdit:e}}function y(t){return{type:M,canEdit:t}}function v(){return{type:N}}var b="STYLEEDITOR:TOGGLE_STYLE_EDITOR",w="STYLEEDITOR:SELECT_STYLE_TEMPLATE",x="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",_="STYLEEDITOR:UPDATE_STATUS",E="STYLEEDITOR:RESET_STYLE_EDITOR",S="STYLEEDITOR:ADD_STYLE",C="STYLEEDITOR:CREATE_STYLE",T="STYLEEDITOR:LOADING_STYLE",k="STYLEEDITOR:LOADED_STYLE",O="STYLEEDITOR:ERROR_STYLE",L="STYLEEDITOR:UPDATE_STYLE_CODE",I="STYLEEDITOR:EDIT_STYLE_CODE",A="STYLEEDITOR:DELETE_STYLE",P="STYLEEDITOR:INIT_STYLE_SERVICE",M="STYLEEDITOR:SET_EDIT_PERMISSION",N="STYLEEDITOR:SET_DEFAULT_STYLE";t.exports={UPDATE_TEMPORARY_STYLE:x,UPDATE_STATUS:_,TOGGLE_STYLE_EDITOR:b,RESET_STYLE_EDITOR:E,SELECT_STYLE_TEMPLATE:w,CREATE_STYLE:C,LOADING_STYLE:T,LOADED_STYLE:k,ADD_STYLE:S,ERROR_STYLE:O,UPDATE_STYLE_CODE:L,EDIT_STYLE_CODE:I,DELETE_STYLE:A,INIT_STYLE_SERVICE:P,SET_EDIT_PERMISSION:M,SET_DEFAULT_STYLE:N,updateTemporaryStyle:a,updateStatus:r,toggleStyleEditor:i,resetStyleEditor:c,selectStyleTemplate:o,createStyle:u,loadingStyle:s,loadedStyle:l,addStyle:h,errorStyle:p,updateStyleCode:d,editStyleCode:f,deleteStyle:g,initStyleService:m,setEditPermissionStyleEditor:y,setDefaultStyle:v}},,function(t,e,n){t.exports=n.p+"symbolMissing.svg"},,,,,,function(t,e,n){"use strict";t.exports=n(2971)},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Message:{displayName:"Message"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/I18N/HTML.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(435),w=b.FormattedHTMLMessage,x=function(t){return function(e){return m(e,t)}}("Message")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){return this.context.intl?v.createElement(w,{id:this.props.msgId,values:this.props.msgParams}):v.createElement("span",null,this.props.msgId||"")}}]),e}(v.Component),a.propTypes={msgId:y.string.isRequired,msgParams:y.object},a.contextTypes={intl:y.object},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.style,i=void 0===n?{display:"inline-block"}:n;return e.createElement("div",{style:i,className:"mapstore-inline-loader"})}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(38);t.exports=function(t){return function(n){return i.createElement(t,e({},n,{container:document.querySelector("."+(r.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={InfoPopover:{displayName:"InfoPopover"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/widgets/widget/InfoPopover.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(43),b=n(4),w=n(854),x=w.Popover,_=w.Glyphicon,E=n(2561),S=n(2165),C=function(t){return function(e){return m(e,t)}}("InfoPopover")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"renderPopover",value:function(){return y.createElement(x,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,
title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var t=this;return y.createElement(_,{ref:function(e){t.target=e},className:"text-"+this.props.bsStyle,glyph:this.props.glyph})}},{key:"render",value:function(){var t=this,e=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return y.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?y.createElement(S,{trigger:e,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),y.createElement(E,{placement:this.props.placement,show:!0,target:function(){return v.findDOMNode(t.target)}},this.renderPopover())])}}]),e}(y.Component),a.propTypes={id:b.string,title:b.string,text:b.string,glyph:b.string,bsStyle:b.string,placement:b.string,left:b.number,top:b.number,trigger:b.oneOf([b.array,b.bool])},a.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]},s));t.exports=C}).call(this)}finally{}},,,,,function(t,e,n){var i=n(275),r=n(3199),o=r;o.v1=i,o.v4=r,t.exports=o},,function(t,e,n){var i=n(202).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return i(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},,,,function(t,e,n){"use strict";var i=n(12),r=n(2753),o=n(38),a={getLayerConfig:function(t,e){var n=r,a=t.split("."),s=a[0],l=a[1];if(!n[s])throw"No such provider ("+s+")";var u={url:n[s].url,options:n[s].options};if(l&&"variants"in n[s]){if(!(l in n[s].variants))throw"No such variant of "+s+" ("+l+")";var c=n[s].variants[l],h=void 0;h="string"==typeof c?{variant:c}:c.options,u={url:c.url||u.url,options:i({},u.options,h)}}else"function"==typeof u.url&&(u.url=u.url(a.splice(1,a.length-1).join(".")));var p="file:"===window.location.protocol||u.options.forceHTTP;0===u.url.indexOf("//")&&p&&(u.url="http:"+u.url),u.options.retina&&(e.detectRetina&&o.getBrowserProperties().retina?e.detectRetina=!1:u.options.retina="");u.options.attribution=function t(e){return-1===e.indexOf("{attribution.")?e:e.replace(/\{attribution.(\w*)\}/,function(e,i){return t(n[i].options.attribution)})}(u.options.attribution);var d=i({},u.options,e);return[u.url,d]}};t.exports=a},,function(t,e,n){"use strict";function i(t,e){return t&&t.type===e}function r(t){return 0===t.min&&0===t.max?"*":0===t.min&&1===t.max?"?":1===t.min&&0===t.max?t.comma?"#":"+":1===t.min&&1===t.max?"":(t.comma?"#":"")+"{"+t.min+(t.min!==t.max?","+(0!==t.max?t.max:""):"")+"}"}function o(t,e,n){var r="";return(t.explicit||e)&&(r+="["+(i(t.terms[0],"Comma")?"":" ")),r+=t.terms.map(function(t){return s(t,e,n)}).join(" "===t.combinator?" ":" "+t.combinator+" "),(t.explicit||e)&&(r+=" ]"),r}function a(t,e,n){return t.terms.length?"( "+o(t,e,n)+" )":"()"}function s(t,e,n){if(Array.isArray(t))return t.map(function(t){return s(t,e,n)}).join("");var i;switch(t.type){case"Group":i=o(t,e,n)+(t.disallowEmpty?"!":"")+r(t.multiplier);break;case"Keyword":i=t.name;break;case"Function":i=t.name+a(t.children,e,n);break;case"Parentheses":i=a(t.children,e,n);break;case"Type":i="<"+t.name+">";break;case"Property":i="<'"+t.name+"'>";break;case"Combinator":case"Slash":case"Percent":case"String":case"Comma":i=t.value;break;default:throw new Error("Unknown node type: "+t.type)}return"function"==typeof n&&(i=n(i,t)),i}t.exports=s},function(t,e,n){t.exports={AnPlusB:n(2838),Atrule:n(2839),AtrulePrelude:n(2840),AttributeSelector:n(2841),Block:n(2842),Brackets:n(2843),CDC:n(2844),CDO:n(2845),ClassSelector:n(2846),Combinator:n(2847),Comment:n(2848),Declaration:n(2849),DeclarationList:n(2850),Dimension:n(2851),Function:n(2852),HexColor:n(2853),Identifier:n(2855),IdSelector:n(2854),MediaFeature:n(2856),MediaQuery:n(2857),MediaQueryList:n(2858),Nth:n(2859),Number:n(2860),Operator:n(2861),Parentheses:n(2862),Percentage:n(2863),PseudoClassSelector:n(2864),PseudoElementSelector:n(2865),Ratio:n(2866),Raw:n(2867),Rule:n(2868),Selector:n(2869),SelectorList:n(2870),String:n(2871),StyleSheet:n(2872),TypeSelector:n(2873),UnicodeRange:n(2874),Url:n(2875),Value:n(2876),WhiteSpace:n(2877)}},,function(t,e,n){"use strict";function i(t){return Boolean(t&&"function"==typeof t.dispose)}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if("string"!=typeof e){if(h){var p=c(e);p&&p!==h&&i(t,p,n)}var d=s(e);l&&(d=d.concat(l(e)));for(var f=0;f<d.length;++f){var g=d[f];if(!(r[g]||o[g]||n&&n[g])){var m=u(e,g);try{a(t,g,m)}catch(t){}}}return t}return t}var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,h=c&&c(Object);t.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(t===e)return!0;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!r.call(e,n[o])||t[n[o]]!==e[n[o]])return!1;if(t[n[o]]!==e[n[o]])return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},,,function(t,e,n){try{(function(){"use strict";var e=n(857),i=n(14),r=i.isArray,o=n(80),a=o.reproject,s=function(t){return[t.getWest(),t.getSouth(),t.getEast(),t.getNorth()]},l=function(t){var e=t.toGeoJSON(),n=t.getBounds(),i=s(n),r=n.getCenter(),o=t.getRadius?t.getRadius():0,a=e.features[0].geometry.coordinates;return{type:e.features[0].geometry.type,extent:i,center:r,coordinates:a,radius:o,projection:"EPSG:4326"}},u=function(t,e,n,i){if(r(e)&&r(e[0])&&r(e[0][0])){var o=a(e[0][0],i,n);return Math.sqrt(Math.pow(t[0]-o.x,2)+Math.pow(t[1]-o.y,2))}return 100},c=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(!t.getGeometry()||"Polygon"!==t.getGeometry().getType()||t.getProperties().center&&0===t.getProperties().center.length)return t;if(t.getProperties()&&t.getProperties().isCircle&&t.getProperties().center&&t.getProperties().center[0]&&t.getProperties().center[1]){var r=t.getGeometry().getExtent(),o=void 0;t.getProperties().center?(o=a(t.getProperties().center,"EPSG:4326",n),o=[o.x,o.y]):o=e.extent.getCenter(r);var s=u(o,t.getGeometry().getCoordinates(),n,i);return t.setGeometry(new e.geom.Circle(o,s)),t}return t};t.exports={transformPolygonToCircle:c,boundsToOLExtent:s,fromLeafletFeatureToQueryform:l}}).call(this)}finally{}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(0),o=i(r),a=n(43),s=i(a),l=n(2248),u=i(l),c=n(2190),h=i(c),p=n(2247),d=i(p),f=o.default.createClass({displayName:"Portal",propTypes:{container:o.default.PropTypes.oneOfType([u.default,o.default.PropTypes.func])},componentDidMount:function(){this._renderOverlay()},componentDidUpdate:function(){this._renderOverlay()},componentWillReceiveProps:function(t){this._overlayTarget&&t.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=d.default(t.container,h.default(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},componentWillUnmount:function(){this._unrenderOverlay(),this._unmountOverlayTarget()},_mountOverlayTarget:function(){this._overlayTarget||(this._overlayTarget=document.createElement("div"),this._portalContainerNode=d.default(this.props.container,h.default(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},_unmountOverlayTarget:function(){this._overlayTarget&&(this._portalContainerNode.removeChild(this._overlayTarget),this._overlayTarget=null),this._portalContainerNode=null},_renderOverlay:function(){var t=this.props.children?o.default.Children.only(this.props.children):null;null!==t?(this._mountOverlayTarget(),this._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(this,t,this._overlayTarget)):(this._unrenderOverlay(),this._unmountOverlayTarget())},_unrenderOverlay:function(){this._overlayTarget&&(s.default.unmountComponentAtNode(this._overlayTarget),this._overlayInstance=null)},render:function(){return null},getMountNode:function(){return this._overlayTarget},getOverlayDOMNode:function(){if(!this.isMounted())throw new Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return this._overlayInstance?this._overlayInstance.getWrappedDOMNode?this._overlayInstance.getWrappedDOMNode():s.default.findDOMNode(this._overlayInstance):null}});e.default=f,t.exports=e.default},function(t,e,n){"use strict";var i=n(2217);t.exports=function(t,e){var n=i(t);if(void 0===e)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:t.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,e):t.scrollTop=e}},function(t,e,n){"use strict";var i=n(2575),r=n(3086),o=n(3081),a=n(3082),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var l="",u=e;if("string"==typeof e){if(void 0===n)return t.style[i(e)]||o(t).getPropertyValue(r(e));(u={})[e]=n}for(var c in u)s.call(u,c)&&(u[c]||0===u[c]?l+=r(c)+":"+u[c]+";":a(t,r(c)));t.style.cssText+=";"+l}},,,,,,,function(t,e,n){var i;!function(r){function o(t,e){if(t=t||"",e=e||{},t instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=a(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Y(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Y(this._r)),this._g<1&&(this._g=Y(this._g)),this._b<1&&(this._b=Y(this._b)),this._ok=n.ok,this._tc_id=H++}function a(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,l=!1;return"string"==typeof t&&(t=j(t)),"object"==typeof t&&(G(t.r)&&G(t.g)&&G(t.b)?(e=s(t.r,t.g,t.b),a=!0,l="%"===String(t.r).substr(-1)?"prgb":"rgb"):G(t.h)&&G(t.s)&&G(t.v)?(i=D(t.s),r=D(t.v),e=h(t.h,i,r),a=!0,l="hsv"):G(t.h)&&G(t.s)&&G(t.l)&&(i=D(t.s),o=D(t.l),e=u(t.h,i,o),a=!0,l="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=O(n),{ok:a,format:t.format||l,r:V(255,W(e.r,0)),g:V(255,W(e.g,0)),b:V(255,W(e.b,0)),a:n}}function s(t,e,n){return{r:255*L(t,255),g:255*L(e,255),b:255*L(n,255)}}function l(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var i,r,o=W(t,e,n),a=V(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function u(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=L(t,360),e=L(e,100),n=L(n,100),0===e)r=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=i(l,s,t+1/3),o=i(l,s,t),a=i(l,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function c(t,e,n){t=L(t,255),e=L(e,255),n=L(n,255);var i,r,o=W(t,e,n),a=V(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function h(t,e,n){t=6*L(t,360),e=L(e,100),n=L(n,100);var i=r.floor(t),o=t-i,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),u=i%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}function p(t,e,n,i){var r=[N(Y(t).toString(16)),N(Y(e).toString(16)),N(Y(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function d(t,e,n,i,r){var o=[N(Y(t).toString(16)),N(Y(e).toString(16)),N(Y(n).toString(16)),N(R(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function f(t,e,n,i){return[N(R(i)),N(Y(t).toString(16)),N(Y(e).toString(16)),N(Y(n).toString(16))].join("")}function g(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=I(n.s),o(n)}function m(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=I(n.s),o(n)}function y(t){return o(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=I(n.l),o(n)}function b(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=W(0,V(255,n.r-Y(-e/100*255))),n.g=W(0,V(255,n.g-Y(-e/100*255))),n.b=W(0,V(255,n.b-Y(-e/100*255))),o(n)}function w(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=I(n.l),o(n)}function x(t,e){var n=o(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,o(n)}function _(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function E(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+120)%360,s:e.s,l:e.l}),o({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+90)%360,s:e.s,l:e.l}),o({h:(n+180)%360,s:e.s,l:e.l}),o({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var i=o(t).toHsl(),r=360/n,a=[o(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,a.push(o(i));return a}function k(t,e){e=e||6;for(var n=o(t).toHsv(),i=n.h,r=n.s,a=n.v,s=[],l=1/e;e--;)s.push(o({h:i,s:r,v:a})),a=(a+l)%1;return s}function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function L(t,e){P(t)&&(t="100%");var n=M(t);return t=V(e,W(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function I(t){return V(1,W(0,t))}function A(t){return parseInt(t,16)}function P(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function M(t){return"string"==typeof t&&-1!=t.indexOf("%")}function N(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function R(t){return r.round(255*parseFloat(t)).toString(16)}function F(t){return A(t)/255}function G(t){return!!K.CSS_UNIT.exec(t)}function j(t){t=t.replace(U,"").replace(B,"").toLowerCase();var e=!1;if(Z[t])t=Z[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=K.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=K.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=K.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=K.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=K.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=K.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=K.hex8.exec(t))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:F(n[4]),format:e?"name":"hex8"}:(n=K.hex6.exec(t))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:e?"name":"hex"}:(n=K.hex4.exec(t))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=K.hex3.exec(t))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:e?"name":"hex"}}function z(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var U=/^\s+/,B=/\s+$/,H=0,Y=r.round,V=r.min,W=r.max,q=r.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i,o,a,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,i=t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=O(t),this._roundA=Y(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=Y(360*t.h),n=Y(100*t.s),i=Y(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=l(this._r,this._g,this._b),e=Y(360*t.h),n=Y(100*t.s),i=Y(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return p(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Y(this._r),g:Y(this._g),b:Y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+")":"rgba("+Y(this._r)+", "+Y(this._g)+", "+Y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Y(100*L(this._r,255))+"%",g:Y(100*L(this._g,255))+"%",b:Y(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Y(100*L(this._r,255))+"%, "+Y(100*L(this._g,255))+"%, "+Y(100*L(this._b,255))+"%)":"rgba("+Y(100*L(this._r,255))+"%, "+Y(100*L(this._g,255))+"%, "+Y(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(X[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=o(t);n="#"+f(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},o.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:D(t[i]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:q(),g:q(),b:q()})},o.mix=function(t,e,n){n=0===n?0:n||50;var i=o(t).toRgb(),r=o(e).toRgb(),a=n/100;return o({r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a})},o.readability=function(t,e){var n=o(t),i=o(e);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},o.isReadable=function(t,e,n){var i,r,a=o.readability(t,e);switch(r=!1,i=z(n),i.level+i.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},o.mostReadable=function(t,e,n){var i,r,a,s,l=null,u=0;n=n||{},r=n.includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<e.length;c++)(i=o.readability(t,e[c]))>u&&(u=i,l=o(e[c]));return o.isReadable(t,l,{level:a,size:s})||!r?l:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var Z=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X=o.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(Z),K=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==t&&t.exports?t.exports=o:void 0!==(i=function(){return o}.call(e,n,e,t))&&(t.exports=i)}(Math)},,,,,,function(t,e,n){"use strict";function i(t){return{type:a,status:t}}function r(t){return{type:l,featuresPath:t}}function o(t,e){return{type:s,features:t,status:e}}var a="HIGHLIGHT_STATUS",s="UPDATE_HIGHLIGHTED",l="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";t.exports={HIGHLIGHT_STATUS:a,highlightStatus:i,UPDATE_HIGHLIGHTED:s,updateHighlighted:o,SET_HIGHLIGHT_FEATURES_PATH:l,setHighlightFeaturesPath:r}},function(t,e,n){"use strict";function i(t,e,n,i){return{type:_,feature:t,value:e,uom:n,measureTool:i}}function r(t){return f({type:g},t)}function o(t){return function(e){e(r(t))}}function a(t,e,n){return{type:y,uom:t,value:e,previousUom:n}}function s(t){return{type:v,feature:t}}function l(t){return{type:w,format:t}}function u(t){return{type:x,coordinates:t}}function c(){return{type:b}}function h(t){return{type:E,measures:t}}function p(t){return{type:m,pointMeasureEnabled:t.pointMeasureEnabled,lineMeasureEnabled:t.lineMeasureEnabled,areaMeasureEnabled:t.areaMeasureEnabled,bearingMeasureEnabled:t.bearingMeasureEnabled,geomType:t.geomType,point:t.point,len:t.len,area:t.area,bearing:t.bearing,lenUnit:t.lenUnit,areaUnit:t.areaUnit,feature:t.feature}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:S,defaultOptions:t}}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g="CHANGE_MEASUREMENT_TOOL",m="CHANGE_MEASUREMENT_STATE",y="MEASUREMENT:CHANGE_UOM",v="MEASUREMENT:CHANGED_GEOMETRY",b="MEASUREMENT:RESET_GEOMETRY",w="MEASUREMENT:CHANGE_FORMAT",x="MEASUREMENT:CHANGE_COORDINATES",_="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",E="MEASUREMENT:UPDATE_MEASURES",S="MEASUREMENT:INIT";t.exports={CHANGE_MEASUREMENT_TOOL:g,CHANGE_MEASUREMENT_STATE:m,changeUom:a,CHANGE_UOM:y,changeGeometry:s,CHANGED_GEOMETRY:v,changeFormatMeasurement:l,CHANGE_FORMAT:w,updateMeasures:h,UPDATE_MEASURES:E,changeCoordinates:u,CHANGE_COORDINATES:x,resetGeometry:c,RESET_GEOMETRY:b,addAnnotation:i,ADD_MEASURE_AS_ANNOTATION:_,init:d,INIT:S,changeMeasurement:o,toggleMeasurement:r,changeMeasurementState:p}},function(t,e,n){"use strict";var i=n(0),r=n(428),o=r.branch,a=r.nest,s=function(t,e,n){var r=n.maskContainerStyle,o=n.maskStyle,s=n.className,l=n.white;return function(n){return a(function(n){return i.createElement("div",{className:"ms2-mask-container "+(s||"")+" "+(!t(n)&&"ms2-mask-empty"||""),style:r},n.children,t(n)?i.createElement("div",{className:"ms2-mask"+(l?" white-mask":""),style:o},e(n)):null)},n)}};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.alwaysWrap,r=void 0===i||i,a=n.white,l=void 0!==a&&a,u=n.maskContainerStyle,c=void 0===u?{}:u,h=n.maskStyle,p=void 0===h?{}:h,d=n.className;return r?s(t,e,{maskContainerStyle:c,maskStyle:p,className:d,white:l}):o(t,s(function(){return!0},e,{maskContainerStyle:c,maskStyle:p,white:l}))}},,,,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var csstree=__webpack_require__(2814),assign=__webpack_require__(12),css={fontawesome:__webpack_require__(2970)},baseImageUrl=__webpack_require__(3180),shadowImageUrl=__webpack_require__(3181),baseImage=new Image,shadowImage=new Image;baseImage.src=baseImageUrl,shadowImage.src=shadowImageUrl;var getNodeOfType=function t(e,n){return n(e)?e:e.children?e.children.reduce(function(e,i){return t(i,n)||e},null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=csstree.toPlainObject(csstree.parse(css[font]));return parsedCss.children.reduce(function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,function(t){return"ClassSelector"===t.type}),pseudoClassSelector=getNodeOfType(rule.prelude,function(t){return"PseudoClassSelector"===t.type});if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,function(t){return"Declaration"===t.type&&"content"===t.property}).value,function(t){return"String"===t.type}).value;return assign(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous},{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[baseImageUrl,shadowImageUrl],images:[shadowImage,baseImage]},getOffsets=function(t,e){return[-extraMarkers.colors.indexOf(t)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(e)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:assign({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(t){var e=t.iconColor,n=t.iconShape,i=t.iconGlyph;if(MarkerUtils.extraMarkers.images){var r=document.createElement("canvas"),o=extraMarkers.size;r.width=o[0],r.height=o[1];var a=r.getContext("2d"),s=getOffsets(e,n);a.drawImage(extraMarkers.images[0],4,31,35,16),a.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),o[0],o[1],0,0,o[0],o[1]),a.font="14px FontAwesome",a.fillStyle="rgb(255,255,255)",a.textBaseline="middle",a.textAlign="center",a.fillText(MarkerUtils.getGlyphs("fontawesome")[i]||"",o[0]/2-2,o[1]/2-7);var l=r.toDataURL("image/png");return r=null,l}},matches:function(t,e){return t.iconColor===e.color&&t.iconShape===e.shape},getStyle:function(t){return{iconColor:t.color,iconShape:t.shape}},getGrid:function(){return extraMarkers.shapes.map(function(t){return{name:t,markers:extraMarkers.colors.map(function(e){return{name:e,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(e,t),style:{color:e,shape:t},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(e,t)[0],backgroundPositionY:getOffsets(e,t)[1],cursor:"pointer"}}})}})}}),getGlyphs:function(t){return glyphs[t]||(glyphs[t]=loadGlyphs(t)),glyphs[t]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},module.exports=MarkerUtils},function(t,e,n){"use strict";var i=n(14),r=i.isEqualWith,o=i.isObject,a=n(195),s=a.defaultMemoize,l=a.createSelectorCreator,u=function(t,e){return t===e},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(e,n){return Array.isArray(e)&&Array.isArray(n)?e===n||e.length===n.length&&e.reduce(function(e,i,r){return e&&t(i,n[r])},!0):o(e)&&o(n)?e===n||Object.keys(e).length===Object.keys(n).length&&Object.keys(e).reduce(function(i,r){return i&&t(e[r],n[r])},!0):e===n}},h=l(s,function(t,e){return r(t,e,c())}),p=function(t){return l(s,function(e,n){return r(e,n,c(t))})};t.exports={createShallowSelector:h,createShallowSelectorCreator:p}},,function(t,e){t.exports=function(){for(var t=arguments.length,e=[],n=0;n<t;n++)e[n]=arguments[n];if(e=e.filter(function(t){return null!=t}),0!==e.length)return 1===e.length?e[0]:e.reduce(function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}})}},,,,,function(t,e,n){"use strict";function i(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-h)),i=setTimeout(t,n);return h=e,i}var r=n(34);e.__esModule=!0,e.default=void 0;var o,a=r(n(100)),s=["","webkit","moz","o","ms"],l="clearTimeout",u=i,c=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};a.default&&s.some(function(t){var e=c(t,"request");if(e in window)return l=c(t,"cancel"),u=function(t){return window[e](t)}});var h=(new Date).getTime();o=function(t){return u(t)},o.cancel=function(t){window[l]&&"function"==typeof window[l]&&window[l](t)};var p=o;e.default=p,t.exports=e.default},function(t,e,n){!function(t,n){n(e)}(0,function(t){
"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function i(){}function r(){}function o(){}function a(){}function s(){}function l(){}function u(t){this.message=t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){if(0===arguments.length)u.call(this);else if(1===arguments.length){var t=arguments[0];u.call(this,t)}}function p(){}function d(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)d.call(this,0,0);else if(1===arguments.length){var t=arguments[0];d.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];d.call(this,e,n,d.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.x=i,this.y=r,this.z=o}}function f(){if(this.dimensionsToTest=2,0===arguments.length)f.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function m(){}function y(t){this.message=t||""}function v(){}function b(t){this.message=t||""}function w(t){this.message=t||""}function x(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function _(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function E(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.init(r,o,a,s)}}function S(){}function C(){S.call(this,"Projective point not representable on the Cartesian plane.")}function T(){}function k(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function O(){}function L(t){this.str=t}function I(t){this.value=t}function A(){}function P(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof P){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];P.call(this,P.parse(n))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i,r)}}function M(){}function N(){}function D(){}function R(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof R&&arguments[1]instanceof R){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2];this.x=s,this.y=l,this.w=u}else if(4===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2],f=arguments[3],g=c.y-h.y,m=h.x-c.x,y=c.x*h.y-h.x*c.y,v=p.y-f.y,b=f.x-p.x,w=p.x*f.y-f.x*p.y;this.x=m*w-b*y,this.y=v*y-g*w,this.w=g*b-v*m}}function F(){}function G(){}function j(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function z(){}function U(){}function B(){}function H(){}function Y(){}function V(){}function W(){}function q(){}function Z(){}function X(){}function K(){}function Q(){}function J(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function $(t){return null==t?$o:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function at(){}function st(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function lt(){}function ut(){}function ct(){}function ht(){}function pt(){this.geometries=null;var t=arguments[0],e=arguments[1];if(j.call(this,e),null===t&&(t=[]),j.hasNullElements(t))throw new i("geometries must not contain null elements");this.geometries=t}function dt(){var t=arguments[0],e=arguments[1];pt.call(this,t,e)}function ft(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];ft.call(this,t,U.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function gt(){this.count=null}function mt(){}function yt(){}function vt(){}function bt(){}function wt(){}function xt(){}function _t(){}function Et(){}function St(){this.points=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function Ct(){}function Tt(){this.coordinates=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function kt(){}function Ot(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(j.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),j.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&j.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this.shell=t,this.holes=e}function Lt(){var t=arguments[0],e=arguments[1];pt.call(this,t,e)}function It(){if(arguments[0]instanceof d&&arguments[1]instanceof ne){var t=arguments[0],e=arguments[1];It.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(k(arguments[0],N)&&arguments[1]instanceof ne){var n=arguments[0],i=arguments[1];St.call(this,n,i),this.validateConstruction()}}function At(){var t=arguments[0],e=arguments[1];pt.call(this,t,e)}function Pt(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function Mt(){}function Nt(){}function Dt(){}function Rt(){}function Ft(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Ft.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;e>n;n++)this.coordinates[n]=new d}else if(k(arguments[0],N)){var i=arguments[0];if(null===i)return this.coordinates=new Array(0).fill(null),null;this.dimension=i.getDimension(),this.coordinates=new Array(i.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this.coordinates=r,this.dimension=o,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this.coordinates=new Array(a).fill(null),this.dimension=s;for(var n=0;a>n;n++)this.coordinates[n]=new d}}function Gt(){}function jt(t,e){return t===e||t!==t&&e!==e}function zt(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function Ut(t){return this.has(t)&&(this._keys.splice(ea,1),this._values.splice(ea,1),this._itp.forEach(function(t){ea<t[0]&&t[0]--})),ea>-1}function Bt(t){return this.has(t)?this._values[ea]:void 0}function Ht(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(ea=t.length;ea--&&!jt(t[ea],e););else ea=t.indexOf(e);return ea>-1}function Yt(t){return Ht.call(this,this._keys,t)}function Vt(t,e){return this.has(t)?this._values[ea]=e:this._values[this._keys.push(t)-1]=e,this}function Wt(){(this._keys||0).length=this._values.length=0}function qt(){return Kt(this._itp,this._keys)}function Zt(){return Kt(this._itp,this._values)}function Xt(){return Kt(this._itp,this._keys,this._values)}function Kt(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,a=i[0];return!r&&a<e.length?(o=n?[e[a],n[a]]:e[a],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function Qt(){return this._values.length}function Jt(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}function $t(){this.map_=new ra}function te(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=te.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ee){var t=arguments[0];this.modelType=t,t===te.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=te.FIXED,this.setScale(e)}else if(arguments[0]instanceof te){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function ee(){this.name=null;var t=arguments[0];this.name=t,ee.nameToTypeMap.put(t,this)}function ne(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)ne.call(this,new te,0);else if(1===arguments.length){if(k(arguments[0],F)){var t=arguments[0];ne.call(this,new te,0,t)}else if(arguments[0]instanceof te){var e=arguments[0];ne.call(this,e,0,ne.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];ne.call(this,n,i,ne.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.precisionModel=r,this.coordinateSequenceFactory=a,this.SRID=o}}function ie(t){this.geometryFactory=t||new ne}function re(t){this.parser=new ie(t)}function oe(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new d,this.intPt[1]=new d,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function ae(){oe.apply(this)}function se(){}function le(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function ue(){}function ce(){if(this.p0=null,this.p1=null,0===arguments.length)ce.call(this,new d,new d);else if(1===arguments.length){var t=arguments[0];ce.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3];ce.call(this,new d(i,r),new d(o,a))}}function he(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ut.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];he.call(this),this.set(t)}else if(arguments[0]instanceof he){var e=arguments[0];he.call(this),this.matrix[T.INTERIOR][T.INTERIOR]=e.matrix[T.INTERIOR][T.INTERIOR],this.matrix[T.INTERIOR][T.BOUNDARY]=e.matrix[T.INTERIOR][T.BOUNDARY],this.matrix[T.INTERIOR][T.EXTERIOR]=e.matrix[T.INTERIOR][T.EXTERIOR],this.matrix[T.BOUNDARY][T.INTERIOR]=e.matrix[T.BOUNDARY][T.INTERIOR],this.matrix[T.BOUNDARY][T.BOUNDARY]=e.matrix[T.BOUNDARY][T.BOUNDARY],this.matrix[T.BOUNDARY][T.EXTERIOR]=e.matrix[T.BOUNDARY][T.EXTERIOR],this.matrix[T.EXTERIOR][T.INTERIOR]=e.matrix[T.EXTERIOR][T.INTERIOR],this.matrix[T.EXTERIOR][T.BOUNDARY]=e.matrix[T.EXTERIOR][T.BOUNDARY],this.matrix[T.EXTERIOR][T.EXTERIOR]=e.matrix[T.EXTERIOR][T.EXTERIOR]}}function pe(){this.areaBasePt=null,this.triangleCent3=new d,this.areasum2=0,this.cg3=new d,this.lineCentSum=new d,this.totalLength=0,this.ptCount=0,this.ptCentSum=new d;var t=arguments[0];this.areaBasePt=null,this.add(t)}function de(t){this.message=t||""}function fe(){this.array_=[]}function ge(){this.treeSet=new st,this.list=new x}function me(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];me.call(this,me.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=ge.filterCoordinates(e),this.geomFactory=n}}function ye(){this.origin=null;var t=arguments[0];this.origin=t}function ve(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function be(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new ce,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof St&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];be.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.srcPts=n,this._isClosed=be.isClosed(n),this.snapTolerance=i}}function we(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function xe(){if(ve.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.snapTolerance=n,this.snapPts=i,this.isSelfSnap=r}}function _e(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Ee(){this.commonCoord=null,this.ccFilter=new Se}function Se(){this.commonBitsX=new _e,this.commonBitsY=new _e}function Ce(){this.trans=null;var t=arguments[0];this.trans=t}function Te(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function ke(){if(this.boundaryRule=U.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new i("Rule must be non-null");this.boundaryRule=t}}function Oe(){}function Le(){}function Ie(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Ae(){}function Pe(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function Me(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function Ne(){}function De(){}function Re(){if(this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function Fe(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function Ge(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)Ge.call(this,Ge.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];p.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function je(){}function ze(){}function Ue(){if(0===arguments.length)Ue.call(this,Ue.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];Ge.call(this,t)}}function Be(){var t=arguments[0];Re.call(this,t)}function He(){}function Ye(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new d(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Ve(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function We(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function qe(){}function Ze(){this.nodeList=new Ve(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Xe(){this.tempEnv1=new E,this.tempEnv2=new E,this.overlapSeg1=new ce,this.overlapSeg2=new ce}function Ke(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=i}function Qe(){}function Je(){}function $e(){}function tn(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function en(){if(this.monoChains=new x,this.index=new Ue,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];tn.call(this,t)}}function nn(){Xe.apply(this),this.si=null;var t=arguments[0];this.si=t}function rn(){if(this.pt=null,1===arguments.length){var t=arguments[0];u.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];u.call(this,rn.msgWithCoord(e,n)),this.pt=new d(n)}}function on(){}function an(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function sn(){this.li=new ae,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function ln(){this.nv=null;var t=arguments[0];this.nv=new sn(ln.toSegmentStrings(t))}function un(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function cn(){}function hn(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[cn.ON]=e}else if(arguments[0]instanceof hn){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[cn.ON]=r,this.location[cn.LEFT]=o,this.location[cn.RIGHT]=a}}function pn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new hn(t),this.elt[1]=new hn(t)}else if(arguments[0]instanceof pn){var e=arguments[0];this.elt[0]=new hn(e.elt[0]),this.elt[1]=new hn(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new hn(T.NONE),this.elt[1]=new hn(T.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new hn(r,o,a),this.elt[1]=new hn(r,o,a)}else if(4===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new hn(T.NONE,T.NONE,T.NONE),this.elt[1]=new hn(T.NONE,T.NONE,T.NONE),this.elt[s].setLocations(l,u,c)}}function dn(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new pn(T.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function fn(){var t=arguments[0],e=arguments[1];dn.call(this,t,e)}function gn(){var t=arguments[0],e=arguments[1];dn.call(this,t,e)}function mn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function yn(){mn.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new pn(0,T.NONE)}function vn(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function bn(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];bn.call(this,e,n,i,null)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];bn.call(this,r),this.init(o,a),this.label=s}}function wn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(bn.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function xn(){}function _n(){if(this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length)this.nodes=new vn(new xn);else if(1===arguments.length){var t=arguments[0];this.nodes=new vn(t)}}function En(){this.geometryFactory=null,this.shellList=new x;var t=arguments[0];this.geometryFactory=t}function Sn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function Cn(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function Tn(){}function kn(){this.geom=null;var t=arguments[0];this.geom=t}function On(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[T.NONE,T.NONE]}function Ln(){On.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function In(){xn.apply(this)}function An(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function Pn(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=Pn.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.eventType=Pn.INSERT,this.label=n,this.xValue=i,this.obj=r}}function Mn(){}function Nn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function Dn(){Mn.apply(this),this.events=new x,this.nOverlaps=null}function Rn(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Fn(){}function Gn(){Rn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function jn(){Rn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function zn(){this.leaves=new x,this.root=null,this.level=0}function Un(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function Bn(){this.items=new x}function Hn(){this.index=null;var t=arguments[0];if(!k(t,kt))throw new i("Argument must be Polygonal");this.index=new Vn(t)}function Yn(){this.counter=null;var t=arguments[0];this.counter=t}function Vn(){this.index=new zn;var t=arguments[0];this.init(t)}function Wn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new d(t),this.segmentIndex=e,this.dist=n}function qn(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Zn(){}function Xn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new E,this.env2=new E;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)}function Kn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;2>t;t++)for(var e=0;3>e;e++)this.depth[t][e]=Kn.NULL_VALUE}function Qn(){if(mn.apply(this),this.pts=null,this.env=null,this.eiList=new qn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Kn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Qn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Jn(){if(_n.apply(this),this.parentGeom=null,this.lineEdgeMap=new $t,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new ke,2===arguments.length){var t=arguments[0],e=arguments[1];Jn.call(this,t,e,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.argIndex=n,this.parentGeom=i,this.boundaryNodeRule=r,null!==i&&this.add(i)}}function $n(){if(this.li=new ae,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Jn(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];$n.call(this,e,n,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];i.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Jn(0,i,o),this.arg[1]=new Jn(1,r,o)}}function ti(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=ti.orientation(t)}function ei(){this.edges=new x,this.ocaMap=new rt}function ni(){this.ptLocator=new ke,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new ei,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var t=arguments[0],e=arguments[1];$n.call(this,t,e),this.graph=new _n(new In),this.geomFact=t.getFactory()}function ii(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function ri(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function oi(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function ai(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=oi.avg(this.loY,this.hiY)}function si(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function li(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function ui(){}function ci(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function hi(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function pi(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new ce,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];pi.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function di(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function fi(){ve.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function gi(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function mi(){this._isMarked=!1;var t=arguments[0];gi.call(this,t)}function yi(){this.vertexMap=new $t}function vi(){this._isStart=!1;var t=arguments[0];mi.call(this,t)}function bi(){yi.apply(this)}function wi(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new fe,this.ringStartEdge=null,this.graph=new bi}function xi(){this.items=new x,this.subnode=new Array(4).fill(null)}function _i(){}function Ei(t,e){var n,i,r,o,a={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},s={32:8,64:11}[t];if(o||(n=0>e||0>1/e,isFinite(e)||(o=a[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,s)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;1>r&&i>0;)i--,r*=2;0>=i&&(r/=2),32===t&&i>254&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,s)-1,r=0)}return i}function Si(){this.pt=new d,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function Ci(){xi.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Ti(){}function ki(){xi.apply(this)}function Oi(){this.root=null,this.minExtent=1,this.root=new ki}function Li(t){this.geometryFactory=t||new ne}function Ii(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Li(this.geometryFactory)}function Ai(){this.parser=new Li(this.geometryFactory)}function Pi(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ie(this.geometryFactory)}function Mi(t){return[t.x,t.y]}function Ni(t){this.geometryFactory=t||new ne}function Di(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];Di.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=i,this.isScaled=!this.isIntegerPrecision()}}function Ri(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Fi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function Gi(){if(this.quadrantSegments=Gi.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Gi.CAP_ROUND,this.joinStyle=Gi.JOIN_ROUND,this.mitreLimit=Gi.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Gi.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(a)}}function ji(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function zi(){this.array_=[]}function Ui(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new ji}function Bi(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=ue.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Hi(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function Yi(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,
this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new ce,this.seg1=new ce,this.offset0=new ce,this.offset1=new ce,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new ae,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Gi.JOIN_ROUND&&(this.closingSegLengthFactor=Yi.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function Vi(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Wi(){this.subgraphs=null,this.seg=new ce,this.cga=new ue;var t=arguments[0];this.subgraphs=t}function qi(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new ce(t),this.leftDepth=e}function Zi(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function Xi(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function Ki(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new ei;var t=arguments[0];this.bufParams=t}function Qi(){this.li=new ae,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Ji(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,0>=e)throw new i("Scale factor must be non-zero");1!==e&&(this.pt=new d(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new d,this.p1Scaled=new d),this.initCorners(this.pt)}function $i(){this.tempEnv1=new E,this.selectedSegment=new ce}function tr(){this.index=null;var t=arguments[0];this.index=t}function er(){$i.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function nr(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new x}function ir(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new ae,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function rr(){if(this.argGeom=null,this.distance=null,this.bufParams=new Gi,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function or(){this.comps=null;var t=arguments[0];this.comps=t}function ar(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];ar.call(this,t,ar.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.component=n,this.segIndex=i,this.pt=r}}function sr(){this.pts=null;var t=arguments[0];this.pts=t}function lr(){this.locations=null;var t=arguments[0];this.locations=t}function ur(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new ke,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];ur.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=o}}function cr(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var t=arguments[0];this.factory=t}function hr(){this._isMarked=!1,this._isVisited=!1,this.data=null}function pr(){hr.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Qe.quadrant(r,o),this.angle=Math.atan2(o,r)}function dr(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];pr.call(this,t,e,n,i)}function fr(){if(hr.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function gr(){this.outEdges=new x,this.sorted=!1}function mr(){if(hr.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];mr.call(this,t,new gr)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function yr(){fr.apply(this),this.line=null;var t=arguments[0];this.line=t}function vr(){this.nodeMap=new rt}function br(){this.edges=new J,this.dirEdges=new J,this.nodeMap=new vr}function wr(){br.apply(this)}function xr(){this.graph=new wr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function _r(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];pr.call(this,t,e,n,i)}function Er(){fr.apply(this),this.line=null;var t=arguments[0];this.line=t}function Sr(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Cr(){}function Tr(){br.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function kr(){if(this.lineStringAdder=new Or(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)kr.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function Or(){this.p=null;var t=arguments[0];this.p=t}function Lr(){}function Ir(){if(this.edgeEnds=new x,1===arguments.length){var t=arguments[0];Ir.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);bn.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new pn(e.getLabel())),this.insert(e)}}function Ar(){On.apply(this)}function Pr(){var t=arguments[0],e=arguments[1];yn.call(this,t,e)}function Mr(){xn.apply(this)}function Nr(){this.li=new ae,this.ptLocator=new ke,this.arg=null,this.nodes=new vn(new Mr),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Dr(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Rr(){this.li=new ae,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new d(t.getMinX(),t.getMinY()),this.diagUp1=new d(t.getMaxX(),t.getMaxY()),this.diagDown0=new d(t.getMinX(),t.getMaxY()),this.diagDown1=new d(t.getMaxX(),t.getMinY())}function Fr(){this._isDone=!1}function Gr(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function jr(){Fr.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function zr(){Fr.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Ur(){Fr.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new d,this.p1=new d;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Rr(this.rectEnv)}function Br(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];$n.call(this,t,e),this._relate=new Nr(this.arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];$n.call(this,n,i,r),this._relate=new Nr(this.arg)}}function Hr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Hr.extractFactory(t),this.inputGeoms=t}function Yr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Vr(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Wr(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new x)}function qr(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length){if(k(arguments[0],m)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof j){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.geomFact=i,this.extract(n)}}function Zr(){this.geometryFactory=new ne,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function Xr(){this.items=new x,this.subnode=[null,null]}function Kr(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function Qr(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function Jr(){Xr.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function $r(){Xr.apply(this)}function to(){this.root=null,this.minExtent=1,this.root=new $r}function eo(){}function no(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Kr;var t=arguments[0];this.ring=t,this.buildIndex()}function io(){$i.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function ro(){this.nodes=new vn(new Mr)}function oo(){this.li=new ae,this.geomGraph=null,this.nodeGraph=new ro,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function ao(){this.graph=null,this.rings=new x,this.totalEnv=new E,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function so(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];so.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function lo(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function uo(){Pt.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function co(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function ho(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new ce;var t=arguments[0];this.pts=t}function po(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function fo(){ve.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function go(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];go.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];ce.call(this,n,i),this.parent=r,this.index=o}}function mo(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length){var t=arguments[0];mo.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function yo(){this.index=new Oi}function vo(){this.querySeg=null,this.items=new x;var t=arguments[0];this.querySeg=t}function bo(){this.li=new ae,this.inputIndex=new yo,this.outputIndex=new yo,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function wo(){this.inputIndex=new yo,this.outputIndex=new yo,this.distanceTolerance=0}function xo(){this.inputGeom=null,this.lineSimplifier=new wo,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function _o(){ve.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function Eo(){this.tps=null;var t=arguments[0];this.tps=t}function So(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function Co(){}function To(){}function ko(){}function Oo(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new d(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new d(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.p=new d(i,r,o)}}function Lo(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];Oo.call(this,t)}function Io(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Ao(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Po(){}function Mo(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function No(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];u.call(this,t)}else if(arguments[0]instanceof ce){var e=arguments[0];u.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new ce(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];u.call(this,No.msgWithSpatial(n,i)),this.seg=new ce(i)}}function Do(){}function Ro(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new ce,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/Ro.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new Mo(this)}function Fo(){}function Go(){this.triList=new x}function jo(){this.triList=new x}function zo(){this.coordList=new _,this.triCoords=new x}function Uo(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new ce(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.ls=new ce(n,i),this.data=r}else if(6===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],c=arguments[5];Uo.call(this,new d(o,a,s),new d(l,u,c))}else if(7===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],g=arguments[3],m=arguments[4],y=arguments[5],v=arguments[6];Uo.call(this,new d(h,p,f),new d(g,m,y),v)}}function Bo(){}function Ho(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new d(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.p=new d(n,i),this.left=null,this.right=null,this.count=1,this.data=r}}function Yo(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Yo.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Vo(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Wo(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new To,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new x(t),this.tolerance=e,this.kdt=new Yo(e)}function qo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Zo(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function Xo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Ko(){}Array.prototype.fill||(Array.prototype.fill=function(t){for(var e=Object(this),n=parseInt(e.length,10),i=arguments[1],r=parseInt(i,10)||0,o=0>r?Math.max(n+r,0):Math.min(r,n),a=arguments[2],s=void 0===a?n:parseInt(a,10)||0,l=0>s?Math.max(n+s,0):Math.min(s,n);l>o;o++)e[o]=t;return e}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return 0>t?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,c(h,u),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),e(p.prototype,{interfaces_:function(){return[]},getClass:function(){return p}}),p.shouldNeverReachHere=function(){if(0===arguments.length)p.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new h("Should never reach here"+(null!==t?": "+t:""))}},p.isTrue=function(){if(1===arguments.length){var t=arguments[0];p.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new h:new h(n)}},p.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];p.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(!i.equals(n))throw new h("Expected "+n+" but encountered "+i+(null!==r?": "+r:""))}},e(d.prototype,{setOrdinate:function(t,e){switch(t){case d.X:this.x=e;break;case d.Y:this.y=e;break;case d.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!n.equalsWithTolerance(this.x,e.x,i)&&!!n.equalsWithTolerance(this.y,e.y,i)}},getOrdinate:function(t){switch(t){case d.X:return this.x;case d.Y:return this.y;case d.Z:return this.z}throw new i("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof d&&this.equals2D(t)},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return p.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new d(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+d.hashCode(this.x),t=37*t+d.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,a,l]},getClass:function(){return d}}),d.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(f.prototype,{compare:function(t,e){var n=t,i=e,r=f.compare(n.x,i.x);if(0!==r)return r;var o=f.compare(n.y,i.y);return 0!==o?o:this.dimensionsToTest<=2?0:f.compare(n.z,i.z)},interfaces_:function(){return[s]},getClass:function(){return f}}),f.compare=function(t,e){return e>t?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},d.DimensionalComparator=f,d.serialVersionUID=0x5cbf2c235c7e5800,d.NULL_ORDINATE=r.NaN,d.X=0,d.Y=1,d.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},y.prototype=new Error,y.prototype.name="IndexOutOfBoundsException",v.prototype=Object.create(m.prototype),v.prototype.constructor=v,v.prototype.get=function(){},v.prototype.set=function(){},v.prototype.isEmpty=function(){},b.prototype=new Error,b.prototype.name="NoSuchElementException",w.prototype=new Error,w.prototype.name="OperationNotSupported",x.prototype=Object.create(v.prototype),x.prototype.constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[v,m]},x.prototype.add=function(t){return this.array_.push(t),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},x.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},x.prototype.iterator=function(){return new Qo(this)},x.prototype.get=function(t){if(0>t||t>=this.size())throw new y;return this.array_[t]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},x.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;i>n;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Qo=function(t){this.arrayList_=t,this.position_=0};Qo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new b;return this.arrayList_.get(this.position_++)},Qo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Qo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Qo.prototype.remove=function(){throw new w},c(_,x),e(_.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return x.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=x.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(_.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];x.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof d&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(i))return null}x.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];return this.add(a,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=arguments[2];if(c)for(var h=0;h<l.length;h++)this.add(l[h],u);else for(var h=l.length-1;h>=0;h--)this.add(l[h],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof d){var p=arguments[0],f=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(p>0){var y=this.get(p-1);if(y.equals2D(f))return null}if(m>p){var v=this.get(p);if(v.equals2D(f))return null}}}x.prototype.add.call(this,p,f)}}else if(4===arguments.length){var b=arguments[0],w=arguments[1],_=arguments[2],E=arguments[3],S=1;_>E&&(S=-1);for(var h=_;h!==E;h+=S)this.add(b[h],w);return!0}},closeRing:function(){this.size()>0&&this.add(new d(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return _}}),_.coordArrayType=new Array(0).fill(null),e(E.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof E))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new E;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new E(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof E){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&(n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof d){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=i,this.maxy=i):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),i<this.miny&&(this.miny=i),i>this.maxy&&(this.maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e>t?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new d((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];o>r?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),s>a?(this.miny=a,this.maxy=s):(this.miny=s,this.maxy=a)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+d.hashCode(this.minx),t=37*t+d.hashCode(this.maxx),t=37*t+d.hashCode(this.miny),t=37*t+d.hashCode(this.maxy)},interfaces_:function(){return[o,l]},getClass:function(){return E}}),E.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u>l)&&(!(s>c)&&(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(i.y,r.y),c=Math.max(i.y,r.y),!(u>l)&&!(s>c)))}},E.serialVersionUID=0x51845cd552189800,c(C,S),e(C.prototype,{interfaces_:function(){return[]},getClass:function(){return C}}),e(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.toLocationSymbol=function(t){switch(t){case T.EXTERIOR:return"e";case T.BOUNDARY:return"b";case T.INTERIOR:return"i";case T.NONE:return"-"}throw new i("Unknown location value: "+t)},T.INTERIOR=0,T.BOUNDARY=1,T.EXTERIOR=2,T.NONE=-1,e(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/O.LOG_10},O.min=function(t,e,n,i){var r=t;return r>e&&(r=e),r>n&&(r=n),r>i&&(r=i),r},O.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return e>t?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return r>i?r:i>o?o:i}},O.wrap=function(t,e){return 0>t?e- -t%e:t%e},O.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],i=r;return o>i&&(i=o),a>i&&(i=a),s>i&&(i=s),i}},O.average=function(t,e){return(t+e)/2},O.LOG_10=Math.log(10),L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){return this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str},I.prototype.intValue=function(){return this.value},I.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},I.isNaN=function(t){return Number.isNaN(t)},A.isWhitespace=function(t){
return 32>=t&&t>=0||127==t},A.toUpperCase=function(t){return t.toUpperCase()},e(P.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=P.magnitude(n.hi),r=P.TEN.pow(i);n=n.divide(r),n.gt(P.TEN)?(n=n.divide(P.TEN),i+=1):n.lt(P.ONE)&&(n=n.multiply(P.TEN),i-=1);for(var o=i+1,a=new L,s=P.MAX_PRINT_DIGITS-1,l=0;s>=l;l++){t&&l===o&&a.append(".");var u=Math.trunc(n.hi);if(0>u)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,a.append(h),n=n.subtract(P.valueOf(u)).multiply(P.TEN),c&&n.selfAdd(P.TEN);var p=!0,d=P.magnitude(n.hi);if(0>d&&Math.abs(d)>=s-l&&(p=!1),!p)break}return e[0]=i,a.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,a=null,s=null,l=null,u=null,c=null,h=null;return l=this.hi/n,u=P.SPLIT*l,r=u-l,h=P.SPLIT*n,r=u-r,o=l-r,a=h-n,c=l*n,a=h-a,s=n-a,h=r*a-c+r*s+o*a+o*s,u=(this.hi-c-h+this.lo-l*i)/n,h=l+u,this.hi=h,this.lo=l-h+u,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof P){var t=arguments[0],e=null,n=null,i=null,o=null,a=null,s=null,l=null,u=null;a=this.hi/t.hi,s=P.SPLIT*a,e=s-a,u=P.SPLIT*t.hi,e=s-e,n=a-e,i=u-t.hi,l=a*t.hi,i=u-i,o=t.hi-i,u=e*i-l+e*o+n*i+n*o,s=(this.hi-l-u+this.lo-a*t.lo)/t.hi,u=a+s;return new P(u,a-u+s)}if("number"==typeof arguments[0]){var c=arguments[0];return r.isNaN(c)?P.createNaN():P.copy(this).selfDivide(c,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return P.valueOf(1);var e=new P(this),n=P.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return 0>t?n.reciprocal():n},ceil:function(){if(this.isNaN())return P.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new P(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return P.valueOf(0);if(this.isNegative())return P.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=P.valueOf(e),i=this.subtract(n.sqr()),r=i.hi*(.5*t);return n.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null;return r=this.hi+e,a=r-this.hi,o=r-a,o=e-a+(this.hi-o),s=o+this.lo,n=r+s,i=s+(r-n),this.hi=n+i,this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],n=null,i=null,c=null,h=null,r=null,o=null,a=null,s=null;r=this.hi+l,c=this.lo+u,a=r-this.hi,s=c-this.lo,o=r-a,h=c-s,o=l-a+(this.hi-o),h=u-s+(this.lo-h),a=o+c,n=r+a,i=a+(r-n),a=h+i;var p=n+a,d=a+(n-p);return this.hi=p,this.lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,a=null,s=null,l=null,u=null;l=P.SPLIT*this.hi,r=l-this.hi,u=P.SPLIT*n,r=l-r,o=this.hi-r,a=u-n,l=this.hi*n,a=u-a,s=n-a,u=r*a-l+r*s+o*a+o*s+(this.hi*i+this.lo*n);var c=l+u;r=l-c;var h=u+r;return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return P.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new P(t,e)},negate:function(){return this.isNaN()?this:new P(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof P){var t=arguments[0];return t.isNaN()?P.createNaN():P.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?P.createNaN():P.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=P.magnitude(this.hi);return t>=-3&&20>=t?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(0>i)r="0."+P.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length,a=P.stringOfChar("0",o);r=n+a+".0"}return this.isNegative()?"-"+r:r},reciprocal:function(){var t=null,e=null,n=null,i=null,r=null,o=null,a=null,s=null;r=1/this.hi,o=P.SPLIT*r,t=o-r,s=P.SPLIT*this.hi,t=o-t,e=r-t,n=s-this.hi,a=r*this.hi,n=s-n,i=this.hi-n,s=t*n-a+t*i+e*n+e*i,o=(1-a-s-r*this.lo)/this.hi;var l=r+o;return new P(l,r-l+o)},toSciNotation:function(){if(this.isZero())return P.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=P.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},abs:function(){return this.isNaN()?P.NaN:this.isNegative()?this.negate():new P(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof P){var t=arguments[0];return P.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return P.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof P){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.hi=n,this.lo=i}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?P.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[l,o,a]},getClass:function(){return P}}),P.sqr=function(t){return P.valueOf(t).selfMultiply(t)},P.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return P.parse(t)}if("number"==typeof arguments[0]){return new P(arguments[0])}},P.sqrt=function(t){return P.valueOf(t).sqrt()},P.parse=function(t){for(var e=0,n=t.length;A.isWhitespace(t.charAt(e));)e++;var i=!1;if(n>e){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new P,a=0,s=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,A.isDigit(u)){var c=u-"0";o.selfMultiply(P.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var h=t.substring(e);try{l=I.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+u+"' at position "+e+" in string "+t)}s=a}}var p=o,d=a-s-l;if(0===d)p=o;else if(d>0){var f=P.TEN.pow(d);p=o.divide(f)}else if(0>d){var f=P.TEN.pow(-d);p=o.multiply(f)}return i?p.negate():p},P.createNaN=function(){return new P(r.NaN,r.NaN)},P.copy=function(t){return new P(t)},P.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return e>=10*Math.pow(10,i)&&(i+=1),i},P.stringOfChar=function(t,e){for(var n=new L,i=0;e>i;i++)n.append(t);return n.toString()},P.PI=new P(3.141592653589793,1.2246467991473532e-16),P.TWO_PI=new P(6.283185307179586,2.4492935982947064e-16),P.PI_2=new P(1.5707963267948966,6.123233995736766e-17),P.E=new P(2.718281828459045,1.4456468917292502e-16),P.NaN=new P(r.NaN,r.NaN),P.EPS=1.23259516440783e-32,P.SPLIT=134217729,P.MAX_PRINT_DIGITS=32,P.TEN=P.valueOf(10),P.ONE=P.valueOf(1),P.SCI_NOT_EXPONENT_CHAR="E",P.SCI_NOT_ZERO="0.0E0",e(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.orientationIndex=function(t,e,n){var i=M.orientationIndexFilter(t,e,n);if(1>=i)return i;var r=P.valueOf(e.x).selfAdd(-t.x),o=P.valueOf(e.y).selfAdd(-t.y),a=P.valueOf(n.x).selfAdd(-e.x),s=P.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},M.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},M.intersection=function(t,e,n,i){var r=P.valueOf(i.y).selfSubtract(n.y).selfMultiply(P.valueOf(e.x).selfSubtract(t.x)),o=P.valueOf(i.x).selfSubtract(n.x).selfMultiply(P.valueOf(e.y).selfSubtract(t.y)),a=r.subtract(o),s=P.valueOf(i.x).selfSubtract(n.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),l=P.valueOf(i.y).selfSubtract(n.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),u=s.subtract(l),c=u.selfDivide(a).doubleValue(),h=P.valueOf(t.x).selfAdd(P.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),p=P.valueOf(e.x).selfSubtract(t.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),f=P.valueOf(e.y).selfSubtract(t.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),g=p.subtract(f),m=g.selfDivide(a).doubleValue();return new d(h,P.valueOf(n.y).selfAdd(P.valueOf(i.y).selfSubtract(n.y).selfMultiply(m)).doubleValue())},M.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=r-o;if(r>0){if(0>=o)return M.signum(a);i=r+o}else{if(!(0>r))return M.signum(a);if(o>=0)return M.signum(a);i=-r-o}var s=M.DP_SAFE_EPSILON*i;return a>=s||-a>=s?M.signum(a):2},M.signum=function(t){return t>0?1:0>t?-1:0},M.DP_SAFE_EPSILON=1e-15,e(N.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[a]},getClass:function(){return N}}),N.X=0,N.Y=1,N.Z=2,N.M=3,D.arraycopy=function(t,e,n,i,r){for(var o=0,a=e;e+r>a;a++)n[i+o]=t[a],o++},D.getProperty=function(t){return{"line.separator":"\n"}[t]},e(R.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new C;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new C;return t},getCoordinate:function(){var t=new d;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return R}}),R.intersection=function(t,e,n,i){var o=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,l=n.y-i.y,u=i.x-n.x,c=n.x*i.y-i.x*n.y,h=a*c-u*s,p=l*s-o*c,f=o*u-l*a,g=h/f,m=p/f;if(r.isNaN(g)||r.isInfinite(g)||r.isNaN(m)||r.isInfinite(m))throw new C;return new d(g,m)},e(F.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:k(arguments[0],N)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return F}}),e(G.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return G}}),e(j.prototype,{isGeometryCollection:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof j))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(j.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new E(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),a=r.compareTo(o);if(0!==a)return a}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===j.SORTINDEX_MULTIPOINT||this.getSortIndex()===j.SORTINDEX_MULTILINESTRING||this.getSortIndex()===j.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[a,o,l]},getClass:function(){return j}}),j.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},j.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},j.serialVersionUID=0x799ea46522854c00,j.SORTINDEX_POINT=0,j.SORTINDEX_MULTIPOINT=1,j.SORTINDEX_LINESTRING=2,j.SORTINDEX_LINEARRING=3,j.SORTINDEX_MULTILINESTRING=4,j.SORTINDEX_POLYGON=5,j.SORTINDEX_MULTIPOLYGON=6,j.SORTINDEX_GEOMETRYCOLLECTION=7,j.geometryChangedFilter={interfaces_:function(){return[G]},filter:function(t){t.geometryChangedAction()}},e(z.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return z}}),e(U.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return U}}),e(B.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[U]},getClass:function(){return B}}),e(H.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[U]},getClass:function(){return H}}),e(Y.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[U]},getClass:function(){return Y}}),e(V.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[U]},getClass:function(){return V}}),U.Mod2BoundaryNodeRule=B,U.EndPointBoundaryNodeRule=H,U.MultiValentEndPointBoundaryNodeRule=Y,U.MonoValentEndPointBoundaryNodeRule=V,U.MOD2_BOUNDARY_RULE=new B,U.ENDPOINT_BOUNDARY_RULE=new H,U.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new Y,U.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new V,U.OGC_SFS_BOUNDARY_RULE=U.MOD2_BOUNDARY_RULE,e(W.prototype,{interfaces_:function(){return[]},getClass:function(){return W}}),W.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},W.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(W.indexOf(i,e)<0)return i}return null},W.scroll=function(t,e){var n=W.indexOf(e,t);if(0>n)return null;var i=new Array(t.length).fill(null);D.arraycopy(t,n,i,0,t.length-n),D.arraycopy(t,0,i,t.length-n,n),D.arraycopy(i,0,t,0,t.length)},W.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},W.intersection=function(t,e){for(var n=new _,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},W.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},W.removeRepeatedPoints=function(t){return W.hasRepeatedPoints(t)?new _(t,!1).toCoordinateArray():t},W.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;n>=i;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},W.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},W.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new d(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],n=0;s>n;n++)o[a+n]=new d(i[r+n])},W.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},W.envelope=function(t){for(var e=new E,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},W.toCoordinateArray=function(t){return t.toArray(W.coordArrayType)},W.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},W.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},W.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},W.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},W.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},W.extract=function(t,e,n){e=O.clamp(e,0,t.length),n=O.clamp(n,-1,t.length);var i=n-e+1;0>n&&(i=0),e>=t.length&&(i=0),e>n&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,a=e;n>=a;a++)r[o++]=t[a];return r},e(q.prototype,{compare:function(t,e){var n=t,i=e;return W.compare(n,i)},interfaces_:function(){return[s]},getClass:function(){return q}}),e(Z.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=W.compare(n,i);return W.isEqualReversed(n,i)?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=W.increasingDirection(n),o=W.increasingDirection(i),a=r>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(i[s]);if(0!==u)return u;a+=r,s+=o}return 0},interfaces_:function(){return[s]},getClass:function(){return Z}}),W.ForwardComparator=q,W.BidirectionalComparator=Z,W.coordArrayType=new Array(0).fill(null),X.prototype.get=function(){},X.prototype.put=function(){},X.prototype.size=function(){},X.prototype.values=function(){},X.prototype.entrySet=function(){},K.prototype=new X,Q.prototype=new m,Q.prototype.contains=function(){},J.prototype=new Q,J.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++){if(this.array_[e]===t)return!0}return!1},J.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},J.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},J.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},J.prototype.size=function(){return this.array_.length},J.prototype.isEmpty=function(){return 0===this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},J.prototype.iterator=function(){return new Jo(this)};var Jo=function(t){this.hashSet_=t,this.position_=0};Jo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new b;return this.hashSet_.array_[this.position_++]},Jo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Jo.prototype.remove=function(){throw new w};var $o=0;rt.prototype=new K,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(0>n)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:$o,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,0>(i=t.compareTo(r.key)))r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var a={key:t,left:null,right:null,value:e,parent:n,color:$o,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>i?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(tt(t)==nt(tt(tt(t)))){var e=it(tt(tt(t)));1==$(e)?(et(tt(t),$o),et(e,$o),et(tt(tt(t)),1),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),$o),et(tt(tt(t)),1),this.rotateRight(tt(tt(t))))}else{var e=nt(tt(tt(t)));1==$(e)?(et(tt(t),$o),et(e,$o),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),$o),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=$o},rt.prototype.values=function(){var t=new x,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),at.prototype=new Q,st.prototype=new at,st.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},st.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;n>e;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},st.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},st.prototype.remove=function(t){throw new w},st.prototype.size=function(){return this.array_.length},st.prototype.isEmpty=function(){return 0===this.array_.length},st.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},st.prototype.iterator=function(){return new ta(this)};var ta=function(t){this.treeSet_=t,this.position_=0};ta.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new b;return this.treeSet_.array_[this.position_++]},ta.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ta.prototype.remove=function(){throw new w},lt.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},lt.asList=function(t){for(var e=new x,n=0,i=t.length;i>n;n++)e.add(t[n]);return e},e(ut.prototype,{interfaces_:function(){return[]},getClass:function(){return ut}}),ut.toDimensionSymbol=function(t){switch(t){case ut.FALSE:return ut.SYM_FALSE;case ut.TRUE:return ut.SYM_TRUE;case ut.DONTCARE:return ut.SYM_DONTCARE;case ut.P:return ut.SYM_P;case ut.L:return ut.SYM_L;case ut.A:return ut.SYM_A}throw new i("Unknown dimension value: "+t)},ut.toDimensionValue=function(t){switch(A.toUpperCase(t)){case ut.SYM_FALSE:return ut.FALSE;case ut.SYM_TRUE:return ut.TRUE;case ut.SYM_DONTCARE:return ut.DONTCARE;case ut.SYM_P:return ut.P;case ut.SYM_L:return ut.L;case ut.SYM_A:return ut.A}throw new i("Unknown dimension symbol: "+t)},ut.P=0,ut.L=1,ut.A=2,ut.FALSE=-1,ut.TRUE=-2,ut.DONTCARE=-3,ut.SYM_FALSE="F",ut.SYM_TRUE="T",ut.SYM_DONTCARE="*",ut.SYM_P="0",ut.SYM_L="1",ut.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),c(pt,j),e(pt.prototype,{computeEnvelopeInternal:function(){for(var t=new E,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return j.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)e++,t[e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();lt.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new st(lt.asList(this.geometries)),n=new st(lt.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,a=this.getNumGeometries(),s=o.getNumGeometries(),l=0;a>l&&s>l;){var u=this.getGeometryN(l),c=o.getGeometryN(l),h=u.compareToSameClass(c,r);if(0!==h)return h;l++}return a>l?1:s>l?-1:0}},apply:function(){if(k(arguments[0],z))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(k(arguments[0],ht)){var n=arguments[0];if(0===this.geometries.length)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var i=arguments[0];i.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(k(arguments[0],G)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),p.shouldNeverReachHere(),null},clone:function(){var t=j.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new pt(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.serialVersionUID=-0x4f07bcb1f857d800,c(dt,pt),e(dt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&pt.prototype.equalsExact.call(this,t,e)}return pt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new ft(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new dt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return dt}}),dt.serialVersionUID=0x7155d2ab4afa8000,e(ft.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof St?this.boundaryLineString(this.geom):this.geom instanceof dt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint()
;if(t.isClosed()){return this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new x;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),a=o.getValue(),s=a.count;this.bnRule.isInBoundary(s)&&e.add(o.getKey())}return W.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new ft(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new ft(n,i);return e.getBoundary()}},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(_t.prototype,{interfaces_:function(){return[]},getClass:function(){return _t}}),_t.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;e>i;i++)n[i]=t;return new String(n)},_t.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new bt,n=new mt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",a=new yt(_t.getStackTrace(i)),s=new xt(a),l=0;r>l;l++)try{o+=s.readLine()+_t.NEWLINE}catch(t){if(!(t instanceof wt))throw t;p.shouldNeverReachHere()}return o}},_t.split=function(t,e){for(var n=e.length,i=new x,r=""+t,o=r.indexOf(e);o>=0;){var a=r.substring(0,o);i.add(a),r=r.substring(o+n),o=r.indexOf(e)}r.length>0&&i.add(r);for(var s=new Array(i.size()).fill(null),l=0;l<s.length;l++)s[l]=i.get(l);return s},_t.toString=function(){if(1===arguments.length){var t=arguments[0];return _t.SIMPLE_ORDINATE_FORMAT.format(t)}},_t.spaces=function(t){return _t.chars(" ",t)},_t.NEWLINE=D.getProperty("line.separator"),_t.SIMPLE_ORDINATE_FORMAT=new vt("0.#"),e(Et.prototype,{interfaces_:function(){return[]},getClass:function(){return Et}}),Et.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;r>o;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Et.isRing=function(t){var e=t.size();return 0===e||!(3>=e)&&(t.getOrdinate(0,N.X)===t.getOrdinate(e-1,N.X)&&t.getOrdinate(0,N.Y)===t.getOrdinate(e-1,N.Y))},Et.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;n>o;o++)for(var a=0;i>a;a++){var s=t.getOrdinate(o,a),l=e.getOrdinate(o,a);if(!(t.getOrdinate(o,a)===e.getOrdinate(o,a)||r.isNaN(s)&&r.isNaN(l)))return!1}return!0},Et.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Et.copy(e,0,i,0,r),r>0)for(var o=r;n>o;o++)Et.copy(e,r-1,i,o,1);return i},Et.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;n>=i;i++)Et.swap(t,i,e-i)},Et.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Et.copy=function(t,e,n,i,r){for(var o=0;r>o;o++)Et.copyCoord(t,e+o,n,i+o)},Et.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new L;i.append("(");for(var r=0;e>r;r++){r>0&&i.append(" ");for(var o=0;n>o;o++)o>0&&i.append(","),i.append(_t.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Et.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:3>=n?Et.createClosedRing(t,e,4):e.getOrdinate(0,N.X)===e.getOrdinate(n-1,N.X)&&e.getOrdinate(0,N.Y)===e.getOrdinate(n-1,N.Y)?e:Et.createClosedRing(t,e,n+1)},Et.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Et.copy(e,0,i,0,r);for(var o=r;n>o;o++)Et.copy(e,0,i,o,1);return i},c(St,j),e(St.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new E:this.points.expandEnvelope(new E)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return j.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&Et.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return ue.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return Et.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this.points.size()&&i<e.points.size();){var r=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this.points.size()?1:i<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],a=arguments[1],e=o;return a.compare(this.points,e.points)}},apply:function(){if(k(arguments[0],z))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(k(arguments[0],ht)){var n=arguments[0];if(0===this.points.size())return null;for(var e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(k(arguments[0],G)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new ft(this).getBoundary()},isEquivalentClass:function(t){return t instanceof St},clone:function(){var t=j.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new St(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return St}}),St.serialVersionUID=0x2b2b51ba435c8e00,e(Ct.prototype,{interfaces_:function(){return[]},getClass:function(){return Ct}}),c(Tt,j),e(Tt.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new E;var t=new E;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return j.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return i.compare(this.coordinates,e.coordinates)}},apply:function(){if(k(arguments[0],z)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(k(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(k(arguments[0],G)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=j.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new Tt(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),p.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[Ct]},getClass:function(){return Tt}}),Tt.serialVersionUID=0x44077bad161cbc00,e(kt.prototype,{interfaces_:function(){return[]},getClass:function(){return kt}}),c(Ot,j),e(Ot.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return j.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)e++,t[e]=n[i];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),a=0;a<o.length;a++)e++,t[e]=o[a];return t},getArea:function(){var t=0;t+=Math.abs(ue.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(ue.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;5>n;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),n=1;4>=n;n++){var i=t.getX(n),r=t.getY(n);if(i!==o===(r!==a))return!1;o=i,a=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this.shell,r=n.shell;if(!i.equalsExact(r,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);lt.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);D.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=W.minCoordinate(e.getCoordinates());W.scroll(i,r),D.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],ue.isCCW(e.getCoordinates())===n&&W.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,e=this.shell,n=o.shell,a=e.compareToSameClass(n,r);if(0!==a)return a;for(var s=this.getNumInteriorRing(),l=o.getNumInteriorRing(),u=0;s>u&&l>u;){var c=this.getInteriorRingN(u),h=o.getInteriorRingN(u),p=c.compareToSameClass(h,r);if(0!==p)return p;u++}return s>u?1:l>u?-1:0}},apply:function(){if(k(arguments[0],z)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(k(arguments[0],ht)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(k(arguments[0],G)){var r=arguments[0];r.filter(this),this.shell.apply(r);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=j.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Ot(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[kt]},getClass:function(){return Ot}}),Ot.serialVersionUID=-0x307ffefd8dc97200,c(Lt,pt),e(Lt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&pt.prototype.equalsExact.call(this,t,e)}return pt.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return pt.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Lt(t,this.factory)},interfaces_:function(){return[Ct]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0x6fb1ed4162e0fc00,c(It,St),e(It.prototype,{getSortIndex:function(){return j.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ut.FALSE},isClosed:function(){return!!this.isEmpty()||St.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return Et.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!St.prototype.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<It.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new It(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return It}}),It.MINIMUM_VALID_SIZE=4,It.serialVersionUID=-0x3b229e262367a600,c(At,pt),e(At.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&pt.prototype.equalsExact.call(this,t,e)}return pt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new x,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e],i=n.getBoundary(),r=0;r<i.getNumGeometries();r++)t.add(i.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new At(t,this.factory)},interfaces_:function(){return[kt]},getClass:function(){return At}}),At.serialVersionUID=-0x7a5aa1369171980,e(Pt.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof pt?this.editGeometryCollection(t,e):t instanceof Ot?this.editPolygon(t,e):t instanceof Tt?e.edit(t,this.factory):t instanceof St?e.edit(t,this.factory):(p.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new x,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Lt?this.factory.createMultiPoint(i.toArray([])):n.getClass()===dt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===At?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new x,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||r.add(a)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Pt}}),Pt.GeometryEditorOperation=Mt,e(Nt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Mt]},getClass:function(){return Nt}}),e(Dt.prototype,{edit:function(t,e){if(t instanceof It)return e.createLinearRing(this.editCoordinates(t.getCoordinates(),t));if(t instanceof St)return e.createLineString(this.editCoordinates(t.getCoordinates(),t));if(t instanceof Tt){var n=this.editCoordinates(t.getCoordinates(),t);return n.length>0?e.createPoint(n[0]):e.createPoint()}return t},interfaces_:function(){return[Mt]},getClass:function(){return Dt}}),e(Rt.prototype,{edit:function(t,e){return t instanceof It?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof St?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Tt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Mt]},getClass:function(){return Rt}}),Pt.NoOpGeometryOperation=Nt,Pt.CoordinateOperation=Dt,Pt.CoordinateSequenceOperation=Rt,e(Ft.prototype,{setOrdinate:function(t,e,n){switch(e){case N.X:this.coordinates[t].x=n;break;case N.Y:this.coordinates[t].y=n;break;case N.Z:this.coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case N.X:return this.coordinates[t].x;case N.Y:return this.coordinates[t].y;case N.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new d(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Ft(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Ft(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new L(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[N,l]},getClass:function(){return Ft}}),Ft.serialVersionUID=-0xcb44a778db18e00,e(Gt.prototype,{readResolve:function(){return Gt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){return new Ft(arguments[0])}if(k(arguments[0],N)){return new Ft(arguments[0])}}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),2>e?new Ft(t):new Ft(t,e)}},interfaces_:function(){return[F,l]},getClass:function(){return Gt}}),Gt.instance=function(){return Gt.instanceObject},Gt.serialVersionUID=-0x38e49fa6cf6f2e00,Gt.instanceObject=new Gt;var ea,na=Object.defineProperty,ia=function(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&zt.call(this,t))):new n(t)}return e||na(t,"size",{get:Qt}),t.constructor=n,n.prototype=t,n}({delete:Ut,has:Yt,get:Bt,set:Vt,keys:qt,values:Zt,entries:Xt,forEach:Jt,clear:Wt}),ra="undefined"!=typeof Map&&Map.prototype.values?Map:ia;$t.prototype=new X,$t.prototype.get=function(t){return this.map_.get(t)||null},$t.prototype.put=function(t,e){return this.map_.set(t,e),e},$t.prototype.values=function(){for(var t=new x,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},$t.prototype.entrySet=function(){var t=new J;return this.map_.entries().forEach(function(e){return t.add(e)}),t},$t.prototype.size=function(){return this.map_.size()},e(te.prototype,{equals:function(t){if(!(t instanceof te))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new I(n).compareTo(new I(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===te.FLOATING||this.modelType===te.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===te.FLOATING?t="Floating":this.modelType===te.FLOATING_SINGLE?t="Floating-Single":this.modelType===te.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(r.isNaN(t))return t;if(this.modelType===te.FLOATING_SINGLE){return t}return this.modelType===te.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof d){var e=arguments[0];if(this.modelType===te.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===te.FLOATING?t=16:this.modelType===te.FLOATING_SINGLE?t=6:this.modelType===te.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[l,o]},getClass:function(){return te}}),te.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(ee.prototype,{readResolve:function(){return ee.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[l]},getClass:function(){return ee}}),ee.serialVersionUID=-552860263173159e4,ee.nameToTypeMap=new $t,te.Type=ee,te.serialVersionUID=0x6bee6404e9a25c00,te.FIXED=new ee("FIXED"),te.FLOATING=new ee("FLOATING"),te.FLOATING_SINGLE=new ee("FLOATING SINGLE"),te.maximumPreciseValue=9007199254740992,e(ne.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d(t.getMinX(),t.getMinY()),new d(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d(t.getMinX(),t.getMinY()),new d(t.getMinX(),t.getMaxY()),new d(t.getMaxX(),t.getMaxY()),new d(t.getMaxX(),t.getMinY()),new d(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(k(arguments[0],N)){return new St(arguments[0],this)}}},createMultiLineString:function(){if(0===arguments.length)return new dt(null,this);if(1===arguments.length){return new dt(arguments[0],this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(ne.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Ot)return this.createMultiPolygon(ne.toPolygonArray(t));if(s instanceof St)return this.createMultiLineString(ne.toLineStringArray(t));if(s instanceof Tt)return this.createMultiPoint(ne.toPointArray(t));p.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(k(arguments[0],N)){return new Tt(arguments[0],this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Ot(null,null,this);if(1===arguments.length){if(k(arguments[0],N)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof It){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Ot(i,r,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new pt(null,this);if(1===arguments.length){return new pt(arguments[0],this)}},createGeometry:function(t){return new Pt(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(k(arguments[0],N)){return new It(arguments[0],this)}}},createMultiPolygon:function(){if(0===arguments.length)return new At(null,this);if(1===arguments.length){return new At(arguments[0],this)}},createMultiPoint:function(){if(0===arguments.length)return new Lt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){return new Lt(arguments[0],this)}if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(k(arguments[0],N)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());Et.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},interfaces_:function(){return[l]},getClass:function(){return ne}}),ne.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.getDefaultCoordinateSequenceFactory=function(){return Gt.instance()},ne.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ne.serialVersionUID=-0x5ea75f2051eeb400;var oa={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(ie.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=oa.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=oa.emptyTypeStr.exec(t),r[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],sa[n]&&(e=sa[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!aa[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+aa[e].apply(this,[t])+")"}});var aa={coordinate:function(t){return t.x+" "+t.y},point:function(t){return aa.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+aa.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(aa.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(aa.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},
multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+aa.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+aa.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;i>n;++n)e.push("("+aa.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+aa.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},sa={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(oa.spaces);return this.geometryFactory.createPoint(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(oa.trimParens,"$1"),i.push(sa.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(oa.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(oa.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(oa.parenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(oa.trimParens,"$1"),i.push(sa.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(oa.parenComma),a=[],s=0,l=o.length;l>s;++s)e=o[s].replace(oa.trimParens,"$1"),n=sa.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===s?r=i:a.push(i);return this.geometryFactory.createPolygon(r,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(oa.doubleParenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(oa.trimParens,"$1"),i.push(sa.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],i=0,r=e.length;r>i;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(re.prototype,{write:function(t){return this.parser.write(t)}}),e(re,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(oe.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==oe.NO_INTERSECTION},getEdgeDistance:function(t,e){return oe.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===oe.COLLINEAR_INTERSECTION},toString:function(){return re.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+re.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return oe}}),oe.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=i>r?a:s)||t.equals(e)||(o=Math.max(a,s))}return p.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},oe.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return p.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},oe.DONT_INTERSECT=0,oe.DO_INTERSECT=1,oe.COLLINEAR=2,oe.NO_INTERSECTION=0,oe.POINT_INTERSECTION=1,oe.COLLINEAR_INTERSECTION=2,c(ae,oe),e(ae.prototype,{isInSegmentEnvelopes:function(t){var e=new E(this.inputLines[0][0],this.inputLines[0][1]),n=new E(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return oe.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,E.intersects(e,n,t)&&0===ue.orientationIndex(e,n,t)&&0===ue.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=oe.POINT_INTERSECTION,null):void(this.result=oe.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var r=null;try{r=R.intersection(t,e,n,i)}catch(o){if(!(o instanceof C))throw o;r=ae.nearestEndpoint(t,e,n,i)}return r},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new d(ae.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=M.intersection(t,e,n,i),a=this.isInSegmentEnvelopes(o);D.out.println("DD in env = "+a+"  --------------------- "+o),r.distance(o)>1e-4&&D.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new d(t),o=new d(e),a=new d(n),s=new d(i),l=new d;this.normalizeToEnvCentre(r,o,a,s,l);var u=this.safeHCoordinateIntersection(r,o,a,s);return u.x+=l.x,u.y+=l.y,u},computeCollinearIntersection:function(t,e,n,i){var r=E.intersects(t,e,n),o=E.intersects(t,e,i),a=E.intersects(n,i,t),s=E.intersects(n,i,e);return r&&o?(this.intPt[0]=n,this.intPt[1]=i,oe.COLLINEAR_INTERSECTION):a&&s?(this.intPt[0]=t,this.intPt[1]=e,oe.COLLINEAR_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||s?oe.COLLINEAR_INTERSECTION:oe.POINT_INTERSECTION):r&&s?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||a?oe.COLLINEAR_INTERSECTION:oe.POINT_INTERSECTION):o&&a?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||s?oe.COLLINEAR_INTERSECTION:oe.POINT_INTERSECTION):o&&s?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||a?oe.COLLINEAR_INTERSECTION:oe.POINT_INTERSECTION):oe.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,p=n.y>i.y?n.y:i.y,d=o>u?o:u,f=h>s?s:h,g=a>c?a:c,m=p>l?l:p,y=(d+f)/2,v=(g+m)/2;r.x=y,r.y=v,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!E.intersects(t,e,n,i))return oe.NO_INTERSECTION;var r=ue.orientationIndex(t,e,n),o=ue.orientationIndex(t,e,i);if(r>0&&o>0||0>r&&0>o)return oe.NO_INTERSECTION;var a=ue.orientationIndex(n,i,t),s=ue.orientationIndex(n,i,e);return a>0&&s>0||0>a&&0>s?oe.NO_INTERSECTION:0===r&&0===o&&0===a&&0===s?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===a||0===s?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new d(n):0===o?this.intPt[0]=new d(i):0===a?this.intPt[0]=new d(t):0===s&&(this.intPt[0]=new d(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),oe.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.nearestEndpoint=function(t,e,n,i){var r=t,o=ue.distancePointLine(t,n,i),a=ue.distancePointLine(e,n,i);return o>a&&(o=a,r=e),a=ue.distancePointLine(n,t,e),o>a&&(o=a,r=n),a=ue.distancePointLine(i,t,e),o>a&&(o=a,r=i),r},e(se.prototype,{interfaces_:function(){return[]},getClass:function(){return se}}),se.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return se.signOfDet2x2(i,r,o,a)},se.signOfDet2x2=function(t,e,n,i){var r=null,o=null,a=null,s=0;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?i>=e||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):-i>=e?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?i>=-e?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(n>=t))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(s+=1,a=Math.floor(n/t),n-=a*t,0>(i-=a*e))return-r;if(i>e)return r;if(t>n+n){if(i+i>e)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(a=Math.floor(t/n),t-=a*n,0>(e-=a*i))return r;if(e>i)return-r;if(n>t+t){if(e+e>i)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(le.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,o=t.y-this.p.y,a=e.x-this.p.x,s=e.y-this.p.y,l=se.signOfDet2x2(r,o,a,s);if(0===l)return this.isPointOnSegment=!0,null;o>s&&(l=-l),l>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==T.EXTERIOR},getLocation:function(){return this.isPointOnSegment?T.BOUNDARY:this.crossingCount%2==1?T.INTERIOR:T.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return le}}),le.locatePointInRing=function(){if(arguments[0]instanceof d&&k(arguments[1],N)){for(var t=arguments[0],e=arguments[1],n=new le(t),i=new d,r=new d,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof d&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],n=new le(a),o=1;o<s.length;o++){var i=s[o],r=s[o-1];if(n.countSegment(i,r),n.isOnSegment())return n.getLocation()}return n.getLocation()}},e(ue.prototype,{interfaces_:function(){return[]},getClass:function(){return ue}}),ue.orientationIndex=function(t,e,n){return M.orientationIndex(t,e,n)},ue.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(k(arguments[0],N)){var a=arguments[0],s=a.size();if(3>s)return 0;var l=new d,u=new d,c=new d;a.getCoordinate(0,u),a.getCoordinate(1,c);var n=u.x;c.x-=n;for(var e=0,i=1;s-1>i;i++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(i+1,c),c.x-=n,e+=u.x*(l.y-c.y);return e/2}},ue.distanceLineLine=function(t,e,n,i){if(t.equals(e))return ue.distancePointLine(t,n,i);if(n.equals(i))return ue.distancePointLine(i,t,e);var r=!1;if(E.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var a=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),s=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),l=s/o,u=a/o;(0>u||u>1||0>l||l>1)&&(r=!0)}}else r=!0;return r?O.min(ue.distancePointLine(t,n,i),ue.distancePointLine(e,n,i),ue.distancePointLine(n,t,e),ue.distancePointLine(i,t,e)):0},ue.isPointInRing=function(t,e){return ue.locatePointInRing(t,e)!==T.EXTERIOR},ue.computeLength=function(t){var e=t.size();if(1>=e)return 0;var n=0,i=new d;t.getCoordinate(0,i);for(var r=i.x,o=i.y,a=1;e>a;a++){t.getCoordinate(a,i);var s=i.x,l=i.y,u=s-r,c=l-o;n+=Math.sqrt(u*u+c*c),r=s,o=l}return n},ue.isCCW=function(t){var e=t.length-1;if(3>e)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;e>=o;o++){var a=t[o];a.y>n.y&&(n=a,r=o)}var s=r;do{0>(s-=1)&&(s=e)}while(t[s].equals2D(n)&&s!==r);var l=r;do{l=(l+1)%e}while(t[l].equals2D(n)&&l!==r);var u=t[s],c=t[l];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var h=ue.computeOrientation(u,n,c);return 0===h?u.x>c.x:h>0},ue.locatePointInRing=function(t,e){return le.locatePointInRing(t,e)},ue.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},ue.computeOrientation=function(t,e,n){return ue.orientationIndex(t,e,n)},ue.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new i("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=ue.distancePointLine(t,e[r],e[r+1]);n>o&&(n=o)}return n}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];if(s.x===l.x&&s.y===l.y)return a.distance(s);var u=(l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y),c=((a.x-s.x)*(l.x-s.x)+(a.y-s.y)*(l.y-s.y))/u;if(0>=c)return a.distance(s);if(c>=1)return a.distance(l);var h=((s.y-a.y)*(l.x-s.x)-(s.x-a.x)*(l.y-s.y))/u;return Math.abs(h)*Math.sqrt(u)}},ue.isOnLine=function(t,e){for(var n=new ae,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ue.CLOCKWISE=-1,ue.RIGHT=ue.CLOCKWISE,ue.COUNTERCLOCKWISE=1,ue.LEFT=ue.COUNTERCLOCKWISE,ue.COLLINEAR=0,ue.STRAIGHT=ue.COLLINEAR,e(ce.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof ce){var t=arguments[0],e=ue.orientationIndex(this.p0,this.p1,t.p0),n=ue.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):0>=e&&0>=n?Math.max(e,n):0}if(arguments[0]instanceof d){var i=arguments[0];return ue.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof ce))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new ae;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof d){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new d(t);var e=this.projectionFactor(t),n=new d;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof ce){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(0>=r&&0>=o)return null;var a=this.project(i.p0);0>r&&(a=this.p0),r>1&&(a=this.p1);var s=this.project(i.p1);return 0>o&&(s=this.p0),o>1&&(s=this.p1),new ce(a,s)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return ue.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return ce.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return 0>=i?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,a=this.closestPoint(t.p0);i=a.distance(t.p0),n[0]=a,n[1]=t.p0;var s=this.closestPoint(t.p1);o=s.distance(t.p1),i>o&&(i=o,n[0]=s,n[1]=t.p1);var l=t.closestPoint(this.p0);o=l.distance(this.p0),i>o&&(i=o,n[0]=this.p0,n[1]=l);var u=t.closestPoint(this.p1);return o=u.distance(this.p1),i>o&&(i=o,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&1>e)return this.project(t);var n=this.p0.distance(t);return this.p1.distance(t)>n?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return R.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof C))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(r*r+o*o),s=0,l=0;if(0!==e){if(0>=a)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=e*r/a,l=e*o/a}return new d(n-l,i+s)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return 0>e?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof ce){var t=arguments[0];return ue.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof d){var e=arguments[0];return ue.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new d;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[o,l]},getClass:function(){return ce}}),ce.midPoint=function(t,e){return new d((t.x+e.x)/2,(t.y+e.y)/2)},ce.serialVersionUID=0x2d2172135f411c00,e(he.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||he.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||he.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||he.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]))&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},isCoveredBy:function(){return(he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||he.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||he.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||he.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]))&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.matrix[n][i]=ut.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.matrix[r][o]=a}},isContains:function(){return he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,ut.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.matrix[r][o]<a&&(this.matrix[r][o]=a)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===ut.A&&e===ut.A||t===ut.L&&e===ut.L||t===ut.L&&e===ut.A||t===ut.P&&e===ut.A||t===ut.P&&e===ut.L)&&(this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&(he.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||he.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||he.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY])))},isOverlaps:function(t,e){return t===ut.P&&e===ut.P||t===ut.A&&e===ut.A?he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&he.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&he.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&(1===this.matrix[T.INTERIOR][T.INTERIOR]&&he.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&he.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]))},isEquals:function(t,e){return t===e&&(he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE)},toString:function(){for(var t=new L("123456789"),e=0;3>e;e++)for(var n=0;3>n;n++)t.setCharAt(3*e+n,ut.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(var e=0;3>e;e++)for(var n=0;3>n;n++)if(!he.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.INTERIOR][T.BOUNDARY]===ut.FALSE&&this.matrix[T.BOUNDARY][T.INTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.BOUNDARY]===ut.FALSE},isCrosses:function(t,e){return t===ut.P&&e===ut.L||t===ut.P&&e===ut.A||t===ut.L&&e===ut.A?he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&he.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR]):t===ut.L&&e===ut.P||t===ut.A&&e===ut.P||t===ut.A&&e===ut.L?he.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&he.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&0===this.matrix[T.INTERIOR][T.INTERIOR]},interfaces_:function(){return[a]},getClass:function(){return he}}),he.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===ut.SYM_DONTCARE||(e===ut.SYM_TRUE&&(t>=0||t===ut.TRUE)||(e===ut.SYM_FALSE&&t===ut.FALSE||(e===ut.SYM_P&&t===ut.P||(e===ut.SYM_L&&t===ut.L||e===ut.SYM_A&&t===ut.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return new he(n).matches(i)}},he.isTrue=function(t){return t>=0||t===ut.TRUE};var la=Object.freeze({Coordinate:d,CoordinateList:_,Envelope:E,LineSegment:ce,GeometryFactory:ne,Geometry:j,Point:Tt,LineString:St,LinearRing:It,Polygon:Ot,GeometryCollection:pt,MultiPoint:Lt,MultiLineString:dt,MultiPolygon:At,Dimension:ut,IntersectionMatrix:he});e(pe.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=i*r;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=i*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=ue.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!ue.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;pe.centroid3(t,e,n,this.triangleCent3);var o=pe.area2(t,e,n);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof Ot){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof j){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof Tt)this.addPoint(n.getCoordinate());else if(n instanceof St)this.addLineSegments(n.getCoordinates());else if(n instanceof Ot){var i=n;this.add(i)}else if(n instanceof pt)for(var r=n,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return pe}}),pe.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},pe.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},pe.getCentroid=function(t){return new pe(t).getCentroid()},de.prototype=new Error,de.prototype.name="EmptyStackException",fe.prototype=new v,fe.prototype.add=function(t){return this.array_.push(t),!0},fe.prototype.get=function(t){if(0>t||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},fe.prototype.push=function(t){return this.array_.push(t),t},fe.prototype.pop=function(t){if(0===this.array_.length)throw new de;return this.array_.pop()},fe.prototype.peek=function(){if(0===this.array_.length)throw new de;return this.array_[this.array_.length-1]},fe.prototype.empty=function(){return 0===this.array_.length},fe.prototype.isEmpty=function(){return this.empty()},fe.prototype.search=function(t){return this.array_.indexOf(t)},fe.prototype.size=function(){return this.array_.length},fe.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},e(ge.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[z]},getClass:function(){return ge}}),ge.filterCoordinates=function(t){for(var e=new ge,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(me.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return lt.sort(t,1,t.length,new ye(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new _;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){p.equals(t[0],t[t.length-1]);for(var e=new x,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r)}e.add(t[t.length-1]);var a=new Array(e.size()).fill(null);return e.toArray(a)},isBetween:function(t,e,n){if(0!==ue.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new st,i=0;i<e.length;i++)n.add(e[i]);for(var i=0;i<t.length;i++)ue.isPointInRing(t[i],e)||n.add(t[i]);var r=W.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new fe;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&ue.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return me}}),me.extractCoordinates=function(t){var e=new ge;return t.apply(e),e.getCoordinates()},e(ye.prototype,{compare:function(t,e){var n=t,i=e;return ye.polarCompare(this.origin,n,i)},interfaces_:function(){return[s]},getClass:function(){return ye}}),ye.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=ue.computeOrientation(t,e,n);if(s===ue.COUNTERCLOCKWISE)return 1;if(s===ue.CLOCKWISE)return-1;var l=i*i+r*r,u=o*o+a*a;return u>l?-1:l>u?1:0},me.RadialComparator=ye,e(ve.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof It&&!i.isEmpty()||(n=!1);for(var r=new x,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof It||(n=!1),r.add(a))}if(n)return this.factory.createPolygon(i,r.toArray([]))
;var s=new x;return null!==i&&s.add(i),s.addAll(r),this.factory.buildGeometry(s)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(ne.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof Tt)return this.transformPoint(t,null);if(t instanceof Lt)return this.transformMultiPoint(t,null);if(t instanceof It)return this.transformLinearRing(t,null);if(t instanceof St)return this.transformLineString(t,null);if(t instanceof dt)return this.transformMultiLineString(t,null);if(t instanceof Ot)return this.transformPolygon(t,null);if(t instanceof At)return this.transformMultiPolygon(t,null);if(t instanceof pt)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return i>0&&4>i&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return ve}}),e(be.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;n>i;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new d(o)),0===i&&this._isClosed&&t.set(t.size()-1,new d(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new _(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;n>i;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new d(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var a=this.seg.distance(t);a<this.snapTolerance&&n>a&&(n=a,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return be}}),be.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(we.prototype,{snapTo:function(t,e){return new xe(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this.srcGeom),i=new xe(t,n,!0),r=i.transform(this.srcGeom),o=r;return e&&k(o,kt)&&(o=r.buffer(0)),o},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new st,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);e>i&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return we}}),we.snap=function(t,e,n){var i=new Array(2).fill(null),r=new we(t);i[0]=r.snapTo(e,n);var o=new we(e);return i[1]=o.snapTo(i[0],n),i},we.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=we.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===te.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(we.computeOverlaySnapTolerance(r),we.computeOverlaySnapTolerance(o))}},we.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*we.SNAP_PRECISION_FACTOR},we.snapToSelf=function(t,e,n){return new we(t).snapToSelf(e,n)},we.SNAP_PRECISION_FACTOR=1e-9,c(xe,ve),e(xe.prototype,{snapLine:function(t,e){var n=new be(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return xe}}),e(_e.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=_e.signExpBits(this.commonBits),this.isFirst=!1,null):_e.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=_e.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=_e.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64);return o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return _e}}),_e.getBit=function(t,e){return 0!=(t&1<<e)?1:0},_e.signExpBits=function(t){return t>>52},_e.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},_e.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(_e.getBit(t,i)!==_e.getBit(e,i))return n;n++}return 52},e(Ee.prototype,{addCommonBits:function(t){var e=new Ce(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new d(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new Ce(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Ee}}),e(Se.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[z]},getClass:function(){return Se}}),e(Ce.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return Ce}}),Ee.CommonCoordinateFilter=Se,Ee.Translater=Ce,e(Te.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Te.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new b;var t=this.parent.getGeometryN(this.index++);return t instanceof pt?(this.subcollectionIterator=new Te(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return Te}}),Te.isAtomic=function(t){return!(t instanceof pt)},e(ke.prototype,{locateInternal:function(){if(arguments[0]instanceof d&&arguments[1]instanceof Ot){var t=arguments[0],e=arguments[1];if(e.isEmpty())return T.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===T.EXTERIOR)return T.EXTERIOR;if(i===T.BOUNDARY)return T.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),a=this.locateInPolygonRing(t,o);if(a===T.INTERIOR)return T.EXTERIOR;if(a===T.BOUNDARY)return T.BOUNDARY}return T.INTERIOR}if(arguments[0]instanceof d&&arguments[1]instanceof St){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return T.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!s.equals(u[0])&&!s.equals(u[u.length-1])?ue.isOnLine(s,u)?T.INTERIOR:T.EXTERIOR:T.BOUNDARY}if(arguments[0]instanceof d&&arguments[1]instanceof Tt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?T.INTERIOR:T.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?ue.locatePointInRing(t,e.getCoordinates()):T.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==T.EXTERIOR},updateLocationInfo:function(t){t===T.INTERIOR&&(this.isIn=!0),t===T.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof Tt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof St)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ot)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof At)for(var o=e,i=0;i<o.getNumGeometries();i++){var a=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof pt)for(var s=new Te(e);s.hasNext();){var l=s.next();l!==e&&this.computeLocation(t,l)}},locate:function(t,e){return e.isEmpty()?T.EXTERIOR:e instanceof St?this.locateInternal(t,e):e instanceof Ot?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?T.BOUNDARY:this.numBoundaries>0||this.isIn?T.INTERIOR:T.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return ke}}),e(Oe.prototype,{interfaces_:function(){return[]},getClass:function(){return Oe}}),Oe.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],a=arguments[1],s=a.x-o.x,l=a.y-o.y;if(0===s&&0===l)throw new i("Cannot compute the octant for two identical points "+o);return Oe.octant(s,l)}},e(Le.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Le}}),e(Ie.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:Oe.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return re.toLineString(new Ft(this.pts))},interfaces_:function(){return[Le]},getClass:function(){return Ie}}),e(Ae.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Ae}}),e(Pe.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Ae,l]},getClass:function(){return Pe}}),e(Me.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return Me}}),e(Ne.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Ne}}),e(De.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return De}}),e(Re.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){p.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Ae,l]},getClass:function(){return Re}}),Re.serialVersionUID=0x5a1e55ec41369800;var ua={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return ua.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?lt.sort(n,e):lt.sort(n);for(var i=t.iterator(),r=0,o=n.length;o>r;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new x;return e.add(t),e}};e(Fe.prototype,{expandToQueue:function(t,e){var n=Fe.isComposite(this.boundable1),r=Fe.isComposite(this.boundable2);if(n&&r)return Fe.area(this.boundable1)>Fe.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new i("neither boundable is composite")},isLeaves:function(){return!(Fe.isComposite(this.boundable1)||Fe.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables(),o=r.iterator();o.hasNext();){var a=o.next(),s=new Fe(a,e,this.itemDistance);s.getDistance()<i&&n.add(s)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return Fe}}),Fe.area=function(t){return t.getBounds().getArea()},Fe.isComposite=function(t){return t instanceof Re},e(Ge.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof Re?e+=this.size(i):i instanceof Pe&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Pe&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new x:t}if(1===arguments.length){for(var e=arguments[0],n=new x,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Re){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Pe?n.add(r.getItem()):p.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){p.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Pe(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new x;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(p.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Re?this.boundablesAtLevel(n,a,r):(p.isTrue(a instanceof Pe),-1===n&&r.add(a))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new x;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(k(arguments[2],Ne)&&arguments[0]instanceof Object&&arguments[1]instanceof Re)for(var r=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Re?this.query(r,u,a):u instanceof Pe?a.visitItem(u.getItem()):p.shouldNeverReachHere())}else if(k(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof Re)for(var c=arguments[0],h=arguments[1],d=arguments[2],s=h.getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),c)&&(u instanceof Re?this.query(c,u,d):u instanceof Pe?d.add(u.getItem()):p.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var a=null,s=i.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Re&&(o=this.remove(n,l,r))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),o}},createHigherLevels:function(t,e){p.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof Re){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){p.isTrue(!t.isEmpty());var n=new x;n.add(this.createNode(e));var i=new x(t);ua.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[l]},getClass:function(){return Ge}}),Ge.compareDoubles=function(t,e){return t>e?1:e>t?-1:0},Ge.IntersectsOp=je,Ge.serialVersionUID=-0x35ef64c82d4c5400,Ge.DEFAULT_NODE_CAPACITY=10,e(ze.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return ze}}),c(Ue,Ge),e(Ue.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){p.isTrue(t.length>0);for(var n=new x,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new Be(t)},size:function(){return 0===arguments.length?Ge.prototype.size.call(this):Ge.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Ge.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void Ge.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Ue.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;e>o;o++){i[o]=new x;for(var a=0;r.hasNext()&&n>a;){var s=r.next();i[o].add(s),a++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return Ge.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];Ge.prototype.query.call(this,e,n)}else if(3===arguments.length)if(k(arguments[2],Ne)&&arguments[0]instanceof Object&&arguments[1]instanceof Re){var i=arguments[0],r=arguments[1],o=arguments[2];Ge.prototype.query.call(this,i,r,o)}else if(k(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof Re){var a=arguments[0],s=arguments[1],l=arguments[2];Ge.prototype.query.call(this,a,s,l)}},getComparator:function(){return Ue.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Ge.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Ge.prototype.remove.call(this,t,e)}return Ge.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Ge.prototype.depth.call(this):Ge.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){p.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new x(t);ua.sort(i,Ue.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(k(arguments[0],ze)){var t=arguments[0],e=new Fe(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Ue&&k(arguments[1],ze)){var i=arguments[0],o=arguments[1],e=new Fe(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=s,u=null,c=new Me;for(c.add(a);!c.isEmpty()&&l>0;){var h=c.poll(),p=h.getDistance();if(p>=l)break;h.isLeaves()?(l=p,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],f=arguments[1],g=arguments[2],m=new Pe(d,f),e=new Fe(this.getRoot(),m,g);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[De,l]},getClass:function(){return Ue}}),Ue.centreX=function(t){return Ue.avg(t.getMinX(),t.getMaxX())},Ue.avg=function(t,e){return(t+e)/2},Ue.centreY=function(t){return Ue.avg(t.getMinY(),t.getMaxY())},c(Be,Re),e(Be.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new E(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Be}}),Ue.STRtreeNode=Be,Ue.serialVersionUID=0x39920f7d5f261e0,Ue.xComparator={interfaces_:function(){return[s]},compare:function(t,e){return Ge.compareDoubles(Ue.centreX(t.getBounds()),Ue.centreX(e.getBounds()))}},Ue.yComparator={interfaces_:function(){return[s]},compare:function(t,e){return Ge.compareDoubles(Ue.centreY(t.getBounds()),Ue.centreY(e.getBounds()))}},Ue.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Ue.DEFAULT_NODE_CAPACITY=10,e(He.prototype,{interfaces_:function(){return[]},getClass:function(){return He}}),He.relativeSign=function(t,e){return e>t?-1:t>e?1:0},He.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=He.relativeSign(e.x,n.x),r=He.relativeSign(e.y,n.y);switch(t){case 0:return He.compareValue(i,r);case 1:return He.compareValue(r,i);case 2:return He.compareValue(r,-i);case 3:return He.compareValue(-i,r);case 4:return He.compareValue(-i,-r);case 5:return He.compareValue(-r,-i);case 6:return He.compareValue(-r,i);case 7:return He.compareValue(i,-r)}return p.shouldNeverReachHere("invalid octant value"),0},He.compareValue=function(t,e){return 0>t?-1:t>0?1:0>e?-1:e>0?1:0},e(Ye.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:He.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return Ye}}),e(Ve.prototype,{getSplitCoordinates:function(){var t=new _;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new I(e+1))}},addEdgeCoordinates:function(t,e,n){var i=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||i--,n.add(new d(t.coord),!1);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)n.add(this.edge.getCoordinate(a));o&&n.add(new d(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new I(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),a=0;o[a++]=new d(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.getCoordinate(s);return r&&(o[a]=new d(e.coord)),new Ze(o,this.edge.getData())},add:function(t,e){var n=new Ye(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(p.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new u("bad split edge start point at "+i);var r=t.get(t.size()-1),o=r.getCoordinates(),a=o[o.length-1];if(!a.equals2D(e[e.length-1]))throw new u("bad split edge end point at "+a)},interfaces_:function(){return[]},getClass:function(){return Ve}}),e(We.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return We}}),e(qe.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Le]},getClass:function(){return qe}}),e(Ze.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Oe.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),o=new d(n.getIntersection(r));this.addIntersection(o,i)}},toString:function(){return re.toLineString(new Ft(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this.pts.length){var r=this.pts[i];t.equals2D(r)&&(n=i)}return this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[qe]},getClass:function(){return Ze}}),Ze.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new x;return Ze.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();o.getNodeList().addSplitEdges(i)}},e(Xe.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(i,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Xe}}),e(Ke.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){var r=this.pts[e],o=this.pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var a=Math.trunc((e+n)/2);a>e&&this.computeSelect(t,e,a,i),n>a&&this.computeSelect(t,a,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new E(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,o){
var a=this.pts[t],s=this.pts[e],l=n.pts[i],u=n.pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);c>t&&(h>i&&this.computeOverlapsInternal(t,c,n,i,h,o),r>h&&this.computeOverlapsInternal(t,c,n,h,r,o)),e>c&&(h>i&&this.computeOverlapsInternal(c,e,n,i,h,o),r>h&&this.computeOverlapsInternal(c,e,n,h,r,o))},interfaces_:function(){return[]},getClass:function(){return Ke}}),e(Qe.prototype,{interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.isNorthern=function(t){return t===Qe.NE||t===Qe.NW},Qe.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Qe.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=e>t?t:e,i=t>e?t:e;return 0===n&&3===i?3:n},Qe.isInHalfPlane=function(t,e){return e===Qe.SE?t===Qe.SE||t===Qe.SW:t===e||t===e+1},Qe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Qe.NE:Qe.SE:e>=0?Qe.NW:Qe.SW}if(arguments[0]instanceof d&&arguments[1]instanceof d){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new i("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Qe.NE:Qe.SE:r.y>=n.y?Qe.NW:Qe.SW}},Qe.NE=0,Qe.NW=1,Qe.SW=2,Qe.SE=3,e(Je.prototype,{interfaces_:function(){return[]},getClass:function(){return Je}}),Je.getChainStartIndices=function(t){var e=0,n=new x;n.add(new I(e));do{var i=Je.findChainEnd(t,e);n.add(new I(i)),e=i}while(e<t.length-1);return Je.toIntArray(n)},Je.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Qe.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){if(Qe.quadrant(t[r-1],t[r])!==i)break}r++}return r-1},Je.getChains=function(){if(1===arguments.length){var t=arguments[0];return Je.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new x,r=Je.getChainStartIndices(e),o=0;o<r.length-1;o++){var a=new Ke(e,r[o],r[o+1],n);i.add(a)}return i}},Je.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e($e.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return $e}}),e(tn.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[$e]},getClass:function(){return tn}}),c(en,tn),e(en.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Ze.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Je.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var i=n.next();i.setId(this.idCounter++),this.index.insert(i.getEnvelope(),i),this.monoChains.add(i)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new nn(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()),r=i.iterator();r.hasNext();){var o=r.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return en}}),c(nn,Xe),e(nn.prototype,{overlap:function(){if(4!==arguments.length)return Xe.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this.si.processIntersections(r,e,o,i)},interfaces_:function(){return[]},getClass:function(){return nn}}),en.SegmentOverlapAction=nn,c(rn,u),e(rn.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return rn}}),rn.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(on.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return on}}),e(an.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly){if(!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null}var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=r,this.intSegments[1]=o,this.intSegments[2]=a,this.intSegments[3]=s,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[on]},getClass:function(){return an}}),an.createAllIntersectionsFinder=function(t){var e=new an(t);return e.setFindAllIntersections(!0),e},an.createAnyIntersectionFinder=function(t){return new an(t)},an.createIntersectionCounter=function(t){var e=new an(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(sn.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new an(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new en;return t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new rn(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+re.toLineString(t[0],t[1])+" and "+re.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return sn}}),sn.computeIntersections=function(t){var e=new sn(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(ln.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.toSegmentStrings=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ie(i.getCoordinates(),i))}return e},ln.checkValid=function(t){new ln(t).checkValid()},e(un.prototype,{map:function(t){for(var e=new x,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return un}}),un.map=function(t,e){return new un(e).map(t)},e(cn.prototype,{interfaces_:function(){return[]},getClass:function(){return cn}}),cn.opposite=function(t){return t===cn.LEFT?cn.RIGHT:t===cn.RIGHT?cn.LEFT:t},cn.ON=0,cn.LEFT=1,cn.RIGHT=2,e(hn.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==T.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===T.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[cn.ON]=this.location[cn.ON],e[cn.LEFT]=T.NONE,e[cn.RIGHT]=T.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[cn.LEFT];this.location[cn.LEFT]=this.location[cn.RIGHT],this.location[cn.RIGHT]=t},toString:function(){var t=new L;return this.location.length>1&&t.append(T.toLocationSymbol(this.location[cn.LEFT])),t.append(T.toLocationSymbol(this.location[cn.ON])),this.location.length>1&&t.append(T.toLocationSymbol(this.location[cn.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[cn.ON]=t,this.location[cn.LEFT]=e,this.location[cn.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:T.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===T.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(cn.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(T.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return hn}}),e(pn.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;2>e;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new hn(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(cn.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(cn.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new hn(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.toLineLabel=function(t){for(var e=new pn(T.NONE),n=0;2>n;n++)e.setLocation(n,t.getLocation(n));return e},e(dn.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=ue.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new rn("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new rn("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();p.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this.pts.add(i[o])}else{var r=i.length-2;n&&(r=i.length-1);for(var o=r;o>=0;o--)this.pts.add(i[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ue.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,cn.RIGHT);if(i===T.NONE)return null;if(this.label.getLocation(n)===T.NONE)return this.label.setLocation(n,i),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return dn}}),c(fn,dn),e(fn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return fn}}),c(gn,dn),e(gn.prototype,{buildMinimalRings:function(){var t=new x,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new fn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return gn}}),e(mn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){p.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return mn}}),c(yn,mn),e(yn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=T.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==T.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return mn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new pn(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof yn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof pn)for(var e=arguments[0],n=0;2>n;n++){var i=this.computeMergedLocation(e,n),r=this.label.getLocation(n);r===T.NONE&&this.label.setLocation(n,i)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=T.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case T.BOUNDARY:n=T.INTERIOR;break;case T.INTERIOR:n=T.BOUNDARY;break;default:n=T.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return yn}}),e(vn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof d){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof yn){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new x,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===T.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return vn}}),e(bn.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ue.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Qe.quadrant(this.dx,this.dy),p.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return bn}}),c(wn,bn),e(wn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new pn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new rn("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;2>e;e++)this.label.isArea(e)&&this.label.getLocation(e,cn.LEFT)===T.INTERIOR&&this.label.getLocation(e,cn.RIGHT)===T.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){bn.prototype.print.call(this,t),t.print(" "+this.depth[cn.LEFT]+"/"+this.depth[cn.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,T.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,T.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===cn.LEFT&&(i=-1);var r=cn.opposite(t),o=n*i,a=e+o;this.setDepth(t,e),this.setDepth(r,a)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return wn}}),wn.depthFactor=function(t,e){return t===T.EXTERIOR&&e===T.INTERIOR?1:t===T.INTERIOR&&e===T.EXTERIOR?-1:0},e(xn.prototype,{createNode:function(t){return new yn(t,null)},interfaces_:function(){return[]},getClass:function(){return xn}}),e(_n.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof yn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){D.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===T.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&(ue.computeOrientation(t,e,i)===ue.COLLINEAR&&Qe.quadrant(t,e)===Qe.quadrant(n,i))},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){D.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new wn(n,!0),r=new wn(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return _n}}),_n.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}},e(En.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next(),r=i.toPolygon(this.geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new rn("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new x,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else i.add(o)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new gn(i,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&ue.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return p.isTrue(1>=e,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];_n.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new x,o=this.buildMinimalEdgeRings(i,this.shellList,r);this.sortShellsAndHoles(o,this.shellList,r),this.placeFreeHoles(this.shellList,r)}},interfaces_:function(){return[]},getClass:function(){return En}}),e(Sn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ni.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this.op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(p.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ni.isResultOfOp(i,e)&&e===ni.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Sn}}),e(Cn.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ni.INTERSECTION)){var i=n.getLabel();ni.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return Cn}}),e(Tn.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Tn}}),e(kn.prototype,{locate:function(t){return kn.locate(t,this.geom)},interfaces_:function(){return[Tn]},getClass:function(){return kn}}),kn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ue.isPointInRing(t,e.getCoordinates())},kn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!kn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(kn.isPointInRing(t,r))return!1}return!0},kn.containsPoint=function(t,e){if(e instanceof Ot)return kn.containsPointInPolygon(t,e);if(e instanceof pt)for(var n=new Te(e);n.hasNext();){var i=n.next();if(i!==e&&kn.containsPoint(t,i))return!0}return!1},kn.locate=function(t,e){return e.isEmpty()?T.EXTERIOR:kn.containsPoint(t,e)?T.INTERIOR:T.EXTERIOR},e(On.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=T.NONE,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea(t)&&r.getLocation(t,cn.LEFT)!==T.NONE&&(e=r.getLocation(t,cn.LEFT))}if(e===T.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();if(r.getLocation(t,cn.ON)===T.NONE&&r.setLocation(t,cn.ON,o),r.isArea(t)){var a=r.getLocation(t,cn.LEFT),s=r.getLocation(t,cn.RIGHT);if(s!==T.NONE){if(s!==o)throw new rn("side location conflict",i.getCoordinate());a===T.NONE&&p.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),o=a}else p.isTrue(r.getLocation(t,cn.LEFT)===T.NONE,"found single null side"),r.setLocation(t,cn.RIGHT,o),r.setLocation(t,cn.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){D.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),r=i.getLocation(t,cn.LEFT);p.isTrue(r!==T.NONE,"Found unlabelled area edge");for(var o=r,a=this.iterator();a.hasNext();){var s=a.next(),l=s.getLabel();p.isTrue(l.isArea(t),"Found non-area edge");var u=l.getLocation(t,cn.LEFT),c=l.getLocation(t,cn.RIGHT);if(u===c)return!1;if(c!==o)return!1;o=u}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){if(this.edgeList.get(e)===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===T.NONE&&(this.ptInAreaLocation[t]=kn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},computeLabelling:function(t){
this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;2>o;o++)r.isLine(o)&&r.getLocation(o)===T.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;2>o;o++)if(r.isAnyNull(o)){var a=T.NONE;if(e[o])a=T.EXTERIOR;else{var s=i.getCoordinate();a=this.getLocation(o,s,t)}r.setAllLocationsIfNull(o,a)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return On}}),c(Ln,On),e(Ln.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new rn("no outgoing dirEdge found",this.getCoordinate());p.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(1>e)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Qe.isNorthern(r)&&Qe.isNorthern(o)?n:Qe.isNorthern(r)||Qe.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(p.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){D.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(cn.LEFT)),i=t.getDepth(cn.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new rn("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=s,u=o;a>u;u++){var c=this.edgeList.get(u);c.getLabel(),c.setEdgeDepths(cn.RIGHT,l),l=c.getDepth(cn.LEFT)}return l}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var o=this.resultAreaEdgeList.get(r),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this.SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(p.isTrue(null!==e,"found null for first outgoing dirEdge"),p.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=T.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=T.INTERIOR;break}if(i.isInResult()){t=T.EXTERIOR;break}}}if(t===T.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();n.isLineEdge()?n.getEdge().setCovered(r===T.INTERIOR):(n.isInResult()&&(r=T.EXTERIOR),i.isInResult()&&(r=T.INTERIOR))}},computeLabelling:function(t){On.prototype.computeLabelling.call(this,t),this.label=new pn(T.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge(),r=i.getLabel(),o=0;2>o;o++){var a=r.getLocation(o);a!==T.INTERIOR&&a!==T.BOUNDARY||this.label.setLocation(o,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Ln}}),c(In,xn),e(In.prototype,{createNode:function(t){return new yn(t,new Ln)},interfaces_:function(){return[]},getClass:function(){return In}}),e(An.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return An}}),e(Pn.prototype,{isDelete:function(){return this.eventType===Pn.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===Pn.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return Pn}}),Pn.INSERT=1,Pn.DELETE=2,e(Mn.prototype,{interfaces_:function(){return[]},getClass:function(){return Mn}}),e(Nn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Nn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,a,s),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Nn}}),Nn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},c(Dn,Mn),e(Dn.prototype,{prepareEvents:function(){ua.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Nn&&k(arguments[0],v)&&k(arguments[1],v)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&k(arguments[0],v)&&arguments[1]instanceof Nn){var a=arguments[0],s=arguments[1],l=arguments[2];l?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new An(n,r),a=new Pn(e,n.getMinX(r),o);this.events.add(a),this.events.add(new Pn(n.getMaxX(r),a))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;e>o;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(r.computeIntersections(s,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],e=i.iterator();e.hasNext();){var n=e.next();this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return Dn}}),e(Rn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return re.toLineString(new d(this.min,0),new d(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Rn}}),e(Fn.prototype,{compare:function(t,e){var n=t,i=e,r=(n.min+n.max)/2,o=(i.min+i.max)/2;return o>r?-1:r>o?1:0},interfaces_:function(){return[s]},getClass:function(){return Fn}}),Rn.NodeComparator=Fn,c(Gn,Rn),e(Gn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Gn}}),c(jn,Rn),e(jn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return jn}}),e(zn.prototype,{buildTree:function(){ua.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new x;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Gn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){D.out.println(re.toLineString(new d(t.min,this.level),new d(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new jn(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return zn}}),e(Un.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof It){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof St&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[G]},getClass:function(){return Un}}),Un.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Un.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Un.getLines(e,n))}},Un.getLines=function(){if(1===arguments.length){var t=arguments[0];return Un.getLines(t,!1)}if(2===arguments.length){if(k(arguments[0],m)&&k(arguments[1],m)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Un.getLines(r,n)}return n}if(arguments[0]instanceof j&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new x;return o.apply(new Un(s,a)),s}if(arguments[0]instanceof j&&k(arguments[1],m)){var l=arguments[0],u=arguments[1];return l instanceof St?u.add(l):l.apply(new Un(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&k(arguments[0],m)&&k(arguments[1],m)){for(var c=arguments[0],h=arguments[1],p=arguments[2],i=c.iterator();i.hasNext();){var r=i.next();Un.getLines(r,h,p)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof j&&k(arguments[1],m)){var d=arguments[0],f=arguments[1],g=arguments[2];return d.apply(new Un(f,g)),f}}},e(Bn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ne]},getClass:function(){return Bn}}),e(Hn.prototype,{locate:function(t){var e=new le(t),n=new Yn(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[Tn]},getClass:function(){return Hn}}),e(Yn.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Ne]},getClass:function(){return Yn}}),e(Vn.prototype,{init:function(t){for(var e=Un.getLines(t),n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new ce(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Bn;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.index.query(i,r,o)}},interfaces_:function(){return[]},getClass:function(){return Vn}}),Hn.SegmentVisitor=Yn,Hn.IntervalIndexedGeometry=Vn,e(Wn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Wn}}),e(qn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),a=0;o[a++]=new d(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return r&&(o[a]=e.coord),new Qn(o,new pn(this.edge.label))},add:function(t,e,n){var i=new Wn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return qn}}),e(Zn.prototype,{getChainStartIndices:function(t){var e=0,n=new x;n.add(new I(e));do{var i=this.findChainEnd(t,e);n.add(new I(i)),e=i}while(e<t.length-1);return Zn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Qe.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(Qe.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(Xn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return n>e?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[r],h=this.pts[o],p=a.pts[s],d=a.pts[l];if(o-r==1&&l-s==1)return u.addIntersections(this.e,r,a.e,s),null;if(this.env1.init(c,h),this.env2.init(p,d),!this.env1.intersects(this.env2))return null;var f=Math.trunc((r+o)/2),g=Math.trunc((s+l)/2);f>r&&(g>s&&this.computeIntersectsForChain(r,f,a,s,g,u),l>g&&this.computeIntersectsForChain(r,f,a,g,l,u)),o>f&&(g>s&&this.computeIntersectsForChain(f,o,a,s,g,u),l>g&&this.computeIntersectsForChain(f,o,a,g,l,u))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return Xn}}),e(Kn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;2>t;t++)for(var e=0;3>e;e++)if(this.depth[t][e]!==Kn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Kn.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.depth[i][r]===Kn.NULL_VALUE}},normalize:function(){for(var t=0;2>t;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),0>e&&(e=0);for(var n=1;3>n;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][cn.RIGHT]-this.depth[t][cn.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?T.EXTERIOR:T.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;2>e;e++)for(var n=1;3>n;n++){var i=t.getLocation(e,n);i!==T.EXTERIOR&&i!==T.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=Kn.depthAtLocation(i):this.depth[e][n]+=Kn.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];a===T.INTERIOR&&this.depth[r][o]++}},interfaces_:function(){return[]},getClass:function(){return Kn}}),Kn.depthAtLocation=function(t){return t===T.EXTERIOR?0:t===T.INTERIOR?1:Kn.NULL_VALUE},Kn.NULL_VALUE=-1,c(Qn,mn),e(Qn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Qn(t,pn.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Qn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Qn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Xn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new E;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r=new d(t.getIntersection(i)),o=e,a=t.getEdgeDistance(n,i),s=o+1;if(s<this.pts.length){var l=this.pts[s];r.equals2D(l)&&(o=s,a=0)}this.eiList.add(r,o,a)},toString:function(){var t=new L;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.updateIM=function(){if(2!==arguments.length)return mn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,cn.ON),t.getLocation(1,cn.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,cn.LEFT),t.getLocation(1,cn.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,cn.RIGHT),t.getLocation(1,cn.RIGHT),2))},c(Jn,_n),e(Jn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e),i=n.getLabel(),r=1;T.NONE;i.getLocation(t,cn.ON)===T.BOUNDARY&&r++;var o=Jn.determineBoundary(this.boundaryNodeRule,r);i.setLocation(t,o)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Nn(n,!0,!1);o.setIsDoneIfProperInt(r);var a=this.createEdgeSetIntersector(),s=this.parentGeom instanceof It||this.parentGeom instanceof Ot||this.parentGeom instanceof At,l=i||!s;return a.computeIntersections(this.edges,o,l),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new Nn(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Tt){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,T.INTERIOR)}else if(arguments[0]instanceof d){var n=arguments[0];this.insertPoint(this.argIndex,n,T.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),T.EXTERIOR,T.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,T.INTERIOR,T.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],T.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],T.BOUNDARY)},addLineString:function(t){var e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Qn(e,new pn(this.argIndex,T.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),p.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===T.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=W.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,o=n;ue.isCCW(i)&&(r=n,o=e);var a=new Qn(i,new pn(this.argIndex,T.BOUNDARY,r,o));this.lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this.argIndex,i[0],T.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new pn(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new Dn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return _n.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof At&&(this.useBoundaryDeterminationRule=!1),t instanceof Ot)this.addPolygon(t);else if(t instanceof St)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof At)this.addCollection(t);else{if(!(t instanceof pt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return k(this.parentGeom,kt)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Hn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return _n.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.determineBoundary=function(t,e){return t.isInBoundary(e)?T.BOUNDARY:T.INTERIOR},e($n.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return $n}}),e(ti.prototype,{compareTo:function(t){var e=t;return ti.compareOriented(this.pts,this._orientation,e.pts,e._orientation)},interfaces_:function(){return[o]},getClass:function(){return ti}}),ti.orientation=function(t){return 1===W.increasingDirection(t)},ti.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,a=e?t.length:-1,s=i?n.length:-1,l=e?0:t.length-1,u=i?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;l+=r,u+=o;var h=l===a,p=u===s;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}},e(ei.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new ti(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new ti(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return ei}}),c(ni,$n),e(ni.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new pn(t.getLabel()),i.flip());var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new x;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?ni.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this.ptLocator.locate(t,i)!==T.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new x,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new x;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ln.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new En(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new Sn(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new Cn(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&ni.isResultOfOp(i.getLocation(0,cn.RIGHT),i.getLocation(1,cn.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;2>r;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(p.isTrue(!i.isNull(r,cn.LEFT),"depth of LEFT side has not been initialized"),
n.setLocation(r,cn.LEFT,i.getLocation(r,cn.LEFT)),p.isTrue(!i.isNull(r,cn.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,cn.RIGHT,i.getLocation(r,cn.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(t++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.overlayOp=function(t,e,n){return new ni(t,e).getResultGeometry(n)},ni.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ni.createEmptyResult(ni.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return un.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.INTERSECTION)},ni.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ni.createEmptyResult(ni.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.SYMDIFFERENCE)},ni.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case ni.INTERSECTION:o=Math.min(i,r);break;case ni.UNION:o=Math.max(i,r);break;case ni.DIFFERENCE:o=i;break;case ni.SYMDIFFERENCE:o=Math.max(i,r)}return o},ni.createEmptyResult=function(t,e,n,i){var r=null;switch(ni.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},ni.difference=function(t,e){return t.isEmpty()?ni.createEmptyResult(ni.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.DIFFERENCE))},ni.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return ni.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];switch(r===T.BOUNDARY&&(r=T.INTERIOR),o===T.BOUNDARY&&(o=T.INTERIOR),a){case ni.INTERSECTION:return r===T.INTERIOR&&o===T.INTERIOR;case ni.UNION:return r===T.INTERIOR||o===T.INTERIOR;case ni.DIFFERENCE:return r===T.INTERIOR&&o!==T.INTERIOR;case ni.SYMDIFFERENCE:return r===T.INTERIOR&&o!==T.INTERIOR||r!==T.INTERIOR&&o===T.INTERIOR}return!1}},ni.INTERSECTION=1,ni.UNION=2,ni.DIFFERENCE=3,ni.SYMDIFFERENCE=4,e(ii.prototype,{selfSnap:function(t){return new we(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new Ee,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=ni.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||D.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=we.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return we.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,ni.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,ni.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,ni.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,ni.DIFFERENCE)},e(ri.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=ni.overlayOp(this.geom[0],this.geom[1],t);n=!0}catch(t){if(!(t instanceof u))throw t;i=t}if(!n)try{e=ii.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof u?i:t}return e},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.overlayOp=function(t,e,n){return new ri(t,e).getResultGeometry(n)},ri.union=function(t,e){return ri.overlayOp(t,e,ni.UNION)},ri.intersection=function(t,e){return ri.overlayOp(t,e,ni.INTERSECTION)},ri.symDifference=function(t,e){return ri.overlayOp(t,e,ni.SYMDIFFERENCE)},ri.difference=function(t,e){return ri.overlayOp(t,e,ni.DIFFERENCE)},e(oi.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var r=ri.overlayOp(i,t,ni.INTERSECTION),o=this.widestGeometry(r);n=o.getEnvelopeInternal().getWidth(),e=oi.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof pt){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof j){var i=arguments[0];return i instanceof pt?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=ai.getBisectorY(t);return this.factory.createLineString([new d(e.getMinX(),n),new d(e.getMaxX(),n)])},add:function(t){if(t instanceof Ot)this.addPolygon(t);else if(t instanceof pt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.centre=function(t){return new d(oi.avg(t.getMinX(),t.getMaxX()),oi.avg(t.getMinY(),t.getMaxY()))},oi.avg=function(t,e){return(t+e)/2},e(ai.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return oi.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.getBisectorY=function(t){return new ai(t).getBisectorY()},oi.SafeBisectorFinder=ai,e(si.prototype,{addEndpoints:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof St)this.addEndpoints(t.getCoordinates());else if(t instanceof pt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof St)this.addInterior(t.getCoordinates());else if(t instanceof pt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new d(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return si}}),e(li.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof Tt)this.add(t.getCoordinate());else if(t instanceof pt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof d){var i=arguments[0],r=i.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new d(i),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return li}}),e(ui.prototype,{interfaces_:function(){return[]},getClass:function(){return ui}}),ui.toDegrees=function(t){return 180*t/Math.PI},ui.normalize=function(t){for(;t>Math.PI;)t-=ui.PI_TIMES_2;for(;t<=-Math.PI;)t+=ui.PI_TIMES_2;return t},ui.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},ui.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},ui.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return 0>i*(n.x-e.x)+r*(n.y-e.y)},ui.interiorAngle=function(t,e,n){var i=ui.angle(e,t),r=ui.angle(e,n);return Math.abs(r-i)},ui.normalizePositive=function(t){if(0>t){for(;0>t;)t+=ui.PI_TIMES_2;t>=ui.PI_TIMES_2&&(t=0)}else{for(;t>=ui.PI_TIMES_2;)t-=ui.PI_TIMES_2;0>t&&(t=0)}return t},ui.angleBetween=function(t,e,n){var i=ui.angle(e,t),r=ui.angle(e,n);return ui.diff(i,r)},ui.diff=function(t,e){var n=null;return n=e>t?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},ui.toRadians=function(t){return t*Math.PI/180},ui.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ui.COUNTERCLOCKWISE:0>n?ui.CLOCKWISE:ui.NONE},ui.angleBetweenOriented=function(t,e,n){var i=ui.angle(e,t),r=ui.angle(e,n),o=r-i;return o<=-Math.PI?o+ui.PI_TIMES_2:o>Math.PI?o-ui.PI_TIMES_2:o},ui.PI_TIMES_2=2*Math.PI,ui.PI_OVER_2=Math.PI/2,ui.PI_OVER_4=Math.PI/4,ui.COUNTERCLOCKWISE=ue.COUNTERCLOCKWISE,ui.CLOCKWISE=ue.CLOCKWISE,ui.NONE=ue.COLLINEAR,e(ci.prototype,{area:function(){return ci.area(this.p0,this.p1,this.p2)},signedArea:function(){return ci.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new i("Supplied point is null.");return ci.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return ci.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return ci.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return ci.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return ci.area3D(this.p0,this.p1,this.p2)},centroid:function(){return ci.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return ci.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},ci.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},ci.det=function(t,e,n,i){return t*i-e*n},ci.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,a=n.x-r,s=i.x-r,l=n.y-o,u=i.y-o,c=a*u-s*l,h=t.x-r,p=t.y-o,d=(u*h-s*p)/c,f=(-l*h+a*p)/c;return e.z+d*(n.z-e.z)+f*(i.z-e.z)},ci.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),a=i;return r>a&&(a=r),o>a&&(a=o),a},ci.isAcute=function(t,e,n){return!(!ui.isAcute(t,e,n)||!ui.isAcute(e,n,t))&&!!ui.isAcute(n,t,e)},ci.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,a=t.y-r,s=e.x-i,l=e.y-r,u=2*ci.det(o,a,s,l);return new d(i-ci.det(a,o*o+a*a,l,s*s+l*l)/u,r+ci.det(o,o*o+a*a,s,s*s+l*l)/u)},ci.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y;return new R(new R(t.x+n/2,t.y+i/2,1),new R(t.x-i+n/2,t.y+n+i/2,1))},ci.angleBisector=function(t,e,n){var i=e.distance(t),r=e.distance(n),o=i/(i+r),a=n.x-t.x,s=n.y-t.y;return new d(t.x+o*a,t.y+o*s)},ci.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,u=r*l-o*s,c=o*a-i*l,h=i*s-r*a,p=u*u+c*c+h*h;return Math.sqrt(p)/2},ci.centroid=function(t,e,n){return new d((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},ci.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),a=i+r+o;return new d((i*t.x+r*e.x+o*n.x)/a,(i*t.y+r*e.y+o*n.y)/a)},e(hi.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new d(t[0])],null}var e=this.input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),W.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this.extremalPts=W.copyDeep(t),null;for(var i=hi.lowestPoint(t),r=hi.pointWitMinAngleWithX(t,i),o=0;o<t.length;o++){var a=hi.pointWithMinAngleWithSegment(t,i,r);if(ui.isObtuse(i,a,r))return this.extremalPts=[new d(i),new d(r)],null;if(ui.isObtuse(a,i,r))i=a;else{if(!ui.isObtuse(a,r,i))return this.extremalPts=[new d(i),new d(r),new d(a)],null;r=a}}p.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new d((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=ci.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var a=t[o];if(a!==e){var s=a.x-e.x,l=a.y-e.y;0>l&&(l=-l);var u=Math.sqrt(s*s+l*l),c=l/u;n>c&&(n=c,i=a)}}return i},hi.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},hi.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,a=0;a<t.length;a++){var s=t[a];if(s!==e&&s!==n){var l=ui.angleBetween(e,s,n);i>l&&(i=l,o=s)}}return o},e(pi.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof Ot?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new ce,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new me(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,o=n,a=o;r>=i;)i=r,o=a,a=pi.nextIndex(t,o),r=e.distancePerpendicular(t[a]);return i<this.minWidth&&(this.minPtIndex=o,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new ce(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,a=-r.MAX_VALUE,s=0;s<this.convexHullPts.length;s++){var l=pi.computeC(t,e,this.convexHullPts[s]);l>i&&(i=l),n>l&&(n=l);var u=pi.computeC(-e,t,this.convexHullPts[s]);u>a&&(a=u),o>u&&(o=u)}var c=pi.computeSegmentForLine(-t,-e,a),h=pi.computeSegmentForLine(-t,-e,o),p=pi.computeSegmentForLine(-e,t,i),d=pi.computeSegmentForLine(-e,t,n),f=p.lineIntersection(c),g=d.lineIntersection(c),m=d.lineIntersection(h),y=p.lineIntersection(h),v=this.inputGeom.getFactory().createLinearRing([f,g,m,y,f]);return this.inputGeom.getFactory().createPolygon(v,null)},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},pi.computeC=function(t,e,n){return t*n.y-e*n.x},pi.getMinimumDiameter=function(t){return new pi(t).getDiameter()},pi.getMinimumRectangle=function(t){return new pi(t).getMinimumRectangle()},pi.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new d(0,n/e),r=new d(1,n/e-t/e)):(i=new d(n/t,0),r=new d(n/t-e/t,1)),new ce(i,r)};var ca=Object.freeze({Centroid:pe,CGAlgorithms:ue,ConvexHull:me,InteriorPointArea:oi,InteriorPointLine:si,InteriorPointPoint:li,RobustLineIntersector:ae,MinimumBoundingCircle:hi,MinimumDiameter:pi});e(di.prototype,{getResultGeometry:function(){return new fi(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>=t)throw new i("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return di}}),di.densifyPoints=function(t,e,n){for(var i=new ce,r=new _,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var a=i.getLength(),s=Math.trunc(a/e)+1;if(s>1)for(var l=a/s,u=1;s>u;u++){var c=u*l/a,h=i.pointAlong(c);n.makePrecise(h),r.add(h,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},di.densify=function(t,e){var n=new di(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(fi,ve),e(fi.prototype,{transformMultiPolygon:function(t,e){var n=ve.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=ve.prototype.transformPolygon.call(this,t,e);return e instanceof At?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=di.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof St&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return fi}}),di.DensifyTransformer=fi;var ha=Object.freeze({Densifier:di});e(gi.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);p.shouldNeverReachHere()},insertAfter:function(t){p.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=Qe.quadrant(e,n),a=Qe.quadrant(i,r);return o>a?1:a>o?-1:ue.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return gi}}),gi.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},gi.create=function(t,e){var n=new gi(t),i=new gi(e);return n.init(i),n},c(mi,gi),e(mi.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return mi}}),mi.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},mi.isMarked=function(t){return t.isMarked()},mi.setMark=function(t,e){t.setMark(e)},mi.markBoth=function(t){t.mark(),t.sym().mark()},mi.mark=function(t){t.mark()},e(yi.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return gi.init(n,i),n},createEdge:function(t){return new gi(t)},addEdge:function(t,e){if(!yi.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.isValidEdge=function(t,e){return 0!==e.compareTo(t)},c(vi,mi),e(vi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return vi}}),c(bi,yi),e(bi.prototype,{createEdge:function(t){return new vi(t)},interfaces_:function(){return[]},getClass:function(){return bi}}),e(wi.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new _,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new _,n=t;for(this.ringStartEdge=null,mi.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,mi.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{mi.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();mi.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();mi.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof j){arguments[0].apply({interfaces_:function(){return[G]},filter:function(t){t instanceof St&&this.add(t)}})}else if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof St){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory());for(var r=i.getCoordinateSequence(),o=!1,e=1;e<r.size();e++){var a=this.graph.addEdge(r.getCoordinate(e-1),r.getCoordinate(e));null!==a&&(o||(a.setStart(),o=!0))}}},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.dissolve=function(t){var e=new wi;return e.add(t),e.getResult()};var pa=Object.freeze({LineDissolver:wi});e(xi.prototype,{hasChildren:function(){for(var t=0;4>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;4>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;4>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;4>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;4>e;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[l]},getClass:function(){return xi}}),xi.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},_i.exponent=function(t){return Ei(64,t)-1023},_i.powerOf2=function(t){return Math.pow(2,t)},e(Si.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=Si.computeQuadLevel(t),this.env=new E,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=_i.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/i)*i,this.pt.y=Math.floor(n.getMinY()/i)*i,this.env.init(this.pt.x,this.pt.x+i,this.pt.y,this.pt.y+i)}},getEnvelope:function(){return this.env},getCentre:function(){return new d((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Si}}),Si.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n;return _i.exponent(i)+1},c(Ci,xi),e(Ci.prototype,{find:function(t){var e=xi.getSubnodeIndex(t,this.centrex,this.centrey);if(-1===e)return this;if(null!==this.subnode[e]){return this.subnode[e].find(t)}return this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=xi.getSubnodeIndex(t,this.centrex,this.centrey);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}return new Ci(new E(e,n,i,r),this.level-1)},insertNode:function(t){p.isTrue(null===this.env||this.env.contains(t.env));var e=xi.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return Ci}}),Ci.createNode=function(t){var e=new Si(t);return new Ci(e.getEnvelope(),e.getLevel())},Ci.createExpanded=function(t,e){var n=new E(e);null!==t&&n.expandToInclude(t.env);var i=Ci.createNode(n);return null!==t&&i.insertNode(t),i},e(Ti.prototype,{interfaces_:function(){return[]},getClass:function(){return Ti}}),Ti.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e)),r=n/i;return _i.exponent(r)<=Ti.MIN_BINARY_EXPONENT},Ti.MIN_BINARY_EXPONENT=-50,c(ki,xi),e(ki.prototype,{insert:function(t,e){var n=xi.getSubnodeIndex(t,ki.origin.x,ki.origin.y);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getEnvelope().contains(t)){var r=Ci.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){p.isTrue(t.getEnvelope().contains(e));var i=Ti.isZeroWidth(e.getMinX(),e.getMaxX()),r=Ti.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=i||r?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return ki}}),ki.origin=new d(0,0),e(Oi.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=Oi.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Bn;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this.root.visit(n,i)}},queryAll:function(){var t=new x;return this.root.addAllItems(t),t},remove:function(t,e){var n=Oi.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[De,l]},getClass:function(){return Oi}}),Oi.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(n-=e/2,i=n+e/2),r===o&&(r-=e/2,o=r+e/2),new E(n,i,r,o))},Oi.serialVersionUID=-0x678b60c967a25400;var da=Object.freeze({Quadtree:Oi}),fa=Object.freeze({STRtree:Ue}),ga=Object.freeze({quadtree:da,strtree:fa}),ma=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Li.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!ya[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ma.indexOf(n)?ya[n].apply(this,[e.coordinates]):"GeometryCollection"===n?ya[n].apply(this,[e.geometries]):ya[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!va[e])throw new Error("Geometry is not supported")
;return va[e].apply(this,[t])}});var ya={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!ya[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ya.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new d(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new d(t[0],t[1]),new d(t[2],t[1]),new d(t[2],t[3]),new d(t[0],t[3]),new d(t[0],t[1])])},Point:function(t){var e=new d(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ya.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ya.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ya.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ya.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],a=ya.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);i.push(s)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(ya.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},va={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:va.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=va.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(va.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=va.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=va.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=t.holes[i],o=va.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=va.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(va[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(Ii.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===te.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;n>e;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;n>e;e++)this.reducePrecision(t.geometries[e])}}),e(Ai.prototype,{write:function(t){return this.parser.write(t)}}),e(Pi.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===te.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;n>e;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;r>i;i++)this.reducePrecision(t.geometries[i])}}),e(Ni.prototype,{read:function(t){return t instanceof ol.geom.Point?this.convertFromPoint(t):t instanceof ol.geom.LineString?this.convertFromLineString(t):t instanceof ol.geom.LinearRing?this.convertFromLinearRing(t):t instanceof ol.geom.Polygon?this.convertFromPolygon(t):t instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof ol.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new d(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Mi);return new ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Mi);return new ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Mi)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Mi));return new ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new ol.geom.MultiPoint(t.getCoordinates().map(Mi))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new ol.geom.GeometryCollection(e)}});var ba=Object.freeze({GeoJSONReader:Ii,GeoJSONWriter:Ai,OL3Parser:Ni,WKTReader:Pi,WKTWriter:re});e(Di.prototype,{rescale:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0];2===i.length&&(new d(i[0]),new d(i[1]));for(var e=0;e<i.length;e++)i[e].x=i[e].x/this.scaleFactor+this.offsetX,i[e].y=i[e].y/this.scaleFactor+this.offsetY;2===i.length&&i[0].equals2D(i[1])&&D.out.println(i)}},scale:function(){if(k(arguments[0],m)){for(var t=arguments[0],e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ze(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),n=0;n<r.length;n++)o[n]=new d(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);return W.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[$e]},getClass:function(){return Di}});var wa=Object.freeze({MCIndexNoder:en,ScaledNoder:Di,SegmentString:Le});e(Ri.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new st,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n),r=i.getCoordinate();if(e.contains(r))return this.nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=Un.getLines(t),n=e.iterator();n.hasNext();){var i=n.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var a=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,a,r)}for(var n=e.values().iterator();n.hasNext();){var s=n.next();if(s.isClosed&&2!==s.degree)return this.nonSimpleLocation=s.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Jn(0,t),n=new ae,i=e.computeSelfNodes(n,!0);return!i.hasIntersection()||(i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(e)&&(!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new Fi(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof St?this.isSimpleLinearGeometry(t):t instanceof dt?this.isSimpleLinearGeometry(t):t instanceof Lt?this.isSimpleMultiPoint(t):k(t,kt)?this.isSimplePolygonal(t):!(t instanceof pt)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Ri}}),e(Fi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Fi}}),Ri.EndpointInfo=Fi,e(Gi.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=Gi.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Gi.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=t&&(this.quadrantSegments=1),this.joinStyle!==Gi.JOIN_ROUND&&(this.quadrantSegments=Gi.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=0>t?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Gi.CAP_ROUND=1,Gi.CAP_FLAT=2,Gi.CAP_SQUARE=3,Gi.JOIN_ROUND=1,Gi.JOIN_MITRE=2,Gi.JOIN_BEVEL=3,Gi.DEFAULT_QUADRANT_SEGMENTS=8,Gi.DEFAULT_MITRE_LIMIT=5,Gi.DEFAULT_SIMPLIFY_FACTOR=.01,e(ji.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return 0>n&&(n=this.getRightmostSideOfSegment(t,e-1)),0>n&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();p.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=ue.computeOrientation(this.minCoord,n,e),r=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===ue.COUNTERCLOCKWISE?r=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===ue.CLOCKWISE&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(0>e||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var r=cn.LEFT;return i[e].y<i[e+1].y&&(r=cn.RIGHT),r},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}p.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===cn.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return ji}}),zi.prototype.addLast=function(t){this.array_.push(t)},zi.prototype.removeFirst=function(){return this.array_.shift()},zi.prototype.isEmpty=function(){return 0===this.array_.length},e(Ui.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new rn("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();i.setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(cn.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(cn.RIGHT)>=1&&e.getDepth(cn.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new J,n=new zi,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next(),s=a.getSym();if(!s.isVisited()){var l=s.getNode();e.contains(l)||(n.addLast(l),e.add(l))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new E,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),r=0;r<i.length-1;r++)t.expandToInclude(i[r]);this.env=t}return this.env},addReachable:function(t){var e=new fe;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(cn.LEFT,t.getDepth(cn.RIGHT)),e.setDepth(cn.RIGHT,t.getDepth(cn.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym(),o=r.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return Ui}}),e(Bi.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],o=this.inputLine[e],a=this.inputLine[n];return!(!this.isConcave(r,o,a)||!this.isShallow(r,o,a,i))&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Bi.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return ue.computeOrientation(t,e,n)===this.angleOrientation&&i>ue.distancePointLine(e,t,n)},isShallowSampled:function(t,e,n,i,r){var o=Math.trunc((i-n)/Bi.NUM_PTS_TO_CHECK);0>=o&&(o=1);for(var a=n;i>a;a+=o)if(!this.isShallow(t,e,this.inputLine[a],r))return!1;return!0},isConcave:function(t,e,n){return ue.computeOrientation(t,e,n)===this.angleOrientation},simplify:function(t){this.distanceTol=Math.abs(t),0>t&&(this.angleOrientation=ue.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Bi.DELETE;)e++;return e},isShallow:function(t,e,n,i){return i>ue.distancePointLine(e,t,n)},collapseLine:function(){for(var t=new _,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Bi.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.simplify=function(t,e){return new Bi(t).simplify(e)},Bi.INIT=0,Bi.DELETE=1,Bi.KEEP=1,Bi.NUM_PTS_TO_CHECK=10,e(Hi.prototype,{getCoordinates:function(){return this.ptList.toArray(Hi.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new d(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new ne).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new d(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Hi}}),Hi.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(Yi.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=ue.computeOrientation(this.s0,this.s1,this.s2),i=n===ue.CLOCKWISE&&this.side===cn.LEFT||n===ue.COUNTERCLOCKWISE&&this.side===cn.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new ce(t,e),i=new ce;this.computeOffsetSegment(n,cn.LEFT,this.distance,i);var r=new ce;this.computeOffsetSegment(n,cn.RIGHT,this.distance,r);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this.bufParams.getEndCapStyle()){case Gi.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,ue.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case Gi.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case Gi.CAP_SQUARE:var l=new d;l.x=Math.abs(this.distance)*Math.cos(s),l.y=Math.abs(this.distance)*Math.sin(s);var u=new d(i.p1.x+l.x,i.p1.y+l.y),c=new d(r.p1.x+l.x,r.p1.y+l.y);this.segList.addPt(u),this.segList.addPt(c)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=R.intersection(e.p0,e.p1,n.p0,n.p1);(0>=i?1:o.distance(t)/Math.abs(i))>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof C))throw t;o=new d(0,0),r=!1}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);i===ue.CLOCKWISE?c>=s&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,s,c,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Yi.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Gi.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Gi.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new d(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new d(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,o=ui.angle(r,this.seg0.p0),a=(ui.angle(r,this.seg1.p1),ui.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)),s=a/2,l=ui.normalize(o+s),u=ui.normalize(l+Math.PI),c=i*n,h=c*Math.abs(Math.sin(s)),p=n-h,f=r.x+c*Math.cos(u),g=r.y+c*Math.sin(u),m=new d(f,g),y=new ce(r,m),v=y.pointAlongOffset(1,p),b=y.pointAlongOffset(1,-p);this.side===cn.LEFT?(this.segList.addPt(v),this.segList.addPt(b)):(this.segList.addPt(b),this.segList.addPt(v))},computeOffsetSegment:function(t,e,n,i){var r=e===cn.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),l=r*n*o/s,u=r*n*a/s;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+l,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+l},addFilletArc:function(t,e,n,i,r){var o=i===ue.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this.filletAngleQuantum+.5);if(1>s)return null;var l=null,u=null;l=0,u=a/s;for(var c=l,h=new d;a>c;){var p=e+o*c;h.x=t.x+r*Math.cos(p),h.y=t.y+r*Math.sin(p),this.segList.addPt(h),c+=u}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new d((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var i=new d((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new d(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Hi,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===Gi.JOIN_BEVEL||this.bufParams.getJoinStyle()===Gi.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,ue.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Yi.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Vi.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=0>e,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&W.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=Bi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],cn.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{n.addSegments(t,!1);var s=Bi.simplify(t,i),l=s.length-1;n.initSideSegments(s[0],s[1],cn.LEFT),n.addFirstSegment();for(var a=2;l>=a;a++)n.addNextSegment(s[a],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===cn.RIGHT&&(i=-i);var r=Bi.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var a=1;o>=a;a++){var s=1!==a;n.addNextSegment(r[a],s)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=Bi.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],cn.LEFT);for(var o=2;r>=o;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var a=Bi.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],cn.LEFT);for(var o=s-2;o>=0;o--)e.addNextSegment(a[o],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case Gi.CAP_ROUND:e.createCircle(t);break;case Gi.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,0>e&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this.bufParams.isSingleSided()){var r=0>e;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Vi.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=Bi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],cn.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{var s=Bi.simplify(t,i),l=s.length-1;n.initSideSegments(s[0],s[1],cn.LEFT),n.addFirstSegment();for(var a=2;l>=a;a++)n.addNextSegment(s[a],!0)}n.addLastSegment()},getSegGen:function(t){return new Yi(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new d(t[n]);return e},e(Wi.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(k(arguments[2],v)&&arguments[0]instanceof d&&arguments[1]instanceof wn)for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),n=0;n<l.length-1;n++){this.seg.p0=l[n],this.seg.p1=l[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var u=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(u<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||ue.computeOrientation(this.seg.p0,this.seg.p1,o)===ue.RIGHT)){var c=a.getDepth(cn.LEFT);this.seg.p0.equals(l[n])||(c=a.getDepth(cn.RIGHT));var h=new qi(this.seg,c);s.add(h)}}else if(k(arguments[2],v)&&arguments[0]instanceof d&&k(arguments[1],v))for(var p=arguments[0],f=arguments[1],g=arguments[2],n=f.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(p,m,g)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:ua.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return Wi}}),e(qi.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg),0!==n?n:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return qi}}),Wi.DepthSegment=qi,e(Zi.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},addPolygon:function(t){var e=this.distance,n=cn.LEFT;this.distance<0&&(e=-this.distance,n=cn.RIGHT);var i=t.getExteriorRing(),r=W.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,T.EXTERIOR,T.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=W.removeRepeatedPoints(a.getCoordinates());this.distance>0&&this.isErodedCompletely(a,-this.distance)||this.addPolygonRing(s,e,cn.opposite(n),T.INTERIOR,T.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new ci(t[0],t[1],t[2]),i=n.inCentre();return ue.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=W.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new Ze(t,new pn(0,T.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<It.MINIMUM_VALID_SIZE)return null;var o=i,a=r
;t.length>=It.MINIMUM_VALID_SIZE&&ue.isCCW(t)&&(o=r,a=i,n=cn.opposite(n));var s=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},add:function(t){if(t.isEmpty())return null;if(t instanceof Ot)this.addPolygon(t);else if(t instanceof St)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof At)this.addCollection(t);else{if(!(t instanceof pt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return 0>e;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return 0>e&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Zi}}),e(Xi.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Xi.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,a,s),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[on]},getClass:function(){return Xi}}),Xi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Ki.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new pn(t.getLabel()),i.flip()),n.merge(i);var r=Ki.depthDelta(i),o=e.getDepthDelta(),a=o+r;e.setDepthDelta(a)}else this.edgeList.add(t),t.setDepthDelta(Ki.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),a=new Wi(n),s=a.getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new x,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Ui;r.create(i),e.add(r)}}return ua.sort(e,ua.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new en,n=new ae;return n.setPrecisionModel(t),e.setSegmentIntersector(new Xi(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new Vi(n,this.bufParams),r=new Zi(t,e,i),o=r.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this.graph=new _n(new In),this.graph.addEdges(this.edgeList.getEdges());var a=this.createSubgraphs(this.graph),s=new En(this.geomFact);this.buildSubgraphs(a,s);var l=s.getPolygons();return l.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(l)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings(),r=i.iterator();r.hasNext();){var o=r.next(),a=o.getCoordinates();if(2!==a.length||!a[0].equals2D(a[1])){var s=o.getData(),l=new Qn(o.getCoordinates(),new pn(s));this.insertUniqueEdge(l)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.depthDelta=function(t){var e=t.getLocation(0,cn.LEFT),n=t.getLocation(0,cn.RIGHT);return e===T.INTERIOR&&n===T.EXTERIOR?1:e===T.EXTERIOR&&n===T.INTERIOR?-1:0},Ki.convertSegStrings=function(t){for(var e=new ne,n=new x;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(Qi.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(i))throw new u("found endpt/interior pt intersection at index "+o+" :pt "+i)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],a=r.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(r,l,o,c);else if(4===arguments.length){var h=arguments[0],p=arguments[1],d=arguments[2],f=arguments[3];if(h===d&&p===f)return null;var g=h.getCoordinates()[p],m=h.getCoordinates()[p+1],y=d.getCoordinates()[f],v=d.getCoordinates()[f+1];if(this.li.computeIntersection(g,m,y,v),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,y,v)))throw new u("found non-noded intersection at "+g+"-"+m+" and "+y+"-"+v)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],i=n.getCoordinates(),t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new u("found non-noded collapse at "+Qi.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Qi}}),Qi.fact=new ne,e(Ji.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this.maxx<n||this.minx>i||this.maxy<r||this.miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return p.isTrue(!(a&&s),"Found bad envelope test"),s},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new d(this.maxx,this.maxy),this.corner[1]=new d(this.minx,this.maxy),this.corner[2]=new d(this.minx,this.miny),this.corner[3]=new d(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Ji.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new E(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.isProper()||(!(!n||!i)||(!!t.equals(this.pt)||!!e.equals(this.pt))))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.SAFE_ENV_EXPANSION_FACTOR=.75,e($i.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return $i}}),e(tr.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new er(e,n,i);return this.index.query(r,{interfaces_:function(){return[Ne]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return tr}}),c(er,$i),e(er.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return $i.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return er}}),tr.HotPixelSnapAction=er,e(nr.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var l=0;l<this.li.getIntersectionNum();l++)this.interiorIntersections.add(this.li.getIntersection(l));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[on]},getClass:function(){return nr}}),e(ir.prototype,{checkCorrectness:function(t){var e=Ze.getNodedSubstrings(t),n=new Qi(e);try{n.checkValid()}catch(t){if(!(t instanceof S))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return Ze.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new nr(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof Ze)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var a=new Ji(r[o],this.scaleFactor,this.li),s=this.pointSnapper.snap(a,i,o);s&&i.addIntersection(r[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new en,this.pointSnapper=new tr(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new Ji(n,this.scaleFactor,this.li);this.pointSnapper.snap(i)}},interfaces_:function(){return[$e]},getClass:function(){return ir}}),e(rr.prototype,{bufferFixedPrecision:function(t){var e=new Di(new ir(new te(1)),t.getScale()),n=new Ki(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=rr.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof rn))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=rr.precisionScaleFactor(this.argGeom,this.distance,e),i=new te(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===te.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Ki(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof u))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return rr}}),rr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new rr(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var r=arguments[0],o=arguments[1],a=arguments[2],s=new rr(r);s.setQuadrantSegments(a);var i=s.getResultGeometry(o);return i}if(arguments[2]instanceof Gi&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=arguments[2],s=new rr(l,c),i=s.getResultGeometry(u);return i}}else if(4===arguments.length){var h=arguments[0],p=arguments[1],d=arguments[2],f=arguments[3],s=new rr(h);s.setQuadrantSegments(d),s.setEndCapStyle(f);var i=s.getResultGeometry(p);return i}},rr.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=O.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),o=e>0?e:0,a=r+2*o,s=Math.trunc(Math.log(a)/Math.log(10)+1),l=n-s;return Math.pow(10,l)},rr.CAP_ROUND=Gi.CAP_ROUND,rr.CAP_BUTT=Gi.CAP_FLAT,rr.CAP_FLAT=Gi.CAP_FLAT,rr.CAP_SQUARE=Gi.CAP_SQUARE,rr.MAX_PRECISION_DIGITS=12;var xa=Object.freeze({BufferOp:rr,BufferParameters:Gi});e(or.prototype,{filter:function(t){t instanceof Ot&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return or}}),or.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return or.getPolygons(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ot?n.add(e):e instanceof pt&&e.apply(new or(n)),n}},e(ar.prototype,{isInsideArea:function(){return this.segIndex===ar.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.INSIDE_AREA=-1,e(sr.prototype,{filter:function(t){t instanceof Tt&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return sr}}),sr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Tt?ua.singletonList(t):sr.getPoints(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Tt?n.add(e):e instanceof pt&&e.apply(new sr(n)),n}},e(lr.prototype,{filter:function(t){(t instanceof Tt||t instanceof St||t instanceof Ot)&&this.locations.add(new ar(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return lr}}),lr.getLocations=function(t){var e=new x;return t.apply(new lr(e)),e},e(ur.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=or.getPolygons(this.geom[e]);if(r.size()>0){var o=lr.getLocations(this.geom[i]);if(this.computeContainmentDistance(o,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&k(arguments[0],v)&&k(arguments[1],v)){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=0;u<a.size();u++)for(var c=a.get(u),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),l),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ar&&arguments[1]instanceof Ot){var p=arguments[0],d=arguments[1],f=arguments[2],g=p.getCoordinate();if(T.EXTERIOR!==this.ptLocator.locate(g,d))return this.minDistance=0,f[0]=p,f[1]=new ar(d,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Un.getLines(this.geom[0]),n=Un.getLines(this.geom[1]),i=sr.getPoints(this.geom[0]),r=sr.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof Tt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var a=ue.distancePointLine(r,i[o],i[o+1]);if(a<this.minDistance){this.minDistance=a;var s=new ce(i[o],i[o+1]),l=s.closestPoint(r);n[0]=new ar(t,o,l),n[1]=new ar(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof St){var u=arguments[0],c=arguments[1],h=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this.minDistance)return null;for(var i=u.getCoordinates(),p=c.getCoordinates(),o=0;o<i.length-1;o++)for(var d=0;d<p.length-1;d++){var a=ue.distanceLineLine(i[o],i[o+1],p[d],p[d+1]);if(a<this.minDistance){this.minDistance=a;var f=new ce(i[o],i[o+1]),g=new ce(p[d],p[d+1]),m=f.closestPoints(g);h[0]=new ar(u,o,m[0]),h[1]=new ar(c,d,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o),s=r.getCoordinate().distance(a.getCoordinate());if(s<this.minDistance&&(this.minDistance=s,n[0]=new ar(r,0,r.getCoordinate()),n[1]=new ar(a,0,a.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new i("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return ur}}),ur.distance=function(t,e){return new ur(t,e).distance()},ur.isWithinDistance=function(t,e,n){return new ur(t,e,n).distance()<=n},ur.nearestPoints=function(t,e){return new ur(t,e).nearestPoints()};var _a=Object.freeze({DistanceOp:ur});e(cr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new _,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&W.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return cr}}),e(hr.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return hr}}),hr.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},hr.setVisited=function(t,e){for(;t.hasNext();){t.next().setVisited(e)}},hr.setMarked=function(t,e){for(;t.hasNext();){t.next().setMarked(e)}},c(pr,hr),e(pr.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ue.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return pr}}),pr.toEdges=function(t){for(var e=new x,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},c(dr,pr),e(dr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(p.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return dr}}),c(fr,hr),e(fr.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof mr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return fr}}),e(gr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(ua.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof fr){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof pr){var i=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n===i)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],o=r%this.outEdges.size();return 0>o&&(o+=this.outEdges.size()),o}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return gr}}),c(mr,hr),e(mr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return mr}}),mr.getEdgesBetween=function(t,e){var n=pr.toEdges(t.getOutEdges().getEdges()),i=new J(n),r=pr.toEdges(e.getOutEdges().getEdges());return i.retainAll(r),i},c(yr,fr),e(yr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return yr}}),e(vr.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return vr}}),e(br.prototype,{findNodesOfDegree:function(t){for(var e=new x,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof fr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof pr){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof mr){for(var i=arguments[0],r=i.getOutEdges().getEdges(),o=r.iterator();o.hasNext();){var a=o.next(),n=a.getSym();null!==n&&this.remove(n),this.dirEdges.remove(a);var s=a.getEdge();null!==s&&this.edges.remove(s)}this.nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof fr){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof pr){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof mr){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof fr){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof pr){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return br}}),c(wr,br),e(wr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new dr(r,o,e[1],!0),s=new dr(o,r,e[e.length-2],!1),l=new yr(t);l.setDirectedEdges(a,s),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new mr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return wr}}),e(xr.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(p.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;hr.setMarked(this.graph.nodeIterator(),!1),hr.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new cr(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof j){arguments[0].apply({interfaces_:function(){return[G]},filter:function(t){t instanceof St&&this.add(t)}})}else if(k(arguments[0],m)){var t=arguments[0];this.mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof St){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory()),this.graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return xr}});var Ea=Object.freeze({LineMerger:xr}),Sa=Object.freeze({OverlayOp:ni});c(_r,pr),e(_r.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return _r}}),c(Er,fr),e(Er.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Er}}),e(Sr.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new _,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();Sr.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),this.ring.isValid())},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),p.isTrue(null!==e,"found null DE in ring"),
p.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof It){var t=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(t)}else if(arguments[0]instanceof Sr){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new x),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=ue.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return re.toLineString(new Ft(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&D.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof S))throw t;D.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.findDirEdgesInRing=function(t){var e=t,n=new x;do{n.add(e),e=e.getNext(),p.isTrue(null!==e,"found null DE in ring"),p.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},Sr.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(var i=t.length-1;i>=0;i--)n.add(t[i],!1)},Sr.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getRing(),c=u.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=W.ptNotInList(n.getCoordinates(),u.getCoordinates());var h=!1;ue.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=l,a=o.getRing().getEnvelopeInternal())}}return o},e(Cr.prototype,{compare:function(t,e){var n=t,i=e;return n.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[s]},getClass:function(){return Cr}}),Sr.EnvelopeComparator=Cr,c(Tr,br),e(Tr.prototype,{findEdgeRing:function(t){var e=new Sr(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){return null}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Tr.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=W.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),a=new _r(r,o,e[1],!0),s=new _r(o,r,e[e.length-2],!1),l=new Er(t);l.setDirectedEdges(a,s),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),Tr.findLabeledEdgeRings(this.dirEdges);for(var t=new x,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var r=n.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Tr.label(this.dirEdges,-1);var t=Tr.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new x,n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var r=this.findEdgeRing(i);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new mr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=Tr.findIntersectionNodes(n,i);if(null!==r)for(var o=r.iterator();o.hasNext();){var a=o.next();Tr.computeNextCCWEdges(a,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new J,n=new fe,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();Tr.deleteAllEdges(r);for(var o=r.getOutEdges().getEdges(),i=o.iterator();i.hasNext();){var a=i.next();a.setMarked(!0);var s=a.getSym();null!==s&&s.setMarked(!0);var l=a.getEdge();e.add(l.getLine());var u=a.getToNode();1===Tr.getDegreeNonDeleted(u)&&n.push(u)}}return e},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.findLabeledEdgeRings=function(t){for(var e=new x,n=1,i=t.iterator();i.hasNext();){var r=i.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var o=Sr.findDirEdgesInRing(r);Tr.label(o,n),n++}}return e},Tr.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,i=e.iterator();i.hasNext();){i.next().isMarked()||n++}return n},Tr.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var i=n.next();i.setMarked(!0);var r=i.getSym();null!==r&&r.setMarked(!0)}},Tr.label=function(t,e){for(var n=t.iterator();n.hasNext();){n.next().setLabel(e)}},Tr.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,i=null,r=e.getEdges().iterator();r.hasNext();){var o=r.next();if(!o.isMarked()){if(null===n&&(n=o),null!==i){var a=i.getSym();a.setNext(o)}i=o}}if(null!==i){var a=i.getSym();a.setNext(n)}},Tr.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),i=null,r=null,o=n.getEdges(),a=o.size()-1;a>=0;a--){var s=o.get(a),l=s.getSym(),u=null;s.getLabel()===e&&(u=s);var c=null;l.getLabel()===e&&(c=l),null===u&&null===c||(null!==c&&(r=c),null!==u&&(null!==r&&(r.setNext(u),r=null),null===i&&(i=u)))}null!==r&&(p.isTrue(null!==i),r.setNext(i))},Tr.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),i=0,r=n.iterator();r.hasNext();){r.next().getLabel()===e&&i++}return i},Tr.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();Tr.getDegree(r,e)>1&&(null===i&&(i=new x),i.add(r)),n=n.getNext(),p.isTrue(null!==n,"found null DE in ring"),p.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(kr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new ne),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(ne.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),kr.assignHolesToShells(this.holeList,this.shellList),ua.sort(this.shellList,new Sr.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(kr.findDisjointShells(this.shellList),n=!1),this.polyList=kr.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof St){var i=arguments[0];this.geomFactory=i.getFactory(),null===this.graph&&(this.graph=new Tr(this.geomFactory)),this.graph.addEdge(i)}else if(arguments[0]instanceof j){var r=arguments[0];r.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new x,this.shellList=new x;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},kr.extractPolygons=function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},kr.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();kr.assignHoleToShell(i,e)}},kr.assignHoleToShell=function(t,e){var n=Sr.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},kr.findDisjointShells=function(t){kr.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(Or.prototype,{filter:function(t){t instanceof St&&this.p.add(t)},interfaces_:function(){return[G]},getClass:function(){return Or}}),kr.LineStringAdder=Or;var Ca=Object.freeze({Polygonizer:kr});e(Lr.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var a=new bn(t,n.coord,o,new pn(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var a=new pn(t.getLabel());a.flip();var s=new bn(t,n.coord,o,a);e.add(s)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],a=r.getEdgeIntersectionList();a.addEndpoints();var s=a.iterator(),l=null,u=null;if(!s.hasNext())return null;var c=s.next();do{l=u,u=c,c=null,s.hasNext()&&(c=s.next()),null!==u&&(this.createEdgeEndForPrev(r,o,u,l),this.createEdgeEndForNext(r,o,u,c))}while(null!==u)}},interfaces_:function(){return[]},getClass:function(){return Lr}}),c(Ir,bn),e(Ir.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();){e.next().print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){var o=r.next(),a=o.getLabel().getLocation(t);a===T.BOUNDARY&&n++,a===T.INTERIOR&&(i=!0)}var a=T.NONE;i&&(a=T.INTERIOR),n>0&&(a=Jn.determineBoundary(e,n)),this.label.setLocation(t,a)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===T.INTERIOR)return this.label.setLocation(t,e,T.INTERIOR),null;r===T.EXTERIOR&&this.label.setLocation(t,e,T.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,cn.LEFT),this.computeLabelSide(t,cn.RIGHT)},updateIM:function(t){Qn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();){n.next().getLabel().isArea()&&(e=!0)}this.label=e?new pn(T.NONE,T.NONE,T.NONE):new pn(T.NONE);for(var i=0;2>i;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return Ir}}),c(Ar,On),e(Ar.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){e.next().updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new Ir(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Ar}}),c(Pr,yn),e(Pr.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Pr}}),c(Mr,xn),e(Mr.prototype,{createNode:function(t){return new Pr(t,new Ar)},interfaces_:function(){return[]},getClass:function(){return Mr}}),e(Nr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,T.EXTERIOR)},computeIM:function(){var t=new he;if(t.set(T.EXTERIOR,T.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Lr,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),a=this.nodes.find(o.coord);a.getLabel().isNull(t)&&(i===T.BOUNDARY?a.setLabelBoundary(t):a.setLabel(t,T.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),a=this.nodes.addNode(o.coord);i===T.BOUNDARY?a.setLabelBoundary(t):a.getLabel().isNull(t)&&a.setLabel(t,T.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();p.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(T.INTERIOR,T.EXTERIOR,e.getDimension()),t.set(T.BOUNDARY,T.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(T.EXTERIOR,T.INTERIOR,n.getDimension()),t.set(T.EXTERIOR,T.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Nr}}),e(Dr.prototype,{isContainedInBoundary:function(t){if(t instanceof Ot)return!1;if(t instanceof Tt)return this.isPointContainedInBoundary(t);if(t instanceof St)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new d,i=new d,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Tt){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof d){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Dr}}),Dr.contains=function(t,e){return new Dr(t).contains(e)},e(Rr.prototype,{intersects:function(t,e){var n=new E(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Rr}}),e(Fr.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof pt)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Fr}}),e(Gr.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new jr(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new zr(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new Ur(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return Gr}}),Gr.intersects=function(t,e){return new Gr(t).intersects(e)},c(jr,Fr),e(jr.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return jr}}),c(zr,Fr),e(zr.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Ot))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new d,i=0;4>i;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&kn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return zr}}),c(Ur,Fr),e(Ur.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Un.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Ur}}),c(Br,$n),e(Br.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Br}}),Br.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||Br.relate(t,e).isCovers())},Br.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Gr.intersects(t,e):e.isRectangle()?Gr.intersects(e,t):Br.relate(t,e).isIntersects())},Br.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Br.relate(t,e).isTouches(t.getDimension(),e.getDimension())},Br.within=function(t,e){return e.contains(t)},Br.coveredBy=function(t,e){return Br.covers(e,t)},Br.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Br(t,e),i=n.getIntersectionMatrix();return i}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof j&&arguments[1]instanceof j){var r=arguments[0],o=arguments[1],a=arguments[2];return Br.relateWithCheck(r,o).matches(a)}if(k(arguments[2],U)&&arguments[0]instanceof j&&arguments[1]instanceof j){var s=arguments[0],l=arguments[1],u=arguments[2],n=new Br(s,l,u),i=n.getIntersectionMatrix();return i}}},Br.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Br.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},Br.disjoint=function(t,e){return!t.intersects(e)},Br.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Br.relate(t,e)},Br.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Br.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},Br.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Dr.contains(t,e):Br.relate(t,e).isContains())};var Ta=Object.freeze({RelateOp:Br});e(Hr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new x,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.combine=function(){if(1===arguments.length){var t=arguments[0],e=new Hr(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new Hr(Hr.createList(n,i));return e.combine()}if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],e=new Hr(Hr.createList(r,o,a));return e.combine()}},Hr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Hr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new x;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],n=new x;return n.add(i),n.add(r),n.add(o),n}},e(Yr.prototype,{union:function(){for(var t=new ke,e=new st,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n),r=i.getCoordinate();t.locate(r,this.otherGeom)===T.EXTERIOR&&e.add(r)}if(0===e.size())return this.otherGeom;var o=null,a=W.toCoordinateArray(e);return o=1===a.length?this.geomFact.createPoint(a[0]):this.geomFact.createMultiPointFromCoords(a),Hr.combine(o,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.union=function(t,e){return new Yr(t,e).union()},e(Vr.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Vr}}),Vr.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Vr.extract(t,e,new x)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return n.getSortIndex()===i?r.add(n):n instanceof pt&&n.apply(new Vr(i,r)),r}},e(Wr.prototype,{reduceToGeometries:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next(),r=null;k(i,v)?r=this.unionTree(i):i instanceof j&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new x,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){return Hr.combine(t,e)}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Ue(Wr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(1>=i-n){var r=Wr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Wr.getGeometry(e,n),Wr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),r=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(r,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Wr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new x,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),a=this.unionActual(r,o);return i.add(a),Hr.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var r=arguments[0],o=arguments[1],e=r.getFactory(),n=e.createGeometryCollection([r,o]),i=n.buffer(0);return i}},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.restrictToPolygons=function(t){if(k(t,kt))return t;var e=or.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ne.toPolygonArray(e))},Wr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Wr.union=function(t){return new Wr(t).union()},Wr.STRTREE_NODE_CAPACITY=4,e(qr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return ri.overlayOp(t,e,ni.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof j){var i=arguments[0];null===this.geomFact&&(this.geomFact=i.getFactory()),Vr.extract(i,j.SORTINDEX_POLYGON,this.polygons),Vr.extract(i,j.SORTINDEX_LINESTRING,this.lines),Vr.extract(i,j.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var i=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(i)}var r=null;this.polygons.size()>0&&(r=Wr.union(this.polygons));var o=this.unionWithNull(n,r),a=null;return a=null===t?o:null===o?t:Yr.union(t,o),null===a?this.geomFact.createGeometryCollection():a},interfaces_:function(){return[]},getClass:function(){return qr}}),qr.union=function(){if(1===arguments.length){if(k(arguments[0],m)){var t=arguments[0],e=new qr(t);return e.union()}if(arguments[0]instanceof j){var n=arguments[0],e=new qr(n);return e.union()}}else if(2===arguments.length){var i=arguments[0],r=arguments[1],e=new qr(i,r);return e.union()}};var ka=Object.freeze({UnaryUnionOp:qr});e(Zr.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=Zr.findDifferentPoint(n,i),o=e.findEdgeInSameDirection(i,r),a=e.findEdgeEnd(o),s=null;a.getLabel().getLocation(0,cn.RIGHT)===T.INTERIOR?s=a:a.getSym().getLabel().getLocation(0,cn.RIGHT)===T.INTERIOR&&(s=a.getSym()),p.isTrue(null!==s,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(s)},visitShellInteriors:function(t,e){if(t instanceof Ot){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof At)for(var i=t,r=0;r<i.getNumGeometries();r++){var n=i.getGeometryN(r);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,cn.RIGHT)===T.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{p.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new gn(i,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,cn.RIGHT)===T.INTERIOR)for(var o=0;o<i.size();o++)if(r=i.get(o),!r.isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new x;this.geomGraph.computeSplitEdges(t);var e=new _n(new In);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(Xr.prototype,{hasChildren:function(){for(var t=0;2>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;2>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;2>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;2>e;e++)if(null!==this.subnode[e]){
var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(Kr.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Kr){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return n>=this.min&&i<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Kr}}),e(Qr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Qr.computeLevel(t),this.interval=new Kr,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=_i.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.computeLevel=function(t){var e=t.getWidth();return _i.exponent(e)+1},c(Jr,Xr),e(Jr.prototype,{getInterval:function(){return this.interval},find:function(t){var e=Xr.getSubnodeIndex(t,this.centre);if(-1===e)return this;if(null!==this.subnode[e]){return this.subnode[e].find(t)}return this},insert:function(t){p.isTrue(null===this.interval||this.interval.contains(t.interval));var e=Xr.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=Xr.getSubnodeIndex(t,this.centre);if(-1!==e){return this.getSubnode(e).getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new Jr(new Kr(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return Jr}}),Jr.createNode=function(t){var e=new Qr(t);return new Jr(e.getInterval(),e.getLevel())},Jr.createExpanded=function(t,e){var n=new Kr(e);null!==t&&n.expandToInclude(t.interval);var i=Jr.createNode(n);return null!==t&&i.insert(t),i},c($r,Xr),e($r.prototype,{insert:function(t,e){var n=Xr.getSubnodeIndex(t,$r.origin);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getInterval().contains(t)){var r=Jr.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){p.isTrue(t.getInterval().contains(e));var i=Ti.isZeroWidth(e.getMin(),e.getMax()),r=null;r=i?t.find(e):t.getNode(e),r.add(n)},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.origin=0,e(to.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=to.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Kr(t,t))}if(arguments[0]instanceof Kr){var e=arguments[0],n=new x;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new x;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=to.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return to}}),to.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(n-=e/2,i=n+e/2),new Kr(n,i))},e(eo.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return eo}}),e(no.prototype,{testLineSegment:function(t,e){var n=null,i=null,r=null,o=null,a=e.p0,s=e.p1;n=a.x-t.x,i=a.y-t.y,r=s.x-t.x,o=s.y-t.y,(i>0&&0>=o||o>0&&0>=i)&&se.signOfDet2x2(n,i,r,o)/(o-i)>0&&this.crossings++},buildIndex:function(){this.tree=new to;for(var t=W.removeRepeatedPoints(this.ring.getCoordinates()),e=Je.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new E(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new io(this,t),o=n.iterator();o.hasNext();){var a=o.next();this.testMonotoneChain(e,i,a)}return this.crossings%2==1},interfaces_:function(){return[eo]},getClass:function(){return no}}),c(io,$i),e(io.prototype,{select:function(){if(1!==arguments.length)return $i.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return io}}),no.MCSelecter=io,e(ro.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this.nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new Lr,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),s=this.nodes.addNode(a.coord);r===T.BOUNDARY?s.setLabelBoundary(e):s.getLabel().isNull(e)&&s.setLabel(e,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return ro}}),e(oo.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdgeEnds().size()>1)return this.invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return oo}}),e(ao.prototype,{buildIndex:function(){this.index=new Ue;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var s=lo.findPtNotNode(n,o,this.graph);if(null!==s){var l=ue.isPointInRing(s,a);if(l)return this.nestedPt=s,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return ao}}),e(so.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return so.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return so}}),so.ERROR=0,so.REPEATED_POINT=1,so.HOLE_OUTSIDE_SHELL=2,so.NESTED_HOLES=3,so.DISCONNECTED_INTERIOR=4,so.SELF_INTERSECTION=5,so.RING_SELF_INTERSECTION=6,so.NESTED_SHELLS=7,so.DUPLICATE_RINGS=8,so.TOO_FEW_POINTS=9,so.INVALID_COORDINATE=10,so.RING_NOT_CLOSED=11,so.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(lo.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!lo.isValid(t[e]))return this.validErr=new so(so.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Ot){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new ao(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this.validErr=new so(so.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new oo(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new so(so.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new so(so.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),o=lo.findPtNotNode(i,e,n);if(null!==o){if(!ue.isPointInRing(o,r))return o}var a=lo.findPtNotNode(r,t,n);if(null!==a){return ue.isPointInRing(a,i)?a:null}return p.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Zr(t);e.isInteriorsConnected()||(this.validErr=new so(so.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new st,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new so(so.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new no(n),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),a=lo.findPtNotNode(o.getCoordinates(),n,e);if(null===a)return null;if(!i.isInside(a))return this.validErr=new so(so.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){return t.hasTooFewPoints()?(this.validErr=new so(so.TOO_FEW_POINTS,t.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Tt){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Lt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof It){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var i=new Jn(0,n);if(this.checkTooFewPoints(i),null!==this.validErr)return null;var r=new ae;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof St){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;var i=new Jn(0,o);this.checkTooFewPoints(i)}else if(arguments[0]instanceof Ot){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this.validErr)return null;if(this.checkClosedRings(a),null!==this.validErr)return null;var i=new Jn(0,a);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;if(this.checkHolesInShell(a,i),null!==this.validErr)return null;if(this.checkHolesNotNested(a,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof At){for(var s=arguments[0],l=0;l<s.getNumGeometries();l++){var u=s.getGeometryN(l);if(this.checkInvalidCoordinates(u),null!==this.validErr)return null;if(this.checkClosedRings(u),null!==this.validErr)return null}var i=new Jn(0,s);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;for(var l=0;l<s.getNumGeometries();l++){var u=s.getGeometryN(l);if(this.checkHolesInShell(u,i),null!==this.validErr)return null}for(var l=0;l<s.getNumGeometries();l++){var u=s.getGeometryN(l);if(this.checkHolesNotNested(u,i),null!==this.validErr)return null}if(this.checkShellsNotNested(s,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof pt)for(var c=arguments[0],l=0;l<c.getNumGeometries();l++){var h=c.getGeometryN(l);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof j){var p=arguments[0];if(this.validErr=null,p.isEmpty())return null;if(p instanceof Tt)this.checkValid(p);else if(p instanceof Lt)this.checkValid(p);else if(p instanceof It)this.checkValid(p);else if(p instanceof St)this.checkValid(p);else if(p instanceof Ot)this.checkValid(p);else if(p instanceof At)this.checkValid(p);else{if(!(p instanceof pt))throw new UnsupportedOperationException(p.getClass().getName());this.checkValid(p)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),a=lo.findPtNotNode(i,r,n);if(null===a)return null;if(!ue.isPointInRing(a,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new so(so.NESTED_SHELLS,a),null;for(var s=null,l=0;l<e.getNumInteriorRing();l++){var u=e.getInteriorRingN(l);if(null===(s=this.checkShellInsideHole(t,u,n)))return null}this.validErr=new so(so.NESTED_SHELLS,s)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new so(so.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n),r=i.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var a=t.getGeometryN(o);if(this.checkShellNotNested(r,a,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e),r=i.getEdgeIntersectionList(),o=0;o<t.length;o++){var a=t[o];if(!r.isIntersection(a))return a}return null},lo.isValid=function(){if(arguments[0]instanceof j){return new lo(arguments[0]).isValid()}if(arguments[0]instanceof d){var t=arguments[0];return!r.isNaN(t.x)&&(!r.isInfinite(t.x)&&(!r.isNaN(t.y)&&!r.isInfinite(t.y)))}};var Oa=Object.freeze({IsValidOp:lo}),La=Object.freeze({BoundaryOp:ft,IsSimpleOp:Ri,buffer:xa,distance:_a,linemerge:Ea,overlay:Sa,polygonize:Ca,relate:Ta,union:ka,valid:Oa});c(uo,Pt.CoordinateOperation),e(uo.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new d(t[i]);this.targetPM.makePrecise(r),n[i]=r}var o=new _(n,!1),a=o.toCoordinateArray(),s=0;e instanceof St&&(s=2),e instanceof It&&(s=4);var l=n;return this.removeCollapsed&&(l=null),a.length<s?l:a},interfaces_:function(){return[]},getClass:function(){return uo}}),e(co.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=t.getFactory().createGeometry(n)),i},reducePointwise:function(t){var e=null;if(this.changePrecisionModel){e=new Pt(this.createFactory(t.getFactory(),this.targetPM))}else e=new Pt;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new uo(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Pt.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new ne(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:k(e,kt)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new Pt:new Pt(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return co}}),co.reduce=function(t,e){return new co(e).reduce(t)},co.reducePointwise=function(t,e){var n=new co(e);return n.setPointwise(!0),n.reduce(t)};var Ia=Object.freeze({GeometryPrecisionReducer:co});e(ho.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;e>r;r++){var o=this.seg.distance(this.pts[r]);o>n&&(n=o,i=r)}if(n<=this.distanceTolerance)for(var r=t+1;e>r;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new _,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new d(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.simplify=function(t,e){var n=new ho(t);return n.setDistanceTolerance(e),n.simplify()},e(po.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new fo(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return po}}),po.simplify=function(t,e){var n=new po(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(fo,ve),e(fo.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=ve.prototype.transformPolygon.call(this,t,e);return e instanceof At?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=null;return i=0===n.length?new Array(0).fill(null):ho.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=ve.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Ot,i=ve.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof It?i:null},interfaces_:function(){return[]},getClass:function(){return fo}}),po.DPTransformer=fo,c(go,ce),e(go.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return go}}),e(mo.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(mo.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(mo.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new go(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return mo.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return mo}}),mo.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(yo.prototype,{remove:function(t){this.index.remove(new E(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof mo)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof ce){var r=arguments[0];this.index.insert(new E(r.p0,r.p1),r)}},query:function(t){var e=new E(t.p0,t.p1),n=new vo(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return yo}}),e(vo.prototype,{visitItem:function(t){var e=t;E.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ne]},getClass:function(){return vo}}),e(bo.prototype,{flatten:function(t,e){var n=this.linePts[t],i=this.linePts[e],r=new ce(n,i);return this.remove(this.line,t,e),this.outputIndex.add(r),r},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){n+1<this.line.getMinimumSize()&&(o=!1)}var a=new Array(1).fill(null),s=this.findFurthestPoint(this.linePts,t,e,a);a[0]>this.distanceTolerance&&(o=!1);var l=new ce;if(l.p0=this.linePts[t],l.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,l)&&(o=!1),o){var r=this.flatten(t,e);return this.line.addToResult(r),null}this.simplifySection(t,s,n),this.simplifySection(s,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),n=e.iterator();n.hasNext();){var i=n.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new ce;r.p0=t[e],r.p1=t[n];for(var o=-1,a=e,s=e+1;n>s;s++){var l=t[s],u=r.distance(l);u>o&&(o=u,a=s)}return i[0]=o,a},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;n>i;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n),r=i.iterator();r.hasNext();){var o=r.next();if(this.hasInteriorIntersection(o,n)){if(bo.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return bo}}),bo.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(wo.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new bo(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return wo}}),e(xo.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new $t,this.inputGeom.apply(new Eo(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new _o(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return xo}}),xo.simplify=function(t,e){var n=new xo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(_o,ve),e(_o.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof St){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return ve.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return _o}}),e(Eo.prototype,{filter:function(t){if(t instanceof St){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new mo(e,n);this.tps.linestringMap.put(e,i)}},interfaces_:function(){return[G]},getClass:function(){return Eo}}),xo.LineStringTransformer=_o,xo.LineStringMapBuilderFilter=Eo;var Aa=Object.freeze({DouglasPeuckerSimplifier:po,TopologyPreservingSimplifier:xo});e(So.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=So.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.getConstrainedLength(n),o=r/this.segLen;i.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=So.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return So}}),So.pointAlongReverse=function(t,e){var n=new d;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(Co.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Co}}),e(To.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength(),r=i/2,o=new So(n),a=To.projectedSplitPoint(t,e),s=2*a.distance(e)*.8,l=s;return l>r&&(l=r),o.setMinimumLength(l),o.splitAt(a),o.getSplitPoint()},interfaces_:function(){return[Co]},getClass:function(){return To}}),To.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(ko.prototype,{interfaces_:function(){return[]},getClass:function(){return ko}}),ko.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},ko.isInCircleDDNormalized=function(t,e,n,i){var r=P.valueOf(t.x).selfSubtract(i.x),o=P.valueOf(t.y).selfSubtract(i.y),a=P.valueOf(e.x).selfSubtract(i.x),s=P.valueOf(e.y).selfSubtract(i.y),l=P.valueOf(n.x).selfSubtract(i.x),u=P.valueOf(n.y).selfSubtract(i.y),c=r.multiply(s).selfSubtract(a.multiply(o)),h=a.multiply(u).selfSubtract(l.multiply(s)),p=l.multiply(o).selfSubtract(r.multiply(u)),d=r.multiply(r).selfAdd(o.multiply(o)),f=a.multiply(a).selfAdd(s.multiply(s)),g=l.multiply(l).selfAdd(u.multiply(u));return d.selfMultiply(h).selfAdd(f.selfMultiply(p)).selfAdd(g.selfMultiply(c)).doubleValue()>0},ko.checkRobustInCircle=function(t,e,n,i){var r=ko.isInCircleNonRobust(t,e,n,i),o=ko.isInCircleDDSlow(t,e,n,i),a=ko.isInCircleCC(t,e,n,i),s=ci.circumcentre(t,e,n);D.out.println("p radius diff a = "+Math.abs(i.distance(s)-t.distance(s))/t.distance(s)),r===o&&r===a||(D.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+a+")"),D.out.println(re.toLineString(new Ft([t,e,n,i]))),D.out.println("Circumcentre = "+re.toPoint(s)+" radius = "+t.distance(s)),D.out.println("p radius diff a = "+Math.abs(i.distance(s)/t.distance(s)-1)),D.out.println("p radius diff b = "+Math.abs(i.distance(s)/e.distance(s)-1)),D.out.println("p radius diff c = "+Math.abs(i.distance(s)/n.distance(s)-1)),D.out.println())},ko.isInCircleDDFast=function(t,e,n,i){var r=P.sqr(t.x).selfAdd(P.sqr(t.y)).selfMultiply(ko.triAreaDDFast(e,n,i)),o=P.sqr(e.x).selfAdd(P.sqr(e.y)).selfMultiply(ko.triAreaDDFast(t,n,i)),a=P.sqr(n.x).selfAdd(P.sqr(n.y)).selfMultiply(ko.triAreaDDFast(t,e,i)),s=P.sqr(i.x).selfAdd(P.sqr(i.y)).selfMultiply(ko.triAreaDDFast(t,e,n));return r.selfSubtract(o).selfAdd(a).selfSubtract(s).doubleValue()>0},ko.isInCircleCC=function(t,e,n,i){var r=ci.circumcentre(t,e,n),o=t.distance(r);return 0>=i.distance(r)-o},ko.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,a=e.x-i.x,s=e.y-i.y,l=n.x-i.x,u=n.y-i.y;return(r*r+o*o)*(a*u-l*s)+(a*a+s*s)*(l*o-r*u)+(l*l+u*u)*(r*s-a*o)>0},ko.isInCircleDDSlow=function(t,e,n,i){var r=P.valueOf(i.x),o=P.valueOf(i.y),a=P.valueOf(t.x),s=P.valueOf(t.y),l=P.valueOf(e.x),u=P.valueOf(e.y),c=P.valueOf(n.x),h=P.valueOf(n.y),p=a.multiply(a).add(s.multiply(s)).multiply(ko.triAreaDDSlow(l,u,c,h,r,o)),d=l.multiply(l).add(u.multiply(u)).multiply(ko.triAreaDDSlow(a,s,c,h,r,o)),f=c.multiply(c).add(h.multiply(h)).multiply(ko.triAreaDDSlow(a,s,l,u,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(ko.triAreaDDSlow(a,s,l,u,c,h));return p.subtract(d).add(f).subtract(g).doubleValue()>0},ko.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*ko.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*ko.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*ko.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*ko.triArea(t,e,n)>0},ko.isInCircleRobust=function(t,e,n,i){return ko.isInCircleNormalized(t,e,n,i)},ko.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},ko.triAreaDDFast=function(t,e,n){var i=P.valueOf(e.x).selfSubtract(t.x).selfMultiply(P.valueOf(n.y).selfSubtract(t.y)),r=P.valueOf(e.y).selfSubtract(t.y).selfMultiply(P.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(Oo.prototype,{circleCenter:function(t,e){var n=new Oo(this.getX(),this.getY()),i=this.bisector(n,t),r=this.bisector(t,e),o=new R(i,r),a=null;try{a=new Oo(o.getX(),o.getY())}catch(i){if(!(i instanceof C))throw i;D.err.println("a: "+n+"  b: "+t+"  c: "+e),D.err.println(i)}return a},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY();return new R(new R(t.getX()+n/2,t.getY()+i/2,1),new R(t.getX()-i+n/2,t.getY()+n+i/2,1))},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return ko.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,a=n.getX()-i,s=e.getY()-r,l=n.getY()-r,u=o*l-a*s,c=this.getX()-i,h=this.getY()-r,p=(l*c-a*h)/u,d=(-s*c+o*h)/u;return t.getZ()+p*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){
return new Oo((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new Oo(t*this.p.x,t*this.p.y)},cross:function(){return new Oo(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new Oo(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,i=e.sub(t),r=n.sub(t),o=i.crossProduct(r);return o>0?Oo.LEFT:0>o?Oo.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?Oo.BEHIND:i.magn()<r.magn()?Oo.BEYOND:t.equals(n)?Oo.ORIGIN:e.equals(n)?Oo.DESTINATION:Oo.BETWEEN},sum:function(t){return new Oo(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return r>o&&(r=o),o=this.distance(e,this),r>o&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return Oo}}),Oo.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z;return e.z+o*(r/i)}if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],u=arguments[3],c=s.x,h=s.y,p=l.x-c,d=u.x-c,f=l.y-h,g=u.y-h,m=p*g-d*f,y=a.x-c,v=a.y-h,b=(g*y-d*v)/m,w=(-f*y+p*v)/m;return s.z+b*(l.z-s.z)+w*(u.z-s.z)}},Oo.LEFT=0,Oo.RIGHT=1,Oo.BEYOND=2,Oo.BEHIND=3,Oo.BETWEEN=4,Oo.ORIGIN=5,Oo.DESTINATION=6,c(Lo,Oo),e(Lo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return Lo}}),e(Io.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new ce(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return re.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return Io}}),Io.makeEdge=function(t,e){var n=new Io,i=new Io,r=new Io,o=new Io;n._rot=i,i._rot=r,r._rot=o,o._rot=n,n.setNext(n),i.setNext(o),r.setNext(r),o.setNext(i);var a=n;return a.setOrig(t),a.setDest(e),a},Io.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();Io.splice(t,e),Io.splice(t.sym(),n),Io.splice(t,e.lNext()),Io.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},Io.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),a=i.oNext(),s=n.oNext();t.setNext(r),e.setNext(o),n.setNext(a),i.setNext(s)},Io.connect=function(t,e){var n=Io.makeEdge(t.dest(),e.orig());return Io.splice(n,t.lNext()),Io.splice(n.sym(),e),n},e(Ao.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);Io.splice(n,e);var i=n;do{n=this.subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))Io.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return Ao}}),e(Po.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Po}}),e(Mo.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Po]},getClass:function(){return Mo}}),c(No,u),e(No.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return No}}),No.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Do.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Do}}),e(Ro.prototype,{getTriangleVertices:function(t){var e=new jo;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||(!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2]))},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=Io.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new x,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new _;o.addAll(n,!1),o.closeRing(),o.size()<4&&(D.out.println(o),o.add(o.get(o.size()-1),!0));var a=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(a),null),l=i.orig();return s.setUserData(l.getCoordinate()),s},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Io.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Io.splice(e.sym(),n),Io.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);Ro.getTriangleEdges(t,e);var n=new Array(3).fill(null);Ro.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=Io.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new fe;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new E(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=0;i=e>n?10*e:10*n,this.frameVertex[0]=new Oo((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this.frameVertex[1]=new Oo(t.getMinX()-i,t.getMinY()-i),this.frameVertex[2]=new Oo(t.getMaxX()+i,t.getMinY()-i),this.frameEnv=new E(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new zo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new J,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,a=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(a=!0);var s=r.sym();i.contains(s)||e.push(s),i.add(r),o++,r=r.lNext()}while(r!==t);return a&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new x,n=new J,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var a=r.sym(),s=a.orig();n.contains(s)||(n.add(s),!t&&this.isFrameVertex(s)||e.add(a))}return e},getTriangleEdges:function(t){var e=new Go;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new x,n=new fe;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){Io.splice(t,t.oPrev()),Io.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(++n>i)throw new No(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Fo,!0);for(var e=new x,n=this.getVertexUniqueEdges(!1),i=n.iterator();i.hasNext();){var r=i.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(ne.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);Io.splice(n,e);var i=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Oo){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.locator.locate(new Oo(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.locator.locate(new Oo(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var a=o;do{if(a.dest().getCoordinate().equals2D(i))return a;a=a.oNext()}while(a!==o);return null}},interfaces_:function(){return[]},getClass:function(){return Ro}}),Ro.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")},e(Fo.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=ci.circumcentre(e,n,i),o=new Oo(r),a=0;3>a;a++)t[a].rot().setOrig(o)},interfaces_:function(){return[Do]},getClass:function(){return Fo}}),e(Go.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[Do]},getClass:function(){return Go}}),e(jo.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Do]},getClass:function(){return jo}}),e(zo.prototype,{checkTriangleSize:function(t){t.length>=2?re.toLineString(t[0],t[1]):t.length>=1&&re.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;3>e;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Do]},getClass:function(){return zo}}),Ro.TriangleCircumcentreVisitor=Fo,Ro.TriangleEdgesListVisitor=Go,Ro.TriangleVertexListVisitor=jo,Ro.TriangleCoordinatesVisitor=zo,Ro.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Uo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Uo}}),e(Bo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Bo}}),e(Ho.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return Ho}}),e(Yo.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new Ho(e,n),this.root;if(this.tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],i=new x;return this.query(n,i),i}if(2===arguments.length)if(arguments[0]instanceof E&&k(arguments[1],v))!function(){var n=t[0],i=t[1];e.queryNode(e.root,n,!0,{interfaces_:function(){return[Bo]},visit:function(t){i.add(t)}})}();else if(arguments[0]instanceof E&&k(arguments[1],Bo)){var r=arguments[0],o=arguments[1];this.queryNode(this.root,r,!0,o)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,a=null;n?(r=e.getMinX(),o=e.getMaxX(),a=t.getX()):(r=e.getMinY(),o=e.getMaxY(),a=t.getY());var s=a>r,l=o>=a;s&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),l&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Vo(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,o=!0;null!==n;){if(null!==n){if(t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n}o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var a=new Ho(t,e);return o?i.setLeft(a):i.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return Yo}}),Yo.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Yo.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new _,r=e.iterator();r.hasNext();)for(var o=r.next(),a=n?o.getCount():1,s=0;a>s;s++)i.add(o.getCoordinate(),!0);return i.toCoordinateArray()}},e(Vo.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new E(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Bo]},getClass:function(){return Vo}}),Yo.BestMatchVisitor=Vo,e(Wo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Wo.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new ne,e=this.getPointArray(),n=new me(e,t);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new d((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),a=new E(i);a.expandBy(o);for(var s=this.kdt.query(a),l=null,u=r.MAX_VALUE,c=s.iterator();c.hasNext();){var h=c.next(),p=h.getCoordinate();if(!p.equals2D(e)&&!p.equals2D(n)){var f=i.distance(p);if(o>f){var g=f;(null===l||u>g)&&(l=p,u=g)}}}return l},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new x,n=0,i=new x,r=t.iterator();r.hasNext();){var o=r.next(),a=this.findNonGabrielPoint(o);if(null!==a){this.splitPt=this.splitFinder.findSplitPoint(o,a);var s=this.createVertex(this.splitPt,o),l=(this.insertSite(s),new Uo(o.getStartX(),o.getStartY(),o.getStartZ(),s.getX(),s.getY(),s.getZ(),o.getData())),u=new Uo(s.getX(),s.getY(),s.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(l),e.add(u),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new Lo(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,i):new Lo(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Wo.computeVertexEnvelope(this.initialVertices),e=Wo.computeVertexEnvelope(this.segVertices),n=new E(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),o=Math.max(i,r);this.computeAreaEnv=new E(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Ro(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Mo(this.subdiv)),this.incDel=new Ao(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Lo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof d){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return Wo}}),Wo.computeVertexEnvelope=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},Wo.MAX_SPLIT_ITER=99,e(qo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=qo.envelope(this.siteCoords),e=qo.toVertices(this.siteCoords);this.subdiv=new Ro(t,this.tolerance),new Ao(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=qo.extractUniqueCoordinates(t)}else if(k(arguments[0],m)){var e=arguments[0];this.siteCoords=qo.unique(W.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return qo}}),qo.extractUniqueCoordinates=function(t){if(null===t)return new _;var e=t.getCoordinates();return qo.unique(e)},qo.envelope=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},qo.unique=function(t){var e=W.copyDeep(t);return lt.sort(e),new _(e,!1)},qo.toVertices=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Oo(i))}return e},e(Zo.prototype,{createSiteVertices:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new Lo(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=qo.envelope(this.siteCoords),e=new x;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Zo.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),i=new Wo(n,this.tolerance);i.setConstraints(e,new x(this.constraintVertexMap.values())),i.formInitialDelaunay(),i.enforceConstraints(),this.subdiv=i.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=qo.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new Lo(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return Zo}}),Zo.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Un.getLines(t),n=new x,i=e.iterator();i.hasNext();){var r=i.next();Zo.createConstraintSegments(r,n)}return n}if(2===arguments.length)for(var o=arguments[0],a=arguments[1],s=o.getCoordinates(),i=1;i<s.length;i++)a.add(new Uo(s[i-1],s[i]))},e(Xo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=qo.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=qo.toVertices(this.siteCoords);this.subdiv=new Ro(t,this.tolerance),new Ao(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return Xo.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=qo.extractUniqueCoordinates(t)}else if(k(arguments[0],m)){var e=arguments[0];this.siteCoords=qo.unique(W.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Xo}}),Xo.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new x,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),a=null;e.contains(o.getEnvelopeInternal())?a=o:e.intersects(o.getEnvelopeInternal())&&(a=n.intersection(o),a.setUserData(o.getUserData())),null===a||a.isEmpty()||i.add(a)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(i))};var Pa=Object.freeze({ConformingDelaunayTriangulationBuilder:Zo,DelaunayTriangulationBuilder:qo,VoronoiDiagramBuilder:Xo});e(Ko.prototype,{interfaces_:function(){return[]},getClass:function(){return Ko}}),Ko.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ni.createEmptyResult(ni.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ri.overlayOp(t,e,ni.UNION)},e(j.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Br.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return qr.union(this);if(1===arguments.length){var t=arguments[0];return Ko.union(this,t)}},isValid:function(){return lo.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return ni.createEmptyResult(ni.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return un.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.INTERSECTION)},covers:function(t){return Br.covers(this,t)},coveredBy:function(t){return Br.coveredBy(this,t)},touches:function(t){return Br.touches(this,t)},intersects:function(t){return Br.intersects(this,t)},within:function(t){return Br.within(this,t)},overlaps:function(t){return Br.overlaps(this,t)},disjoint:function(t){return Br.disjoint(this,t)},crosses:function(t){return Br.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return rr.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return rr.bufferOp(this,e,n)}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return rr.bufferOp(this,i,r,o)}},convexHull:function(){return new me(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return Br.relate.apply(Br,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=pe.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(0===e){var n=new li(this);t=n.getInteriorPoint()}else if(1===e){var n=new si(this);t=n.getInteriorPoint()}else{var n=new oi(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return ni.createEmptyResult(ni.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new re).write(this)},toString:function(){this.toText()},contains:function(t){return Br.contains(this,t)},difference:function(t){return this.isEmpty()?ni.createEmptyResult(ni.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),ri.overlayOp(this,t,ni.DIFFERENCE))},isSimple:function(){return new Ri(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&ur.isWithinDistance(this,t,e)},distance:function(t){return ur.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});t.version="1.1.2 (248dab8)",t.algorithm=ca,t.densify=ha,t.dissolve=pa,t.geom=la,t.index=ga,t.io=ba,t.noding=wa,t.operation=La,t.precision=Ia,t.simplify=Aa,t.triangulate=Pa})},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2540);Object.defineProperty(e,"DragDropContext",{enumerable:!0,get:function(){return i(r).default}});var o=n(2977);Object.defineProperty(e,"DragDropContextProvider",{enumerable:!0,get:function(){return i(o).default}});var a=n(2978);Object.defineProperty(e,"DragLayer",{enumerable:!0,get:function(){return i(a).default}});var s=n(2979);Object.defineProperty(e,"DragSource",{enumerable:!0,get:function(){return i(s).default}});var l=n(2980);Object.defineProperty(e,"DropTarget",{enumerable:!0,get:function(){return i(l).default}})},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={ToggleButton:{displayName:"ToggleButton"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/buttons/ToggleButton.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(854),x=w.Button,_=w.Glyphicon,E=n(2165),S=n(2999),C=function(t){return function(e){return y(e,t)}}("ToggleButton")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onClick=function(){o.props.onClick(!o.props.pressed,o.props.options)},o.renderNormalButton=function(){return v.createElement(x,f({id:o.props.id},o.props.btnConfig,{onClick:o.onClick,bsStyle:o.props.pressed?o.props.pressedStyle:o.props.defaultStyle,style:o.props.style}),o.props.glyphicon?v.createElement(_,{glyph:o.props.glyphicon}):null,o.props.glyphicon&&o.props.text&&!v.isValidElement(o.props.text)?" ":null,o.props.text,o.props.help)},o.renderImageButton=function(){return v.createElement(S,{id:o.props.id,image:o.props.image,onClick:o.onClick,style:o.props.style})},o.addTooltip=function(t){return v.createElement(E,{placement:o.props.tooltipPlace,key:"overlay-trigger."+o.props.id,overlay:o.props.tooltip},t)},a=n,r(o,a)}return o(e,t),g(e,[{key:"render",value:function(){var t="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(t):t}}]),e}(v.Component),a.propTypes={id:b.string,btnConfig:b.object,options:b.object,text:b.oneOfType([b.string,b.element]),
help:b.oneOfType([b.string,b.element]),glyphicon:b.string,pressed:b.bool,onClick:b.func,tooltip:b.element,tooltipPlace:b.string,style:b.object,btnType:b.oneOf(["normal","image"]),image:b.string,pressedStyle:b.string,defaultStyle:b.string},a.defaultProps={onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"},s));t.exports=C}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={LeafletLayer:{displayName:"LeafletLayer"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/Layer.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(433),x=n(12),_=n(14),E=_.isEqual,S=function(t){return function(e){return y(e,t)}}("LeafletLayer")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.setLayerVisibility=function(t){t!==(o.props.options&&!1!==o.props.options.visibility)&&(t?o.addLayer():o.removeLayer(),o.updateZIndex())},o.setLayerOpacity=function(t){t!==(o.props.options&&void 0!==o.props.options.opacity?o.props.options.opacity:1)&&o.layer&&o.layer.setOpacity&&o.layer.setOpacity(t)},o.generateOpts=function(t,e,n){return x({},t,e?{zIndex:e,srs:o.props.srs}:null,{zoomOffset:-o.props.zoomOffset,onError:function(){o.props.onCreationError(t)},securityToken:n})},o.updateZIndex=function(t){var e=t||o.props.position;e&&o.layer&&o.layer.setZIndex&&o.layer.setZIndex(e)},o.createLayer=function(t,e,n,i){if(t){var r=o.generateOpts(e,n,i);o.layer=w.createLayer(t,r),o.layer&&(o.layer.layerName=e.name,o.layer.layerId=e.id),o.forceUpdate()}},o.updateLayer=function(t,e){var n=w.updateLayer(t.type,o.layer,o.generateOpts(t.options,t.position,t.securityToken),o.generateOpts(e.options,e.position,e.securityToken));n&&(o.removeLayer(),o.layer=n,o.addLayer())},o.addLayer=function(){if(o.isValid()&&(o.props.map.addLayer(o.layer),o.props.options.refresh&&o.layer.setParams)){var t=0;o.refreshTimer=setInterval(function(){o.layer.setParams(x({},o.props.options.params,{_refreshCounter:t++}))},o.props.options.refresh)}},o.removeLayer=function(){o.isValid()&&o.props.map.removeLayer(o.layer)},o.isValid=function(){if(o.layer){var t=w.isValid(o.props.type,o.layer);return o.valid=t,t}return!1},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"componentWillReceiveProps",value:function(t){var e=t.options&&!1!==t.options.visibility;this.setLayerVisibility(e);var n=t.options&&void 0!==t.options.opacity?t.options.opacity:1;this.setLayerOpacity(n),t.position!==this.props.position&&this.updateZIndex(t.position),this.updateLayer(t,this.props)}},{key:"shouldComponentUpdate",value:function(t){var e=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce(function(n,i){switch(i){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return n&&e.props[i]===t[i];case"options":return n&&(e.props[i]===t[i]||E(f({},e.props[i],{loading:!1}),f({},t[i],{loading:!1})));default:return n}},!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var t=this;if(this.props.children){var e=this.layer,n=e?b.Children.map(this.props.children,function(n){return n?b.cloneElement(n,{container:e,styleName:t.props.options&&t.props.options.styleName,onClick:t.props.onClick,options:t.props.options||{}}):null}):null;return b.createElement("noscript",null,n)}return w.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}]),e}(b.Component),a.propTypes={map:v.object,type:v.string,srs:v.string,options:v.object,position:v.number,zoomOffset:v.number,onCreationError:v.func,onClick:v.func,securityToken:v.string},a.defaultProps={onCreationError:function(){},options:{}},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={LeafletMap:{displayName:"LeafletMap"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/Map.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(859),v=n(4),b=n(0),w=n(38),x=n(80),_=n(12),E=n(196),S=n(98),C=n(14),T=C.throttle;n(2689);var k=function(t){return function(e){return m(e,t)}}("LeafletMap")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.state={},o.getResolutions=function(){return o.props.resolutions},o._updateMapPositionFromNewProps=function(t){var e=function(t,e){return void 0!==t&&void 0!==e&&t.toFixed(12)-e.toFixed(12)==0},n=t.center,i=o.props.center,r=o.map.getCenter(),a=e(n.x,i.x)&&e(n.y,i.y),s=a||e(n.x,r.lng)&&e(n.y,r.lat),l=t.zoom,u=o.props.zoom,c=o.map.getZoom(),h=l===u,p=h||l===c;s||p?p?s||o.map.setView([t.center.y,t.center.x]):o.map.setZoom(t.zoom):o.map.setView([t.center.y,t.center.x],Math.round(t.zoom))},o.updateMapInfoState=function(){var t=o.map.getBounds().toBBoxString().split(","),e={height:o.map.getSize().y,width:o.map.getSize().x},n=o.map.getCenter();o.props.onMapViewChanges({x:n.lng,y:n.lat,crs:"EPSG:4326"},o.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},e,o.props.id,o.props.projection)},o.setMousePointer=function(t){if(o.map){o.map.getContainer().style.cursor=t||"auto"}},o.mouseMoveEvent=function(t){var e=t.latlng.wrap();o.props.onMouseMove({x:e.lng||0,y:e.lat||0,z:o.elevationLayer&&o.elevationLayer.getElevation(e,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x}})},o.registerHooks=function(){E.registerHook(E.EXTENT_TO_ZOOM_HOOK,function(t){var e=x.reproject([t[0],t[1]],o.props.projection,"EPSG:4326"),n=x.reproject([t[2],t[3]],o.props.projection,"EPSG:4326");return o.map.getBoundsZoom([[e.y,e.x],[n.y,n.x]])-1}),E.registerHook(E.RESOLUTIONS_HOOK,function(){return o.getResolutions()}),E.registerHook(E.COMPUTE_BBOX_HOOK,function(t,e){var n=y.latLng([t.y,t.x]),i=o.map._getNewPixelOrigin(n,e),r=new y.Bounds(i,i.add(o.map.getSize())),a=o.map.unproject(r.getBottomLeft(),e),s=o.map.unproject(r.getTopRight(),e),l=new y.LatLngBounds(a,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}}),E.registerHook(E.GET_PIXEL_FROM_COORDINATES_HOOK,function(t){var e=x.reproject(t,o.props.projection,"EPSG:4326"),n=o.map.latLngToContainerPoint([e.y,e.x]);return[n.x,n.y]}),E.registerHook(E.GET_COORDINATES_FROM_PIXEL_HOOK,function(t){var e=o.map.containerPointToLatLng(t),n=x.reproject([e.lng,e.lat],"EPSG:4326",o.props.projection);return[n.x,n.y]}),E.registerHook(E.ZOOM_TO_EXTENT_HOOK,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.padding,i=e.crs,r=e.maxZoom,a=e.duration,s=n&&y.point(n.left||0,n.top||0),l=n&&y.point(n.right||0,n.bottom||0),u=x.reprojectBbox(t,i,"EPSG:4326");o.map.fitBounds([[u[1],u[0]],[u[3],u[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:r,duration:a,animate:0!==a&&void 0})})},o.addLayerObservable=function(t,e){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&e&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new S.Subject,t.layer.layerLoadStream$=new S.Subject,t.layer.layerErrorStream$=new S.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,function(){return t.layer.layerLoadStream$}).subscribe({next:function(e){var n=t.layer._ms2LoadingTileCount||e&&e.length||0;e&&e.length>0&&o.props.onLayerError(e[0].target.layerId,n,e.length),t.layer._ms2LoadingTileCount=0}}))},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var t=y.CRS.EPSG3857.scale,e=this.props.mapOptions.view.resolutions[0]/E.getGoogleMercatorResolutions(0,23)[0];this.crs=_({},y.CRS.EPSG3857,{scale:function(n){return t.call(y.CRS.EPSG3857,n)/Math.pow(2,Math.round(Math.log2(e)))}}),this.zoomOffset=Math.round(Math.log2(e))}}},{key:"componentDidMount",value:function(){var t=this,e=this.props.limits,n=void 0===e?{}:e,i=n.restrictedExtent&&n.crs&&x.reprojectBbox(n.restrictedExtent,n.crs,"EPSG:4326"),r=_({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:i&&y.latLngBounds([[i[1],i[0]],[i[3],i[2]]]),maxBoundsViscosity:i&&1,minZoom:n&&n.minZoom,maxZoom:n&&n.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),o=y.map(this.props.id,_({zoomControl:this.props.zoomControl},r)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=o,this.attribution=y.control.attribution(),this.attribution.addTo(this.map),this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(document.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),document.querySelector(".leaflet-control-container .leaflet-control-attribution")&&document.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(document.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",function(e){t.props.onClick&&t.props.onClick({pixel:{x:e.containerPoint.x,y:e.containerPoint.y},latlng:{lat:e.latlng.lat,lng:e.latlng.lng,z:t.elevationLayer&&t.elevationLayer.getElevation(e.latlng,e.containerPoint)||void 0},modifiers:{alt:e.originalEvent.altKey,ctrl:e.originalEvent.ctrlKey,shift:e.originalEvent.shiftKey}})});var a=T(this.mouseMoveEvent,100);this.map.on("dragstart",function(){t.map.off("mousemove",a)}),this.map.on("dragend",function(){t.map.on("mousemove",a)}),this.map.on("mousemove",a),this.map.on("contextmenu",function(){t.props.onRightClick&&t.props.onRightClick(event.containerPoint)}),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",function(e){if(e.layer._ms2Added){var n=e.layer.layerLoadingStream$&&e.layer.layerLoadingStream$.isStopped;return void t.addLayerObservable(e,n)}e.layer._ms2Added=!0,e.layer.getElevation&&(t.elevationLayer=e.layer),e.layer.layerId&&(e.layer&&e.layer.options&&"vector"===e.layer.options.msLayer||e&&e.layer&&e.layer.on&&(t.addLayerObservable(e,!0),e.layer.options&&e.layer.options.hideLoading||(t.props.onLayerLoading(e.layer.layerId),e.layer.layerLoadingStream$.next()),e.layer.on("loading",function(n){t.props.onLayerLoading(n.target.layerId),e.layer.layerLoadingStream$.next()}),e.layer.on("load",function(n){t.props.onLayerLoad(n.target.layerId),e.layer.layerLoadStream$.next()}),e.layer.on("tileloadstart ",function(){e.layer._ms2LoadingTileCount++}),e.layer.on("tileerror",function(t){e.layer.layerErrorStream$.next(t)})))}),this.map.on("layerremove",function(t){t.layer.layerLoadingStream$&&(t.layer.layerLoadingStream$.complete(),t.layer.layerLoadStream$.complete(),t.layer.layerErrorStream$.complete())}),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"componentWillReceiveProps",value:function(t){var e=this;if(t.mousePointer!==this.props.mousePointer&&this.setMousePointer(t.mousePointer),this.map&&t.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(t),t.zoomControl!==this.props.zoomControl&&(t.zoomControl?this.map.addControl(y.control.zoom()):this.map.removeControl(this.map.zoomControl)),this.map&&t.resize!==this.props.resize&&setTimeout(function(){e.map.invalidateSize(!1)},0),this.props.limits!==t.limits){var n=t.limits,i=void 0===n?{}:n,r=this.props.limits;if(i.restrictedExtent!==(r&&r.restrictedExtent)){var o=i.restrictedExtent&&i.crs&&x.reprojectBbox(i.restrictedExtent,i.crs,"EPSG:4326");this.map.setMaxBounds(i.restrictedExtent&&y.latLngBounds([[o[1],o[0]],[o[3],o[2]]]))}i.minZoom!==(r&&r.minZoom)&&this.map.setMinZoom(i.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&document.querySelector(this.props.mapOptions.attribution.container);t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution")&&t.removeChild(this.attribution.getContainer()),this.map.remove()}},{key:"render",value:function(){var t=this,e=this.map,n=this.props.projection,i=e?b.Children.map(this.props.children,function(i){return i?b.cloneElement(i,{map:e,projection:n,zoomOffset:t.zoomOffset,onCreationError:t.props.onCreationError,onClick:t.props.onClick}):null}):null;return b.createElement("div",{id:this.props.id,style:this.props.style},i)}}]),e}(b.Component),a.propTypes={id:v.string,center:w.PropTypes.center,zoom:v.number.isRequired,mapStateSource:w.PropTypes.mapStateSource,style:v.object,projection:v.string,onMapViewChanges:v.func,onClick:v.func,onRightClick:v.func,mapOptions:v.object,limits:v.object,zoomControl:v.bool,mousePointer:v.string,onMouseMove:v.func,onLayerLoading:v.func,onLayerLoad:v.func,onLayerError:v.func,resize:v.number,measurement:v.object,changeMeasurementState:v.func,registerHooks:v.bool,interactive:v.bool,resolutions:v.array,onCreationError:v.func},a.defaultProps={id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,style:{},interactive:!0,resolutions:E.getGoogleMercatorResolutions(0,23)},s));t.exports=k}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={OpenlayersLayer:{displayName:"OpenlayersLayer"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/Layer.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(432),w=n(80),x=n(12),_=n(14),E=n(98),S=function(t){return function(e){return m(e,t)}}("OpenlayersLayer")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.setLayerVisibility=function(t){t!==(o.props.options&&!1!==o.props.options.visibility)&&o.layer&&o.isValid()&&o.layer.setVisible(t)},o.setLayerOpacity=function(t){t!==(o.props.options&&void 0!==o.props.options.opacity?o.props.options.opacity:1)&&o.layer&&o.layer.setOpacity(t)},o.generateOpts=function(t,e,n,i){return x({},t,_.isNumber(e)?{zIndex:e}:null,{srs:n,onError:function(){o.props.onCreationError(t)},securityToken:i})},o.createLayer=function(t,e,n,i){if(t){var r=o.generateOpts(e,n,w.normalizeSRS(o.props.srs),i);o.layer=b.createLayer(t,r,o.props.map,o.props.mapId);var a=b.isCompatible(t,r);if(o.layer&&!o.layer.detached){var s=o.props.map,l=s&&s.getView().getProjection().getExtent(),u=e&&e.bbox&&e.bbox.bounds,c=l&&w.reprojectBbox(l,o.props.srs,"EPSG:4326"),h=u&&w.getExtentFromNormalized(u,o.props.srs).extent;h&&2===h.length&&_.isArray(h[1])&&(h=h[1]),(c&&h&&!w.isBboxCompatible(w.getPolygonFromExtent(c),w.getPolygonFromExtent(h))||!a)&&o.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),o.addLayer(e)}o.layer&&o.layer.get&&o.layer.get("getElevation")&&o.props.map.set("elevationLayer",o.layer),o.forceUpdate()}},o.updateLayer=function(t,e){if(t.position===e.position&&t.srs===e.srs&&t.securityToken===e.securityToken){if(t.options===e.options)return;if(_.isEqual(_.omit(t.options,["loading"]),_.omit(e.options,["loading"])))return}var n=b.updateLayer(o.props.type,o.layer,o.generateOpts(t.options,t.position,t.projection,t.securityToken),o.generateOpts(e.options,e.position,e.projection,e.securityToken),o.props.map,o.props.mapId);n&&(o.props.map.removeLayer(o.layer),o.layer=n,o.addLayer(t.options))},o.addLayer=function(t){if(o.isValid()){o.props.map.addLayer(o.layer);var e=new E.Subject,n=new E.Subject;t.handleClickOnLayer&&o.layer.set("handleClickOnLayer",!0),o.layer.getSource().on("tileloadstart",function(){0===o.tilestoload?(o.props.onLayerLoading(t.id),o.tilestoload++):o.tilestoload++}),o.layer.getSource().on("tileloadend",function(){e.next({type:"tileloadend"}),0===--o.tilestoload&&n.next()}),o.layer.getSource().on("tileloaderror",function(t){e.next({type:"tileloaderror",event:t}),0===--o.tilestoload&&n.next()}),e.bufferWhen(function(){return n}).subscribe({next:function(e){var n=e.filter(function(t){return"tileloaderror"===t.type});n.length>0?(o.props.onLayerLoad(t.id,{error:!0}),o.props.onLayerError(t.id,e.length,n.length)):o.props.onLayerLoad(t.id)}}),o.tileLoadEndStream$=e,o.tileStopStream$=n;var i=new E.Subject,r=new E.Subject;if(o.layer.getSource().on("imageloadstart",function(){0===o.imagestoload?(o.props.onLayerLoading(t.id),o.imagestoload++):o.imagestoload++}),o.layer.getSource().on("imageloadend",function(){o.imagestoload--,i.next({type:"imageloadend"}),0===o.imagestoload&&r.next()}),o.layer.getSource().on("imageloaderror",function(t){o.imagestoload--,i.next({type:"imageloaderror",event:t}),0===o.imagestoload&&r.next()}),i.bufferWhen(function(){return r}).subscribe({next:function(e){var n=e.filter(function(t){return"imageloaderror"===t.type});n.length>0?(o.props.onLayerLoad(t.id,{error:!0}),o.props.onLayerError(t.id,e.length,n.length)):o.props.onLayerLoad(t.id)}}),o.imageLoadEndStream$=i,o.imageStopStream$=r,t.refresh){var a=0;o.refreshTimer=setInterval(function(){o.layer.getSource().updateParams(x({},t.params,{_refreshCounter:a++}))},t.refresh)}}},o.isValid=function(){var t=b.isValid(o.props.type,o.layer);return o.valid=t,t},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken)}},{key:"componentWillReceiveProps",value:function(t){var e=t.options&&!1!==t.options.visibility;this.setLayerVisibility(e);var n=t.options&&void 0!==t.options.opacity?t.options.opacity:1;this.setLayerOpacity(n),t.position!==this.props.position&&this.layer.setZIndex&&this.layer.setZIndex(t.position),this.props.options&&this.updateLayer(t,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),b.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var t=this;if(this.props.children){var e=this.layer,n=e?v.Children.map(this.props.children,function(n){return n?v.cloneElement(n,{container:e,styleName:t.props.options&&t.props.options.styleName}):null}):null;return v.createElement("noscript",null,n)}return b.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}]),e}(v.Component),a.propTypes={onWarning:y.func,maxExtent:y.array,map:y.object,mapId:y.string,srs:y.string,type:y.string,options:y.object,onLayerLoading:y.func,onLayerError:y.func,onCreationError:y.func,onLayerLoad:y.func,position:y.number,observables:y.array,securityToken:y.string},a.defaultProps={observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={OpenlayersMap:{displayName:"OpenlayersMap"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/Map.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(857),v=n(280).default,b=n(4),w=n(0),x=n(12),_=n(80),E=n(38),S=n(196),C=n(2765),T=n(14),k=T.isEqual,O=T.throttle,L=T.isArray,I=T.isNil,A=function(t){return function(e){return m(e,t)}}("OpenlayersMap")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getResolutions=function(){if(o.props.mapOptions&&o.props.mapOptions.view&&o.props.mapOptions.view.resolutions)return o.props.mapOptions.view.resolutions;var t=void 0!==o.props.mapOptions.minZoom?o.props.mapOptions.minZoom:0,e=void 0!==o.props.mapOptions.maxZoom?o.props.mapOptions.maxZoom:28,n=void 0!==o.props.mapOptions.zoomFactor?o.props.mapOptions.zoomFactor:2,i=o.map.getView().getProjection(),r=i.getExtent(),a=r?y.extent.getWidth(r):360*y.proj.METERS_PER_UNIT[y.proj.Units.DEGREES]/y.proj.METERS_PER_UNIT[i.getUnits()],s=r?y.extent.getHeight(r):360*y.proj.METERS_PER_UNIT[y.proj.Units.DEGREES]/y.proj.METERS_PER_UNIT[i.getUnits()],l=a/256,u=s/256,c=void 0,h=void 0;l<=u?(c=1,h=Math.round(u/l),u/=h):(h=1,c=Math.round(l/u),l/=c);var p=Math.max(l,u),d=p,f=d/Math.pow(2,28),g=o.props.mapOptions.maxResolution;void 0!==g?t=0:g=d/Math.pow(n,t);var m=o.props.mapOptions.minResolution;return void 0===m&&(m=void 0!==o.props.mapOptions.maxZoom?void 0!==o.props.mapOptions.maxResolution?g/Math.pow(n,e):d/Math.pow(n,e):f),e=t+Math.floor(Math.log(g/m)/Math.log(n)),Array.apply(0,Array(e-t+1)).map(function(t,e){return g/Math.pow(n,e)})},o.mouseMoveEvent=function(t){if(!t.dragging&&t.coordinate){var e=t.coordinate.slice(),n=y.proj.toLonLat(e,o.props.projection),i=n[0]/360%1*360;i<-180?i+=360:i>180&&(i-=360),o.props.onMouseMove({y:n[1]||0,x:i||0,z:o.map.get("elevationLayer")&&o.map.get("elevationLayer").get("getElevation")(e,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]}})}},o.updateMapInfoState=function(){var t=o.map.getView(),e=t.getCenter(),n=t.getProjection().getExtent(),i=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(i)||e&&e[0]>=n[0]&&e[0]<=n[2]&&e[1]>=n[1]&&e[1]<=n[3]){var r=o.normalizeCenter(t.getCenter()),a=t.calculateExtent(o.map.getSize()),s={width:o.map.getSize()[0],height:o.map.getSize()[1]};o.props.onMapViewChanges({x:r[0]||0,y:r[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:i,rotation:t.getRotation()},s,o.props.id,o.props.projection)}},o.haveResolutionsChanged=function(t){var e=o.props.mapOptions&&o.props.mapOptions.view?o.props.mapOptions.view.resolutions:void 0,n=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!k(e,n)},o.createView=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.restrictedExtent&&r.crs&&_.reprojectBbox(r.restrictedExtent,r.crs,_.normalizeSRS(n)),a=!i||i&&!i.view?x({},i,{extent:o}):x({},i),s=x({},{projection:_.normalizeSRS(n),center:[t.x,t.y],zoom:e,minZoom:r.minZoom},a||{});return new y.View(s)},o._updateMapPositionFromNewProps=function(t){var e=o.map.getView(),n=o.props.center;if(t.center.y!==n.y||t.center.x!==n.x){var i=_.reproject({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);e.setCenter([i.x,i.y])}Math.round(t.zoom)!==o.props.zoom&&e.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||o.bbox&&void 0!==o.bbox.rotation&&t.bbox.rotation!==o.props.bbox.rotation)&&e.setRotation(t.bbox.rotation)},o.normalizeCenter=function(t){var e=_.reproject({x:t[0],y:t[1]},o.props.projection,"EPSG:4326",!0);return[e.x,e.y]},o.setMousePointer=function(t){if(o.map){o.map.getViewport().style.cursor=t||"auto"}},o.registerHooks=function(){S.registerHook(S.RESOLUTIONS_HOOK,function(){return o.getResolutions()}),S.registerHook(S.RESOLUTION_HOOK,function(){return o.map.getView().getResolution()}),S.registerHook(S.COMPUTE_BBOX_HOOK,function(t,e){var n=_.reproject([t.x,t.y],"EPSG:4326",o.props.projection),i=o.createView(n,e,o.props.projection,o.props.mapOptions&&o.props.mapOptions.view,o.props.limits),r=o.map.getSize(),a=i.calculateExtent(r);return{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:o.props.projection,rotation:o.map.getView().getRotation()}}),S.registerHook(S.GET_PIXEL_FROM_COORDINATES_HOOK,function(t){return o.map.getPixelFromCoordinate(t)}),S.registerHook(S.GET_COORDINATES_FROM_PIXEL_HOOK,function(t){return o.map.getCoordinateFromPixel(t)}),S.registerHook(S.ZOOM_TO_EXTENT_HOOK,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.padding,i=e.crs,r=e.maxZoom,a=e.duration,s=_.reprojectBbox(t,i,o.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===i&&L(t)&&-180===t[0]&&-90===t[1]&&(s=o.map.getView().getProjection().getExtent());var l=r;s&&s[0]===s[2]&&s[1]===s[3]&&I(l)&&(l=21),o.map.getView().fit(s,{padding:n&&[n.top||0,n.right||0,n.bottom||0,n.left||0],maxZoom:l,duration:a})})},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this;this.props.projectionDefs.forEach(function(t){C.addProjections(y,t.code,t.extent,t.worldExtent,t.axisOrientation||v.defs(t.code).axis||"enu")});var e=_.reproject([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);y.proj.setProj4(v);var n=x(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),i=y.interaction.defaults(x({dragPan:!1,mouseWheelZoom:!1},n,{}));(void 0===n||void 0===n.dragPan||n.dragPan)&&i.extend([new y.interaction.DragPan({kinetic:!1})]),(void 0===n||void 0===n.mouseWheelZoom||n.mouseWheelZoom)&&i.extend([new y.interaction.MouseWheelZoom({duration:0})]);var r=y.control.defaults(x({zoom:this.props.zoomControl,attributionOptions:x({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:document.querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),o=new y.Map({layers:[],controls:r,interactions:i,target:this.props.id,view:this.createView(e,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=o,this.map.disabledListeners={},this.map.disableEventListener=function(e){t.map.disabledListeners[e]=!0},this.map.enableEventListener=function(e){delete t.map.disabledListeners[e]},o.on("moveend",this.updateMapInfoState),o.on("singleclick",function(e){if(t.props.onClick&&!t.map.disabledListeners.singleclick){var n=t.map.getView(),i=e.coordinate.slice(),r=n.getProjection().getExtent();if("EPSG:4326"===t.props.projection&&(i[0]=_.normalizeLng(i[0])),"EPSG:900913"!==t.props.projection&&"EPSG:3857"!==t.props.projection||(i=y.proj.toLonLat(i,t.props.projection),r=_.reprojectBbox(r,t.props.projection,"EPSG:4326")),i[0]>=r[0]&&i[0]<=r[2]&&i[1]>=r[1]&&i[1]<=r[3]){var a=void 0;a="EPSG:900913"!==t.props.projection&&"EPSG:3857"!==t.props.projection?_.reproject(i,t.props.projection,"EPSG:4326"):{x:i[0],y:i[1]};var s=void 0;t.markerPresent=!1,o.forEachFeatureAtPixel(e.pixel,function(e,n){if(n&&n.get("handleClickOnLayer")){var i=e.getGeometry();if(!t.markerPresent&&"Point"===i.getType()){t.markerPresent=!0,s=n.get("msId");var r=y.proj.toLonLat(i.getFirstCoordinate(),t.props.projection);a={x:r[0],y:r[1]}}}})
;var l=_.normalizeLng(a.x),u=t.map.get("elevationLayer")&&t.map.get("elevationLayer").get("getElevation");t.props.onClick({pixel:{x:e.pixel[0],y:e.pixel[1]},latlng:{lat:a.y,lng:l,z:u&&u(i,e.pixel)||void 0},modifiers:{alt:e.originalEvent.altKey,ctrl:e.originalEvent.ctrlKey,shift:e.originalEvent.shiftKey}},s)}}});var a=O(this.mouseMoveEvent,100);o.on("pointermove",a),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"componentWillReceiveProps",value:function(t){var e=this;if(t.mousePointer!==this.props.mousePointer&&this.setMousePointer(t.mousePointer),t.zoomControl!==this.props.zoomControl&&(t.zoomControl?this.map.addControl(new y.control.Zoom):this.map.removeControl(this.map.getControls().getArray().filter(function(t){return t instanceof y.control.Zoom})[0])),this.map&&this.props.id!==t.mapStateSource&&this._updateMapPositionFromNewProps(t),this.map&&t.resize!==this.props.resize&&setTimeout(function(){e.map.updateSize()},0),this.map&&(this.props.projection!==t.projection||this.haveResolutionsChanged(t))||this.props.limits!==t.limits){if(this.props.projection!==t.projection||this.props.limits!==t.limits){var n=t.projection,i=_.reproject([t.center.x,t.center.y],"EPSG:4326",n);this.map.setView(this.createView(i,t.zoom,t.projection,t.mapOptions&&t.mapOptions.view,t.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach(function(t){var e=t.getSource();e.getTileLoadFunction&&e.setTileLoadFunction(e.getTileLoadFunction())}),this.map.render()}}},{key:"componentWillUnmount",value:function(){var t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&document.querySelector(this.props.mapOptions.attribution.container);t&&t.querySelector(".ol-attribution")&&t.removeChild(t.querySelector(".ol-attribution")),this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var t=this,e=this.map,n=e?w.Children.map(this.props.children,function(n){return n?w.cloneElement(n,{map:e,mapId:t.props.id,onLayerLoading:t.props.onLayerLoading,onLayerError:t.props.onLayerError,onLayerLoad:t.props.onLayerLoad,projection:t.props.projection,onCreationError:t.props.onCreationError}):null}):null;return w.createElement("div",{id:this.props.id,style:this.props.style},n)}}]),e}(w.Component),a.propTypes={id:b.string,style:b.object,center:E.PropTypes.center,zoom:b.number.isRequired,mapStateSource:E.PropTypes.mapStateSource,projection:b.string,projectionDefs:b.array,onMapViewChanges:b.func,onResolutionsChange:b.func,onClick:b.func,mapOptions:b.object,zoomControl:b.bool,mousePointer:b.string,onMouseMove:b.func,onLayerLoading:b.func,onLayerLoad:b.func,onLayerError:b.func,resize:b.number,measurement:b.object,changeMeasurementState:b.func,registerHooks:b.bool,interactive:b.bool,onCreationError:b.func,bbox:b.object,onWarning:b.func,maxExtent:b.array,limits:b.object},a.defaultProps={id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,interactive:!0},s));n(3144),t.exports=A}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(2228).default,o=n(2230);t.exports=function(t){var n=t.width,a=t.height,s=t.className,l=void 0===s?"loader-container":s,u=t.contentStyle,c=void 0===u?{}:u;return i.createElement("div",{className:l},i.createElement(r,null,function(t){var r=t.width,s=void 0===r?200:r,l=t.height,u=void 0===l?200:l,h=n||(u>0?Math.min(s,u):s),p=a||(u>0?Math.min(s,u):s),d=Math.min(h,p);return i.createElement(o,{size:d,style:e({padding:d/10,margin:"auto",display:"flex"},c)})}))}}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={SwitchButton:{displayName:"SwitchButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/switch/SwitchButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=function(t){return function(e){return m(e,t)}}("SwitchButton")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){var t=this;return y.createElement("label",{className:"mapstore-switch-btn"},y.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:function(){return t.props.onChange(!t.props.checked)}}),y.createElement("span",{onClick:function(){return t.props.onClick(!t.props.checked)},className:"m-slider"}))}}]),e}(y.Component),a.propTypes={checked:v.bool,onChange:v.func,onClick:v.func},a.defaultProps={checked:!1,onChange:function(){},onClick:function(){}},s));t.exports=b}).call(this)}finally{}},,,,,,,,function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Ct,features:t,override:e}}function r(){return{type:Mt}}function o(t){return{type:q,id:t}}function a(t){return{type:Nt,format:t}}function s(){return{type:Pt}}function l(t){return{type:At,point:t}}function u(t){return{type:St,annotation:t}}function c(t){return function(e,n){var i=Gt(Gt(n().layers.flat.filter(function(t){return"annotations"===t.id})).features.filter(function(e){return e.properties.id===t}));e("FeatureCollection"===i.type?{type:W,feature:i,featureType:i.type}:{type:W,feature:i,featureType:i.geometry.type})}}function h(){return{type:X}}function p(t,e,n){return{type:Tt,coordinates:t,radius:e,text:n}}function d(t,e){return{type:lt,errorFrom:t,coordinates:e}}function f(){return{type:Et}}function g(t,e){return{type:wt,field:t,value:e}}function m(t){return{type:K,id:t}}function y(){return{type:Q}}function v(t){return{type:J,id:t}}function b(){return{type:$}}function w(){return{type:tt}}function x(t,e,n,i,r,o){return{type:nt,id:t,fields:e,geometry:n,style:i,newFeature:r,properties:o}}function _(t){return{type:it,featureType:t}}function E(){return{type:rt}}function S(){return{type:at}}function C(t){return{type:ot,style:t}}function T(t,e,n){return{type:st,geometry:t,textChanged:e,circleChanged:n}}function k(t){return{type:ut,errors:t}}function O(t){return{type:ct,id:t}}function L(){return{type:ht}}function I(t){return{type:Z,id:t}}function A(){return{type:et}}function P(t){return{type:pt,filter:t}}function M(){return{type:dt}}function N(){return{type:ft}}function D(t){return{type:yt,unsavedChanges:t}}function R(t){return{type:xt,unsavedStyle:t}}function F(){return{type:It}}function G(){return{type:gt}}function j(){return{type:mt}}function z(){return{type:vt}}function U(){return{type:bt}}function B(){return{type:_t}}function H(){return{type:kt}}function Y(t,e){return{type:Ot,radius:t,components:e}}function V(t,e){return{type:Lt,text:t,components:e}}var W="ANNOTATIONS:EDIT",q="ANNOTATIONS:OPEN_EDITOR",Z="ANNOTATIONS:SHOW",X="ANNOTATIONS:NEW",K="ANNOTATIONS:REMOVE",Q="ANNOTATIONS:REMOVE_GEOMETRY",J="ANNOTATIONS:CONFIRM_REMOVE",$="ANNOTATIONS:CANCEL_REMOVE",tt="ANNOTATIONS:CANCEL_EDIT",et="ANNOTATIONS:CANCEL_SHOW",nt="ANNOTATIONS:SAVE",it="ANNOTATIONS:TOGGLE_ADD",rt="ANNOTATIONS:TOGGLE_STYLE",ot="ANNOTATIONS:SET_STYLE",at="ANNOTATIONS:RESTORE_STYLE",st="ANNOTATIONS:UPDATE_GEOMETRY",lt="ANNOTATIONS:SET_INVALID_SELECTED",ut="ANNOTATIONS:VALIDATION_ERROR",ct="ANNOTATIONS:HIGHLIGHT",ht="ANNOTATIONS:CLEAN_HIGHLIGHT",pt="ANNOTATIONS:FILTER",dt="ANNOTATIONS:CLOSE",ft="ANNOTATIONS:CONFIRM_CLOSE",gt="ANNOTATIONS:CANCEL_CLOSE",mt="ANNOTATIONS:START_DRAWING",yt="ANNOTATIONS:UNSAVED_CHANGES",vt="ANNOTATIONS:TOGGLE_CHANGES_MODAL",bt="ANNOTATIONS:TOGGLE_GEOMETRY_MODAL",wt="ANNOTATIONS:CHANGED_PROPERTIES",xt="ANNOTATIONS:UNSAVED_STYLE",_t="ANNOTATIONS:TOGGLE_STYLE_MODAL",Et="ANNOTATIONS:ADD_TEXT",St="ANNOTATIONS:DOWNLOAD",Ct="ANNOTATIONS:LOAD_ANNOTATIONS",Tt="ANNOTATIONS:CHANGED_SELECTED",kt="ANNOTATIONS:RESET_COORD_EDITOR",Ot="ANNOTATIONS:CHANGE_RADIUS",Lt="ANNOTATIONS:CHANGE_TEXT",It="ANNOTATIONS:ADD_NEW_FEATURE",At="ANNOTATIONS:HIGHLIGHT_POINT",Pt="ANNOTATIONS:TOGGLE_DELETE_FT_MODAL",Mt="ANNOTATIONS:CONFIRM_DELETE_FEATURE",Nt="ANNOTATIONS:CHANGE_FORMAT",Dt=function(){return{type:"ANNOTATIONS:UPDATE_SYMBOLS",symbols:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},Rt=function(t){return{type:"ANNOTATIONS:ERROR_SYMBOLS",symbolErrors:t}},Ft=n(14),Gt=Ft.head;t.exports={SHOW_ANNOTATION:Z,EDIT_ANNOTATION:W,NEW_ANNOTATION:X,REMOVE_ANNOTATION:K,CONFIRM_REMOVE_ANNOTATION:J,CANCEL_REMOVE_ANNOTATION:$,CANCEL_EDIT_ANNOTATION:tt,SAVE_ANNOTATION:nt,TOGGLE_ADD:it,UPDATE_ANNOTATION_GEOMETRY:st,VALIDATION_ERROR:ut,REMOVE_ANNOTATION_GEOMETRY:Q,TOGGLE_STYLE:rt,SET_STYLE:ot,RESTORE_STYLE:at,HIGHLIGHT:ct,CLEAN_HIGHLIGHT:ht,CANCEL_SHOW_ANNOTATION:et,FILTER_ANNOTATIONS:pt,CLOSE_ANNOTATIONS:dt,CONFIRM_CLOSE_ANNOTATIONS:ft,CANCEL_CLOSE_ANNOTATIONS:gt,START_DRAWING:mt,startDrawing:j,UNSAVED_CHANGES:yt,setUnsavedChanges:D,UNSAVED_STYLE:xt,setUnsavedStyle:R,TOGGLE_CHANGES_MODAL:vt,toggleUnsavedChangesModal:z,TOGGLE_STYLE_MODAL:_t,toggleUnsavedStyleModal:B,CHANGED_PROPERTIES:wt,changedProperties:g,ADD_TEXT:Et,addText:f,editAnnotation:c,newAnnotation:h,removeAnnotation:m,confirmRemoveAnnotation:v,cancelRemoveAnnotation:b,cancelEditAnnotation:w,saveAnnotation:x,toggleAdd:_,updateAnnotationGeometry:T,validationError:k,removeAnnotationGeometry:y,toggleStyle:E,setStyle:C,restoreStyle:S,highlight:O,cleanHighlight:L,showAnnotation:I,cancelShowAnnotation:A,filterAnnotations:P,closeAnnotations:M,confirmCloseAnnotations:N,cancelCloseAnnotations:G,DOWNLOAD:St,download:u,OPEN_EDITOR:q,openEditor:o,CONFIRM_DELETE_FEATURE:Mt,confirmDeleteFeature:r,TOGGLE_DELETE_FT_MODAL:Pt,toggleDeleteFtModal:s,HIGHLIGHT_POINT:At,highlightPoint:l,ADD_NEW_FEATURE:It,addNewFeature:F,LOAD_ANNOTATIONS:Ct,loadAnnotations:i,RESET_COORD_EDITOR:kt,resetCoordEditor:H,CHANGE_TEXT:Lt,changeText:V,CHANGE_RADIUS:Ot,changeRadius:Y,TOGGLE_GEOMETRY_MODAL:bt,toggleUnsavedGeometryModal:U,SET_INVALID_SELECTED:lt,setInvalidSelected:d,CHANGE_FORMAT:Nt,changeFormat:a,CHANGED_SELECTED:Tt,changeSelected:p,UPDATE_SYMBOLS:"ANNOTATIONS:UPDATE_SYMBOLS",updateSymbols:Dt,ERROR_SYMBOLS:"ANNOTATIONS:ERROR_SYMBOLS",setErrorSymbol:Rt}},function(t,e,n){"use strict";function i(t,e){return{type:r,enable:t,elementSelector:e}}var r="TOGGLE_FULLSCREEN";t.exports={toggleFullscreen:i,TOGGLE_FULLSCREEN:r}},,function(t,e,n){"use strict";function i(t){return{type:r,layout:t}}var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT";t.exports={UPDATE_MAP_LAYOUT:r,updateMapLayout:i}},function(t,e,n){"use strict";function i(t){return{type:a,position:t}}function r(t){return{type:s,crs:t}}function o(t){return{type:l,enabled:t}}var a="CHANGE_MOUSE_POSITION",s="CHANGE_MOUSE_POSITION_CRS",l="CHANGE_MOUSE_POSITION_STATE";t.exports={CHANGE_MOUSE_POSITION:a,CHANGE_MOUSE_POSITION_CRS:s,CHANGE_MOUSE_POSITION_STATE:l,changeMousePosition:i,changeMousePositionCrs:r,changeMousePositionState:o}},function(t,e,n){"use strict";function i(t,e,n,i){return{type:x,userDetails:t,authHeader:"Basic "+btoa(e+":"+n),username:e,password:n,authProvider:i}}function r(t){return{type:_,error:t}}function o(){return{type:E}}function a(t){return{type:T,redirectUrl:t}}function s(){return function(t,e){t(a(null)),t(b(!1,e().maps&&e().maps.searchText||w.getDefaults().initialMapFilter||"*"))}}function l(t,e){return function(n,o){return m.login(t,e).then(function(r){n(i(r,t,e,m.authProviderName)),n(b(!1,o().maps&&o().maps.searchText||w.getDefaults().initialMapFilter||"*"))}).catch(function(t){n(r(t))})}}function u(t,e){return{type:S,user:t,authHeader:"Basic "+btoa(t.name+":"+e)}}function c(t){return{type:C,error:t}}function h(t,e){return function(n){m.changePassword(t,e).then(function(){n(u(t,e))}).catch(function(t){n(c(t))})}}function p(t,e){return{type:k,userDetails:t,authProvider:e}}function d(){return function(t){var e=y.getToken(),n=y.getRefreshToken();m.refreshToken(e,n).then(function(e){t(p(e,m.authProviderName))}).catch(function(){t(a(null))})}}function f(t,e){return{type:O,userDetails:t,authProvider:e}}function g(){return function(t){m.verifySession().then(function(e){t(f(e,m.authProviderName))}).catch(function(){t(a(null))})}}var m=n(277),y=n(198),v=n(436),b=v.loadMaps,w=n(38),x="LOGIN_SUCCESS",_="LOGIN_FAIL",E="RESET_ERROR",S="CHANGE_PASSWORD_SUCCESS",C="CHANGE_PASSWORD_FAIL",T="LOGOUT",k="REFRESH_SUCCESS",O="SESSION_VALID";t.exports={LOGIN_SUBMIT:"LOGIN_SUBMIT",CHANGE_PASSWORD:"CHANGE_PASSWORD",CHANGE_PASSWORD_SUCCESS:S,CHANGE_PASSWORD_FAIL:C,LOGIN_SUCCESS:x,LOGIN_FAIL:_,RESET_ERROR:E,LOGOUT:T,REFRESH_SUCCESS:k,SESSION_VALID:O,login:l,loginSuccess:i,loginFail:r,logout:a,changePassword:h,logoutWithReload:s,resetError:o,refreshAccessToken:d,verifySession:g,sessionValid:f}},function(t,e,n){"use strict";t.exports={BingLayer:n(2681),OSMLayer:n(2684),TileProviderLayer:n(2686),WMSLayer:n(2687),WMTSLayer:n(2688),GraticuleLayer:n(2682),MarkerLayer:n(2683),OverlayLayer:n(2685)}},function(t,e,n){"use strict";t.exports={BingLayer:n(2690),Commons:n(2691),GraticuleLayer:n(2693),GoogleLayer:n(2692),MapQuest:n(2694),OSMLayer:n(2695),TileProviderLayer:n(2696),WMSLayer:n(2697),WMTSLayer:n(2698),VectorLayer:n(3012)}},function(t,e,n){"use strict";t.exports={BingLayer:n(2699),GoogleLayer:n(2700),GraticuleLayer:n(2701),MapQuest:n(2702),OSMLayer:n(2703),OverlayLayer:n(2704),TileProviderLayer:n(2705),VectorLayer:n(2706),WMSLayer:n(2707),WMTSLayer:n(2708)}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(428),o=r.compose,a=r.withHandlers,s=r.withProps,l=n(14),u=l.round,c=l.isNaN,h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},i=n.seconds,r=t>=0?Math.floor(t):Math.ceil(t),o=Math.abs(60*(t-r)),a=Math.floor(o),s=60*(o-a),l=u(s,i.decimals);return r=Math.abs(r),60===l&&(a++,l=0),60===a&&(r++,a=0),c(r)||""===t?{degrees:"",minutes:"",seconds:"",direction:e?"E":"N"}:{degrees:r,minutes:a,seconds:l,direction:t<0?e?"W":"S":e?"E":"N"}};t.exports=o(s(function(t){var e=t.value,n=t.coordinate,r=t.aeronauticalOptions;return i({},h(e,"lon"===n,r))}),a({onChange:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.degrees,i=e.minutes,r=e.seconds,o=e.direction,a=0,s=0,l=0;void 0===n&&void 0===i&&void 0===r&&t.onChange(void 0),c(n)||(a=n),c(i)||(s=i),c(r)||(l=r);var u=a+s/60+l/3600;(u>0&&("S"===o||"W"===o)||u<0&&("N"===o||"E"===o))&&(u*=-1),t.onChange(u.toPrecision(12))}}}))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(e){return m(e,t)}}var l=n(71),u=i(l),c=n(0),h=i(c),p=n(70),d=i(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={WithResizeSpy:{displayName:"WithResizeSpy",isInFunction:!0}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/enhancers/withResizeSpy.js",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(14),b=v.debounce,w=n(4),x=n(43),_=n(3126).default;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.debounceTime,n=t.querySelector,i=t.closest,l=void 0!==i&&i;return function(t){var i,u;return s("WithResizeSpy")((u=i=function(i){function s(t){r(this,s);var i=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t));return i.findDomNode=function(){if(!i.isMounded)return null;var t=x.findDOMNode(i);return t&&l&&n?t.closest(n||"*"):t&&(n?t.querySelector(n):t)},i.width=void 0,i.height=void 0,i.skipOnMount=t.skipOnMount,i.onResize=b(function(){var t;return(t=i.props).onResize.apply(t,arguments)},void 0!==e?e:t.debounceTime||1e3),i.ro=new _(function(t){t.forEach(function(t){var e=t.contentRect,n=e.width,r=e.height,o=i.props.handleWidth&&i.width!==n,a=i.props.handleHeight&&i.height!==r;i.skipOnMount||!o&&!a||i.onResize({width:n,height:r}),i.width=n,i.height=r,i.skipOnMount=!1})}),i}return a(s,i),f(s,[{key:"componentDidMount",value:function(){this.isMounded=!0;var t=this.findDomNode();t&&this.ro.observe(t)}},{key:"componentWillUnmount",value:function(){var t=this.findDomNode();t&&this.ro&&this.ro.unobserve&&this.ro.unobserve(t)}},{key:"render",value:function(){return y.createElement(t,this.props)}}]),s}(y.Component),i.propTypes={handleWidth:w.bool,handleHeight:w.bool,onResize:w.func},i.defaultProps={onResize:function(){},handleWidth:!0,handleHeight:!0},u))}}},,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(98),o=n(14),a=o.castArray,s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.startWith.apply(t,i(e))},l=function(t,e,n){return function(i){return(n?s(i,a(t)).catch(n):s(i,a(t))).concat(r.Observable.from(a(e)))}};t.exports={wrapStartStop:l}},,function(t,e,n){"use strict";var i=n(868),r=i.UPDATE_LAYER_DIMENSION_DATA,o=i.SET_CURRENT_TIME,a=i.SET_OFFSET_TIME,s=i.MOVE_TIME,l=n(273),u=l.REMOVE_NODE,c=n(272),h=c.RESET_CONTROLS,p=n(431),d=p.set,f=n(3),g=n(14),m=g.mapValues,y=g.pickBy;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case r:return d("data["+e.dimension+"]["+e.layerId+"]",e.data,t);case o:return d("currentTime",e.time,t);case a:return d("offsetTime",e.offsetTime,t);case s:if(t.offsetTime&&t.currentTime){var n=f(t.offsetTime).diff(t.currentTime),i=f(e.time).add(n);return d("currentTime",e.time,d("offsetTime",i.toISOString(),t))}return d("currentTime",e.time,t);case u:var l=m(t.data,function(t){return y(t,function(t,n){return n!==e.node})});return d("data",l,t);case h:return d("data",void 0,d("currentTime",void 0,d("offsetTime",void 0,t)));default:return t}}},,function(t,e,n){"use strict";var i=n(72),r=n(2964),o=n(443),a=o.Promise,s=new r(100),l=function(t,e,n){s.set(n,{data:t,dataView:new DataView(t),coords:e,current:!0,status:"success"})},u=function(t,e,n){s.set(n,{coords:e,current:!0,status:"error: "+t})},c=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,o=i*t+n;try{var a=e.dataView.getInt16(2*o,!1);if(a!==r&&32767!==a&&-32768!==a)return a}catch(t){}};t.exports={loadTile:function(t,e,n){if(!s.has(n))return new a(function(r,o){i.get(t,{responseType:"arraybuffer"}).then(function(t){l(t.data,e,n),r()}).catch(function(t){u(t.message,e,n),o(t)})})},getElevation:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,r=s.get(t);return r&&"success"===r.status?{available:!0,value:c(n,r,e.x,e.y,i)}:r&&"loading"===r.status?{available:!1,message:"elevationLoading"}:r&&"error"===r.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=new r(t.max||100)}}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(859),o=n(2759),a=n(12),s=n(2181),l=s.isMarkerStyle,u=s.isSymbolStyle,c=function(t,e){if(t&&t.iconGlyph){var n=t.iconLibrary||"extra";if(o[n])return o[n].getIcon(t)}return t&&t.html&&e?o.html.getIcon(t,e):t&&t.iconUrl||t.symbolUrlCustomized||t.symbolUrl?o.standard.getIcon(t):void 0},h=function(t){return new r.LatLng(t[1],t[0],t[2])},p=function t(e,n,i){for(var r,o=[],a=e.length,s=0;s<a;s++)r=n?t(e[s],n-1,i):(i||this.coordsToLatLng)(e[s]),o.push(r);return o},d=function(t){if("GeometryCollection"===t.geometry.type)return!1;var e=t.style;return e&&(l(e)||u(e)||e.iconUrl||e.iconGlyph)},f={coordsToLatLngF:h,coordsToLatLngs:p,isMarker:d,getPointLayer:function(t,e,n,r){return t?t(e,n):f.pointToLayer(n,e,i({},r.style,{highlight:r.highlight}))},pointToLayer:function(t,e,n){var i=n.Point||n.MultiPoint||n,o=c(i,e);return o?r.marker(t,{icon:o,opacity:i&&i.opacity||1}):r.marker(t,{opacity:i&&i.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pointToLayer,n=t.geojson,o=t.latlng,a=t.options,s=t.style,l=void 0===s?{}:s,u=t.highlight,c=void 0!==u&&u;if(n.properties&&n.properties.isText){var h=r.divIcon({html:'<span style="\n                font:'+l.font+";\n                color:"+l.fillColor+";\n                -webkit-text-stroke-width:1px;\n                -webkit-text-stroke-color:"+l.color+';">'+n.properties.valueText+"</span>",className:""});return new r.Marker(o,{icon:h})}return f.getPointLayer(e,n,o,i({},a,{style:l,highlight:c}))},createPolygonCircleLayer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.geojson,n=t.style,o=void 0===n?{}:n,a=t.latlngs,s=void 0===a?[]:a,l=t.coordsToLatLng,u=void 0===l?function(){}:l;if(e.properties&&e.properties.isCircle){var c=u(e.properties.center);return r.circle(c,i({},o,{radius:e.properties.radius}))}return new r.Polygon(s,o)},geometryToLayer:function(t,e){var n,o,s,l,u="Feature"===t.type?t.geometry:t,c=u?u.coordinates:null,h=[],g=i({style:e.style&&e.style[0]||e.style},t),m=e&&!d(g)?function(t,e){return r.circleMarker(e,g.style&&g.style[0]||{radius:5,color:"red",weight:1,opacity:1,fillOpacity:0})}:null,y=e&&e.coordsToLatLng||f.coordsToLatLngF;if(!c&&!u)return null;var v=void 0,b=g.style||a({},e.style&&e.style[u.type]||e.style,{highlight:e.style&&e.style.highlight});switch(u.type){case"Point":return n=y(c),v=f.createTextPointMarkerLayer({pointToLayer:m,geojson:t,latlng:n,options:e,style:b,highlight:b&&b.highlight});case"MultiPoint":for(s=0,l=c.length;s<l;s++)n=y(c[s]),v=f.createTextPointMarkerLayer({pointToLayer:m,geojson:t,latlng:n,options:e,style:b,highlight:b&&b.highlight}),v.msId=t.id,h.push(v);return new r.FeatureGroup(h);case"LineString":return b=f.updateHighlightStyle(b),o=p(c,"LineString"===u.type?0:1,y),v=new r.Polyline(o,b),v.msId=t.id,v;case"MultiLineString":for(b=f.updateHighlightStyle(b),o=p(c,"LineString"===u.type?0:1,y),s=0,l=o.length;s<l;s++)v=new r.Polyline(o[s],b),v.msId=t.id,v&&h.push(v);return new r.FeatureGroup(h);case"Polygon":return b=f.updateHighlightStyle(b),o=p(c,"Polygon"===u.type?1:2,y),v=f.createPolygonCircleLayer({geojson:t,style:b,latlngs:o,coordsToLatLng:y}),v.msId=t.id,v;case"MultiPolygon":for(b=f.updateHighlightStyle(b),o=p(c,"Polygon"===u.type?1:2,y),s=0,l=o.length;s<l;s++)v=f.createPolygonCircleLayer({geojson:t,style:b,latlngs:o,coordsToLatLng:y}),v.msId=t.id,v&&h.push(v);return new r.FeatureGroup(h);case"GeometryCollection":for(s=0,l=u.geometries.length;s<l;s++)(v=f.geometryToLayer({geometry:u.geometries[s],type:"Feature",properties:t.properties},e))&&h.push(v);return new r.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(t){var e=t.highlight;return e?a({},t,{dashArray:e?"10":null}):t}};t.exports=f},,function(t,e,n){"use strict";var i=n(857),r=n(2460),o=r.markers.extra,a=o.icons[0],s=o.icons[1],l=r.getGlyphs("fontawesome"),u=n(14),c=u.isArray,h=u.isNumber,p=u.isNil,d=function(t){var e=t.highlight,n=t.rotation,r=void 0===n?0:n;return e?[new i.style.Style({text:new i.style.Text({rotation:r,text:"",font:"18px mapstore2",offsetY:-o.size[1]-10,fill:new i.style.Fill({color:"#FF00FF"})})})]:[]};t.exports={extra:{getIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p(t.style&&t.style.rotation)?0:t.style.rotation;return[new i.style.Style({image:new i.style.Icon({rotation:e,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:s})}),new i.style.Style({image:new i.style.Icon({rotation:e,src:a,anchor:[o.size[0]/2,o.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:o.size,offset:[o.colors.indexOf(t.style.iconColor||"blue")*o.size[0],o.shapes.indexOf(t.style.iconShape||"circle")*o.size[1]]}),text:new i.style.Text({rotation:e,text:l[t.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-o.size[1]/3,fill:new i.style.Fill({color:"#FFFFFF"})})})].concat(d(t.style))}},standard:{getIcon:function(t){var e=t.style,n=t.iconAnchor,r=p(e&&e.rotation)?0:e.rotation,o=e.iconAnchor||n,a=[new i.style.Style({image:new i.style.Icon({anchor:o||[.5,1],anchorXUnits:e.anchorXUnits||(o||0===o?"pixels":"fraction"),anchorYUnits:e.anchorYUnits||(o||0===o?"pixels":"fraction"),size:c(e.size)?e.size:h(e.size)?[e.size,e.size]:void 0,rotation:r,anchorOrigin:e.anchorOrigin||"top-left",src:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl})})];return e.shadowUrl&&(a=[new i.style.Style({image:new i.style.Icon({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:e.shadowUrl})}),a[0]]),a.concat(d(e))}},html:{getIcon:function(){return null}}}},function(t,e,n){"use strict";var i=n(3138).SourceMapGenerator,r={Atrule:!0,Selector:!0,Declaration:!0};t.exports=function(t,e){function n(t){for(;a<t.length;a++)10===t.charCodeAt(a)?(s.line++,s.column=0):s.column++}var o=new i,a=0,s={line:1,column:0},l={line:0,column:0},u=!1,c={line:1,column:0},h={generated:c},p=t(e,function(t,e){if(t.loc&&t.loc.start&&r.hasOwnProperty(t.type)){var i=t.loc.start.line,a=t.loc.start.column-1;l.line===i&&l.column===a||(l.line=i,l.column=a,n(e),u&&(u=!1,s.line===c.line&&s.column===c.column||o.addMapping(h)),u=!0,o.addMapping({source:t.loc.source,original:l,generated:s}))}},function(t,e){u&&r.hasOwnProperty(t.type)&&(n(e),c.line=s.line,c.column=s.column)});return u&&o.addMapping(h),{css:p,map:o}}},function(t,e,n){"use strict";function i(t,e){var n=t&&t.loc&&t.loc[e];return n?{offset:n.offset,line:n.line,column:n.column}:null}var r=n(2276),o=function(t,e){var n=Object.create(SyntaxError.prototype);return n.name="SyntaxReferenceError",n.reference=e,n.message=t+" `"+e+"`",n.stack=((new Error).stack||"").replace(/^.+\n/,n.name+": "+n.message+"\n"),n},a=function(t,e,n,o,a){var s=Object.create(SyntaxError.prototype),l=-1,u=i(a,"start"),c=i(a,"end"),h=e.syntax.translateMarkup(o,function(t,e){t===a&&(l=e.length)});return-1===l&&(l=h.length),s.name="SyntaxMatchError",s.rawMessage=t,s.stack=((new Error).stack||"").replace(/^.+\n/,s.name+": "+t+"\n"),s.syntax=n?r(n):"<generic>",s.css=h,s.mismatchOffset=l,s.loc={source:a&&a.loc&&a.loc.source||"<unknown>",start:u,end:c},s.line=u?u.line:void 0,s.column=u?u.column:void 0,s.offset=u?u.offset:void 0,s.message=t+"\n  syntax: "+s.syntax+"\n   value: "+(s.css||"<empty string>")+"\n  --------"+new Array(s.mismatchOffset+1).join("-")+"^",s};t.exports={SyntaxReferenceError:o,MatchError:a}},function(t,e,n){"use strict";var i=function(t,e,n){var i=Object.create(SyntaxError.prototype);return i.name="SyntaxParseError",i.rawMessage=t,i.stack=((new Error).stack||"").replace(/^.+\n/,i.name+": "+t+"\n"),i.syntax=e,i.offset=n,i.message=i.rawMessage+"\n  "+i.syntax+"\n--"+new Array((i.offset||i.syntax.length)+1).join("-")+"^",i};t.exports={SyntaxParseError:i}},function(t,e,n){"use strict";function i(t){for(var e=t.pos+1;e<t.str.length;e++){var n=t.str.charCodeAt(e);if(n!==E&&n!==x&&n!==_&&n!==S&&n!==w)break}return t.substringToPos(e)}function r(t){for(var e=t.pos;e<t.str.length;e++){var n=t.str.charCodeAt(e);if(n>=128||0===K[n])break}return t.pos===e&&y(t,t.pos,"Expect a keyword"),t.substringToPos(e)}function o(t){for(var e=t.pos;e<t.str.length;e++){var n=t.str.charCodeAt(e);if(n<48||n>57)break}return t.pos===e&&y(t,t.pos,"Expect a number"),t.substringToPos(e)}function a(t){var e=t.str.indexOf("'",t.pos+1);return-1===e&&y(t,t.str.length,"Expect a quote"),t.substringToPos(e+1)}function s(t,e){var n=null,i=null;return t.eat(U),n=o(t),t.charCode()===N?(t.pos++,t.charCode()!==H&&(i=o(t))):i=n,t.eat(H),{comma:e,min:Number(n),max:i?Number(i):0}}function l(t){switch(t.charCode()){case P:return t.pos++,W;case M:return t.pos++,q;case G:return t.pos++,X;case T:return t.pos++,t.charCode()!==U?Z:s(t,!0);case U:return s(t,!1)}return V}function u(t,e){var n=l(t);return n!==V?{type:"Group",terms:[e],combinator:"|",disallowEmpty:!1,multiplier:n,explicit:!1}:e}function c(t){var e;return t.eat(R),t.eat(L),e=r(t),t.eat(L),t.eat(F),u(t,{type:"Property",name:e})}function h(t){var e;return t.eat(R),e=r(t),t.charCode()===I&&t.nextCharCode()===A&&(t.pos+=2,e+="()"),t.eat(F),u(t,{type:"Type",name:e})}function p(t){var e,n=null;return e=r(t),t.charCode()===I?(t.pos++,n=f(t),t.eat(A),u(t,{type:"Function",name:e,children:n})):u(t,{type:"Keyword",name:e})}function d(t,e){function n(t,e){return{type:"Group",terms:t,combinator:e,disallowEmpty:!1,multiplier:V,explicit:!1}}for(e=Object.keys(e).sort(function(t,e){return Y[t]-Y[e]});e.length>0;){for(var i=e.shift(),r=0,o=0;r<t.length;r++){var a=t[r];"Combinator"===a.type&&(a.value===i?(-1===o&&(o=r-1),t.splice(r,1),r--):(-1!==o&&r-o>1&&(t.splice(o,r-o,n(t.slice(o,r),i)),r=o+1),o=-1))}-1!==o&&e.length&&t.splice(o,r-o,n(t.slice(o,r),i))}return i}function f(t){for(var e,n=[],i={},r=null,o=t.pos;e=m(t);)"Spaces"!==e.type&&("Combinator"===e.type?(null!==r&&"Combinator"!==r.type||y(t,o,"Unexpected combinator"),i[e.value]=!0):null!==r&&"Combinator"!==r.type&&(i[" "]=!0,n.push({type:"Combinator",value:" "})),n.push(e),r=e,o=t.pos);return null!==r&&"Combinator"===r.type&&y(t,t.pos-o,"Unexpected combinator"),{type:"Group",terms:n,combinator:d(n,i)||" ",disallowEmpty:!1,multiplier:V,explicit:!1}}function g(t){var e;return t.eat(j),e=f(t),t.eat(z),e.explicit=!0,e.multiplier=l(t),t.charCode()===C&&(t.pos++,e.disallowEmpty=!0),e}function m(t){var e=t.charCode();if(e<128&&1===K[e])return p(t);switch(e){case j:return g(t);case R:return t.nextCharCode()===L?c(t):h(t);case B:return{type:"Combinator",value:t.substringToPos(t.nextCharCode()===B?t.pos+2:t.pos+1)};case O:return t.pos++,t.eat(O),{type:"Combinator",value:"&&"};case N:return t.pos++,{type:"Comma",value:","};case D:return t.pos++,{type:"Slash",value:"/"};case k:return t.pos++,{type:"Percent",value:"%"};case I:t.pos++;var n=f(t);return t.eat(A),{type:"Parentheses",children:n};case L:return{type:"String",value:a(t)};case S:case w:case x:case E:case _:return{type:"Spaces",value:i(t)}}}
function y(t,e,n){throw new b(n||"Unexpected input",t.str,e)}function v(t){var e=new Q(t),n=f(e);return e.pos!==t.length&&y(e,e.pos),1===n.terms.length&&"Group"===n.terms[0].type&&(n=n.terms[0]),n}var b=n(2510).SyntaxParseError,w=9,x=10,_=12,E=13,S=32,C=33,T=35,k=37,O=38,L=39,I=40,A=41,P=42,M=43,N=44,D=47,R=60,F=62,G=63,j=91,z=93,U=123,B=124,H=125,Y={" ":1,"&&":2,"||":3,"|":4},V={comma:!1,min:1,max:1},W={comma:!1,min:0,max:0},q={comma:!1,min:1,max:0},Z={comma:!0,min:1,max:0},X={comma:!1,min:0,max:1},K=function(){for(var t="function"==typeof Uint32Array?new Uint32Array(128):new Array(128),e=0;e<128;e++)t[e]=/[a-zA-Z0-9\-]/.test(String.fromCharCode(e))?1:0;return t}(),Q=function(t){this.str=t,this.pos=0};Q.prototype={charCode:function(){return this.pos<this.str.length?this.str.charCodeAt(this.pos):0},nextCharCode:function(){return this.pos+1<this.str.length?this.str.charCodeAt(this.pos+1):0},substringToPos:function(t){return this.str.substring(this.pos,this.pos=t)},eat:function(t){this.charCode()!==t&&y(this,this.pos,"Expect `"+String.fromCharCode(t)+"`"),this.pos++}},v("[a&&<b>#|<'c'>*||e(){2,} f{2} /,(% g#{1,2})]!"),t.exports=v},function(t,e,n){"use strict";t.exports=function t(e,n,i){switch(e.type){case"Group":e.terms.forEach(function(e){t(e,n,i)});break;case"Function":case"Parentheses":t(e.children,n,i);break;case"Keyword":case"Type":case"Property":case"Combinator":case"Comma":case"Slash":case"String":case"Percent":break;default:throw new Error("Unknown type: "+e.type)}n.call(i,e)}},function(t,e,n){var i=n(2160);t.exports=function(){this.scanner.skipSC();var t=this.IdSelector();return this.scanner.skipSC(),(new i).appendData(t)}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.Nth(!1))}}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.Nth(!0))}}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.SelectorList())}}},function(t,e,n){var i=n(2159).cmpChar,r=n(2159).TYPE,o=r.Identifier,a=r.String,s=r.Number,l=r.Function,u=r.Url,c=r.NumberSign,h=r.LeftParenthesis,p=r.LeftSquareBracket,d=r.PlusSign,f=r.HyphenMinus,g=r.Comma,m=r.Solidus,y=r.Asterisk,v=r.PercentSign,b=r.Backslash;t.exports=function(t){switch(this.scanner.tokenType){case c:return this.HexColor();case g:return t.space=null,t.ignoreWSAfter=!0,this.Operator();case m:case y:case d:case f:return this.Operator();case h:return this.Parentheses(this.readSequence,t.recognizer);case p:return this.Brackets(this.readSequence,t.recognizer);case a:return this.String();case s:switch(this.scanner.lookupType(1)){case v:return this.Percentage();case o:return i(this.scanner.source,this.scanner.tokenEnd,b)?this.Number():this.Dimension();default:return this.Number()}case l:return this.Function(this.readSequence,t.recognizer);case u:return this.Url();case o:return i(this.scanner.source,this.scanner.tokenStart,117)&&i(this.scanner.source,this.scanner.tokenStart+1,d)?this.UnicodeRange():this.Identifier()}}},function(t,e,n){"use strict";for(var i={WhiteSpace:1,Identifier:2,Number:3,String:4,Comment:5,Punctuator:6,CDO:7,CDC:8,Atrule:14,Function:15,Url:16,Raw:17,ExclamationMark:33,QuotationMark:34,NumberSign:35,DollarSign:36,PercentSign:37,Ampersand:38,Apostrophe:39,LeftParenthesis:40,RightParenthesis:41,Asterisk:42,PlusSign:43,Comma:44,HyphenMinus:45,FullStop:46,Solidus:47,Colon:58,Semicolon:59,LessThanSign:60,EqualsSign:61,GreaterThanSign:62,QuestionMark:63,CommercialAt:64,LeftSquareBracket:91,Backslash:92,RightSquareBracket:93,CircumflexAccent:94,LowLine:95,GraveAccent:96,LeftCurlyBracket:123,VerticalLine:124,RightCurlyBracket:125,Tilde:126},r=Object.keys(i).reduce(function(t,e){return t[i[e]]=e,t},{}),o="undefined"!=typeof Uint32Array?Uint32Array:Array,a=new o(128),s=new o(128),l=new o(128),u=0;u<a.length;u++)a[u]=2;[i.ExclamationMark,i.QuotationMark,i.NumberSign,i.DollarSign,i.PercentSign,i.Ampersand,i.Apostrophe,i.LeftParenthesis,i.RightParenthesis,i.Asterisk,i.PlusSign,i.Comma,i.HyphenMinus,i.FullStop,i.Solidus,i.Colon,i.Semicolon,i.LessThanSign,i.EqualsSign,i.GreaterThanSign,i.QuestionMark,i.CommercialAt,i.LeftSquareBracket,i.RightSquareBracket,i.CircumflexAccent,i.GraveAccent,i.LeftCurlyBracket,i.VerticalLine,i.RightCurlyBracket,i.Tilde].forEach(function(t){a[Number(t)]=6,s[Number(t)]=6});for(var u=48;u<=57;u++)a[u]=3;a[32]=1,a[9]=1,a[10]=1,a[13]=1,a[12]=1,a[i.Apostrophe]=4,a[i.QuotationMark]=4,l[32]=1,l[9]=1,l[10]=1,l[13]=1,l[12]=1,l[i.Apostrophe]=1,l[i.QuotationMark]=1,l[i.LeftParenthesis]=1,l[i.RightParenthesis]=1,s[32]=6,s[9]=6,s[10]=6,s[13]=6,s[12]=6,s[i.HyphenMinus]=0,t.exports={TYPE:i,NAME:r,SYMBOL_TYPE:a,PUNCTUATION:s,STOP_URL_RAW:l}},,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]),e=arguments[2];switch(t.type){case c.HOVER:break;case h.ADD_SOURCE:case h.ADD_TARGET:case h.REMOVE_TARGET:case h.REMOVE_SOURCE:return p;case c.BEGIN_DRAG:case c.PUBLISH_DRAG_SOURCE:case c.END_DRAG:case c.DROP:default:return d}var n=t.targetIds,i=e.targetIds,r=(0,s.default)(n,i),o=!1;if(0===r.length){for(var a=0;a<n.length;a++)if(n[a]!==i[a]){o=!0;break}}else o=!0;if(!o)return p;var l=i[i.length-1],u=n[n.length-1];return l!==u&&(l&&r.push(l),u&&r.push(u)),r}function o(t,e){return t!==p&&(t===d||void 0===e||(0,u.default)(e,t).length>0)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,e.areDirty=o;var a=n(2963),s=i(a),l=n(2623),u=i(l),c=n(2240),h=n(2241),p=[],d=[]},function(t,e,n){"use strict";function i(t,e){return t===e||t&&e&&t.x===e.x&&t.y===e.y}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments[1];switch(e.type){case l.BEGIN_DRAG:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case l.HOVER:return i(t.clientOffset,e.clientOffset)?t:s({},t,{clientOffset:e.clientOffset});case l.END_DRAG:case l.DROP:return u;default:return t}}function o(t){var e=t.clientOffset,n=t.initialClientOffset,i=t.initialSourceClientOffset;return e&&n&&i?{x:e.x+i.x-n.x,y:e.y+i.y-n.y}:null}function a(t){var e=t.clientOffset,n=t.initialClientOffset;return e&&n?{x:e.x-n.x,y:e.y-n.y}:null}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=r,e.getSourceClientOffset=o,e.getDifferenceFromInitialOffset=a;var l=n(2240),u={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(t,e,n){"use strict";function i(t,e){return(0,o.default)(t)?t.some(function(t){return t===e}):t===e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(44),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";var i=t.exports={};i.isIE=function(t){return!!function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}()&&(!t||t===function(){var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(n[0]);return t>4?t:void 0}())},i.isLegacyOpera=function(){return!!window.opera}},function(t,e,n){"use strict";(t.exports={}).forEach=function(t,e){for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}}},function(t,e,n){var i,r;!function(o,a){i=a,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(){function t(t,e){return function(n,i,r,o){n[t]?n[t](i,r,o):n[e]&&n[e]("on"+i,r)}}return{add:t("addEventListener","attachEvent"),remove:t("removeEventListener","detachEvent")}})},,,function(t,e){!function(t,e,n){function i(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}L.drawVersion="1.0.2",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),i=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},addVertex:function(t){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0)},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);if(!this.options.allowIntersection&&e||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,i=e.clientY;this._startPoint.call(this,n,i)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY;this._endPoint.call(this,n,i,t),this._clickHandled=null},_endPoint:function(e,n,i){if(this._mouseDownOrigin){var r=L.point(e,n).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(i.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(i.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(t.devicePixelRatio||1)&&this.addVertex(i.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,i=t.originalEvent;!i.touches||!i.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=i.touches[0].clientX,n=i.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var i=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=i.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=o>s?o-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)n=l/o,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),r.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),i=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!i(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,i=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:i.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else var e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";i&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){
for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(t){t.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(t){t.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(t){t.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,r=this._defaultShape();for(t=0,n=r.length;t<n;t++)i=this._createMarker(r[t],t),i.on("click",this._onMarkerClick,this),i.on("contextmenu",this._onContextMenu,this),this._markers.push(i);var o,a;for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(o=this._markers[e],a=this._markers[t],this._createMiddleMarker(o,a),this._updatePrevNext(o,a))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var r=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(t),this._onMarkerClick(t),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){n.setStyle({color:r}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var o=this._poly.getLatLngs();this._poly._convertLatLngs(o,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(t){var e=t.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:e,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),i=t.target;L.extend(i._origLatLng,n),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(n){n._index>t&&(n._index+=e)})},_createMiddleMarker:function(t,e){var n,i,r,o=this._getMiddleLatLng(t,e),a=this._createMarker(o);a.setOpacity(.6),t._middleRight=e._middleLeft=a,i=function(){a.off("touchmove",i,this);var r=e._index;a._index=r,a.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=a.getLatLng().lat,o.lng=a.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,a),a.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e),this._poly.fire("editstart")},r=function(){a.off("dragstart",i,this),a.off("dragend",r,this),a.off("touchmove",i,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},n=function(){i.call(this),r.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",i,this).on("dragend",r,this).on("touchmove",i,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(i._add(r)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,i=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds(),e=t.getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target,i=n._cornerIndex;this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)},_onMarkerDragEnd:function(t){var e,n,i=t.target;i===this._moveMarker&&(e=this._shape.getBounds(),n=e.getCenter(),i.setLatLng(n)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=this._shape.getBounds(),r=i.getCenter(),o=[],a=0,s=n.length;a<s;a++)e=[n[a].lat-r.lat,n[a].lng-r.lng],o.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var i=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:i,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;n<i;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,r=0,o=Math.PI/180;if(i>2){for(var a=0;a<i;a++)e=t[a],n=t[(a+1)%i],r+=(n.lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),i=L.drawLocal.format&&L.drawLocal.format.numeric,r=i&&i.delimiters,o=r&&r.thousands,a=r&&r.decimal;if(o||a){var s=n.split(".");n=o?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(e,n,i){var r,o,i=L.Util.extend({},t,i);return n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),r=e>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,i.km)+" km²":e>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,i.ha)+" ha":L.GeometryUtil.formattedNumber(e,i.m)+" m²"):(e/=.836127,r=e>=3097600?L.GeometryUtil.formattedNumber(e/3097600,i.mi)+" mi²":e>=4840?L.GeometryUtil.formattedNumber(e/4840,i.ac)+" acres":L.GeometryUtil.formattedNumber(e,i.yd)+" yd²"),r},readableDistance:function(e,n,i,r,o){var a,o=L.Util.extend({},t,o);switch(n?"string"==typeof n?n:"metric":i?"feet":r?"nauticalMile":"yards"){case"metric":a=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,a=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,a=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:e*=1.09361,a=e>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return a},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._getProjectedPoints(),r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),i=n?n.length:0,r=n?n[i-1]:null,o=i-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return n+=t||0,!e||n<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,a=this._getProjectedPoints();i=i||0;for(var s=n;s>i;s--)if(r=a[s-1],o=a[s],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,i,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],i=t-2,this._lineSegmentsIntersectsRange(n,e,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,t);var e;this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(i||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),i=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,i++,r,o[e].title);if(i)return this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:i+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var i=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,i,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,r,o=this._actionsContainer,a=this.getActions(t),s=a.length;for(n=0,i=this._actionButtons.length;n<i;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:a[l].title,text:a[l].text,container:e,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:r,callback:a[l].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,
title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){L.setOptions(this,t);for(var e in this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=this.options.featureGroup,n=0!==e.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,n?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",n?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,i=t.layer||t.target||t;this._backupLayer(i),this.options.poly&&(n=L.Util.extend({},this.options.poly),i.options.poly=n),this.options.selectedPathOptions&&(e=L.Util.extend({},this.options.selectedPathOptions),e.maintainColor&&(e.color=i.options.color,e.fillColor=i.options.fillColor),i.options.original=L.extend({},i.options),i.options.editing=e),i instanceof L.Marker?(i.editing&&i.editing.enable(),i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),i=this._map.layerPointToLatLng(n);t.target.setLatLng(i)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(t){this._removeLayer({layer:t})},this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}}e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=r;var o=n(0),a=(i(o),n(4)),s=i(a);e.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){x.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var e=S(t),n=E(e);return function(t){var e,i,s=t.displayName||t.name||"Component",c=(i=e=function(e){function i(){return r(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,e),u(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,y.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var e=this;return p.default.createElement(t,l({},this.props,{ref:function(t){e.child=t}}))}}]),i}(h.Component),e.DecoratedComponent=t,e.displayName="DragDropContext("+s+")",e.childContextTypes=_,i);return(0,b.default)(c,t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.unpackBackendForEs5Users=e.createChildContext=e.CHILD_CONTEXT_TYPES=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=s;var h=n(0),p=i(h),d=n(4),f=i(d),g=n(2923),m=n(90),y=i(m),v=n(2280),b=i(v),w=n(2243),x=i(w),_=e.CHILD_CONTEXT_TYPES={dragDropManager:f.default.object.isRequired},E=e.createChildContext=function(t,e){return{dragDropManager:new g.DragDropManager(t,e)}},S=e.unpackBackendForEs5Users=function(t){var e=t;return"object"===(void 0===e?"undefined":c(e))&&"function"==typeof e.default&&(e=e.default),(0,y.default)("function"==typeof e,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),e}},function(t,e,n){"use strict";function i(t,e){return e===t||null!==e&&null!==t&&(0,o.default)(e,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(2434),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e,n,i=t.DecoratedComponent,s=t.createHandler,d=t.createMonitor,m=t.createConnector,y=t.registerHandler,b=t.containerDisplayName,x=t.getType,E=t.collect,T=t.options,k=T.arePropsEqual,O=void 0===k?S.default:k,L=i.displayName||i.name||"Component",I=(n=e=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.handleChange=i.handleChange.bind(i),i.handleChildRef=i.handleChildRef.bind(i),(0,v.default)("object"===u(i.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",L,L),i.manager=i.context.dragDropManager,i.handlerMonitor=d(i.manager),i.handlerConnector=m(i.manager.getBackend()),i.handler=s(i.handlerMonitor),i.disposable=new g.SerialDisposable,i.receiveProps(t),i.state=i.getCurrentState(),i.dispose(),i}return a(e,t),c(e,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(t,e){return!O(t,this.props)||!(0,_.default)(e,this.state)}}]),c(e,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new g.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(t){O(t,this.props)||(this.receiveProps(t),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(t){this.handler.receiveProps(t),this.receiveType(x(t))}},{key:"receiveType",value:function(t){if(t!==this.currentType){this.currentType=t;var e=y(t,this.handler,this.manager),n=e.handlerId,i=e.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var r=this.manager.getMonitor(),o=r.subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new g.CompositeDisposable(new g.Disposable(o),new g.Disposable(i)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var t=this.getCurrentState();(0,_.default)(t,this.state)||this.setState(t)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(t){this.decoratedComponentInstance=t,this.handler.receiveComponent(t)}},{key:"getCurrentState",value:function(){var t=E(this.handlerConnector.hooks,this.handlerMonitor);return t}},{key:"render",value:function(){return p.default.createElement(i,l({},this.props,this.state,{ref:C(i)?this.handleChildRef:null}))}}]),e}(h.Component),e.DecoratedComponent=i,e.displayName=b+"("+L+")",e.contextTypes={dragDropManager:f.default.object.isRequired},n);return(0,w.default)(I,i)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=s;var h=n(0),p=i(h),d=n(4),f=i(d),g=n(2916),m=n(434),y=(i(m),n(90)),v=i(y),b=n(2280),w=i(b),x=n(2434),_=i(x),E=n(2544),S=i(E),C=function(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)}},function(t,e,n){"use strict";function i(t,e){return"string"==typeof t||"symbol"===(void 0===t?"undefined":r(t))||e&&(0,a.default)(t)&&t.every(function(t){return i(t,!1)})}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i;var o=n(44),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";function i(t,e){if(t===e)return!0;if("object"!==(void 0===t?"undefined":r(t))||null===t||"object"!==(void 0===e?"undefined":r(e))||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!o.call(e,n[a]))return!1;var s=t[n[a]],l=e[n[a]];if(s!==l||"object"===(void 0===s?"undefined":r(s))||"object"===(void 0===l?"undefined":r(l)))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},function(t,e,n){"use strict";function i(t){if("string"!=typeof t.type){var e=t.type.displayName||t.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+e+" into a <div>, or turn it into a drag source or a drop target itself.")}}function r(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,a.isValidElement)(e)){return void t(e,n)}var r=e;i(r);var o=n?function(e){return t(e,n)}:t;return(0,l.default)(r,o)}}function o(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n],o=r(i);e[n]=function(){return o}}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(0),s=n(2989),l=function(t){return t&&t.__esModule?t:{default:t}}(s)},,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ZoomButton:{displayName:"ZoomButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/buttons/ZoomButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(854),w=b.Button,x=b.Glyphicon,_=b.Tooltip,E=n(2165),S=function(t){return function(e){return m(e,t)}}("ZoomButton")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.addTooltip=function(t){if(!o.props.tooltip)return t;var e=v.createElement(_,{id:"locate-tooltip"},o.props.tooltip);return v.createElement(E,{placement:o.props.tooltipPlace,key:"overlay-trigger."+o.props.id,overlay:e},t)},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this;return this.addTooltip(v.createElement(w,{id:this.props.id,style:this.props.style,onClick:function(){return t.props.onZoom(t.props.currentZoom+t.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?v.createElement(x,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}]),e}(v.Component),a.propTypes={id:y.string,style:y.object,glyphicon:y.string,text:y.string,btnSize:y.oneOf(["large","small","xsmall"]),className:y.string,help:y.oneOfType([y.string,y.element]),step:y.number,currentZoom:y.number,minZoom:y.number,maxZoom:y.number,onZoom:y.func,tooltip:y.element,tooltipPlace:y.string,bsStyle:y.string},a.defaultProps={id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={HelpBadge:{displayName:"HelpBadge"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/help/HelpBadge.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(854),w=b.Badge,x=n(14),_=x.isString,E=n(108),S=function(t){return function(e){return m(e,t)}}("HelpBadge")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onMouseOver=function(){var t=_(o.props.helpText)?o.props.helpText:E.getMessageById(o.context.messages,o.props.helpText.props.msgId);o.props.changeHelpText(t),o.props.changeHelpwinVisibility(!0)},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){return v.createElement(w,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}]),e}(v.Component),a.propTypes={id:y.string,helpText:y.oneOfType([y.string,y.element]),isVisible:y.bool,changeHelpText:y.func,changeHelpwinVisibility:y.func,className:y.string},a.contextTypes={messages:y.object},a.defaultProps={helpText:"",isVisible:!1},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={CesiumLayer:{displayName:"CesiumLayer"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/cesium/Layer.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(860),w=n(12),x=n(4),_=function(t){return function(e){return y(e,t)}}("CesiumLayer")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.updateZIndex=function(t){var e=t||o.props.position,n=o.props.map.imageryLayers._layers.reduce(function(t,e,n){return o.provider===e?n:t},-1),i=o.props.map.imageryLayers._layers.reduce(function(t,n,i){return-1===t&&e<n._position?i:t},-1);-1===i&&(i=n);var r=i-n;0!==r&&Array.apply(null,{length:Math.abs(r)}).map(Number.call,Number).forEach(function(){o.props.map.imageryLayers[r>0?"raise":"lower"](o.provider)})},o.setLayerVisibility=function(t,e){t!==(o.props.options&&!1!==o.props.options.visibility)&&(t?(o.addLayer(e),o.updateZIndex()):o.removeLayer())},o.setLayerOpacity=function(t){t!==(o.props.options&&void 0!==o.props.options.opacity?o.props.options.opacity:1)&&o.layer&&o.provider&&(o.provider.alpha=t)},o.createLayer=function(t,e,n,i,r){if(t){var a=w({},e,n?{zIndex:n}:null,{securityToken:r});o.layer=b.createLayer(t,a,i),o.layer&&(o.layer.layerName=e.name,o.layer.layerId=e.id),null===o.layer&&o.props.onCreationError(e)}},o.updateLayer=function(t,e){var n=b.updateLayer(t.type,o.layer,f({},t.options,{securityToken:t.securityToken}),f({},e.options,{securityToken:e.securityToken}),o.props.map);n&&(o.removeLayer(),o.layer=n,o.addLayer(t))},o.addLayerInternal=function(t){t.options.useForElevation?o.props.map.terrainProvider=o.layer:(o.provider=o.props.map.imageryLayers.addImageryProvider(o.layer),o.provider._position=o.props.position,void 0!==t.options.opacity&&(o.provider.alpha=t.options.opacity))},o.addLayer=function(t){if(o.layer&&!o.layer.detached&&(o.addLayerInternal(t),o.props.options.refresh&&o.layer.updateParams)){var e=0;o.refreshTimer=setInterval(function(){var n=o.layer.updateParams(w({},o.props.options.params,{_refreshCounter:e++}));o.removeLayer(),o.layer=n,o.addLayerInternal(t)},o.props.options.refresh)}},o.removeLayer=function(t){var e=t||o.provider;e&&o.props.map.imageryLayers.remove(e)},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"componentWillReceiveProps",value:function(t){var e=this,n=t.options&&!1!==t.options.visibility;this.setLayerVisibility(n,t);var i=t.options&&void 0!==t.options.opacity?t.options.opacity:1;if(this.setLayerOpacity(i),t.position!==this.props.position&&(this.updateZIndex(t.position),this.provider&&(this.provider._position=t.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&t.options.visibility){if(Object.keys(this.props.options.params).reduce(function(n,i){return t.options.params[i]!==e.props.options.params[i]||n},!1)){var r=this.provider,o=this.layer.updateParams(t.options.params);this.layer=o,this.addLayer(t),setTimeout(function(){e.removeLayer(r)},1e3)}}this.updateLayer(t,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var t=this;if(this.props.children){
var e=this.layer,n=e?v.Children.map(this.props.children,function(n){return n?v.cloneElement(n,{container:e,styleName:t.props.options&&t.props.options.styleName}):null}):null;return v.createElement("noscript",null,n)}return b.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}]),e}(v.Component),a.propTypes={map:x.object,type:x.string,options:x.object,onCreationError:x.func,position:x.number,securityToken:x.string},s));t.exports=_}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={CesiumMap:{displayName:"CesiumMap"}},y=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/cesium/Map.jsx",components:m,locals:[],imports:[p.default,c.default]}),v=n(2175),b=n(4),w=n(98),x=n(0),_=n(43),E=n(38),S=n(2757),C=n(196),T=n(80),k=n(12),O=n(14),L=O.throttle,I=function(t){return function(e){return y(e,t)}}("CesiumMap")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.state={},a.onClick=function(t,e){if(a.props.onClick&&null!==e.position){var n=t.camera.pickEllipsoid(e.position,t.scene.globe.ellipsoid),i=S.getMouseXYZ(t,e)||n&&v.Cartographic.fromCartesian(n);if(i){var r=180*i.latitude/Math.PI,o=180*i.longitude/Math.PI,s=(90-r)/180*a.props.standardHeight*(a.props.zoom+1),l=(180+o)/360*a.props.standardWidth*(a.props.zoom+1);a.props.onClick({pixel:{x:l,y:s},height:a.props.mapOptions&&a.props.mapOptions.terrainProvider?i.height:void 0,cartographic:i,latlng:{lat:r,lng:o},crs:"EPSG:4326"})}}},a.onMouseMove=function(t){if(a.props.onMouseMove&&t.endPosition){var e=a.map.camera.pickEllipsoid(t.endPosition,a.map.scene.globe.ellipsoid),n=S.getMouseXYZ(a.map,t)||e&&v.Cartographic.fromCartesian(e);if(n){var i=Math.round(n.height);a.props.onMouseMove({y:180*n.latitude/Math.PI,x:180*n.longitude/Math.PI,z:i,crs:"EPSG:4326"})}}},a.getMapOptions=function(t){var e={};if(t.terrainProvider){var n=t.terrainProvider,r=n.type,o=i(n,["type"]);switch(r){case"cesium":e.terrainProvider=new v.CesiumTerrainProvider(o);break;case"ellipsoid":e.terrainProvider=new v.EllipsoidTerrainProvider}}return k({},t,e)},a.getCenter=function(){var t=a.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}},a.getZoomFromHeight=function(t){return Math.log2(a.props.zoomToHeight/t)+1},a.getHeightFromZoom=function(t){return a.props.zoomToHeight/Math.pow(2,t-1)},a.gestureStartListener=function(t){t.preventDefault()},a.setMousePointer=function(t){if(a.map){_.findDOMNode(a).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto"}},a._updateMapPositionFromNewProps=function(t){var e=a.getCenter(),n=a.getZoomFromHeight(e.height),i=function(t,e){return void 0!==t&&void 0!==e&&t.toFixed(12)-e.toFixed(12)<=1e-12},r=!i(t.center.x,e.longitude)||!i(t.center.y,e.latitude),o=t.zoom!==n;if(r||o){var s={destination:v.Cartesian3.fromDegrees(t.center.x,t.center.y,a.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};a.setView(s)}},a.setView=function(t){a.props.mapOptions&&a.props.mapOptions.flyTo?a.map.camera.flyTo(t,a.props.mapOptions.defaultFlightOptions):a.map.camera.setView(t)},a.subscribeClickEvent=function(t){var e=function(t,e){return t&&e&&t.x===e.x&&t.y===e.y},n={LEFT_UP:v.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:v.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:v.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:v.ScreenSpaceEventType.PINCH_START,PINCH_END:v.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:v.ScreenSpaceEventType.PINCH_MOVE},i=new w.Subject,r=new w.Subject;Object.keys(n).forEach(function(t){return a.hand.setInputAction(function(e){r.next({type:n[t],movement:e}),i.next({type:n[t],movement:e})},n[t])}),r.filter(function(t){return t.type===n.PINCH_END}).switchMap(function(){return w.Observable.of(!0).concat(w.Observable.of(!1).delay(500))}).startWith(!1).switchMap(function(t){return t?w.Observable.never():i}).filter(function(t){return t.type===n.LEFT_DOWN}).switchMap(function(t){var r=t.movement;return i.filter(function(t){return t.type===n.LEFT_CLICK}).takeUntil(w.Observable.timer(500).merge(i.filter(function(t){return t.type!==n.LEFT_UP&&t.type!==n.LEFT_CLICK||t.type===n.LEFT_UP&&!e(r&&r.position,t.movement&&t.movement.position)})))}).subscribe(function(e){var n=e.movement;return a.onClick(t,n)}),a.clickStream$=i,a.pauserStream$=r},a.registerHooks=function(){C.registerHook(C.ZOOM_TO_EXTENT_HOOK,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.crs,i=e.duration,r=T.reprojectBbox(t,n,"EPSG:4326");if(a.map.camera.flyTo){var o=v.Rectangle.fromDegrees(r[0],r[1],r[2],r[3]);a.map.camera.flyTo({destination:o,duration:i,complete:a.updateMapInfoState})}})},a.updateMapInfoState=function(){var t=a.getCenter(),e=a.getZoomFromHeight(t.height),n={height:Math.round(a.props.standardWidth*(e+1)),width:Math.round(a.props.standardHeight*(e+1))};a.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},e,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},n,a.props.id,a.props.projection,{orientation:{heading:a.map.camera.heading,pitch:a.map.camera.pitch,roll:a.map.camera.roll}})},s=n,o(a,s)}return a(e,t),g(e,[{key:"componentWillMount",value:function(){document.addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var t=new v.Viewer(this.props.id,k({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));t.scene.globe.baseColor=v.Color.WHITE,t.imageryLayers.removeAll(),t.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new v.ScreenSpaceEventHandler(t.scene.canvas),this.subscribeClickEvent(t),this.hand.setInputAction(L(this.onMouseMove.bind(this),500),v.ScreenSpaceEventType.MOUSE_MOVE),t.camera.setView({destination:v.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=t,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,t)),this.props.registerHooks&&this.registerHooks()}},{key:"componentWillReceiveProps",value:function(t){return t.mousePointer!==this.props.mousePointer&&this.setMousePointer(t.mousePointer),t.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(t),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),document.removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var t=this,e=this.map,n=this.props.projection,i=e?x.Children.map(this.props.children,function(i){return i?x.cloneElement(i,{map:e,projection:n,onCreationError:t.props.onCreationError}):null}):null;return x.createElement("div",{id:this.props.id},i)}}]),e}(x.Component),s.propTypes={id:b.string,center:E.PropTypes.center,zoom:b.number.isRequired,mapStateSource:E.PropTypes.mapStateSource,projection:b.string,onMapViewChanges:b.func,onCreationError:b.func,onClick:b.func,onMouseMove:b.func,mapOptions:b.object,standardWidth:b.number,standardHeight:b.number,mousePointer:b.string,zoomToHeight:b.number,registerHooks:b.bool,viewerOptions:b.object},s.defaultProps={id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}},l));t.exports=I}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={Feature:{displayName:"Feature"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/Feature.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(14),x=w.isEqual,_=w.isArray,E=w.castArray,S=n(12),C=n(437),T=n(2505),k=T.geometryToLayer,O=n(2181),L=O.createStylesAsync,I=function(t){return function(e){return y(e,t)}}("Feature")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.createLayer=function(t){t.geometry&&o.addFeature(f({},t,{style:t.style&&E(t.style)||void 0})),t.features&&t.features.forEach(function(e){var n=S({},t,{type:e.type,geometry:e.geometry,style:e.style&&E(e.style)||void 0,properties:e.properties});o.addFeature(n)})},o.removeLayer=function(t){o._layers&&(o._layers.forEach(function(e){t.container.removeLayer(e)}),o._layers=[])},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"componentWillReceiveProps",value:function(t){x(t.properties,this.props.properties)&&x(t.geometry,this.props.geometry)&&t.features===this.props.features&&t.style===this.props.style||(this.removeLayer(t),this.createLayer(t))}},{key:"shouldComponentUpdate",value:function(t){return!x(t.properties,this.props.properties)||!x(t.geometry,this.props.geometry)||t.features!==this.props.features}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(t){var e=this;if(_(t.style)){var n=L(t.style);C.all(n).then(function(n){e.addLayer(t,n)})}else this.addLayer(t,t.style)}},{key:"addLayer",value:function(t,e){var n=this,i=k({type:t.type,geometry:t.geometry,styleName:t.styleName,properties:t.properties,msId:t.msId},{style:e});t.container.addLayer(i),i.on("click",function(e){t.onClick&&t.onClick({pixel:{x:e.originalEvent&&e.originalEvent.x,y:e.originalEvent&&e.originalEvent.y},latlng:e.latlng},n.props.options.handleClickOnLayer?n.props.options.id:null)}),this._layers.push(i)}}]),e}(b.Component),a.propTypes={msId:v.oneOfType([v.string,v.number]),type:v.string,styleName:v.string,properties:v.object,container:v.object,geometry:v.object,features:v.array,style:v.object,onClick:v.func,options:v.object},s));t.exports=I}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Locate:{displayName:"Locate"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/Locate.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(859),w=n(12);n(2955),n(3159);var x={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:1/0,watch:!0}};b.Control.MSLocate=b.Control.Locate.extend({setMap:function(t){this._map=t,this._layer=this.options.layer||new b.LayerGroup,this._layer.addTo(t),this._event=void 0,this._prevBounds=null;var e={};b.extend(e,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=e,e={},b.extend(e,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=e,this._resetVariables(),this._map.on("unload",this._unload,this)},_setClasses:function(t){return this._map.fire("locatestatus",{state:t}),t},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(t){this.options.strings=w({},this.options.strings,t)}});var _=function(t){return function(e){return m(e,t)}}("Locate")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onLocationError=function(t){o.props.onLocateError(t.message),o.props.changeLocateState("DISABLED")},o.locateControlState=function(t){"requesting"===t.state&&"LOCATING"!==o.props.status?o.props.changeLocateState("LOCATING"):"following"!==t.state||o.fol?"active"===t.state&&"ENABLED"!==o.props.status&&o.props.changeLocateState("ENABLED"):o.props.changeLocateState("FOLLOWING")},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new b.Control.MSLocate(x),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"componentWillReceiveProps",value:function(t){this.fol=!1,t.status!==this.props.status&&("ENABLED"!==t.status||this.locate._active?"FOLLOWING"===t.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===t.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),t.messages!==this.props.messages&&(this.locate.setStrings(t.messages),"DISABLED"!==t.status&&this.locate.drawMarker(this.locate._map))}},{key:"render",value:function(){return null}}]),e}(v.Component),a.displayName="Locate",a.propTypes={map:y.object,status:y.string,messages:y.object,changeLocateState:y.func,onLocateError:y.func},a.defaultProps={id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}},s));t.exports=_}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=arguments,v={MeasurementSupport:{displayName:"MeasurementSupport"}},b=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx",components:v,locals:[],imports:[p.default,c.default]}),w=n(4),x=n(0),_=n(12),E=n(859),S=n(14),C=S.slice,T=n(80),k=T.reproject,O=T.calculateAzimuth,L=T.calculateDistance,I=T.transformLineToArcs,A=n(2227),P=A.convertUom,M=A.getFormattedBearingValue;n(2534);var N={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};E.getMeasureWithTreshold=function(t,e,n,i,r,o,a){return t>e?E.GeometryUtil.formattedNumber(P(t,n,i),r[i])+" "+a:E.GeometryUtil.formattedNumber(t,r[n])+" "+o};var D=E.GeometryUtil.readableDistance;E.GeometryUtil.readableDistance=function(t,e,n,i,r,o){if(!o)return D.apply(null,y);if("Bearing"===o.geomType)return o.bearing;var a=E.Util.extend({},N,r),s=o.uom.length,l=s.unit,u=s.label,c=E.GeometryUtil.formattedNumber(P(t,"m",l),a[l])+" "+u;return o.useTreshold&&(e&&(c=E.getMeasureWithTreshold(t,1e3,"m","km",a,"m","km")),"mi"===l&&(c=E.getMeasureWithTreshold(P(t,"m","yd"),1760,"yd","mi",a,"yd","mi"))),c};var R=E.GeometryUtil.readableArea;E.GeometryUtil.readableArea=function(t,e,n,i){if(!i)return R.apply(null,y);var r=i.uom.area,o=r.unit,a=r.label,s=E.Util.extend({},N,n),l=E.GeometryUtil.formattedNumber(P(t,"sqm",o),s[o])+" "+a;return i.useTreshold&&(e&&(l=E.getMeasureWithTreshold(t,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===o&&(l=E.getMeasureWithTreshold(P(t,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var F=E.Draw.Polygon.prototype._getMeasurementString;E.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return F.apply(this,arguments);var t=this._area,e="";if(!t&&!this.options.showLength)return null;if(this.options.showLength&&(e=E.Draw.Polyline.prototype._getMeasurementString.call(this)),t){var n={uom:this.options.uom,useTreshold:this.options.useTreshold};e+=this.options.showLength?"<br>":""+E.GeometryUtil.readableArea(t,this.options.metric,this.options.precision,n)}return e};var G=E.Draw.Polyline.prototype._getMeasurementString;E.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return G.apply(this,arguments);var t=this._currentLatLng,e=this._markers[this._markers.length-1].getLatLng(),n=void 0;n=E.GeometryUtil.isVersion07x()?e&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(e)*(this.options.factor||1):this._measurementRunningTotal||0:e&&t?this._measurementRunningTotal+this._map.distance(t,e)*(this.options.factor||1):this._measurementRunningTotal||0;var i={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?M(this.options.bearing):0};return E.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,i)};var j=function(t){return function(e){return b(e,t)}}("MeasurementSupport")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.onDrawStart=function(){a.props.map.off("click",a.restartDrawing,a),a.removeArcLayer(),a.props.map.doubleClickZoom&&a.props.map.doubleClickZoom.disable(),a.drawing=!0},a.onDrawCreated=function(t){a.drawing=!1,a.props.map.addLayer(t.layer),a.lastLayer=t.layer;var e=a.lastLayer&&a.lastLayer.toGeoJSON()||{};if("LineString"===a.props.measurement.geomType&&(e=_({},e,{geometry:_({},e.geometry,{coordinates:I(e.geometry.coordinates)})})),"Point"===a.props.measurement.geomType){var n=a.drawControl._marker.getLatLng(),i={x:n.lng,y:n.lat,srs:"EPSG:4326"},r=_({},a.props.measurement,{point:i,feature:e});a.props.changeMeasurementState(r)}else{var o=_({},a.props.measurement,{feature:e});a.props.changeMeasurementState(o)}a.props.measurement.lineMeasureEnabled&&a.lastLayer&&a.addArcsToMap([e]),setTimeout(function(){a.props.map.off("click",a.restartDrawing,a),a.props.map.on("click",a.restartDrawing,a)},100)},a.onDrawVertex=function(){var t=a.drawControl._markers||[];"Bearing"===a.props.measurement.geomType&&t.length>=2?setTimeout(function(){a.drawControl._markers=C(a.drawControl._markers,0,2),a.drawControl._poly._latlngs=C(a.drawControl._poly._latlngs,0,2),a.drawControl._poly._originalPoints=C(a.drawControl._poly._originalPoints,0,2),a.updateMeasurementResults(),a.drawControl._finishShape(),a.drawControl.disable()},100):a.updateMeasurementResults()},a.addArcsToMap=function(t){a.removeLastLayer();var e=t.map(function(t){return _({},t,{geometry:_({},t.geometry,{coordinates:I(t.geometry.coordinates)})})});a.arcLayer=E.geoJson(e,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),a.props.map.addLayer(a.arcLayer),e&&e.length>0&&a.arcLayer.addData(e)},a.updateMeasurementResults=function(){if(a.drawing&&a.drawControl){var t=0,e=0,n=0,r=a.drawControl._currentLatLng;if("LineString"===a.props.measurement.geomType&&a.drawControl._markers&&a.drawControl._markers.length>1){var o=a.drawControl._markers.reduce(function(t,e){var n=e.getLatLng(),r=n.lng,o=n.lat;return[].concat(i(t),[[r,o]])},[]);t=L(o,a.props.measurement.lengthFormula)}else if("Polygon"===a.props.measurement.geomType&&a.drawControl._poly){var s=[].concat(i(a.drawControl._poly.getLatLngs()),[r]);e=E.GeometryUtil.geodesicArea(s)}else"Bearing"===a.props.measurement.geomType&&a.drawControl._markers&&a.drawControl._markers.length>0&&(n=a.calculateBearing());var l=_({},a.props.measurement,{point:null,len:t,area:e,bearing:n});a.props.changeMeasurementState(l)}},a.restartDrawing=function(){a.props.map.off("click",a.restartDrawing,a),a.props.map.doubleClickZoom&&a.props.map.doubleClickZoom.enable(),a.props.map.removeLayer(a.lastLayer),a.drawControl.enable(),a.drawing=!0},a.addDrawInteraction=function(t){if(a.removeDrawInteraction(),a.props.map.on("draw:created",a.onDrawCreated,a),a.props.map.on("draw:drawstart",a.onDrawStart,a),a.props.map.on("draw:drawvertex",a.onDrawVertex,a),a.props.map.on("mousemove",a.updateBearing,a),a.props.updateOnMouseMove&&a.props.map.on("mousemove",a.updateMeasurementResults,a),"Point"===t.measurement.geomType)a.drawControl=new E.Draw.Marker(a.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var e=a.uomLengthOptions(t);a.drawControl=new E.Draw.Polyline(a.props.map,g({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},e,{repeatMode:!1,icon:new E.DivIcon({iconSize:new E.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new E.DivIcon({iconSize:new E.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}else if("Polygon"===t.measurement.geomType){var n=a.uomAreaOptions(t);a.drawControl=new E.Draw.Polygon(a.props.map,g({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n,{icon:new E.DivIcon({iconSize:new E.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new E.DivIcon({iconSize:new E.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}a.drawControl.enable()},a.removeDrawInteraction=function(){null!==a.drawControl&&void 0!==a.drawControl&&(a.drawControl.disable(),a.drawControl=null,a.removeLastLayer(),a.removeArcLayer(),a.props.map.off("draw:created",a.onDrawCreated,a),a.props.map.off("draw:drawstart",a.onDrawStart,a),a.props.map.off("draw:drawvertex",a.onDrawVertex,a),a.props.map.off("mousemove",a.updateBearing,a),a.props.map.off("click",a.restartDrawing,a),a.props.updateOnMouseMove&&a.props.map.off("mousemove",a.updateMeasurementResults,a),a.props.map.doubleClickZoom&&a.props.map.doubleClickZoom.enable())},a.removeLastLayer=function(){a.lastLayer&&a.props.map.removeLayer(a.lastLayer)},a.removeArcLayer=function(){a.arcLayer&&a.props.map.removeLayer(a.arcLayer)},a.uomLengthOptions=function(t){var e=t.uom.length.unit;return{metric:"m"===e||"km"===e,nautic:"nm"===e,feet:"ft"===e}},a.uomAreaOptions=function(t){var e=t.uom.area.unit;return{metric:"sqm"===e||"sqkm"===e,nautic:"sqnm"===e,feet:"sqft"===e}},a.calculateBearing=function(){var t=a.drawControl._currentLatLng,e=a.drawControl._markers,n=[e[0].getLatLng().lng,e[0].getLatLng().lat],i=void 0;return 1===e.length?i=[t.lng,t.lat]:2===e.length&&(i=[e[1].getLatLng().lng,e[1].getLatLng().lat]),n=k(n,"EPSG:4326",a.props.projection),i=k(i,"EPSG:4326",a.props.projection),O(n,i,a.props.projection)},a.updateBearing=function(){"Bearing"===a.props.measurement.geomType&&a.drawControl._markers&&a.drawControl._markers.length>0&&a.drawControl.setOptions({bearing:a.calculateBearing()})},s=n,o(a,s)}return a(e,t),m(e,[{key:"componentWillReceiveProps",value:function(t){if((t&&t.uom&&t.uom.length&&t.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var e=this.uomLengthOptions(t);this.drawControl.setOptions(g({},e,{uom:t.uom}))}if((t&&t.uom&&t.uom.area&&t.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var n=this.uomAreaOptions(t);this.drawControl.setOptions(g({},n,{uom:t.uom}))}(t.measurement.geomType&&t.measurement.geomType!==this.props.measurement.geomType||t.measurement.geomType&&this.props.measurement.geomType&&(t.measurement.lineMeasureEnabled||t.measurement.areaMeasureEnabled||t.measurement.bearingMeasureEnabled)&&!this.props.enabled&&t.enabled)&&this.addDrawInteraction(t),t.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var t=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return t&&(E.drawLocal=t),null}}]),e}(x.Component),s.displayName="MeasurementSupport",s.propTypes={map:w.object,metric:w.bool,feet:w.bool,nautic:w.bool,enabled:w.bool,useTreshold:w.bool,projection:w.string,measurement:w.object,changeMeasurementState:w.func,messages:w.object,uom:w.object,updateOnMouseMove:w.bool},s.contextTypes={messages:w.object},s.defaultProps={uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1},l));t.exports=j}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Overview:{displayName:"Overview"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/Overview.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(2951),w=n(859),x=n(433),_=n(12);n(3143);var E={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},S=function(t){return function(e){return m(e,t)}}("Overview")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function(){var t=_({},E,this.props.overviewOpt);if(this.props.layers){var e=[];this.props.layers.forEach(function(t){e.push(x.createLayer(t.type,t.options||{}))}),1===e.length?this.overview=new b(e[0],t):e.length>1&&(this.overview=new b(w.layerGroup(e),t))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}]),e}(v.Component),a.displayName="Overview",a.propTypes={map:y.object,overviewOpt:y.object,layers:y.array},a.defaultProps={id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ScaleBar:{displayName:"ScaleBar"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/ScaleBar.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(859),w=function(t){return function(e){
return m(e,t)}}("ScaleBar")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function(){if(this.scalebar=b.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var t=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");t&&t.parentNode&&t.parentNode.removeChild(t)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(t){}}},{key:"render",value:function(){return null}}]),e}(v.Component),a.propTypes={map:y.object,position:y.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:y.number,metric:y.bool,imperial:y.bool,updateWhenIdle:y.bool,container:y.string},a.defaultProps={map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1},s));t.exports=w}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={Feature:{displayName:"Feature"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/Feature.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(857),x=n(437),_=n(14),E=_.isEqual,S=_.find,C=_.castArray,T=n(2214),k=T.parseStyles,O=n(2437),L=O.transformPolygonToCircle,I=n(2181),A=I.createStylesAsync,P=function(t){return function(e){return y(e,t)}}("Feature")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.addFeatures=function(t){var e=new w.format.GeoJSON,n=null,i=!1;"FeatureCollection"===t.type?(n={features:t.features},i=!!t.features):(n={geometry:t.geometry},i=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates)),t.container&&i&&(o._feature=e.readFeatures(f({type:t.type,properties:t.properties,id:t.msId},n),{dataProjection:t.featuresCrs}),o._feature.map(function(e){var n=e;return e.getProperties().isCircle&&(n=L(e,t.crs||"EPSG:3857",t.featuresCrs),n.setGeometry(n.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs))),n}).forEach(function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")}),t.style&&t.style!==t.layerStyle&&o._feature.forEach(function(e){var n=[],i={};"FeatureCollection"===t.type?(i=S(t.features,function(t){return t.properties.id===e.getProperties().id}),n=A(C(i.style))):(n=A(C(t.style)),i={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),x.all(n).then(function(t){e.setStyle(function(){return k(f({},i,{style:t}))})})}),t.container.getSource().addFeatures(o._feature))},o.removeFromContainer=function(){if(o._feature)if(Array.isArray(o._feature)){var t=o.props.container.getSource();o._feature.map(function(e){var n=e.getId();void 0!==n&&t.getFeatureById(n)?t.removeFeature(t.getFeatureById(n)):t.removeFeature(e)})}else o.props.container.getSource().removeFeature(o._feature)},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(t){return!(E(t.properties,this.props.properties)&&E(t.geometry,this.props.geometry)&&E(t.features,this.props.features)&&E(t.crs,this.props.crs)&&E(t.style,this.props.style))}},{key:"componentWillUpdate",value:function(t){this.removeFromContainer(),this.addFeatures(t)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}]),e}(v.Component),a.propTypes={type:b.string,layerStyle:b.object,style:b.object,properties:b.object,crs:b.string,container:b.object,features:b.array,geometry:b.object,msId:b.oneOfType([b.string,b.number]),featuresCrs:b.string},a.defaultProps={featuresCrs:"EPSG:4326"},s));t.exports=P}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Locate:{displayName:"Locate"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/Locate.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(2763),w={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}},x=function(t){return function(e){return m(e,t)}}("Locate")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onStateChange=function(t){o.props.status!==t&&o.props.changeLocateState(t)},o.onLocationError=function(t){o.props.onLocateError(t.message),o.props.changeLocateState("DISABLED")},o.configureLocate=function(t){var e=o.locate.get("state");"ENABLED"===t&&"DISABLED"===e?o.locate.start():"FOLLOWING"===t&&"ENABLED"===e?o.locate.startFollow():"DISABLED"===t&&o.locate.stop()},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this;this.props.map&&(this.locate=new b(this.props.map,w),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",function(e){t.onStateChange(e.target.get(e.key))}),this.configureLocate(this.props.status))}},{key:"componentWillReceiveProps",value:function(t){t.status!==this.props.status&&this.configureLocate(t.status),t.messages!==this.props.messages&&this.locate.setStrings(t.messages)}},{key:"render",value:function(){return null}}]),e}(v.Component),a.displayName="Locate",a.propTypes={map:y.object,status:y.string,messages:y.object,changeLocateState:y.func,onLocateError:y.func},a.defaultProps={id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={MeasurementSupport:{displayName:"MeasurementSupport"}},y=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx",components:m,locals:[],imports:[p.default,c.default]}),v=n(0),b=n(4),w=n(14),x=w.round,_=w.isEqual,E=w.dropRight,S=w.pick,C=n(12),T=n(857),k=new T.Sphere(6378137),O=n(80),L=O.reprojectGeoJson,I=O.reproject,A=O.calculateAzimuth,P=O.calculateDistance,M=O.transformLineToArcs,N=n(2227),D=N.convertUom,R=N.getFormattedBearingValue,F=n(431),G=F.set,j=n(2214),z=j.startEndPolylineStyle,U=n(108),B=U.getMessageById,H=n(2611),Y=H.createOLGeometry,V=function(t){return t.getView().getProjection().getCode()},W=function(t){return function(e){return y(e,t)}}("MeasurementSupport")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.validateCoords=function(t){return t.filter(function(t){return!isNaN(parseFloat(t[0]))&&!isNaN(parseFloat(t[1]))})},a.updateMeasures=function(t){if(a.replaceFeatures([t.measurement.feature],t),t.measurement.showLabel){a.removeMeasureTooltips(),a.measureTooltipElement=document.createElement("div"),a.measureTooltipElement.className=a.drawing?"tooltip tooltip-measure":"tooltip tooltip-static";var e=a.source.getFeatures()[0].getGeometry(),n=void 0;e instanceof T.geom.Polygon?(n=a.formatArea(e,t),a.tooltipCoord=e.getInteriorPoint().getCoordinates()):e instanceof T.geom.LineString&&(n=a.formatLength(e,t),a.tooltipCoord=e.getLastCoordinate()),a.measureTooltipElement.innerHTML=n,a.measureTooltip=new T.Overlay({element:a.measureTooltipElement,offset:[0,-7],positioning:"bottom-center"}),a.measureTooltip.setPosition(a.tooltipCoord),t.map.addOverlay(a.measureTooltip)}a.sketchFeature=a.source.getFeatures()[0],a.updateMeasurementResults(t,!0)},a.replaceFeatures=function(t,e){var n=t;if(e.measurement.lineMeasureEnabled){var i=M(e.measurement.feature.geometry.coordinates);n=[G("geometry.coordinates",i,t[0])]}a.source=new T.source.Vector,n.forEach(function(t){var e=L(t,"EPSG:4326",V(a.props.map)).geometry,n=new T.Feature({geometry:Y(e)});a.source.addFeature(n)}),a.measureLayer.setSource(a.source)},a.addDrawInteraction=function(t){var e=void 0,n=void 0,r=void 0,o=t.measurement.startEndPoint;a.continueLineMsg=B(a.context.messages,"measureSupport.continueLine"),a.continuePolygonMsg=B(a.context.messages,"measureSupport.continuePolygon"),a.drawInteraction&&a.removeDrawInteraction(),a.source=new T.source.Vector;var s=[new T.style.Style({fill:new T.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new T.style.Stroke({color:"#ffcc33",width:2}),image:new T.style.Circle({radius:7,fill:new T.style.Fill({color:"#ffcc33"})})})],l=[],u=o||!0===o;if(u||void 0===o){var c=u?void 0===o?{}:o:t.startEndPoint;l=z(c.startPointOptions,c.endPointOptions)}e=new T.layer.Vector({source:a.source,zIndex:1e6,style:[].concat(s,i(l))}),a.props.map.addLayer(e),r="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,n=new T.interaction.Draw({source:a.source,type:r,style:new T.style.Style({fill:new T.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new T.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new T.style.Circle({radius:5,stroke:new T.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new T.style.Fill({color:"rgba(255, 255, 255, 0.2)"})})})}),a.clickListener=a.props.map.on("click",function(){return a.updateMeasurementResults(a.props)},a),a.props.updateOnMouseMove&&a.props.map.on("pointermove",function(){return a.updateMeasurementResults(a.props)},a),a.props.map.on("pointermove",a.pointerMoveHandler,a),n.on("drawstart",function(t){var e=this;this.sketchFeature=t.feature,this.drawing=!0;for(var n=document.getElementsByClassName("tooltip-static")||[],i=0;i<n.length;i++)n[i].parentNode.removeChild(n[i]);this.props.measurement.showLabel&&this.createMeasureTooltip(),this.source.clear(),this.listener=this.sketchFeature.getGeometry().on("change",function(t){var n=t.target,i=void 0;n instanceof T.geom.Polygon?(i=e.formatArea(n,e.props),e.tooltipCoord=n.getInteriorPoint().getCoordinates()):n instanceof T.geom.LineString&&(i=e.formatLength(n,e.props),e.tooltipCoord=n.getLastCoordinate()),e.props.measurement.showLabel&&(e.measureTooltipElement.innerHTML=i,e.measureTooltip.setPosition(e.tooltipCoord))},this),this.props.resetGeometry()},a),n.on("drawend",function(t){this.drawing=!1;var e=new T.format.GeoJSON,n=L(e.writeFeatureObject(t.feature.clone()),V(this.props.map),"EPSG:4326");if(this.props.changeGeometry(n),this.props.measurement.lineMeasureEnabled){var i=M(n.geometry.coordinates);n=G("geometry.coordinates",i,n)}this.replaceFeatures([n],this.props),this.props.measurement.showLabel&&(this.measureTooltipElement.className="tooltip tooltip-static",this.measureTooltip.setOffset([0,-7]),T.Observable.unByKey(this.listener))},a),a.props.map.addInteraction(n),a.props.measurement.showLabel&&a.createMeasureTooltip(),a.createHelpTooltip(),a.drawInteraction=n,a.measureLayer=e},a.removeDrawInteraction=function(){null!==a.drawInteraction&&(a.removeHelpTooltip(),a.removeMeasureTooltips(),a.props.map.removeInteraction(a.drawInteraction),a.drawInteraction=null,a.props.map.removeLayer(a.measureLayer),a.sketchFeature=null,a.props.map.un("click",function(){return a.updateMeasurementResults(a.props)},a),T.Observable.unByKey(a.clickListener),a.props.updateOnMouseMove&&a.props.map.un("pointermove",function(){return a.updateMeasurementResults(a.props)},a))},a.pointerMoveHandler=function(t){if(t.dragging)return null;var e=B(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var n=this.sketchFeature.getGeometry();n instanceof T.geom.Polygon?e=this.continuePolygonMsg:n instanceof T.geom.LineString&&(e=this.continueLineMsg)}this.helpTooltipElement.innerHTML=e,this.helpTooltip.setPosition(t.coordinate),this.helpTooltipElement.classList.remove("hidden")},a.updateMeasurementResults=function(t,e){if(a.sketchFeature){var n=0,i=a.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&i.length>1&&(n=A(i[0],i[1],V(t.map)),i.length>2)){for(a.drawInteraction.sketchCoords_=[i[0],i[1],i[0]];a.sketchFeature.getGeometry().getCoordinates().length>3;)a.drawInteraction.removeLastPoint();a.sketchFeature.getGeometry().setCoordinates([i[0],i[1]]),a.drawInteraction.sketchFeature_=a.sketchFeature,a.drawInteraction.finishDrawing()}var r=new T.format.GeoJSON,o=L(r.writeFeatureObject(a.sketchFeature.clone()),V(t.map),"EPSG:4326"),s=C({},t.measurement,{point:"Point"===t.measurement.geomType?I(i,V(a.props.map),"EPSG:4326"):null,len:"LineString"===t.measurement.geomType?P(a.reprojectedCoordinatesIn4326(i),t.measurement.lengthFormula):0,area:"Polygon"===t.measurement.geomType?a.calculateGeodesicArea(a.sketchFeature.getGeometry().getLinearRing(0).getCoordinates()):0,bearing:"Bearing"===t.measurement.geomType?n:0,lenUnit:t.measurement.lenUnit,areaUnit:t.measurement.areaUnit,feature:G("geometry.coordinates",a.drawing?"Polygon"===t.measurement.geomType?[E(o.geometry.coordinates[0],o.geometry.coordinates[0].length<=2?0:1)]:E(o.geometry.coordinates):o.geometry.coordinates,o)});e?a.props.updateMeasures(S(s,["bearing","area","len","point"])):a.props.changeMeasurementState(s)}},a.reprojectedCoordinatesIn4326=function(t){return t.map(function(t){var e=I(t,V(a.props.map),"EPSG:4326");return[e.x,e.y]})},a.calculateGeodesicArea=function(t){if(t.length>=4){var e=a.reprojectedCoordinatesIn4326(t);return Math.abs(k.geodesicArea(e))}return 0},a.createHelpTooltip=function(){a.removeHelpTooltip(),a.helpTooltipElement=document.createElement("div"),a.helpTooltipElement.className="tooltip hidden",a.helpTooltip=new T.Overlay({element:a.helpTooltipElement,offset:[15,0],positioning:"center-left"}),a.props.map.addOverlay(a.helpTooltip)},a.createMeasureTooltip=function(){a.removeMeasureTooltips(),a.measureTooltipElement=document.createElement("div"),a.measureTooltipElement.className="tooltip tooltip-measure",a.measureTooltip=new T.Overlay({element:a.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),a.props.map.addOverlay(a.measureTooltip)},a.formatLength=function(t,e){var n=t.getCoordinates();if("Bearing"===e.measurement.geomType&&n.length>1){var i=A(n[0],n[1],V(e.map));return R(i)}var r=a.reprojectedCoordinatesIn4326(n),o=P(r,e.measurement.lengthFormula),s=e.uom&&e.uom.length,l=s.label,u=s.unit,c=x(D(o,"m",u),2);return a.props.formatNumber(c)+" "+l},a.formatArea=function(t,e){var n=a.calculateGeodesicArea(t.getLinearRing(0).getCoordinates()),i=e.uom&&e.uom.area,r=i.label,o=i.unit,s=x(D(n,"sqm",o),2);return a.props.formatNumber(s)+" "+r},a.removeHelpTooltip=function(){a.helpTooltipElement&&a.helpTooltipElement.parentNode&&a.helpTooltipElement.parentNode.removeChild(a.helpTooltipElement)},a.removeMeasureTooltips=function(){if(a.measureTooltipElement&&a.measureTooltipElement.parentNode){for(var t=document.getElementsByClassName("tooltip-static")||[],e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);t=document.getElementsByClassName("tooltip-measure")||[];for(var n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])}},s=n,o(a,s)}return a(e,t),g(e,[{key:"componentWillReceiveProps",value:function(t){(t.measurement.geomType&&t.measurement.geomType!==this.props.measurement.geomType||t.measurement.geomType&&(t.measurement.lineMeasureEnabled||t.measurement.areaMeasureEnabled||t.measurement.bearingMeasureEnabled)&&!this.props.enabled&&t.enabled)&&this.addDrawInteraction(t),t.measurement.geomType||this.removeDrawInteraction();var e=this.props.measurement.feature,n=t.measurement.feature;!(n&&n.geometry&&t.measurement.updatedByUI)||_(e,n)&&_(this.props.uom,t.uom)||this.updateMeasures(t)}},{key:"render",value:function(){return null}}]),e}(v.Component),s.propTypes={startEndPoint:b.object,map:b.object,measurement:b.object,enabled:b.bool,uom:b.object,formatNumber:b.func,changeMeasurementState:b.func,updateMeasures:b.func,resetGeometry:b.func,changeGeometry:b.func,updateOnMouseMove:b.bool},s.contextTypes={messages:b.object},s.defaultProps={changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(t){return t},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1},l));t.exports=W}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={Overview:{displayName:"Overview"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/Overview.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(857),w=n(432),x=n(12),_=n(14),E=_.isFinite;n(3145);var S={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"»",label:"«",collapsed:!0,collapsible:!0},C=function(t){return function(e){return m(e,t)}}("Overview")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.dragstart=function(t){o.dragging||(o.dragBox=o.box.cloneNode(),o.dragBox.setAttribute("class","ol-overview-dargbox"),o.dragBox.style.position="relative",o.box.appendChild(o.dragBox),""===o.box.style.top?o.offsetStartTop=0:o.offsetStartTop=parseInt(o.box.style.top.slice(0,-2),10),""===o.box.style.left?o.offsetStartLeft=0:o.offsetStartLeft=parseInt(o.box.style.left.slice(0,-2),10),o.mouseStartTop=t.pageY,o.mouseStartLeft=t.pageX,o.dragging=!0)},o.draggingel=function(t){!0===o.dragging&&(o.dragBox.style.top=o.offsetStartTop+t.pageY-o.mouseStartTop+"px",o.dragBox.style.left=o.offsetStartLeft+t.pageX-o.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())},o.dragend=function(){if(!0===o.dragging){var t={};t.top=""===o.dragBox.style.top?0:parseInt(o.dragBox.style.top.slice(0,-2),10),t.left=""===o.dragBox.style.left?0:parseInt(o.dragBox.style.left.slice(0,-2),10),o.box.removeChild(o.dragBox),delete o.dragBox,o.dragging=!1,o.setNewExtent(t)}},o.setNewExtent=function(t){var e=o.box.offsetWidth,n=o.box.offsetHeight,i=o.props.map.getSize(),r=t.left*Math.abs(i[0]/e),a=t.top*Math.abs(i[1]/n);r=E(r)?r:0,a=E(a)?a:0;var s=[0+r,i[1]+a],l=[i[0]+r,0+a],u=o.props.map.getCoordinateFromPixel(s)||[0,0],c=o.props.map.getCoordinateFromPixel(l)||[0,0],h=[u[0],u[1],c[0],c[1]];o.props.map.getView().fit(h,i,{nearest:!0})},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){var t=this,e=[];this.props.layers.forEach(function(t){e.push(w.createLayer(t.type,t.options||{}))});var n=x({},S,this.props.overviewOpt,{layers:e});this.overview=new b.control.OverviewMap(n),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(e){t.dragstart(e),t.box.onmousemove=function(e){t.draggingel(e)},t.overview.element.onmousemove=function(e){t.draggingel(e)},t.box.onmouseup=function(){t.dragend(),t.overview.element.onmousemove=null,t.box.onmousemove=null,t.box.onmouseup=null}}}},{key:"render",value:function(){return null}}]),e}(v.Component),a.displayName="Overview",a.propTypes={id:y.string,map:y.object,overviewOpt:y.object,layers:y.array},a.defaultProps={id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]},s));t.exports=C}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ScaleBar:{displayName:"ScaleBar"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/ScaleBar.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(857),w=n(12),x=function(t){return function(e){return m(e,t)}}("ScaleBar")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this.scalebar=new b.control.ScaleLine(w({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){this.props.container&&document.querySelector(".ol-scale-line")&&document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}},{key:"render",value:function(){return null}}]),e}(v.Component),a.propTypes={map:y.object,className:y.string,minWidth:y.number,units:y.oneOf(["degrees","imperial","nautical","metric","us"]),container:y.string},a.defaultProps={map:null,className:"ol-scale-line",minWidth:64,units:"metric"},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(2262);t.exports=e(n(854).Overlay)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(887).default,r=n(2168),o=n(428),a=o.withState,s=n(3029);t.exports=a("fullscreen","onFullscreen",!1)(function(t){var n=t.fluid,o=t.className,a=void 0===o?"":o,l=t.fullscreen,u=void 0!==l&&l,c=t.position,h=t.open,p=t.size,d=void 0===p?550:p,f=t.style,g=void 0===f?{}:f,m=t.zIndex,y=void 0===m?1030:m,v=t.onClose,b=t.bsStyle,w=t.title,x=t.showFullscreen,_=void 0!==x&&x,E=t.glyph,S=t.header,C=t.footer,T=t.children,k=t.onFullscreen,O=void 0===k?function(){}:k,L=t.fixed,I=void 0!==L&&L,A=t.hideHeader;return e.createElement("div",{className:"ms-side-panel "+(I?"":"ms-absolute-dock ")+a},e.createElement(i,{fluid:n||u,position:c,dimMode:"none",isVisible:h,size:u?1:d,dockStyle:g,zIndex:y},e.createElement(r,{header:!A&&h&&e.createElement(s,{position:c,onClose:v,bsStyle:b,title:w,fullscreen:u,showFullscreen:_,glyph:E,additionalRows:S,onFullscreen:O}),footer:h&&C},h&&T)))})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=n(0),r=n(428),o=r.branch,a=r.renameProps,s=n(2168),l=n(2562),u=n(2201),c=a({open:"show"})(function(t){var n=t.children,r=t.header,o=e(t,["children","header"]);return i.createElement(u,o,i.createElement(s,{header:i.createElement("div",{className:"ms-header"},r)},n))});t.exports=o(function(t){return!t.dock},function(){return function(t){return i.createElement(c,t)}})(l)}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={InlineDateTimeSelector:{displayName:"InlineDateTimeSelector"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/time/InlineDateTimeSelector.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(854),w=b.Form,x=b.FormGroup,_=b.FormControl,E=b.Glyphicon,S=b.Button,C=n(2173),T=C(E),k=n(14),O=k.padStart,L=k.isNil,I=n(3),A=function(t){return function(e){return m(e,t)}}("InlineDateTimeSelector")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onUpdate=function(t,e){var n=I(o.props.date).utc(),i=e?I(n).add(1,t):I(n).subtract(1,t);i.isValid()&&!isNaN(i.toDate().getTime())&&o.props.onUpdate(i.toISOString())},o.onChange=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};if(""!==e){var i=I(o.props.date).utc(),r=i["day"===t?"date":t]&&I(i)["day"===t?"date":t](n(e));r.isValid()&&!isNaN(r.toDate().getTime())&&o.props.onUpdate(r.toISOString())}},o.getForm=function(){var t=o.props.date&&I(o.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(t){return!L(t)&&""!==t&&I.monthsShort(t)},parseValue:function(t){return t-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(t){return"UTC "+(t>=0?"+":"-")+O(t/60,2,0)}}]},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=this.getForm();return y.createElement(w,{className:"ms-inline-datetime "+this.props.className,style:this.props.style},y.createElement(x,{controlId:"inlineDateTime"},this.props.glyph&&y.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return t.props.clickable&&t.props.onIconClick(t.props.date,t.props.glyph)}},y.createElement(T,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),e.map(function(e){return"icon"===e.type&&y.createElement("div",{className:"ms-inline-datetime-input ms-dt-"+e.name},y.createElement(T,{glyph:e.value}))||"separator"===e.type&&y.createElement("div",{className:"ms-inline-datetime-input ms-dt-"+e.name},e.format&&e.format(e.value)||e.value)||y.createElement("div",{className:"ms-inline-datetime-input ms-dt-"+e.name},t.props.showButtons&&y.createElement(S,{bsSize:"xs",disabled:!t.props.date,onClick:function(){return t.onUpdate(e.name,!0)}},y.createElement(T,{glyph:"chevron-up"})),y.createElement(_,{type:"text",readOnly:e.readOnly,placeholder:e.placeholder||e.name,disabled:!t.props.date,value:e.format&&e.format(e.value)||e.value,onChange:function(n){return t.onChange(e.name,n.target.value,e.parseValue)}}),t.props.showButtons&&y.createElement(S,{bsSize:"xs",disabled:!t.props.date,onClick:function(){return t.onUpdate(e.name)}},y.createElement(T,{glyph:"chevron-down"})))})))}}]),e}(y.Component),a.propTypes={
date:v.string,clickable:v.bool,onUpdate:v.func,onIconClick:v.func,glyph:v.string,style:v.object,className:v.string,tooltip:v.string,tooltipId:v.string,showButtons:v.bool},a.defaultProps={date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""},s));t.exports=A}).call(this)}finally{}},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(10),l=i(s),u=n(3078),c=i(u),h=n(2218),p=i(h),d=n(2574),f=i(d),g=n(2439),m=i(g),y=n(2576),v=i(y),b=n(0),w=i(b),x=n(43),_=i(x),E=n(2246),S=i(E),C=n(2569),T=i(C),k=n(2190),O=i(k),L=n(2570),I=i(L),A=function(t){function e(n,i){r(this,e),t.call(this,n,i),this.state={affixed:"top",position:null,top:null},this._needPositionUpdate=!1}return o(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=S.default(I.default(this),"scroll",function(){return t.onWindowScroll()}),this._documentClickListener=S.default(O.default(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},e.prototype.onWindowScroll=function(){this.onUpdate()},e.prototype.onDocumentClick=function(){var t=this;v.default(function(){return t.onUpdate()})},e.prototype.onUpdate=function(){var t=this;if(this._isMounted){var e=this.props,n=e.offsetTop,i=e.viewportOffsetTop,r=m.default(I.default(this)),o=r+(i||0);return o<=n?void this.updateState("top",null,null):o>this.getPositionTopMax()?void("bottom"===this.state.affixed?this.updateStateAtBottom():this.setState({affixed:"bottom",position:"absolute",top:null},function(){t._isMounted&&t.updateStateAtBottom()})):void this.updateState("affix","fixed",i)}},e.prototype.getPositionTopMax=function(){return T.default(O.default(this))-c.default(_.default.findDOMNode(this))-this.props.offsetBottom},e.prototype.updateState=function(t,e,n){var i=this;if(t!==this.state.affixed||e!==this.state.position||n!==this.state.top){var r="affix"===t?"":t.charAt(0).toUpperCase()+t.substr(1);this.props["onAffix"+r]&&this.props["onAffix"+r](),this.setState({affixed:t,position:e,top:n},function(){i.props["onAffixed"+r]&&i.props["onAffixed"+r]()})}},e.prototype.updateStateAtBottom=function(){var t=this.getPositionTopMax(),e=f.default(_.default.findDOMNode(this)),n=p.default(e).top;this.updateState("bottom","absolute",t-n)},e.prototype.render=function(){var t=w.default.Children.only(this.props.children),e=t.props,n=e.className,i=e.style,r=this.state,o=r.affixed,s=r.position,u=r.top,c={position:s,top:u},h=void 0,p=void 0;return"top"===o?(h=this.props.topClassName,p=this.props.topStyle):"bottom"===o?(h=this.props.bottomClassName,p=this.props.bottomStyle):(h=this.props.affixClassName,p=this.props.affixStyle),w.default.cloneElement(t,{className:l.default(h,n),style:a({},c,p,i)})},e}(w.default.Component);A.propTypes={offsetTop:w.default.PropTypes.number,viewportOffsetTop:w.default.PropTypes.number,offsetBottom:w.default.PropTypes.number,topClassName:w.default.PropTypes.string,topStyle:w.default.PropTypes.object,affixClassName:w.default.PropTypes.string,affixStyle:w.default.PropTypes.object,bottomClassName:w.default.PropTypes.string,bottomStyle:w.default.PropTypes.object,onAffix:w.default.PropTypes.func,onAffixed:w.default.PropTypes.func,onAffixTop:w.default.PropTypes.func,onAffixedTop:w.default.PropTypes.func,onAffixBottom:w.default.PropTypes.func,onAffixedBottom:w.default.PropTypes.func},A.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},e.default=A,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(0),u=i(l),c=n(43),h=i(c),p=n(10),d=i(p),f=n(2190),g=i(f),m=n(2247),y=i(m),v=n(3071),b=n(2248),w=i(b),x=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},this._needsFlush=!1,this._lastTarget=null}return a(e,t),e.prototype.componentDidMount=function(){this.updatePosition()},e.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},e.prototype.componentDidUpdate=function(t){this._needsFlush&&(this._needsFlush=!1,this.updatePosition(t.placement!==this.props.placement))},e.prototype.componentWillUnmount=function(){this._lastTarget=null},e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,i=r(t,["children","className"]),o=this.state,a=o.positionLeft,c=o.positionTop,h=r(o,["positionLeft","positionTop"]);delete i.target,delete i.container,delete i.containerPadding;var p=u.default.Children.only(e);return l.cloneElement(p,s({},i,h,{positionLeft:a,positionTop:c,className:d.default(n,p.props.className),style:s({},p.props.style,{left:a,top:c})}))},e.prototype.getTargetSafe=function(){if(!this.props.target)return null;var t=this.props.target(this.props);return t||null},e.prototype.updatePosition=function(t){var e=this.getTargetSafe();if(this.props.shouldUpdatePosition||e!==this._lastTarget||t){if(this._lastTarget=e,!e)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var n=h.default.findDOMNode(this),i=y.default(this.props.container,g.default(this).body);this.setState(v.calcOverlayPosition(this.props.placement,n,e,i,this.props.containerPadding))}},e}(u.default.Component);x.propTypes={target:u.default.PropTypes.func,container:u.default.PropTypes.oneOfType([w.default,u.default.PropTypes.func]),containerPadding:u.default.PropTypes.number,placement:u.default.PropTypes.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:u.default.PropTypes.bool},x.displayName="Position",x.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return Math.max(t.documentElement.offsetHeight||0,t.height||0,t.body.scrollHeight||0,t.body.offsetHeight||0)},t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(43),o=i(r),a=n(3077),s=i(a);e.default=function(t){return s.default(o.default.findDOMNode(t))},t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")}},function(t,e,n){"use strict";var i=n(2191),r=function(){};i&&(r=function(){return document.addEventListener?function(t,e,n,i){return t.addEventListener(e,n,i||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,n)}:void 0}()),t.exports=r},function(t,e,n){"use strict";var i=n(2191),r=function(){var t=i&&document.documentElement;return t&&t.contains?function(t,e){return t.contains(e)}:t&&t.compareDocumentPosition?function(t,e){return t===e||!!(16&t.compareDocumentPosition(e))}:function(t,e){if(e)do{if(e===t)return!0}while(e=e.parentNode);return!1}}();t.exports=r},function(t,e,n){"use strict";function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function r(t){for(var e=(0,s.default)(t),n=t&&t.offsetParent;n&&"html"!==i(t)&&"static"===(0,u.default)(n,"position");)n=n.offsetParent;return n||e.documentElement}var o=n(2219);e.__esModule=!0,e.default=r;var a=n(2204),s=o.interopRequireDefault(a),l=n(2440),u=o.interopRequireDefault(l);t.exports=e.default},function(t,e,n){"use strict";var i=n(3084),r=/^-ms-/;t.exports=function(t){return i(t.replace(r,"ms-"))}},function(t,e,n){"use strict";function i(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-c)),i=setTimeout(t,n);return c=e,i}var r,o=n(2191),a=["","webkit","moz","o","ms"],s="clearTimeout",l=i,u=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};o&&a.some(function(t){var e=u(t,"request");if(e in window)return s=u(t,"cancel"),l=function(t){return window[e](t)}});var c=(new Date).getTime();r=function(t){return l(t)},r.cancel=function(t){return window[s](t)},t.exports=r},function(t,e,n){"use strict";function i(t,e,n,i){return"Invalid prop '"+e+"' of value '"+t[e]+"' supplied to '"+n+"'"+i}function r(t){function e(e,n,i,r){return r=r||"<<anonymous>>",null!=n[i]?t(n,i,r):e?new Error("Required prop '"+i+"' was not specified in '"+r+"'."):void 0}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}e.__esModule=!0,e.errMsg=i,e.createChainableTypeChecker=r},function(t,e,n){"use strict";function i(t,e,n){var i=a.errMsg(t,e,n,". Expected an Element `type`");if("function"!=typeof t[e]){if(o.default.isValidElement(t[e]))return new Error(i+", not an actual Element");if("string"!=typeof t[e])return new Error(i+" such as a tag name or return value of React.createClass(...)")}}e.__esModule=!0;var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(2577);e.default=a.createChainableTypeChecker(i),t.exports=e.default},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(2463),u=i(l),c=n(0),h=i(c),p=n(4),d=i(p),f=n(39),g=(i(f),n(3099)),m={component:d.default.any,childFactory:d.default.func,children:d.default.node},y={component:"span",childFactory:function(t){return t}},v=function(t){function e(n,i){r(this,e);var a=o(this,t.call(this,n,i));return a.performAppear=function(t){a.currentlyTransitioningKeys[t]=!0;var e=a.childRefs[t];e.componentWillAppear?e.componentWillAppear(a._handleDoneAppearing.bind(a,t)):a._handleDoneAppearing(t)},a._handleDoneAppearing=function(t){var e=a.childRefs[t];e&&e.componentDidAppear&&e.componentDidAppear(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t)},a.performEnter=function(t){a.currentlyTransitioningKeys[t]=!0;var e=a.childRefs[t];e.componentWillEnter?e.componentWillEnter(a._handleDoneEntering.bind(a,t)):a._handleDoneEntering(t)},a._handleDoneEntering=function(t){var e=a.childRefs[t];e&&e.componentDidEnter&&e.componentDidEnter(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t)},a.performLeave=function(t){a.currentlyTransitioningKeys[t]=!0;var e=a.childRefs[t];e.componentWillLeave?e.componentWillLeave(a._handleDoneLeaving.bind(a,t)):a._handleDoneLeaving(t)},a._handleDoneLeaving=function(t){var e=a.childRefs[t];e&&e.componentDidLeave&&e.componentDidLeave(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)?a.performEnter(t):a.setState(function(e){var n=s({},e.children);return delete n[t],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,g.getChildMapping)(n.children)},a}return a(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},e.prototype.componentWillReceiveProps=function(t){var e=(0,g.getChildMapping)(t.children),n=this.state.children;this.setState({children:(0,g.mergeChildMappings)(n,e)});for(var i in e){var r=n&&n.hasOwnProperty(i);!e[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(var o in n){var a=e&&e.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},e.prototype.componentDidUpdate=function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},e.prototype.render=function(){var t=this,e=[];for(var n in this.state.children)!function(n){var i=t.state.children[n];if(i){var r="string"!=typeof i.ref,o=t.props.childFactory(i),a=function(e){t.childRefs[n]=e};o===i&&r&&(a=(0,u.default)(i.ref,a)),e.push(h.default.cloneElement(o,{key:n,ref:a}))}}(n);var i=s({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,h.default.createElement(this.props.component,i,e)},e}(h.default.Component);v.displayName="TransitionGroup",v.propTypes=m,v.defaultProps=y,e.default=v,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}}e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=r;var o=n(0),a=(i(o),n(4)),s=i(a);e.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},,,,,,,,,,function(t,e,n){function i(){this._array=[],this._set=a?new Map:Object.create(null)}var r=n(2223),o=Object.prototype.hasOwnProperty,a="undefined"!=typeof Map;i.fromArray=function(t,e){for(var n=new i,r=0,o=t.length;r<o;r++)n.add(t[r],e);return n},i.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(t,e){var n=a?t:r.toSetString(t),i=a?this.has(t):o.call(this._set,n),s=this._array.length;i&&!e||this._array.push(t),i||(a?this._set.set(t,s):this._set[n]=s)},i.prototype.has=function(t){if(a)return this._set.has(t);var e=r.toSetString(t);return o.call(this._set,e)},i.prototype.indexOf=function(t){if(a){var e=this._set.get(t);if(e>=0)return e}else{var n=r.toSetString(t);if(o.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},i.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},i.prototype.toArray=function(){return this._array.slice()},e.ArraySet=i},function(t,e,n){function i(t){return t<0?1+(-t<<1):0+(t<<1)}function r(t){var e=1==(1&t),n=t>>1;return e?-n:n}var o=n(3132);e.encode=function(t){var e,n="",r=i(t);do{e=31&r,r>>>=5,r>0&&(e|=32),n+=o.encode(e)}while(r>0);return n},e.decode=function(t,e,n){var i,a,s=t.length,l=0,u=0;do{if(e>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=o.decode(t.charCodeAt(e++))))throw new Error("Invalid base64 digit: "+t.charAt(e-1));i=!!(32&a),a&=31,l+=a<<u,u+=5}while(i);n.value=r(l),n.rest=e}},function(t,e,n){function i(t){t||(t={}),this._file=o.getArg(t,"file",null),this._sourceRoot=o.getArg(t,"sourceRoot",null),this._skipValidation=o.getArg(t,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new s,this._sourcesContents=null}var r=n(2594),o=n(2223),a=n(2593).ArraySet,s=n(3134).MappingList;i.prototype._version=3,i.fromSourceMap=function(t){var e=t.sourceRoot,n=new i({file:t.file,sourceRoot:e});return t.eachMapping(function(t){var i={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(i.source=t.source,null!=e&&(i.source=o.relative(e,i.source)),i.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(i.name=t.name)),n.addMapping(i)}),t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&n.setSourceContent(e,i)}),n},i.prototype.addMapping=function(t){var e=o.getArg(t,"generated"),n=o.getArg(t,"original",null),i=o.getArg(t,"source",null),r=o.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,n,i,r),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=r&&(r=String(r),this._names.has(r)||this._names.add(r)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:r})},i.prototype.setSourceContent=function(t,e){var n=t;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=e):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(t,e,n){var i=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=t.file}var r=this._sourceRoot;null!=r&&(i=o.relative(r,i));var s=new a,l=new a;this._mappings.unsortedForEach(function(e){if(e.source===i&&null!=e.originalLine){var a=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=a.source&&(e.source=a.source,null!=n&&(e.source=o.join(n,e.source)),null!=r&&(e.source=o.relative(r,e.source)),e.originalLine=a.line,e.originalColumn=a.column,null!=a.name&&(e.name=a.name))}var u=e.source;null==u||s.has(u)||s.add(u);var c=e.name;null==c||l.has(c)||l.add(c)},this),this._sources=s,this._names=l,t.sources.forEach(function(e){var i=t.sourceContentFor(e);null!=i&&(null!=n&&(e=o.join(n,e)),null!=r&&(e=o.relative(r,e)),this.setSourceContent(e,i))},this)},i.prototype._validateMapping=function(t,e,n,i){if(e&&"number"!=typeof e.line&&"number"!=typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0)||e||n||i)&&!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:e,name:i}))},i.prototype._serializeMappings=function(){for(var t,e,n,i,a=0,s=1,l=0,u=0,c=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e=d[f],t="",e.generatedLine!==s)for(a=0;e.generatedLine!==s;)t+=";",s++;else if(f>0){if(!o.compareByGeneratedPositionsInflated(e,d[f-1]))continue;t+=","}t+=r.encode(e.generatedColumn-a),a=e.generatedColumn,null!=e.source&&(i=this._sources.indexOf(e.source),t+=r.encode(i-h),h=i,t+=r.encode(e.originalLine-1-u),u=e.originalLine-1,t+=r.encode(e.originalColumn-l),l=e.originalColumn,null!=e.name&&(n=this._names.indexOf(e.name),t+=r.encode(n-c),c=n)),p+=t}return p},i.prototype._generateSourcesContent=function(t,e){return t.map(function(t){if(!this._sourcesContents)return null;null!=e&&(t=o.relative(e,t));var n=o.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},i.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=i},,function(t,e,n){var i=n(2792);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./cesium/plugins/index":2494,"./leaflet/plugins/index":2495,"./openlayers/plugins/index":2496};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=2598},,,,function(t,e,n){"use strict";var i=n(72),r=n(49),o=n(12),a={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(t,e){var n=o({q:t},a,e||{}),s=r.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return i.get(s)},reverseGeocode:function(t,e){var n=o({lat:t.lat,lon:t.lng},e||{},a),s=r.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return i.get(s)}};t.exports=s},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return function(e){return v(e,t)}}var u=n(71),c=i(u),h=n(0),p=i(h),d=n(70),f=i(d),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y={WithPopover:{displayName:"WithPopover",isInFunction:!0}},v=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js",components:y,locals:[],imports:[p.default,c.default]}),b=n(0),w=n(2561),x=n(854),_=x.Popover,E=n(14),S=E.omit,C=n(43);t.exports=function(t){return l("WithPopover")(function(e){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e),m(n,[{key:"render",value:function(){var e=null,n=this.props,i=n.popoverOptions,o=n.keyProp,a=r(n,["popoverOptions","keyProp"]);return b.createElement("span",{className:"mapstore-info-popover"},b.createElement(t,g({},S(a,["renderPopover","tooltipId"]),{key:o,ref:function(t){e=t}})),b.createElement(w,{placement:i.placement,shouldUpdatePosition:!0,show:!0,target:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return C.findDOMNode(e)})},b.createElement(_,i.props,i.content)))}}]),n}(b.Component))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(e){return m(e,t)}}var l=n(71),u=i(l),c=n(0),h=i(c),p=n(70),d=i(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={InfoPopover:{displayName:"InfoPopover",isInFunction:!0}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/enhancers/popover.js",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(428),b=v.branch,w=v.toClass,x=n(4),_=n(14),E=_.omit,S=n(854),C=S.Popover,T=n(2165);t.exports=b(function(t){return t.popover},function(t){var e,n;return s("InfoPopover")((n=e=function(e){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),f(n,[{key:"renderPopover",value:function(){return y.createElement(C,E(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var e=w(t);return y.createElement(e,E(this.props,["popover"]))}},{key:"render",value:function(){var t=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return y.createElement("span",null,y.createElement(T,{trigger:t,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}]),n}(y.Component),e.propTypes={popover:x.object},e.defaultProps={popover:{trigger:!0}},n))})},,,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e,n){if(R((t.requests||[]).filter(function(t){return t.reqId===e.reqId}))){var r=t.responses||[];return N({},t,{responses:[].concat(i(r),[{response:e[n],queryParams:e.requestParams,layerMetadata:e.layerMetadata}])})}return t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments[1];switch(e.type){case w:return N({},t,{warning:"NO_QUERYABLE_LAYERS"});case x:return N({},t,{warning:null});case h:return N({},t,{enabled:e.enabled});case C:return N({},t,{enabled:!t.enabled});case S:return N({},t,{index:e.index});case E:return N({},t,{highlight:e.enabled});case p:var o=e.reqId,s=e.request,I=t.requests||[];return N({},t,{requests:[].concat(i(I),[{request:s,reqId:o}])});case d:return N({},t,{responses:[],requests:[]});case c:return r(t,e,"data");case u:return r(t,e,"exceptions");case l:return r(t,e,"error");case _:return N({},t,{clickPoint:e.point,clickLayer:e.layer||null});case f:return a({},t,{configuration:a({},t.configuration,{infoFormat:e.infoFormat})});case g:return N({},t,{showMarker:!0});case m:return N({},t,{showMarker:!1});case y:return N({},t,{showModalReverse:!0,reverseGeocodeData:e.reverseGeocodeData});case v:return N({},t,{showModalReverse:!1,reverseGeocodeData:void 0});case M:return N({},t,{showMarker:!1,responses:[],requests:[]});case b:var P=n(3175),D=n(3176),R={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.request.lng,e.request.lat]}},G=e.metadata&&e.metadata.units;switch(G){case"m":G="meters";break;case"deg":G="degrees";break;case"mi":G="miles";break;default:G="meters"}var j=e.metadata&&e.metadata.resolution||1,z=P(R,(e.metadata.buffer||1)*j,G),U=(e.layer.features||[]).filter(function(t){try{return"FeatureCollection"===t.type&&t.features&&t.features.length?t.features.reduce(function(t,n){var i=n.properties.useGeodesicLines&&n.properties.geometryGeodesic?a({},n,{geometry:n.properties.geometryGeodesic}):n;return t||D(z,j&&e.metadata.buffer&&G?P(i,1,"meters"):i)},!1):D(z,j&&e.metadata.buffer&&G?P(t,1,"meters"):t)}catch(t){return!1}}),B=t.responses||[];return N({},t,{requests:[].concat(i(t.requests),[{}]),responses:[].concat(i(B),[{response:{crs:null,features:U,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:e.request,layerMetadata:e.metadata,format:"JSON"}])});case T:return N({},t,{centerToMarker:e.status});case k:return a({},t,{configuration:a({},t.configuration,{showEmptyMessageGFI:!t.configuration.showEmptyMessageGFI})});case A:return a({},t,{configuration:e.config.mapInfoConfiguration||t.configuration||{}});case O:return a({},t,{formatCoord:e.format});case L:return a({},t,{showCoordinateEditor:!e.showCoordinateEditor});default:return t}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(2187),l=s.ERROR_FEATURE_INFO,u=s.EXCEPTIONS_FEATURE_INFO,c=s.LOAD_FEATURE_INFO,h=s.CHANGE_MAPINFO_STATE,p=s.NEW_MAPINFO_REQUEST,d=s.PURGE_MAPINFO_RESULTS,f=s.CHANGE_MAPINFO_FORMAT,g=s.SHOW_MAPINFO_MARKER,m=s.HIDE_MAPINFO_MARKER,y=s.SHOW_REVERSE_GEOCODE,v=s.HIDE_REVERSE_GEOCODE,b=s.GET_VECTOR_INFO,w=s.NO_QUERYABLE_LAYERS,x=s.CLEAR_WARNING,_=s.FEATURE_INFO_CLICK,E=s.TOGGLE_HIGHLIGHT_FEATURE,S=s.CHANGE_PAGE,C=s.TOGGLE_MAPINFO_STATE,T=s.UPDATE_CENTER_TO_MARKER,k=s.TOGGLE_EMPTY_MESSAGE_GFI,O=s.CHANGE_FORMAT,L=s.TOGGLE_SHOW_COORD_EDITOR,I=n(274),A=I.MAP_CONFIG_LOADED,P=n(272),M=P.RESET_CONTROLS,N=n(12),D=n(14),R=D.head,F={enabled:!0,configuration:{}};t.exports=o},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(2179),o=r.isOpenlayers,a=n(861),s=a.showCoordinateEditorSelector,l=n(431),u=l.set,c=n(2227),h=c.validateFeatureCoordinates,p=function(t){return s(t)&&!t.measurement.isDrawing&&o(t)},d=function(t){return t&&t.measurement&&t.measurement.showAddAsAnnotation},f=function(t){var e=t.measurement.feature||{};return e.geometry&&(e=u("geometry.coordinates",h(e.geometry||{}),e)),e},g=function(t){return t.measurement&&i({},t.measurement,{feature:f(t)})||{}};t.exports={measurementSelector:g,getValidFeatureSelector:f,isCoordinateEditorEnabledSelector:p,showAddAsAnnotationSelector:d}},,function(t,e,n){"use strict";var i=n(857);t.exports={createOLGeometry:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=t.coordinates,r=t.radius,o=t.center,a=void 0;switch(e){case"Point":a=new i.geom.Point(n||[]);break;case"LineString":a=new i.geom.LineString(n||[]);break;case"MultiPoint":a=new i.geom.MultiPoint(n||[]);break;case"MultiLineString":a=new i.geom.MultiLineString(n||[]);break;case"MultiPolygon":a=new i.geom.MultiPolygon(n||[])
;break;default:a=r&&o?i.geom.Polygon.fromCircle(new i.geom.Circle([o.x,o.y],r),100):new i.geom.Polygon(n||[])}return a},isPolygon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t.geometry&&"Polygon"===t.geometry.type}}},,,,,,,,,,,,function(t,e,n){var i=n(281),r=n(2958),o=n(279),a=n(2960),s=o(function(t){var e=i(t,a);return e.length&&e[0]===t[0]?r(e):[]});t.exports=s},,,function(t,e,n){var i=n(882),r=n(279),o=n(441),a=r(function(t,e){return o(t)?i(t,e):[]});t.exports=a},,,,,,,,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={DrawSupport:{displayName:"DrawSupport"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/DrawSupport.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(14),x=w.head,_=w.last,E=w.isNil,S=n(859);n(2534),S.Draw.Polygon.prototype._calculateFinishDistance=function(t){if(this._markers.length>0){var e=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),n=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),i=new S.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),r=this._map.latLngToContainerPoint(i.getLatLng());return Math.min(e.distanceTo(r),n.distanceTo(r))}return 1/0};var C=n(196),T=C.isSimpleGeomType,k=C.getSimpleGeomType,O=n(2437),L=O.boundsToOLExtent,I=n(12),A=n(80),P=n(2505),M=P.pointToLayer,N=Math.PI/180,D=function(t,e,n){if("EPSG:4326"===n)return{center:e,srs:n,radius:t};var i=t/40075017*360/Math.cos(N*e[1]),r=A.reproject(e,"EPSG:4326",n);if(i){var o=A.reproject([e[0]+i,e[1]],"EPSG:4326",n);return{center:r,srs:n,radius:Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2))}}return{center:r,srs:n,radius:t}},R=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===n||void 0===t)return{center:e,projection:n,radius:t};var i=A.reproject({x:e.lng,y:e.lat},n,"EPSG:4326");if(void 0===t)return{center:i,projection:n,radius:t};var r=A.reproject([e.lng+t,e.lat],n,"EPSG:4326");return{center:i,projection:"EPSG:4326",radius:Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2))*Math.cos(N*i.y)*40075017/360}},F=function(t){return function(e){return y(e,t)}}("DrawSupport")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onDrawStart=function(){o.drawing=!0},o.onDrawCreated=function(t){o.drawing=!1;var e=t.layer,n=e.toGeoJSON(),i=void 0;"marker"===t.layerType?i=S.latLngBounds(n.geometry.coordinates,n.geometry.coordinates):(e._map||(e._map=o.props.map,e._renderer=o.props.map.getRenderer(e),e._project()),i=e.getBounds());var r=L(i),a=i.getCenter();a=[a.lng,a.lat];var s=n.geometry.coordinates,l="EPSG:4326",u=n.geometry.type,c=e.getRadius?e.getRadius():0;if("circle"===t.layerType){n.projection="EPSG:4326",l="EPSG:3857",r=A.reprojectBbox(r,"EPSG:4326",l);var h=D(e._mRadius,a,l);a=h.center,c=h.radius,s=A.calculateCircleCoordinates(a,c,100),n.radius=e.getRadius?e.getRadius():0,a=[a.x,a.y],u="Polygon"}o.drawLayer.addData(n);var p={type:u,extent:r,center:a,coordinates:s,radius:c,projection:l};o.props.options&&o.props.options.stopAfterDrawing&&o.props.onChangeDrawingStatus("stop",o.props.drawMethod,o.props.drawOwner);var d=o.convertFeaturesToGeoJson(t.layer,o.props);o.props.onEndDrawing(p,o.props.drawOwner),o.props.onGeometryChanged([d],o.props.drawOwner,o.props.options&&o.props.options.stopAfterDrawing?"enterEditMode":"")},o.onUpdateGeom=function(t,e){var n=o.convertFeaturesToGeoJson(t,e);e.onGeometryChanged([n],e.drawOwner)},o.addLayer=function(t){o.clean();var e=S.geoJson(null,{pointToLayer:function(t,e){var n=R(t.radius,e,t.projection),i=n.center,r=n.radius;return S.circle(i,r||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});o.props.map.addLayer(e),t.features&&t.features.length>0&&e.addData(o.convertFeaturesPolygonToPoint(t.features,o.props.drawMethod)),o.drawLayer=e},o.addGeojsonLayer=function(t){var e=t.features,n=t.projection,i=t.style;o.clean();var r=S.geoJson(e,{style:function(t){return t.style||i},pointToLayer:function(t,e){var r=A.reproject({x:e.lng,y:e.lat},n,"EPSG:4326");return M(S.latLng(r.y,r.x),t,i)}});o.drawLayer=r.addTo(o.props.map)},o.replaceFeatures=function(t){o.drawLayer?(o.drawLayer.clearLayers(),"Circle"===o.props.drawMethod?(o.drawLayer.options.pointToLayer=function(t,e){var n=R(t.radius,e,t.projection),i=n.center,r=n.radius;return S.circle(i,r||5)},o.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):o.drawLayer.options.pointToLayer=function(e,n){var i=A.reproject({x:n.lng,y:n.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return M(S.latLng(i.y,i.x),e,t.style)},o.drawLayer.addData(o.convertFeaturesPolygonToPoint(t.features,o.props.drawMethod))):o.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})},o.endDrawing=function(t){o.replaceFeatures(t);var e=_(t.features);"Circle"!==o.props.drawMethod||!e||E(e.center)||E(e.radius)?e&&o.props.onEndDrawing(e,o.props.drawOwner):o.props.onEndDrawing(f({},e,{coordinates:A.calculateCircleCoordinates(e.center,e.radius,100)}),o.props.drawOwner)},o.addDrawInteraction=function(t){o.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?o.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):o.addLayer(t),o.props.map.on("draw:created",o.onDrawCreated,o),o.props.map.on("draw:drawstart",o.onDrawStart,o),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?o.drawControl=new S.Draw.Polyline(o.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?o.drawControl=new S.Draw.Polygon(o.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?o.drawControl=new S.Draw.Rectangle(o.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?o.drawControl=new S.Draw.Circle(o.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(o.drawControl=new S.Draw.Marker(o.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),o.props.map.doubleClickZoom&&o.props.map.doubleClickZoom.disable(),o.drawControl.enable()},o.addDrawOrEditInteractions=function(t){var e=x(t.features),n=void 0;e&&e.geometry&&e.geometry.type&&!T(e.geometry.type)&&("GeometryCollection"===e.geometry.type?n=e.geometry.geometries.map(function(t){return t.coordinates.map(function(n,i){return{type:"Feature",properties:f({},e.properties),id:t.type+i,geometry:{coordinates:n,type:k(t.type)}}})}):(n=e.geometry.coordinates.map(function(t,n){return{type:"Feature",properties:f({},e.properties),id:e.geometry.type+n,geometry:{coordinates:t,type:k(e.geometry.type)}}}),e={type:"FeatureCollection",features:n}));var i=I({},t,{features:[e||{}]});o.drawLayer?(o.drawLayer.clearLayers(),o.drawLayer.addData(o.convertFeaturesPolygonToPoint(i.features,i.drawMethod))):o.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map(function(e){return A.reprojectGeoJson(e,t.options.featureProjection,"EPSG:4326")}):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&o.addEditInteraction(i),t.options.drawEnabled&&o.addDrawInteraction(i)},o.addEditInteraction=function(t){o.clean(),o.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:I({},t.style,{poly:{icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var e=o.drawLayer.getLayers();setTimeout(function(){e.forEach(function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach(function(e){e.on("edit",function(e){return o.onUpdateGeom(e.target,t)}),e.on("moveend",function(e){return o.onUpdateGeom(e.target,t)}),e.editing&&e.editing.enable()}):(e.on("edit",function(e){return o.onUpdateGeom(e.target,t)}),e.on("moveend",function(e){return o.onUpdateGeom(e.target,t)}),e.editing&&e.editing.enable())})},0),o.editControl=new S.Control.Draw({edit:{featureGroup:o.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),o.props.map.doubleClickZoom&&o.props.map.doubleClickZoom.disable()},o.removeAllInteractions=function(){o.removeEditInteraction(),o.removeDrawInteraction()},o.removeDrawInteraction=function(){null!==o.drawControl&&void 0!==o.drawControl&&(o.props.options&&o.props.options.stopAfterDrawing&&(o.drawControl.setOptions({repeatMode:!1}),o.props.onDrawStopped()),o.drawControl.disable(),o.drawControl=null,o.props.map.off("draw:created",o.onDrawCreated,o),o.props.map.off("draw:drawstart",o.onDrawStart,o),o.props.map.doubleClickZoom&&o.props.map.doubleClickZoom.enable())},o.removeEditInteraction=function(){if(o.drawLayer){o.drawLayer.getLayers().forEach(function(t){t.getLayers&&t.getLayers()&&t.getLayers().length?t.getLayers().forEach(function(t){t.off("edit"),t.off("moveend"),t.editing&&t.editing.disable()}):(t.off("edit"),t.off("moveend"),t.editing&&t.editing.disable())}),o.editControl=null}o.props.map.doubleClickZoom&&o.props.map.doubleClickZoom.enable()},o.cleanAndStop=function(){o.removeAllInteractions(),o.drawLayer&&(o.drawLayer.clearLayers(),o.props.map.removeLayer(o.drawLayer),o.drawLayer=null)},o.clean=function(){o.removeEditInteraction(),o.removeDrawInteraction(),o.drawLayer&&(o.drawLayer.clearLayers(),o.props.map.removeLayer(o.drawLayer),o.drawLayer=null)},o.convertFeaturesPolygonToPoint=function(t,e){return"Circle"===e?t.map(function(t){var e=void 0!==t.center&&void 0!==t.radius?R(t.radius,{lat:t.center.y,lng:t.center.x},t.projection):t,n=e.center,i=e.projection,r=e.radius;return f({},t,{coordinates:n?[n.x,n.y]:t.coordinates,center:n||t.center,projection:i||t.projection,radius:void 0!==r?r:t.radius,type:"Point"})}):t},o.convertFeaturesToGeoJson=function(t,e){var n=void 0;if(T(e.drawMethod))n=t.toGeoJSON().geometry;else{if("GeometryCollection"===e.drawMethod){return{type:"GeometryCollection",geometries:o.drawLayer.getLayers().map(function(t){return t.toGeoJSON()}).map(function(t){return"FeatureCollection"===t.type?{type:"Multi"+t.features[0].geometry.type,coordinates:t.features.map(function(t){return t.geometry.coordinates})}:{type:t.geometry.type,coordinates:t.geometry.coordinates}})}}var i=o.drawLayer.getLayers().map(function(t){return t.toGeoJSON()});n={type:e.drawMethod,coordinates:i.reduce(function(t,e){return t.concat([e.geometry.coordinates])},[])}}return I({},t.toGeoJSON(),{geometry:n})},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentWillReceiveProps",value:function(t){var e=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(e&&(S.drawLocal=e),this.props.drawStatus!==t.drawStatus||"replace"===t.drawStatus||this.props.drawMethod!==t.drawMethod||this.props.features!==t.features)switch(t.drawStatus){case"create":this.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style});break;case"start":this.addDrawInteraction(t);break;case"drawOrEdit":this.addDrawOrEditInteractions(t);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(t);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(t);break;default:return}}},{key:"render",value:function(){return null}}]),e}(b.Component),a.displayName="DrawSupport",a.propTypes={map:v.object,drawOwner:v.string,drawStatus:v.string,drawMethod:v.string,options:v.object,features:v.array,onChangeDrawingStatus:v.func,onGeometryChanged:v.func,onDrawStopped:v.func,onEndDrawing:v.func,messages:v.object,style:v.object},a.defaultProps={map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}},s));t.exports=F}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y={DrawSupport:{displayName:"DrawSupport"}},v=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/DrawSupport.jsx",components:y,locals:[],imports:[p.default,c.default]}),b=n(0),w=n(857),x=n(14),_=x.concat,E=x.head,S=x.find,C=x.slice,T=x.omit,k=x.isArray,O=x.last,L=x.filter,I=x.isNil,A=x.castArray,P=n(4),M=n(12),N=n(2268),D=n(437),R=n(196),F=R.isSimpleGeomType,G=R.getSimpleGeomType,j=n(80),z=j.reprojectGeoJson,U=j.calculateDistance,B=j.reproject,H=n(2181),Y=H.createStylesAsync,V=new w.Sphere(6378137),W=n(2437),q=W.transformPolygonToCircle,Z=n(2215),X=Z.isCompletePolygon,K=n(2214),Q=n(2214),J=Q.parseStyles,$=new w.format.GeoJSON,tt=function(t){return function(e){return v(e,t)}}("DrawSupport")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.getNewFeature=function(t,e,n,i){return new w.Feature({geometry:a.createOLGeometry({type:t,coordinates:e,radius:n,center:i})})},a.getMapCrs=function(){return a.props.map.getView().getProjection().getCode()},a.updateFeatureStyles=function(t){t&&t.length>0&&t.forEach(function(t){if(t.style){var e=a.toOlFeature(t);e&&e.setStyle(t.style?K.getStyle(t):a.toOlStyle(t.style,t.selected))}})},a.updateOnlyFeatureStyles=function(t){a.drawLayer&&a.drawLayer.getSource().getFeatures().forEach(function(e){var n=E(t.features).features||t.features,i=S(n,function(t){return t.properties.id===e.getProperties().id});if(i){var r=Y(A(i.style));D.all(r).then(function(t){e.setStyle(function(){return J(g({},i,{style:t}))})})}})},a.addLayer=function(t,e){var n=null,i=a.convertGeometryTypeToStyleType(t.drawMethod);n=function(e){var n=E(t.features)&&S(E(t.features).features,function(t){return t.properties.id===e.getProperties().id})||null;if(!n)return J({style:K.defaultStyles[i]});var r=Y(A(n.style));D.all(r).then(function(t){e.setStyle(function(){return J(g({},n,{style:t}))})})},a.geojson=new w.format.GeoJSON,a.drawSource=new w.source.Vector,a.drawLayer=new w.layer.Vector({source:a.drawSource,zIndex:1e8,style:n}),a.props.map.addLayer(a.drawLayer),e&&a.addInteractions(t);var r=E(t.features);if(r&&r.features&&r.features.length){var o=r.features.filter(function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled});return a.addFeatures(M({},t,{features:[g({},r,{features:o})]}))}return a.addFeatures(t)},a.addFeatures=function(t){var e=t.features,n=t.drawMethod,i=t.options,r=a.getMapCrs(),o=void 0;if(e.forEach(function(t){if("FeatureCollection"===t.type){var e=(new w.format.GeoJSON).readFeatures(t);e=e.map(function(t){return q(t,r)}),a.drawSource=new w.source.Vector({features:e}),a.drawLayer.setSource(a.drawSource)}else{var i=null,s=t;s.geometry&&"GeometryCollection"!==s.geometry.type&&(s=z(s,s.featureProjection,r).geometry),"GeometryCollection"!==s.type&&("Circle"===n&&s&&(s.properties&&s.properties.center||s.center)?(i=s.properties&&s.properties.center?B(s.properties.center,"EPSG:4326",r):s.center,i=[i.x,i.y],o=new w.Feature({geometry:a.createOLGeometry({type:"Circle",center:i,projection:"EPSG:3857",radius:s.properties&&s.properties.radius||s.radius})})):o=new w.Feature({geometry:a.createOLGeometry(s.geometry?s.geometry:g({},s,s.properties,{center:i}))}),o.setProperties(t.properties),a.drawSource.addFeature(o))}}),0===e.length&&(i.editEnabled||i.drawEnabled))i.transformToFeatureCollection?(a.drawSource=new w.source.Vector({features:(new w.format.GeoJSON).readFeatures({type:"FeatureCollection",features:[]})}),a.drawLayer.setSource(a.drawSource)):(o=new w.Feature({geometry:a.createOLGeometry({type:n,coordinates:null})}),a.drawSource.addFeature(o));else{if(e[0]&&"GeometryCollection"===e[0].type){a.drawSource=new w.source.Vector({features:(new w.format.GeoJSON).readFeatures(e[0])});var s=a.replacePolygonsWithCircles(a.drawSource.getFeatures()[0]);a.drawSource.getFeatures()[0].getGeometry().setGeometries(s),a.drawLayer.setSource(a.drawSource)}e[0]&&e[0].geometry&&"GeometryCollection"===e[0].geometry.type&&(o=z(e[0],i.featureProjection,r).geometry,a.drawSource=new w.source.Vector({features:(new w.format.GeoJSON).readFeatures(o)}),a.drawSource.getFeatures()[0].set("textGeometriesIndexes",e[0].properties&&e[0].properties.textGeometriesIndexes),a.drawSource.getFeatures()[0].set("textValues",e[0].properties&&e[0].properties.textValues),a.drawSource.getFeatures()[0].set("circles",e[0].properties&&e[0].properties.circles),a.drawLayer.setSource(a.drawSource))}return a.updateFeatureStyles(e),o},a.replaceFeatures=function(t){var e=void 0;return a.drawLayer?(a.drawSource.clear(),e=a.addFeatures(t),t.style&&a.drawLayer.setStyle(function(e){var n=S(E(t.features).features,function(t){return t.properties.id===e.getProperties().id});if(!n){var i=a.convertGeometryTypeToStyleType(t.drawMethod);return J({style:K.defaultStyles[i]})}var r=Y(A(n.style));D.all(r).then(function(t){e.setStyle(function(){return J(g({},n,{style:t}))})})})):e=a.addLayer(t,t.options&&t.options.drawEnabled||!1),e},a.endDrawing=function(t){var e=a.replaceFeatures(t);if(e){var n=a.fromOLFeature(e);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(n.radius=t.features[0].radius),a.props.onEndDrawing(n,t.drawOwner)}},a.addDrawInteraction=function(t,e,n,i){a.drawInteraction&&a.removeDrawInteraction(),a.drawInteraction=new w.interaction.Draw(a.drawPropertiesForGeometryType(t,n,a.drawSource,i)),a.props.map.disableEventListener("singleclick"),a.drawInteraction.on("drawstart",function(t){this.sketchFeature=t.feature,this.selectInteraction&&(this.selectInteraction.getFeatures().clear(),this.selectInteraction.setActive(!1))},a),a.drawInteraction.on("drawend",function(t){this.sketchFeature=t.feature,this.sketchFeature.set("id",N.v1());var n=void 0;if("Circle"===this.props.drawMethod&&"Circle"===this.sketchFeature.getGeometry().getType()){var i=this.sketchFeature.getGeometry().getRadius(),r=this.sketchFeature.getGeometry().getCenter();this.sketchFeature.setGeometry(this.polygonFromCircle(r,i))}n=this.fromOLFeature(this.sketchFeature,e),this.props.onEndDrawing(n,this.props.drawOwner),this.props.options.stopAfterDrawing&&this.props.onChangeDrawingStatus("stop",this.props.drawMethod,this.props.drawOwner,this.props.features.concat([n])),this.selectInteraction&&(this.addSelectInteraction(),this.selectInteraction.setActive(!0))},a),a.props.map.addInteraction(a.drawInteraction),a.setDoubleClickZoomEnabled(!1)},a.toMulti=function(t){return"Point"===t.getType()?new w.geom.MultiPoint([t.getCoordinates()]):t},a.handleDrawAndEdit=function(t,e,n,r){a.drawInteraction&&a.removeDrawInteraction(),a.drawInteraction=new w.interaction.Draw(a.drawPropertiesForGeometryType(G(t),n,F(t)?a.drawSource:null,r)),a.props.map.disableEventListener("singleclick"),a.drawInteraction.on("drawstart",function(t){this.sketchFeature=t.feature,this.selectInteraction&&(this.selectInteraction.getFeatures().clear(),this.selectInteraction.setActive(!1))},a),a.drawInteraction.on("drawend",function(n){var o=this;this.sketchFeature=n.feature,this.sketchFeature.set("id",N.v1());var a=this.sketchFeature.getGeometry(),s=this.drawLayer.getSource().getFeatures(),l=void 0,u=this.props.features,c=void 0,h=void 0;if(this.props.options.transformToFeatureCollection){var p=void 0;if("Circle"===t){h="Polygon";var d=a.getRadius(),f=a.getCenter(),m=this.polygonCoordsFromCircle(f,d);p=this.getNewFeature(h,m),f=B(f,this.getMapCrs(),"EPSG:4326",!1);var y=r&&r.features&&r.features.length&&r.features[0]&&r.features[0].features&&r.features[0].features.length&&r.features[0].features.filter(function(t){return t.properties.isDrawing})[0].properties.id||this.sketchFeature.get("id");p.setProperties({isCircle:!0,radius:d,center:[f.x,f.y],id:y})}else if("Polygon"===t){h=this.props.drawMethod;var v=a.getCoordinates();v[0].push(v[0][0]),p=this.getNewFeature(h,v)}else{h="Text"===t?"Point":this.props.drawMethod;var b=a.getCoordinates();p=this.getNewFeature(h,b),"Text"===t&&p.setProperties({isText:!0,valueText:"."})}var x=s.length>=1?[].concat(i(this.replaceCirclesWithPolygonsInFeatureColl(s))):[];p.getProperties().id||p.setProperties({id:N.v1()});var _=[].concat(i(x),[p]),C=$.writeFeaturesObject(_),T=new w.source.Vector({features:(new w.format.GeoJSON).readFeatures(C)});this.drawLayer.setSource(T);var k=z(C,this.getMapCrs(),"EPSG:4326");this.props.onGeometryChanged([k],this.props.drawOwner,this.props.options&&this.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),this.props.onEndDrawing(k,this.props.drawOwner),this.props.onDrawingFeatures([O(k.features)])}else{if("Circle"===t){h="Polygon";var L=a.getRadius(),I=a.getCenter(),A=this.polygonCoordsFromCircle(I,L),P=this.toMulti(this.createOLGeometry({type:h,coordinates:A}));if(1===u.length&&u[0]&&!u[0].geometry)l=[],c=new w.geom.GeometryCollection([P]);else if(l=this.toMulti(E(s).getGeometry()),l.getGeometries){var D=this.replaceCirclesWithPolygons(E(s));c=new w.geom.GeometryCollection([].concat(i(D),[P]))}else c=new w.geom.GeometryCollection([l,P]);this.sketchFeature.setGeometry(c)}else if("Text"===t||"MultiPoint"===t){var R=a.getCoordinates();h="MultiPoint";var j=this.toMulti(this.createOLGeometry({type:h,coordinates:[R]}));if(1!==u.length||u[0].geometry)if(l=this.toMulti(E(s).getGeometry()),l.getGeometries){var U=this.replaceCirclesWithPolygons(E(s));c=new w.geom.GeometryCollection([].concat(i(U),[j]))}else c=new w.geom.GeometryCollection([l,j]);else l=[],c=new w.geom.GeometryCollection([j]);this.sketchFeature.setGeometry(c)}else if(!F(t)){var H=void 0;c=null,l=1!==u.length||u[0].geometry?this.toMulti(E(s).getGeometry()):this.toMulti(this.createOLGeometry({type:t,coordinates:null}));var Y=s.map(function(t){return"GeometryCollection"===t.getGeometry().getType()?t.getGeometry().getGeometries():t.getGeometry()});"GeometryCollection"===s[0].getGeometry().getType()&&(Y=Y[0]);var V=S(Y,function(e){return e.getType()===t});if(V?this.appendToMultiGeometry(t,V,a):H=this.toMulti(this.createOLGeometry({type:t,coordinates:[a.getCoordinates()]})),a.getType()!==G(l.getType())){var W=E(s).getGeometry().getGeometries?this.replaceCirclesWithPolygons(E(s)):[];if(V){var q=W.map(function(t){return t.getType()===V.getType()?V:t});c=new w.geom.GeometryCollection(q)}else c="GeometryCollection"===l.getType()?new w.geom.GeometryCollection([].concat(i(W),[H])):"Text"===t?new w.geom.GeometryCollection([H]):new w.geom.GeometryCollection([l,H]);this.sketchFeature.setGeometry(c)}else this.sketchFeature.setGeometry(V)}var Z=this.props.features[0].properties;"Text"===t&&(Z=M({},this.props.features[0].properties,{textValues:(this.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(this.props.features[0].properties.textGeometriesIndexes||[]).concat([this.sketchFeature.getGeometry().getGeometries().length-1])})),"Circle"===t&&(Z=M({},Z,{circles:(this.props.features[0].properties.circles||[]).concat([this.sketchFeature.getGeometry().getGeometries().length-1])}));var X=this.fromOLFeature(this.sketchFeature,e,Z),K=new w.source.Vector({features:(new w.format.GeoJSON).readFeatures(X)});this.drawLayer.setSource(K);var Q=z($.writeFeatureObject(this.sketchFeature.clone()),this.getMapCrs(),"EPSG:4326");"Polygon"===Q.geometry.type&&Q.geometry.coordinates[0].push(Q.geometry.coordinates[0][0]),this.props.onGeometryChanged([Q],this.props.drawOwner,this.props.options&&this.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),this.props.onEndDrawing(X,this.props.drawOwner),X=z(X,this.getMapCrs(),"EPSG:4326");var J=F(this.props.drawMethod)?this.props.features.concat([g({},X,{properties:Z})]):[g({},X,{properties:Z})];this.props.options.stopAfterDrawing?this.props.onChangeDrawingStatus("stop",this.props.drawMethod,this.props.drawOwner,J):this.props.onChangeDrawingStatus("replace",this.props.drawMethod,this.props.drawOwner,J.map(function(t){return z(t,"EPSG:4326",o.getMapCrs())}),M({},this.props.options,{featureProjection:this.getMapCrs()})),this.selectInteraction&&(this.addSelectInteraction(),this.selectInteraction.setActive(!0))}},a),a.props.map.addInteraction(a.drawInteraction),a.setDoubleClickZoomEnabled(!1)},a.drawPropertiesForGeometryType=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={source:a.drawSource||n,type:t,style:"Marker"===t?K.getMarkerStyle(r.style):new w.style.Style({fill:new w.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new w.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new w.style.Circle({radius:5,stroke:new w.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new w.style.Fill({color:"rgba(255, 255, 255, 0.2)"})})}),features:new w.Collection,condition:w.events.condition.always},s={};switch(t){case"BBOX":s.type="LineString",s.maxPoints=2,s.geometryFunction=function(t,e){var n=e;n||(n=new w.geom.Polygon(null));var i=t[0],r=t[1];return n.setCoordinates([[i,[i[0],r[1]],r,[r[0],i[1]],i]]),n};break;case"Circle":s.maxPoints=100,r.options&&r.options.geodesic?s.geometryFunction=function(t,e){var n=e;n||(n=new w.geom.Polygon(null),n.setProperties({geodesicCenter:[].concat(i(t[0]))},!0));var r=a.props.map.getView().getProjection().getCode(),o=[].concat(i(t)).map(function(t){return a.reprojectCoordinatesToWGS84(t,r)}),l=U(o,"haversine"),u=w.geom.Polygon.circular(V,o[0],l,s.maxPoints).clone().transform("EPSG:4326",r).getCoordinates();return n.setCoordinates(u),n}:s.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(s.maxPoints=e);var l="Text"===t||"Marker"===t?"Point":t;s.type=l,s.geometryFunction=function(t,e){var n=e;return n||(n=a.createOLGeometry({type:l,coordinates:null,options:r.options})),n.setCoordinates(t),n};break;default:return{}}return M({},o,s)},a.setDoubleClickZoomEnabled=function(t){for(var e=a.props.map.getInteractions(),n=0;n<e.getLength();n++){var i=e.item(n);if(i instanceof w.interaction.DoubleClickZoom){i.setActive(t);break}}},a.updateFeatureExtent=function(t){var e=t.features.getArray(),n=a.props.features.map(function(t){var n=E(e.filter(function(e){return a.fromOLFeature(e).id===t.id}));return n?M({},t,{geometry:n.geometry,center:n.center,extent:n.extent,coordinate:n.coordinates,radius:n.radius}):t});a.props.onChangeDrawingStatus("replace",a.props.drawMethod,a.props.drawOwner,n)},a.addInteractions=function(t){a.clean(),a.drawLayer||a.addLayer(t),a.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(a.addSelectInteraction(),a.translateInteraction&&a.props.map.removeInteraction(a.translateInteraction),a.translateInteraction=new w.interaction.Translate({features:a.selectInteraction.getFeatures()}),a.translateInteraction.setActive(!1),a.translateInteraction.on("translateend",a.updateFeatureExtent),a.props.map.addInteraction(a.translateInteraction),a.addTranslateListener(),a.modifyInteraction&&a.props.map.removeInteraction(a.modifyInteraction),a.modifyInteraction=new w.interaction.Modify({features:a.selectInteraction.getFeatures(),condition:function(t){return w.events.condition.primaryAction(t)&&!w.events.condition.altKeyOnly(t)}}),a.props.map.addInteraction(a.modifyInteraction)),a.drawSource.clear(),t.features.length>0&&a.addFeatures(t)},a.addSingleClickListener=function(t,e){return e.map.on("singleclick",t)},a.addDrawOrEditInteractions=function(t){a.state&&a.state.keySingleClickCallback&&w.Observable.unByKey(a.state.keySingleClickCallback);var e=function(e){if(a.drawSource&&t.options){var n=a.drawSource.getFeatures(),r=0,o=n&&n.length&&n.filter(function(t,e){return t.getProperties().canEdit&&(r=e),t.getProperties().canEdit
})[0]||null,s=o&&o.getGeometry()&&o.getGeometry().getCoordinates&&o.getGeometry().getCoordinates()||[],l=[],u=void 0,c=t.drawMethod;switch(c){case"Polygon":s.length?X(s)?(l=C(s[0],0,s[0].length-1),l=l.concat([e.coordinate]),l=[l.concat([s[0][0]])]):l=s[0].length>1?[[].concat(i(s[0]),[e.coordinate,s[0][0]])]:[[].concat(i(s[0]),[e.coordinate])]:l=[[e.coordinate]],u=a.getNewFeature(c,l),u.setProperties(T(o&&o.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(i(s),[e.coordinate]):[e.coordinate],u=a.getNewFeature(c,l),u.setProperties(T(o&&o.getProperties()||{},"geometry"));break;case"Circle":c="Polygon";var h=o&&o.getProperties()&&o.getProperties().radius||1e4,p=e.coordinate,d=a.polygonCoordsFromCircle(p,100);u=a.getNewFeature(c,d),p=B(p,a.getMapCrs(),"EPSG:4326",!1),u.setProperties(T(o&&o.getProperties()||{},"geometry")),u.setProperties({isCircle:!0,radius:h,center:[p.x,p.y]});break;case"Text":c="Point",u=a.getNewFeature(c,e.coordinate),u.setProperties(T(o&&o.getProperties()||{},"geometry")),u.setProperties({isText:!0,valueText:o&&o.getProperties()&&o.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=e.coordinate,u=a.getNewFeature(c,l),u.setProperties(T(o&&o.getProperties()||{},"geometry"))}var f=z($.writeFeaturesObject([u.clone()]),a.getMapCrs(),"EPSG:4326"),m=[].concat(i(f.features[0].geometry.coordinates)),y={type:"Feature",geometry:{coordinates:m,type:c},properties:g({},T(u.getProperties(),"geometry"))};a.props.onDrawingFeatures([y]),u=q(u,a.getMapCrs()),n[r]=u,a.drawSource=new w.source.Vector({features:n}),a.drawLayer.setSource(a.drawSource),a.addModifyInteraction(t)}};a.clean();var n=z(E(t.features),t.options.featureProjection,a.getMapCrs())||{},r=void 0;r=n&&n.features&&n.features.length?M({},t,{features:[n]}):n&&n.properties&&n.properties.isCircle?M({},t,{features:[]}):M({},t,{features:n.geometry?[g({},n.geometry,{properties:n.properties})]:[]}),a.drawLayer?(a.drawSource.clear(),a.addFeatures(r)):a.addLayer(r),t.options.editEnabled&&(a.addModifyInteraction(t),!1!==t.options.translateEnabled&&a.addTranslateInteraction(),t.options.addClickCallback&&a.setState({keySingleClickCallback:a.addSingleClickListener(e,t)})),t.options&&t.options.selectEnabled&&a.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&a.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)},a.addSelectInteraction=function(t,e){a.selectInteraction&&a.props.map.removeInteraction(a.selectInteraction);var n=void 0;if(t&&(n=S(a.drawSource.getFeatures(),function(e){return e.getProperties().id===t.properties.id}))&&a.selectFeature(n),a.selectInteraction=new w.interaction.Select({layers:[a.drawLayer],features:new w.Collection(t&&n?[n]:null)}),n){var i=a.convertGeometryTypeToStyleType(e.drawMethod);n.setStyle(K.getStyle(g({},e,{style:g({},e.style,{type:i,highlight:!0,useSelectedStyle:e.options.useSelectedStyle})}),!1,e.features[0]&&e.features[0].properties&&e.features[0].properties.valueText&&[e.features[0].properties.valueText]||[]))}a.selectInteraction.on("select",function(t){var e=a.selectInteraction.getFeatures().getArray(),n=[];if(e.length&&(n=a.props.features.map(function(n){var i=!1;if("FeatureCollection"===n.type&&e.length>0){var r=E(e);if(a.selectFeature(r),r.getGeometry&&"Circle"===r.getGeometry().getType()){var o=r.getGeometry().getRadius(),s=B(r.getGeometry().getCenter(),a.getMapCrs(),"EPSG:4326");r.setProperties({center:[s.x,s.y],radius:o}),r=a.replaceCircleWithPolygon(r.clone())}return a.drawSource.getFeatures().forEach(function(t){t.getProperties().id===r.getProperties().id?a.selectFeature(r):a.deselectFeature(t)}),z($.writeFeatureObject(r.clone()),a.getMapCrs(),"EPSG:4326")}return i=e.reduce(function(t,e){return e.get("id")===n.id||t},!1),M({},n,{selected:i,selectedFeature:t.selected})}),a.props.onSelectFeatures(n)),0===e.length)return a.props.onSelectFeatures([]),a.drawSource.getFeatures().map(function(t){return a.deselectFeature(t)}),null}),a.props.map.addInteraction(a.selectInteraction)},a.selectFeature=function(t){t.setProperties({selected:!0})},a.deselectFeature=function(t){t.setProperties({selected:!1})},a.removeDrawInteraction=function(){a.drawInteraction&&(a.props.map.removeInteraction(a.drawInteraction),a.drawInteraction=null,a.sketchFeature=null,setTimeout(function(){return a.props.map.enableEventListener("singleclick")},500),setTimeout(function(){return a.setDoubleClickZoomEnabled(!0)},250))},a.removeInteractions=function(){a.removeDrawInteraction(),a.selectInteraction&&(a.props.map.enableEventListener("singleclick"),a.props.map.removeInteraction(a.selectInteraction)),a.modifyInteraction&&(a.props.map.removeInteraction(a.modifyInteraction),a.props.map.un("singleclick")),a.translateInteraction&&a.props.map.removeInteraction(a.translateInteraction)},a.clean=function(t){t||a.removeInteractions(),a.drawLayer&&(a.props.map.removeLayer(a.drawLayer),a.geojson=null,a.drawLayer=null,a.drawSource=null)},a.fromOLFeature=function(t,e,n){var r=t.getGeometry(),o=r.getExtent(),s=r.getProperties(),l=s&&s.geodesicCenter||w.extent.getCenter(o),u=void 0,c=a.props.map.getView().getProjection().getCode(),h=void 0,p=r.getType();if(r.getCoordinates){if(u=r.getCoordinates(),e&&(u=_(e,u),r.setCoordinates(u)),"Circle"===a.props.drawMethod)if(a.props.options.geodesic){var d=[[].concat(i(l)),[].concat(i(u[0][0]))].map(function(t){return a.reprojectCoordinatesToWGS84(t,c)});h=U(d,"haversine")}else h=a.calculateRadius(l,u);return M({},{id:t.get("id"),type:p,extent:o,center:l,coordinates:u,radius:h,style:a.fromOlStyle(t.getStyle()),projection:a.getMapCrs()})}var f=r.getGeometries().map(function(r,s){if(o=r.getExtent(),l=w.extent.getCenter(o),u=r.getCoordinates(),e&&(u=_(e,u),r.setCoordinates(u)),n.circles&&-1!==n.circles.indexOf(s))if(a.props.options.geodesic){var p=[[].concat(i(l)),[].concat(i(u[0][0]))].map(function(t){return a.reprojectCoordinatesToWGS84(t,c)});h=U(p,"haversine")}else h=a.calculateRadius(l,u);else h=0;return M({},{id:t.get("id"),type:r.getType(),extent:o,center:l,coordinates:u,radius:h,style:a.fromOlStyle(t.getStyle()),projection:a.getMapCrs()})});return p="GeometryCollection",M({},{type:"Feature",id:t.get("id"),style:a.fromOlStyle(t.getStyle()),geometry:{type:p,geometries:f},projection:c})},a.reprojectCoordinatesToWGS84=function(t,e){var n=B(t,e,"EPSG:4326");return[n.x,n.y]},a.toOlFeature=function(t){return E(a.drawSource.getFeatures().filter(function(e){return e.get("id")===t.id}))},a.fromOlStyle=function(t){return t?{fillColor:a.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}},a.toOlStyle=function(t,e,n){var r=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof r&&(r=a.hexToRgb(r).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(r[3]=t.fillTransparency);var o=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";e&&(o="#4a90e2"),o=a.hexToRgb(o).concat([t&&t.opacity||1]);var s=new w.style.Style({fill:new w.style.Fill({color:r}),stroke:new w.style.Stroke({color:o,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new w.style.Text({text:t&&t.text?t.text:"",fill:new w.style.Fill({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new w.style.Stroke({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===n?[].concat(i(K.getMarkerStyleLegacy({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[s]):t&&(t.iconUrl||t.iconGlyph)?K.getMarkerStyleLegacy({style:t}):s},a.hexToRgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.replace(e,function(t,e,n,i){return e+e+n+n+i+i}));return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null},a.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},a.rgbToHex=function(t){return"#"+a.componentToHex(t[0])+a.componentToHex(t[1])+a.componentToHex(t[2])},a.addModifyInteraction=function(t){a.modifyInteraction&&a.props.map.removeInteraction(a.modifyInteraction);var e=t&&t.options&&t.options.editFilter;a.modifyFeatureColl=new w.Collection(L(a.drawLayer.getSource().getFeatures(),e)),a.modifyInteraction=new w.interaction.Modify({features:a.modifyFeatureColl,condition:function(t){return w.events.condition.primaryAction(t)&&!w.events.condition.altKeyOnly(t)}}),a.modifyInteraction.on("modifyend",function(t){var e=t.features.getArray().map(function(t){var e=t.clone();if(e.getGeometry&&"GeometryCollection"===e.getGeometry().getType()&&e.getGeometry().setGeometries(a.replaceCirclesWithPolygons(e)),e.getGeometry&&e.getGeometry()&&"Circle"===e.getGeometry().getType()){var n=B(e.getGeometry().getCenter(),a.getMapCrs(),"EPSG:4326"),i=e.getGeometry().getRadius();e.setProperties({center:[n.x,n.y],radius:i}),t.setProperties({center:[n.x,n.y],radius:i}),e=a.replaceCircleWithPolygon(e.clone())}return z($.writeFeatureObject(e),a.getMapCrs(),"EPSG:4326")});a.props.options.transformToFeatureCollection?a.props.onDrawingFeatures(e):a.props.onGeometryChanged(e,a.props.drawOwner,!1,"editing","editing")}),a.props.map.addInteraction(a.modifyInteraction)},a.addTranslateInteraction=function(){a.translateInteraction&&a.props.map.removeInteraction(a.translateInteraction),a.translateInteraction=new w.interaction.Translate({features:new w.Collection(a.drawLayer.getSource().getFeatures())}),a.translateInteraction.setActive(!1),a.translateInteraction.on("translateend",function(t){var e=t.features.getArray().map(function(t){var e=t.clone();if(e.getGeometry&&"GeometryCollection"===e.getGeometry().getType()&&e.getGeometry().setGeometries(a.replaceCirclesWithPolygons(e)),e.getGeometry&&e.getGeometry()&&"Circle"===e.getGeometry().getType()){var n=B(e.getGeometry().getCenter(),a.getMapCrs(),"EPSG:4326"),i=e.getGeometry().getRadius();e.setProperties({center:[n.x,n.y],radius:i}),e=a.replaceCircleWithPolygon(e)}return t.getProperties()&&t.getProperties().selected&&a.props.onSelectFeatures([z($.writeFeatureObject(e),a.getMapCrs(),"EPSG:4326")]),z($.writeFeatureObject(e),a.getMapCrs(),"EPSG:4326")});a.props.options.transformToFeatureCollection?a.props.onDrawingFeatures(e):a.props.onGeometryChanged(e,a.props.drawOwner,a.props.drawOwner,!1,"Text"===a.props.drawMethod,"Circle"===a.props.drawMethod)}),a.addTranslateListener(),a.props.map.addInteraction(a.translateInteraction)},a.createOLGeometry=function(t){var e=t.type,n=t.coordinates,i=t.radius,r=t.center,o=t.geometries,s=t.projection,l=t.options,u=void 0===l?{}:l;return"GeometryCollection"===e?o&&o.length?new w.geom.GeometryCollection(o.map(function(t){return a.olGeomFromType({type:t.type})})):new w.geom.GeometryCollection([]):a.olGeomFromType({type:e,coordinates:n,radius:i,center:r,projection:s,options:u})},a.olGeomFromType=function(t){var e=t.type,n=t.coordinates,i=t.radius,r=t.center,o=t.projection,s=t.options,l=void 0;switch(e){case"Point":case"Marker":case"Text":l=new w.geom.Point(n||[]);break;case"LineString":l=new w.geom.LineString(n||[]);break;case"MultiPoint":l=new w.geom.MultiPoint(n||[]);break;case"MultiLineString":l=new w.geom.MultiLineString(n||[]);break;case"MultiPolygon":l=new w.geom.MultiPolygon(n||[]);break;default:var u=k(r)?{x:r[0],y:r[1]}:r,c=o&&!isNaN(parseFloat(i))&&u&&!I(u.x)&&!I(u.y)&&!isNaN(parseFloat(u.x))&&!isNaN(parseFloat(u.y));l=c?s.geodesic?w.geom.Polygon.circular(V,a.reprojectCoordinatesToWGS84([u.x,u.y],o),i,100).clone().transform("EPSG:4326",o):w.geom.Polygon.fromCircle(new w.geom.Circle([u.x,u.y],i),100):new w.geom.Polygon(n&&k(n[0])?n:[]),l&&c&&s.geodesic&&l.setProperties({geodesicCenter:[u.x,u.y]},!0)}return l},a.convertGeometryTypeToStyleType=function(t){switch(t){case"BBOX":return"LineString";default:return t}},a.appendToMultiGeometry=function(t,e,n){switch(t){case"MultiPoint":e.appendPoint(n);break;case"MultiLineString":e.appendLineString(n);break;case"MultiPolygon":var i=n.getCoordinates();i[0].push(i[0][0]),n.setCoordinates(i),e.appendPolygon(n)}},a.calculateRadius=function(t,e){return k(e)&&k(e[0])&&k(e[0][0])?Math.sqrt(Math.pow(t[0]-e[0][0][0],2)+Math.pow(t[1]-e[0][0][1],2)):100},a.polygonFromCircle=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return w.geom.Polygon.fromCircle(new w.geom.Circle(t,e),n)},a.polygonCoordsFromCircle=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return a.polygonFromCircle(t,e,n).getCoordinates()},a.replaceCirclesWithPolygonsInFeatureColl=function(t){return t.map(function(t){return"Circle"!==t.getGeometry().getType()?t:a.replaceCircleWithPolygon(t)})},a.replaceCircleWithPolygon=function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var e=t.getGeometry().getCenter(),n=t.getGeometry().getRadius();return t.setGeometry(a.polygonFromCircle(e,n)),t}return t},a.replaceCirclesWithPolygons=function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map(function(e,n){if("Circle"!==e.getType())return e;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var i=e.getCenter(),r=e.getRadius();return a.polygonFromCircle(i,r)}return e})},a.replacePolygonsWithCircles=function(t){return t.getGeometry().getGeometries().map(function(e,n){if("Polygon"!==e.getType())return e;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var i=e.getExtent(),r=w.extent.getCenter(i),o=a.calculateRadius(r,e.getCoordinates());return new w.geom.Circle(r,o)}return e})},a.addTranslateListener=function(){document.addEventListener("keydown",function(t){t.altKey&&"AltLeft"===t.code&&a.translateInteraction.setActive(!0)}),document.addEventListener("keyup",function(t){"AltLeft"===t.code&&a.translateInteraction.setActive(!1)})},s=n,o(a,s)}return a(e,t),m(e,[{key:"componentWillReceiveProps",value:function(t){if(this.drawLayer&&this.updateFeatureStyles(t.features),!t.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==t.drawStatus||this.props.drawMethod!==t.drawMethod||this.props.features!==t.features)switch(t.drawStatus){case"create":this.addLayer(t);break;case"start":this.addInteractions(t);break;case"drawOrEdit":this.addDrawOrEditInteractions(t);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(t);break;case"updateStyle":this.updateOnlyFeatureStyles(t);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(t);break;default:return}}},{key:"render",value:function(){return null}}]),e}(b.Component),s.propTypes={map:P.object,drawOwner:P.string,drawStatus:P.string,drawMethod:P.string,options:P.object,features:P.array,onChangeDrawingStatus:P.func,onGeometryChanged:P.func,onDrawStopped:P.func,onDrawingFeatures:P.func,onSelectFeatures:P.func,onEndDrawing:P.func,style:P.object},s.defaultProps={map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}},l));t.exports=tt}).call(this)}finally{}},,,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ScaleBox:{displayName:"ScaleBox"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(854),w=b.Form,x=b.FormControl,_=b.FormGroup,E=b.ControlLabel,S=n(196),C=n(14),T=C.isEqual,k=function(t){return function(e){return m(e,t)}}("ScaleBox")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onComboChange=function(t){var e=parseInt(t.nativeEvent.target.value,10);o.props.onChange(e,o.props.scales[e])},o.getOptions=function(){return o.props.scales.map(function(t,e){return v.createElement("option",{value:e,key:e},o.props.template(t,e))}).filter(function(t,e){return e>=o.props.minZoom})},a=n,r(o,a)}return o(e,t),f(e,[{key:"shouldComponentUpdate",value:function(t){return!T(t,this.props)}},{key:"render",value:function(){var t=null;return t=this.props.readOnly?v.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?v.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):v.createElement(w,{inline:!0},v.createElement(_,{bsSize:"small"},v.createElement(E,null,this.props.label),v.createElement(x,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),v.createElement("div",{id:this.props.id,style:this.props.style},t)}}]),e}(v.Component),a.propTypes={id:y.string,style:y.object,scales:y.array,currentZoomLvl:y.number,minZoom:y.number,onChange:y.func,readOnly:y.bool,label:y.oneOfType([y.func,y.string,y.object]),template:y.func,useRawInput:y.bool},a.defaultProps={id:"mapstore-scalebox",scales:S.getGoogleMercatorScales(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(t){return t<1?Math.round(1/t)+" : 1":"1 : "+Math.round(t)},useRawInput:!1},s));t.exports=k}).call(this)}finally{}},,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={CoordinateEntry:{displayName:"CoordinateEntry"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(3026),x=n(3025),_=n(14),E=_.isNil,S=n(2710),C=function(t){return function(e){return y(e,t)}}("CoordinateEntry")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.defaultProps={format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}},a=n,r(o,a)}return o(e,t),g(e,[{key:"render",value:function(){var t=this.props.format;return"decimal"===t||E(t)?v.createElement(w,f({},this.props,{format:this.props.format||"decimal"})):v.createElement(x,this.props)}}]),e}(v.Component),a.propTypes={idx:b.number,value:b.number,constraints:b.object,format:b.string,aeronauticalOptions:b.object,coordinate:b.string,onChange:b.func,onKeyDown:b.func},s));t.exports=S(C)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={CoordinatesRow:{displayName:"CoordinatesRow"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(854),w=b.Row,x=b.Col,_=b.Glyphicon,E=b.Button,S=n(2166),C=n(3028),T=n(2643),k=n(2158),O=n(2645),L=function(t){return function(e){return m(e,t)}}("CoordinatesRow")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.defaultProps={showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){}},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=this.props.idx,n={marginLeft:-5,marginRight:-5},i=y.createElement("div",null,y.createElement(E,{disabled:!this.props.isDraggableEnabled,className:"square-button-md no-border btn btn-default",style:{display:"flex",cursor:this.props.isDraggableEnabled&&"grab"}},y.createElement(_,{glyph:"menu-hamburger",style:{pointerEvents:this.props.isDraggableEnabled?"auto":"none"}})));return y.createElement(w,{className:"coordinateRow "+(this.props.customClassName||""),style:this.props.customClassName?{}:n,onMouseEnter:function(){t.props.onMouseEnter&&t.props.component.lat&&t.props.component.lon&&t.props.onMouseEnter(t.props.component)},onMouseLeave:function(){t.props.onMouseLeave&&t.props.component.lat&&t.props.component.lon&&t.props.onMouseLeave()}},y.createElement(x,{xs:1},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(i):i:null),y.createElement(x,{xs:5},this.props.showLabels&&y.createElement("span",null,y.createElement(k,{msgId:"latitude"})),y.createElement(T,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:e,value:this.props.component.lat,onChange:function(n){return t.props.onChange(e,"lat",n)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}})),y.createElement(x,{xs:5},this.props.showLabels&&y.createElement("span",null,y.createElement(k,{msgId:"longitude"})),y.createElement(T,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:e,value:this.props.component.lon,onChange:function(n){return t.props.onChange(e,"lon",n)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}})),y.createElement(x,{xs:1},y.createElement(S,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{className:"square-button-md no-border"},buttons:[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){t.props.onRemove(e)}},{buttonConfig:{title:y.createElement(_,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){t.props.onChangeFormat("decimal")},text:y.createElement(k,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){t.props.onChangeFormat("aeronautical")},text:y.createElement(k,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:O}]})))}}]),e}(y.Component),a.propTypes={idx:v.number,component:v.object,onRemove:v.func,onChange:v.func,onChangeFormat:v.func,onMouseEnter:v.func,format:v.string,type:v.string,onMouseLeave:v.func,connectDragSource:v.func,aeronauticalOptions:v.object,customClassName:v.string,isDraggable:v.bool,isDraggableEnabled:v.bool,showLabels:v.bool,showDraggable:v.bool,removeVisible:v.bool,formatVisible:v.bool,removeEnabled:v.bool},s));t.exports=C(L)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(854),r=i.Glyphicon,o=i.DropdownButton,a=i.MenuItem,s=n(2173),l=n(0),u=n(275),c=s(o),h={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:u()},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.menuOptions,i=void 0===n?[]:n,o=t.buttonConfig,s=void 0===o?{}:o;return l.createElement(c,e({},h,s),i.length?i.map(function(t,e){var n=t.glyph,i=t.text,o=t.onClick,s=t.active,u=void 0!==s&&s;return l.createElement(a,{active:u,eventKey:e,onClick:o,key:e},n&&l.createElement(r,{glyph:n})," ",i)}):null)};t.exports=p}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(133),i=e.connect,r=n(878),o=r.changeHelpwinVisibility,a=r.changeHelpText;t.exports=i(function(t){return{helpEnabled:t.controls&&t.controls.help&&t.controls.help.enabled}},{changeHelpText:a,changeHelpwinVisibility:o})(n(3010))}).call(this)}finally{}},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(3097),o=i(r),a=n(2582),s=i(a);t.exports={TransitionGroup:s.default,CSSTransitionGroup:o.default}},,,,,,,,,,,,,,,,,function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./cesium/index":2730,"./leaflet/index":2732,"./openlayers/index":2733};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=2666},function(t,e,n){"use strict";function i(t,e){if(e=e||{},!n.i(o.c)(e))throw new Error("options is invalid");var i=e.properties;if(!t)throw new Error("geojson is required");var a=n.i(r.a)(t),s=(a[0]+a[2])/2,l=(a[1]+a[3])/2;return n.i(o.d)([s,l],i)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2668),o=n(45);e.default=i},function(t,e,n){"use strict";function i(t){var e=[1/0,1/0,-1/0,-1/0];return n.i(r.a)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}var r=n(2669);e.a=i},function(t,e,n){"use strict";function i(t,e,n){if(null!==t)for(var r,o,a,s,l,u,c,h,p=0,d=0,f=t.type,g="FeatureCollection"===f,m="Feature"===f,y=g?t.features.length:1,v=0;v<y;v++){c=g?t.features[v].geometry:m?t.geometry:t,h=!!c&&"GeometryCollection"===c.type,l=h?c.geometries.length:1;for(var b=0;b<l;b++){var w=0,x=0;if(null!==(s=h?c.geometries[b]:c)){u=s.coordinates;var _=s.type;switch(p=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(u,d,v,w,x))return!1;d++,w++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],d,v,w,x))return!1;d++,"MultiPoint"===_&&w++}"LineString"===_&&w++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(o=0;o<u[r].length-p;o++){if(!1===e(u[r][o],d,v,w,x))return!1;d++}"MultiLineString"===_&&w++,"Polygon"===_&&x++}"Polygon"===_&&w++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===_&&(x=0),o=0;o<u[r].length;o++){for(a=0;a<u[r][o].length-p;a++){if(!1===e(u[r][o][a],d,v,w,x))return!1;d++}x++}w++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}n(45);n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){if(l.length)throw l.shift()}function r(t){var e;e=s.length?s.pop():new o,e.task=t,a(e)}function o(){this.task=null}var a=n(2671),s=[],l=[],u=a.makeRequestCallFromTimer(i);t.exports=r,o.prototype.call=function(){try{this.task.call()}catch(t){r.onerror?r.onerror(t):(l.push(t),u())}finally{this.task=null,s[s.length]=this}}},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>u){for(var e=0,n=a.length-l;e<n;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,s=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,l=0,u=1024,c=void 0!==e?e:self,h=c.MutationObserver||c.WebKitMutationObserver;o="function"==typeof h?function(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(e,n(15))},function(t,e,n){"use strict";function i(t){return{type:o,state:t}}function r(t){return{type:a,error:t}}var o="CHANGE_LOCATE_STATE",a="LOCATE_ERROR";t.exports={CHANGE_LOCATE_STATE:o,LOCATE_ERROR:a,changeLocateState:i,onLocateError:r}},function(t,e,n){"use strict";function i(t){return{type:r,mapType:t}}var r="MAP_TYPE_CHANGED";t.exports={MAP_TYPE_CHANGED:r,changeMapType:i}},,function(t,e,n){"use strict";function i(t){return{type:r,geomType:t.geomType,point:t.point,line:t.line,polygon:t.polygon}}var r="CHANGE_SELECTION_STATE";t.exports={CHANGE_SELECTION_STATE:r,changeSelectionState:i}},function(t,e,n){"use strict";function i(t,e,n){return{type:I,status:"loading",searchText:t,start:e,limit:n}}function r(t,e,n,i,r){return{type:I,status:"success",searchText:t,start:e,limit:n,users:i,totalCount:r}}function o(t,e,n,i){return{type:I,status:"error",searchText:t,start:e,limit:n,error:i}}function a(t,e){var n=e&&e.params,a=void 0,s=void 0;return n&&(a=n.start,s=n.limit),function(n,l){var u=t,c=l&&l();if(c){var h=j(c,"users.searchText");u=t||h||"*",a=null!==a&&void 0!==a?a:j(c,"users.start")||0,s=s||j(c,"users.limit")||12}return n(i(u,a,s)),F.getUsers(u,L({},e,{params:{start:a,limit:s}})).then(function(t){var e=void 0;e=t&&t.ExtUserList&&t.ExtUserList.User?j(t,"ExtUserList.User"):[];var i=j(t,"ExtUserList.UserCount");e=Array.isArray(e)?e:[e],e=e.map(function(t){var e=j(t,"groups.group");return e=Array.isArray(e)?e:[e],z({},t,{groups:e})}),n(r(u,a,s,e,i))}).catch(function(t){n(o(u,a,s,t))})}}function s(t){return{type:D,status:"success",groups:t}}function l(t){return{type:D,status:"error",error:t}}function u(t){return function(e){return e({type:D,status:"loading"}),F.getAvailableGroups(t).then(function(t){e(s(t))}).catch(function(t){e(l(t))})}}function c(t){return{type:A,status:"loading",user:t}}function h(t){return{type:A,status:"success",user:t}}function p(t,e){return{type:A,status:"error",user:t,error:e}}function d(t){return{type:A,user:t}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{params:{includeattributes:!0}}
;return function(n,i){var r=i&&i();if(r&&(!r.users||!r.users.groups)){var o=r.security&&r.security.user;n(u(o||{role:"ADMIN"}))}if(t&&t.id)return n(c(t)),F.getUser(t.id,e).then(function(e){var i=e.User,r=i.attribute;r&&(i=L({},i,{attribute:Array.isArray(r)?r:[r]})),i&&(i=L({},i,{groups:t.groups})),n(h(i))}).catch(function(e){n(p(t,e))});n(d(t))}}function g(t){return{type:M,status:"saving",user:t}}function m(t){return{type:M,status:"saved",user:t&&t.User}}function y(t,e){return{type:M,status:"error",user:t,error:e}}function v(t){return{type:M,status:"creating",user:t}}function b(t,e){return{type:M,status:"created",user:L({},e,{id:t})}}function w(t,e){return{type:M,status:"error",user:t,error:e}}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=z({},L({},t));if(i&&i.lastError&&delete i.lastError,i&&i.id)return n(g(i)),F.updateUser(i.id,L({},i,{groups:{group:i.groups}}),e).then(function(t){n(m(t)),n(a())}).catch(function(t){n(y(i,t))});n(v(i));var r=L({},i);return i&&i.groups&&(r=L({},i,{groups:{group:i.groups.filter(function(t){return"everyone"!==t.groupName})}})),F.createUser(r,e).then(function(t){n(b(t,i)),n(a())}).catch(function(t){n(w(i,t))})}}function _(t,e){return{type:P,key:t,newValue:e}}function E(t){return{type:N,status:"deleting",id:t}}function S(t){return{type:N,status:"deleted",id:t}}function C(t,e){return{type:N,status:"error",id:t,error:e}}function T(t,e){return{type:N,status:t,id:e}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm";return"confirm"===e||"cancelled"===e?T(e,t):"delete"===e?function(e){e(E(t)),F.deleteUser(t).then(function(){e(S(t)),e(a())}).catch(function(n){e(C(t,n))})}:void 0}function O(t){return{type:R,text:t}}var L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},I="USERMANAGER_GETUSERS",A="USERMANAGER_EDIT_USER",P="USERMANAGER_EDIT_USER_DATA",M="USERMANAGER_UPDATE_USER",N="USERMANAGER_DELETE_USER",D="USERMANAGER_GETGROUPS",R="USERS_SEARCH_TEXT_CHANGED",F=n(277),G=n(14),j=G.get,z=G.assign;t.exports={getUsers:a,USERMANAGER_GETUSERS:I,editUser:f,USERMANAGER_EDIT_USER:A,changeUserMetadata:_,USERMANAGER_EDIT_USER_DATA:P,saveUser:x,USERMANAGER_UPDATE_USER:M,deleteUser:k,USERMANAGER_DELETE_USER:N,getGroups:u,USERMANAGER_GETGROUPS:D,usersSearchTextChanged:O,USERS_SEARCH_TEXT_CHANGED:R}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(435),a=o.injectIntl,s=n(4),l=n(14),u=l.omit,c=n(428),h=c.compose,p=c.branch,d=c.getContext,f=c.withProps,g=c.withPropsOnChange,m=c.mapProps,y=function(t){return m(function(e){return u(e,t)})},v={locale:navigator&&navigator.language,formats:{},messages:{},defaultLocale:"en",defaultFormats:{},formatDate:function(t){return t},formatTime:function(t){return t},formatRelative:function(t){return t},formatNumber:function(t){return t},formatPlural:function(t){return t},formatMessage:function(t){return t},formatHTMLMessage:function(t){return t},now:function(){return new Date}};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(d({intl:s.object}),p(function(t){return!!t.intl},a,f({intl:v})),g(["intl"],function(e){var n=e.intl,o=void 0===n?{}:n;return t.reduce(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return r({},t,i({},e,o[e]))},{})}),y(["intl"]))}},function(t,e,n){"use strict";var i=n(428),r=i.withHandlers,o=i.defaultProps,a=n(276),s=r({onNext:function(t){var e=t.index,n=void 0===e?0:e,i=t.setIndex,r=void 0===i?function(){}:i,o=t.validResponses,a=void 0===o?[]:o;return function(){r(Math.min(a.length-1,n+1))}},onPrevious:function(t){var e=t.index,n=t.setIndex,i=void 0===n?function(){}:n;return function(){i(Math.max(0,e-1))}}}),l=o({format:a.getDefaultInfoFormatValue(),validator:a.getValidator});t.exports={defaultViewerHandlers:s,defaultViewerDefaultProps:l}},function(t,e,n){"use strict";var i=n(428),r=i.lifecycle,o=i.withHandlers,a=i.compose,s=n(431),l=s.set,u=n(14),c=u.isEqual,h=u.isNil,p=o({needsRefresh:function(){return function(t,e){if(e.enabled&&e.point&&e.point.pixel){if(!t.point||!t.point.pixel||t.point.pixel.x!==e.point.pixel.x||t.point.latlng!==e.point.latlng||t.point.pixel.y!==e.point.pixel.y)return!0;if(!t.point||!t.point.pixel||e.point.pixel&&t.format!==e.format)return!0}return!1}},onClose:function(t){var e=t.hideMarker,n=void 0===e?function(){}:e,i=t.purgeResults,r=void 0===i?function(){}:i,o=t.closeIdentify,a=void 0===o?function(){}:o;return function(){n(),r(),a()}},onChangeClickPoint:function(t){var e=t.onChangeClickPoint,n=void 0===e?function(){}:e,i=t.point;return function(t,e){var r="lat"===t?"lat":"lng",o=l("latlng."+r,h(e)?0:parseFloat(e),i);n(o)}},onChangeFormat:function(t){var e=t.onChangeFormat,n=void 0===e?function(){}:e;return function(t){n(t)}}}),d=a(p,r({componentDidMount:function(){var t=this.props,e=t.enabled,n=t.changeMousePointer,i=void 0===n?function(){}:n,r=t.disableCenterToMarker,o=t.onEnableCenterToMarker,a=void 0===o?function(){}:o;e&&i("pointer"),r||a()},componentWillReceiveProps:function(t){var e=this.props,n=e.hideMarker,i=void 0===n?function(){}:n,r=e.purgeResults,o=void 0===r?function(){}:r,a=e.changeMousePointer,s=void 0===a?function(){}:a,l=e.setIndex,u=e.enabled,h=e.responses;t.enabled&&!u?s("pointer"):!t.enabled&&u&&(s("auto"),i(),o()),l&&!c(t.responses,h)&&l(0)}}));t.exports={identifyLifecycle:d}},function(t,e,n){"use strict";var i=n(2270),r=n(428),o=r.withHandlers;t.exports=o({zoomToFeature:function(t){var e=t.zoomToExtent,n=void 0===e?function(){}:e,r=t.currentFeature,o=void 0===r?[]:r,a=t.currentFeatureCrs;return function(){var t=o.filter(function(t){return!!t.geometry});if(t.length>0){var e=i({type:"FeatureCollection",features:t});e&&n(e,a)}}}})},function(t,e,n){"use strict";var i=n(860),r=n(2175);i.registerType("bing",function(t){var e=t.apiKey;return new r.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:e,mapStyle:r.BingMapsStyle[t.name.toUpperCase()]})})},function(t,e,n){"use strict";var i=n(860),r=n(2175),o=n(12),a=function(){function t(t,e){var n=t||{};this._tilingScheme=n.tilingScheme||new r.GeographicTilingScheme,this._color=n.color&&new r.Color(n.color[0],n.color[1],n.color[2],n.color[3])||new r.Color(1,1,1,.4),this._tileWidth=n.tileWidth||256,this._tileHeight=n.tileHeight||256,this._ready=!0,this._sexagesimal=n.sexagesimal||!1,this._numLines=n.numLines||50,this._scene=e,this._labels=new r.LabelCollection,e.primitives.add(this._labels),this._polylines=new r.PolylineCollection,e.primitives.add(this._polylines),this._ellipsoid=e.globe.ellipsoid;var i=document.createElement("canvas");i.width=256,i.height=256,this._canvas=i}function e(t){return t<.01?3:t<.1?2:t<1?1:0}var n=[r.Math.toRadians(.05),r.Math.toRadians(.1),r.Math.toRadians(.2),r.Math.toRadians(.5),r.Math.toRadians(1),r.Math.toRadians(2),r.Math.toRadians(5),r.Math.toRadians(10)],i=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(t){return!1}}(),o=Object.defineProperties;return i&&o||(o=function(t){return t}),o(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(t,e,n,i){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new r.Cartographic(t,e,10)),text:n,font:"normal",fillColor:this._color,outlineColor:this._color,style:r.LabelStyle.FILL,pixelOffset:new r.Cartesian2(5,i?5:-5),eyeOffset:r.Cartesian3.ZERO,horizontalOrigin:r.HorizontalOrigin.LEFT,verticalOrigin:i?r.VerticalOrigin.BOTTOM:r.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var i=0,o=0,a=0;a<n.length&&i<(t.north-t.south)/10;a++)i=n[a];for(var s=0;s<n.length&&o<(t.east-t.west)/10;s++)o=n[s];var l=(t.west<0?Math.ceil(t.west/o):Math.floor(t.west/o))*o,u=(t.south<0?Math.ceil(t.south/i):Math.floor(t.south/i))*i,c=(t.east<0?Math.ceil(t.east/i):Math.floor(t.east/i))*i,h=(t.north<0?Math.ceil(t.north/o):Math.floor(t.north/o))*o;l=Math.max(l-2*o,-Math.PI),c=Math.min(c+2*o,Math.PI),u=Math.max(u-2*i,-Math.PI/2),h=Math.min(h+2*o,Math.PI/2);for(var p=this._ellipsoid,d=r.Math.toRadians(1),f=u+Math.floor((h-u)/i/2)*i,g=l;g<c;g+=o){for(var m=[],y=u;y<h;y+=d)m.push(new r.Cartographic(g,y));m.push(new r.Cartographic(g,h)),this._polylines.add({positions:p.cartographicArrayToCartesianArray(m),width:.75,material:new r.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var v=r.Math.toDegrees(g);this.makeLabel(g,f,this._sexagesimal?this._decToSex(v):v.toFixed(e(o)),!1)}for(var b=l+Math.floor((c-l)/o/2)*o,w=u;w<h;w+=i){for(var x=[],_=l;_<c;_+=d)x.push(new r.Cartographic(_,w));x.push(new r.Cartographic(c,w)),this._polylines.add({positions:p.cartographicArrayToCartesianArray(x),width:1,material:new r.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var E=r.Math.toDegrees(w);this.makeLabel(b,w,this._sexagesimal?this._decToSex(E):E.toFixed(e(i)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(t){this._show=t,t?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var e=Math.floor(t),i=(60*(Math.abs(t)-e)).toFixed(2);return"60.00"===i&&(e+=1,n="0.00"),[e,":",i].join("")},t.prototype._getExtentView=function(){for(var t=this._scene.camera,e=this._scene.canvas,n=[t.pickEllipsoid(new r.Cartesian2(0,0),this._ellipsoid),t.pickEllipsoid(new r.Cartesian2(e.width,0),this._ellipsoid),t.pickEllipsoid(new r.Cartesian2(0,e.height),this._ellipsoid),t.pickEllipsoid(new r.Cartesian2(e.width,e.height),this._ellipsoid)],i=0;i<4;i++)if(void 0===n[i])return r.Rectangle.MAX_VALUE;return r.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(n))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();i.registerType("graticule",{create:function(t,e){var n=e.scene,i=new a(o({tileWidth:512,tileHeight:512,numLines:10},t||{}),n);return t.visibility&&i.setVisible(!0),i}})},function(t,e,n){"use strict";var i=n(860),r=n(2175),o=n(14),a=o.isEqual,s=n(12);i.registerType("marker",{create:function(t,e){var n=s({},{point:{pixelSize:5,color:r.Color.RED,outlineColor:r.Color.WHITE,outlineWidth:2}},t.style),i=e.entities.add(s({position:r.Cartesian3.fromDegrees(t.point.lng,t.point.lat)},n));return{detached:!0,point:i,remove:function(){e.entities.remove(i)}}},update:function(t,e,n,i){if(!a(e.point,n.point))return t.remove(),this.create(e,i)}})},function(t,e,n){"use strict";var i=n(860),r=n(2175);i.registerType("osm",function(){return r.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})})},function(t,e,n){"use strict";var i=n(860),r=n(2175),o=n(2531),a=function(){function t(t){this._scene=t.scene;var e=document.createElement("div");e.className="infoWindow",this._div=e;var n=document.createElement("div");n.className="frame",this._div.appendChild(n);var i=document.createElement("div");i.className="content",n.appendChild(i),t.container.appendChild(e),this._content=i,this.setVisible(!0)}return t.prototype.setVisible=function(t){this._visible=t,this._div.style.display=t?"block":"none"},t.prototype.setContent=function(t){if("string"==typeof t)this._content.innerHTML=t;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(t)}},t.prototype.setPosition=function(t,e){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(r.Cartographic.fromDegrees(e,t,0))},t.prototype.showAt=function(t,e,n){this.setPosition(t,e),this.setContent(n),this.setVisible(!0)},t.prototype.hide=function(){this.setVisible(!1)},t.prototype.computeVisible=function(){var t=6356752.314245179,e=this._scene.camera.position,n=e.x/6378137,i=e.y/6378137,r=e.z/t,o=n*n+i*i+r*r-1,a=this._position,s=a.x/6378137,l=a.y/6378137,u=a.z/t,c=s-n,h=l-i,p=u-r,d=c*c+h*h+p*p,f=-(c*n+h*i+p*r);f>o&&f*f/d>o?this.setVisible(!1):this.setVisible(!0)},t.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var t=r.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(t){var e=Math.floor(t.x)-this._div.clientWidth/2+"px",n=Math.floor(t.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=e,this._div.style.top=n}}},t.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},t}(),s=function t(e){if(0!==e.length)for(var n=0;n<e.length;n++){var i=e.item(n);i.removeAttribute("data-reactid"),t(i.children||[])}},l=function(t,e){var n=t.cloneNode(!0);n.id=e.id+"-overlay",n.className=(e.className||t.className)+"-overlay",n.removeAttribute("data-reactid"),s(n.children||[]);var i=e.closeClass||"close";if(e.onClose&&1===n.getElementsByClassName(i).length){var r=n.getElementsByClassName(i)[0],a=function(t){e.onClose(t.target.getAttribute("data-overlayid"))};o.add(r,"click",a)}return n};i.registerType("overlay",{create:function(t,e){var n=document.getElementById(t.id),i=l(n,t),r=new a(e);r.showAt(t.position.y,t.position.x,i),r.setVisible(!0);var o=e.scene.primitives.add(r);return{detached:!0,info:o,remove:function(){e.scene.primitives.remove(o)}}}})},function(t,e,n){"use strict";function i(t){var e=t,n="";return-1!==t.indexOf("?")&&(e=t.substring(0,t.indexOf("?")+1),-1!==t.indexOf("%")&&(e=decodeURIComponent(e)),n=t.substring(t.indexOf("?")+1)),{url:e,queryString:n}}function r(t){this.proxy=t}function o(){}function a(t,e){return t.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,function(){var t=arguments[0],n=arguments[1]?arguments[1]:arguments[2],i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}var s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(860),u=n(2175),c=n(2274),h=n(38),p=n(2236);r.prototype.getURL=function(t){var e=i(t),n=e.url,r=e.queryString;return 0===n.indexOf("//")&&(n=location.protocol+n),p.getProxyUrl()+encodeURIComponent(n+r)},o.prototype.getURL=function(t){return t},l.registerType("tileprovider",function(t){var e=c.getLayerConfig(t.provider,t),n=s(e,2),i=n[0],l=n[1],d=h.getProxyUrl({}),f=void 0;d&&(f=l.noCors||p.needProxy(i));var g=l.credits,m=g?new u.Credit(g.text,g.imageUrl,g.link):l.attribution;return new u.UrlTemplateImageryProvider({url:a(i,l),enablePickFeatures:!1,subdomains:l.subdomains,maximumLevel:l.maxZoom,minimumLevel:l.minZoom,credit:m,proxy:f?new r(d):new o})})},function(t,e,n){"use strict";function i(t){var e=t,n="";return-1!==t.indexOf("?")&&(e=t.substring(0,t.indexOf("?")+1),-1!==t.indexOf("%")&&(e=decodeURIComponent(e)),n=t.substring(t.indexOf("?")+1)),{url:e,queryString:n}}function r(t){this.proxy=t}function o(){}function a(t){return Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function s(t){var e=void 0!==t.opacity?t.opacity:1,n=S(t),i=m({styles:t.style||"",format:t.format||"image/png",transparent:void 0===t.transparent||t.transparent,opacity:e,tiled:void 0===t.tiled||t.tiled,layers:t.name,width:t.size||2e3,height:t.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},n||{},x(t));return{url:(v(t.url)?t.url[Math.round(Math.random()*(t.url.length-1))]:t.url)+"?service=WMS&version=1.1.0&request=GetMap&"+a(C.addAuthenticationToSLD(i,t))}}function l(t){var e=void 0!==t.opacity?t.opacity:1,n=S(t),i=f.getProxyUrl({}),a=void 0;i&&(a=g.needProxy(t.url)&&i);var s=t.credits,l=s?new p.Credit(s.text||s.title,s.imageUrl,s.link):t.attribution;return m({url:"{s}",credit:l,subdomains:_(v(t.url)?t.url:[t.url]),proxy:a&&new r(a)||new o,layers:t.name,enablePickFeatures:!1,parameters:m({styles:t.style||"",format:t.format||"image/png",transparent:void 0===t.transparent||t.transparent,opacity:e,tiled:void 0===t.tiled||t.tiled},m({},t._v_?{_v_:t._v_}:{},n||{},x(t)))})}function u(t){var e=f.getProxyUrl({}),n=void 0,i=t.url;return e&&(n=g.needProxy(t.url)&&e)&&(i=n+encodeURIComponent(i)),m({url:i,layerName:t.name})}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h=n(860),p=n(2175),d=n(2756)(p),f=n(38),g=n(2236),m=n(12),y=n(14),v=y.isArray,b=n(2758),w=n(109),x=w.getAuthenticationParam,_=w.getURLs,E=n(439),S=E.optionsToVendorParams,C=n(198);r.prototype.getURL=function(t){var e=i(t),n=e.url,r=e.queryString;return g.getProxyUrl()+encodeURIComponent(n+r)},o.prototype.getURL=function(t){var e=i(t);return e.url+e.queryString};var T=function t(e){var n=void 0;return e.useForElevation?new d(u(e)):(n=e.singleTile?new p.SingleTileImageryProvider(s(e)):new p.WebMapServiceImageryProvider(l(e)),n.updateParams=function(n){var i=m({},e,{params:m({},e.params||{},n)});return t(i)},n)},k=function(t,e,n){var i=function(t){return b.PARAM_OPTIONS.indexOf(t.toLowerCase())>=0},r=e&&e.params,o=n&&n.params,a=c({},r,o);return Object.keys(c({},e,n,a)).filter(i).filter(function(t){return(void 0===n[t]?o&&o[t]:n[t])!==(void 0===e[t]?r&&r[t]:e[t])}).length>0||e.securityToken!==n.securityToken?T(e):null};h.registerType("wms",{create:T,update:k})},function(t,e,n){"use strict";function i(t){var e=t,n="";return-1!==t.indexOf("?")&&(e=t.substring(0,t.indexOf("?")+1),-1!==t.indexOf("%")&&(e=decodeURIComponent(e)),n=t.substring(t.indexOf("?")+1)),{url:e,queryString:n}}function r(t){this.proxy=t}function o(){}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];return(w(t)&&t[e]||x(t)&&t||[]).map(function(t){return t.identifier})}function s(t){for(var e=new Array(30),n=0;n<30;++n)e[n]=t.tileMatrixPrefix+n;return e}function l(t){var e="EPSG:4326",n=L(t,e),i=n.tileMatrixSet,a=n.matrixIds;if(0===a.length){e="EPSG:3857";var s=L(t,e);i=s.tileMatrixSet,a=s.matrixIds}var l=h.getProxyUrl({}),c=void 0;l&&(c=p.needProxy(t.url)&&l);var d=T(t.matrixIds&&t.matrixIds[i]),f=C.format({query:u({},m(t))});return v({url:S(y(x(t.url)?t.url:[t.url],f)),format:t.format||"image/png",isValid:d,layer:t.name,style:t.style||"",tileMatrixLabels:a,tilingScheme:O(e,t.matrixIds[i]),proxy:c&&new r(c)||new o,enablePickFeatures:!1,tileWidth:t.tileWidth||t.tileSize||256,tileHeight:t.tileHeight||t.tileSize||256,tileMatrixSetID:i,maximumLevel:30,parameters:u({},m(t))})}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=n(860),h=n(38),p=n(2236),d=n(870),f=n(2175),g=n(109),m=g.getAuthenticationParam,y=g.getURLs,v=n(12),b=n(14),w=b.isObject,x=b.isArray,_=b.slice,E=b.get,S=b.head,C=n(49),T=function(t){return function(e,n,i){return t&&t[i]&&!t[i].ranges||e<=parseInt(E(t[i],"ranges.cols.max"),10)&&e>=parseInt(E(t[i],"ranges.cols.min"),10)&&n<=parseInt(E(t[i],"ranges.rows.max"),10)&&n>=parseInt(E(t[i],"ranges.rows.min"),10)}};r.prototype.getURL=function(t){var e=i(t),n=e.url,r=e.queryString;return p.getProxyUrl()+encodeURIComponent(n+r)},o.prototype.getURL=function(t){var e=i(t);return e.url+e.queryString};var k=function(t,e){return t.length>e?_(t,0,e):t.length<e?t.concat(new Array(e-t.length)):t},O=function(t){return t.indexOf("EPSG:4326")>=0?new f.GeographicTilingScheme:t.indexOf("EPSG:3857")>=0?new f.WebMercatorTilingScheme:void 0},L=function(t,e){var n=d.getTileMatrixSet(t.tileMatrixSet,e,t.allowedSRS,t.matrixIds);return{tileMatrixSet:n,matrixIds:k(t.matrixIds&&a(t.matrixIds,n)||s(t))}},I=function t(e){var n=void 0,i=l(e);n=new f.WebMapTileServiceImageryProvider(i);var r=n.requestImage;return n.requestImage=function(t,e,o){return i.isValid(t,e,o)?r.bind(n)(t,e,o):new Promise(function(){})},n.updateParams=function(n){var i=v({},e,{params:v({},e.params||{},n)});return t(i)},n},A=function(t,e,n){return e.securityToken!==n.securityToken?I(e):null};c.registerType("wmts",{create:I,update:A})},function(t,e,n){"use strict";var i=n(859);i.Evented.addInitHook(function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)}),i.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(t){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,t),this.options.singleClickTimeout||500)},_fireSingleClick:function(t){t.originalEvent._stopped||this.fire("singleclick",i.Util.extend(t,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},function(t,e,n){"use strict";var i=n(859),r=n(433);n(2952);var o=n(12);i.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var t=this,e="_bing_metadata_"+i.Util.stamp(this);window[e]=function(n){t.meta=n,window[e]=void 0;var i=document.getElementById(e);if(i.parentNode.removeChild(i),n.errorDetails)return t.fire("load",{layer:t}),t.onError(n);t.initMetadata(n)};var n="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),r=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+e+"&key="+this._key+"&UriScheme="+n,o=document.createElement("script");o.type="text/javascript",o.src=r,o.id=e,document.getElementsByTagName("head")[0].appendChild(o)}},i.BingLayer.prototype.onError=function(t){if(this.options.onError)return this.options.onError(t)},r.registerType("bing",{create:function(t){var e=t.apiKey,n={subdomains:[0,1,2,3],type:t.name,attribution:"Bing",culture:"",onError:t.onError,maxNativeZoom:t.maxNativeZoom||19,maxZoom:t.maxZoom||23};return t.zoomOffset&&(n=o({},n,{zoomOffset:t.zoomOffset})),new i.BingLayer(e,n)},isValid:function(t){return!t.meta||!t.meta.statusCode||200===t.meta.statusCode}})},function(t,e,n){"use strict";var i=n(859);t.exports=i.TileLayer.extend({initialize:function(t){i.TileLayer.prototype.initialize.call(this,this.url,t)}})},function(t,e,n){"use strict";var i=n(433),r=n(859);n(2954),i.registerType("google",function(t){return r.gridLayer.googleMutant({type:t.name.toLowerCase(),maxNativeZoom:t.maxNativeZoom||18,maxZoom:t.maxZoom||20})})},function(t,e,n){"use strict";var i=n(433),r=n(2953),o=n(12);n(3158),i.registerType("graticule",{create:function(t){var e=o({interval:20,showOriginLabel:!0,redraw:"move"},t);return r?new r(e):null},isValid:function(){return!!r}})},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(433),o=n(2725);r.registerType("mapquest",{create:function(t){return o?o.mapLayer(i({maxZoom:23},t)):(t&&t.onError&&t.onError(),!1)},isValid:function(){return!!o}})},function(t,e,n){"use strict";var i=n(433),r=n(859);i.registerType("osm",function(t){return r.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:t.zoomOffset||0,maxNativeZoom:t.maxNativeZoom||19,maxZoom:t.maxZoom||23})})},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(433),a=n(859),s=n(2274);o.registerType("tileprovider",function(t){var e=s.getLayerConfig(t.provider,i({maxZoom:23},t)),n=r(e,2),o=n[0],l=n[1];return a.tileLayer(o,l)})},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){var e=void 0!==t.opacity?t.opacity:1,n=h(t),i=f({},t.baseParams,{attribution:t.credits&&x(t.credits),layers:t.name,styles:t.style||"",format:t.format||"image/png",transparent:void 0===t.transparent||t.transparent,tiled:void 0===t.tiled||t.tiled,opacity:e,zIndex:t.zIndex,version:t.version||"1.3.0",SRS:u.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),CRS:u.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),tileSize:t.tileSize||256,maxZoom:t.maxZoom||23,maxNativeZoom:t.maxNativeZoom||18},f(t._v_?{_v_:t._v_}:{},n||{}));return v.addAuthenticationToSLD(i,t)}function o(t){return t.map(function(t){return t.split("?")[0]})}var a=n(0),s=n(2158),l=n(433),u=n(80),c=n(439),h=c.optionsToVendorParams,p=n(2760),d=n(859),f=n(12),g=n(14),m=g.isArray,y=g.isNil,v=n(198),b=n(2504),w=n(109),x=w.creditsToAttribution;n(2956),d.NonTiledLayer.WMSCustom=d.NonTiledLayer.WMS.extend({initialize:function(t,e){this._wmsUrl=t;var n=d.extend({},this.defaultWmsParams);for(var i in e)this.options.hasOwnProperty(i)||"CRS"===i.toUpperCase()||"maxNativeZoom"===i||(n[i]=e[i]);this.wmsParams=n,d.setOptions(this,e)},removeParams:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return e.forEach(function(e){return delete t.wmsParams[e]}),n||this.redraw(),this}}),d.nonTiledLayer.wmsCustom=function(t,e){return new d.NonTiledLayer.WMSCustom(t,e)},d.TileLayer.MultipleUrlWMS=d.TileLayer.WMS.extend({initialize:function(t,e){this._url=t[0],this._urls=t,this._urlsIndex=0;var n=d.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&d.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var r in e)this.options.hasOwnProperty(r)||"CRS"===r.toUpperCase()||"maxNativeZoom"===r||(n[r]=e[r]);this.wmsParams=n,d.setOptions(this,e)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),r=i.add([n,n]),o=this._crs.project(e.unproject(i,t.z)),a=this._crs.project(e.unproject(r,t.z)),s=this._wmsVersion>=1.3&&this._crs===d.CRS.EPSG4326?[a.y,o.x,o.y,a.x].join(","):[o.x,a.y,a.x,o.y].join(",");++this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=d.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(t)});return l+d.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return e.forEach(function(e){return delete t.wmsParams[e]}),n||this.redraw(),this}}),d.tileLayer.multipleUrlWMS=function(t,e){return new d.TileLayer.MultipleUrlWMS(t,e)},d.TileLayer.ElevationWMS=d.TileLayer.MultipleUrlWMS.extend({initialize:function(t,e,n){this._tiles={},this._nodata=n,d.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(t){var e=this.getTileUrl(t);b.loadTile(e,t,this._tileCoordsToKey(t))},getElevation:function(t,e){try{var n=this._getTileFromCoords(t),i=b.getElevation(this._tileCoordsToKey(n),this._getTileRelativePixel(n,e),this.getTileSize().x,this._nodata);return i.available?i.value:a.createElement(s,{msgId:i.message})}catch(t){return a.createElement(s,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(t){var e=this._map.project(t).divideBy(256).floor();return f(e,{z:this._tileZoom})},_getTileRelativePixel:function(t,e){var n=Math.floor(e.x-this._getTilePos(t).x-this._map._getMapPanePos().x),i=Math.min(this.getTileSize().x-1,Math.floor(e.y-this._getTilePos(t).y-this._map._getMapPanePos().y));return new d.Point(n,i)},_removeTile:function(){},_abortLoading:function(){}}),d.tileLayer.elevationWMS=function(t,e,n){return new d.TileLayer.ElevationWMS(t,e,n)};var _=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(e,n){return y(t[n])?e:f(e,i({},n,t[n]))},{})};l.registerType("wms",{create:function(t){var e=o(m(t.url)?t.url:[t.url]),n=_(r(t)||{});return e.forEach(function(e){return v.addAuthenticationParameter(e,n,t.securityToken)}),t.useForElevation?d.tileLayer.elevationWMS(e,n,t.nodata||-9999):t.singleTile?d.nonTiledLayer.wmsCustom(e[0],n):d.tileLayer.multipleUrlWMS(e,n)},update:function(t,e,n){if(n.singleTile!==e.singleTile||n.securityToken!==e.securityToken&&e.visibility){var a=o(m(e.url)?e.url:[e.url]),s=r(e)||{};return a.forEach(function(t){return v.addAuthenticationParameter(t,s,e.securityToken)}),e.singleTile?d.nonTiledLayer.wmsCustom(a[0],s):d.tileLayer.multipleUrlWMS(a,s)}var l=f({},p.filterWMSParamOptions(r(n)),v.addAuthenticationToSLD(n.params||{},n)),u=f({},p.filterWMSParamOptions(r(e)),v.addAuthenticationToSLD(e.params||{},e)),c=Object.keys(u).filter(function(t){return u[t]!==l[t]}),h=Object.keys(l).filter(function(t){return l[t]!==u[t]}),g={};return h.length>0&&t.removeParams(h,c.length>0),c.length>0&&(g=c.reduce(function(t,e){return f({},t,i({},e,u[e]))},g),t.setParams(_(f(g,g.params,v.addAuthenticationToSLD(e.params||{},e))))),null}})},function(t,e,n){"use strict";function i(t){var e=s.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),n=h.getTileMatrixSet(t.tileMatrixSet,e,t.allowedSRS,t.matrixIds);return u({requestEncoding:t.requestEncoding,layer:t.name,style:t.style||"",format:t.format||"image/png",tileMatrixSet:n,version:t.version||"1.0.0",tileSize:t.tileSize||256,CRS:s.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),maxZoom:t.maxZoom||23,maxNativeZoom:t.maxNativeZoom||18},t.params||{})}function r(t){return t.map(function(t){return t.split("?")[0]})}function o(t,e){return g(t)&&t[e]||t}var a=n(433),s=n(80),l=n(859),u=n(12),c=n(198),h=n(870),p=n(2761),d=n(14),f=d.isArray,g=d.isObject,m=d.head;l.tileLayer.wmts=function(t,e,n){return new p(t,e,n)};var y=function(t){var e=r(f(t.url)?t.url:[t.url]),n=i(t)||{};e.forEach(function(e){return c.addAuthenticationParameter(e,n,t.securityToken)});var a=s.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS);return l.tileLayer.wmts(e,n,{tileMatrixPrefix:t.tileMatrixPrefix||n.tileMatrixSet+":"||a+":",originY:t.originY||20037508.3428,originX:t.originX||-20037508.3428,ignoreErrors:t.ignoreErrors||!1,matrixIds:t.matrixIds&&o(t.matrixIds,n.tileMatrixSet||a)||null,matrixSet:m(t.tileMatrixSet.filter(function(t){return t["ows:Identifier"]===n.tileMatrixSet}))||null})},v=function(t,e,n){return n.securityToken!==e.securityToken?y(e):null};a.registerType("wmts",{create:y,update:v})},function(t,e,n){"use strict";var i=n(432),r=n(857),o=function t(e,n){e.getSource&&"error"===e.getSource().getState()&&n.onError&&n.onError(e),e.getSource&&"loading"===e.getSource().getState()&&setTimeout(t.bind(null,e,n),1e3)}
;i.registerType("bing",{create:function(t){var e=t.apiKey,n=t.maxNativeZoom||19,i=new r.layer.Tile({preload:1/0,opacity:void 0!==t.opacity?t.opacity:1,zIndex:t.zIndex,visible:t.visibility,source:new r.source.BingMaps({key:e,imagerySet:t.name,maxZoom:n})});return setTimeout(o.bind(null,i,t),1e3),i},isValid:function(t){return!t.getSource||"error"!==t.getSource().getState()}})},function(t,e,n){"use strict";var i,r,o=n(432),a=n(857),s=n(0),l={},u="ontouchstart"in window,c=u?"touchstart":"mousedown",h=u?"touchmove":"mousemove",p=u?"touchend":"mouseup";o.registerType("google",{create:function(t,e,n){if(document.getElementById(n+"gmaps")){var r=window.google;i||(i={HYBRID:r.maps.MapTypeId.HYBRID,SATELLITE:r.maps.MapTypeId.SATELLITE,ROADMAP:r.maps.MapTypeId.ROADMAP,TERRAIN:r.maps.MapTypeId.TERRAIN}),l[n]||(l[n]=new r.maps.Map(document.getElementById(n+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),l[n].setMapTypeId(i[t.name]);var o=document.getElementById(n+"gmaps"),s=function(){if("hidden"!==o.style.visibility){var t=a.proj.transform(e.getView().getCenter(),"EPSG:3857","EPSG:4326");l[n].setCenter(new r.maps.LatLng(t[1],t[0]))}},u=function(){"hidden"!==o.style.visibility&&l[n].setZoom(e.getView().getZoom())},d=function(t,e){var n=e*Math.PI/180,i=t[0],r=t[1];return[i*Math.cos(n)-r*Math.sin(n),i*Math.sin(n)+r*Math.cos(n)]},f=function(t,e){var n=e[0],i=e[1],r=[[n/2,i/2],[-n/2,i/2],[-n/2,-i/2],[n/2,-i/2]],o=r.map(function(e){return d(e,t)}),a=o.map(function(t){return t[0]}),s=o.map(function(t){return t[1]}),l=Math.max.apply(null,a),u=Math.min.apply(null,a),c=Math.max.apply(null,s),h=Math.min.apply(null,s),p=Math.abs(c)+Math.abs(h);return{width:Math.abs(l)+Math.abs(u),height:p}},g=function(){if("hidden"!==o.style.visibility){var t=180*e.getView().getRotation()/Math.PI;o.style.transform="rotate("+t+"deg)",r.maps.event.trigger(l[n],"resize")}},m=function(){var t=e.getView();t.on("change:center",s),t.on("change:resolution",u),t.on("change:rotation",g)};e.on("change:view",m),m(),s(),u();var y=e.getViewport(),v=document.getElementById(n+"gmaps").style.transform,b=!1,w=!1,x=function(){var t=/[\+\-]?\d+\.?\d*/i,i=document.getElementById(n+"gmaps").style.transform;if(i!==v&&-1!==i.indexOf("rotate")){var a=parseFloat(i.match(t)[0]),u=f(-a,e.getSize());o.style.width=u.width+"px",o.style.height=u.height+"px",o.style.left=Math.round((e.getSize()[0]-u.width)/2)+"px",o.style.top=Math.round((e.getSize()[1]-u.height)/2)+"px",r.maps.event.trigger(l[n],"resize"),s()}};y.addEventListener(c,function(){b=!0}),y.addEventListener(p,function(){w&&b&&x(),v=document.getElementById(n+"gmaps").style.transform,b=!1}),y.addEventListener(h,function(){w=b})}return null},render:function(t,e,n){r||(r=t.name);var o={zIndex:0};if(!0===t.visibility){var a=document.getElementById(n+"gmaps");a&&(a.style.visibility="visible"),l[n]&&i&&(l[n].setMapTypeId(i[t.name]),l[n].setTilt(0))}else o.visibility="hidden";if(r===t.name){var u=document.getElementById(n+"gmaps");return u&&(u.style.visibility=t.visibility?"visible":"hidden"),s.createElement("div",{id:n+"gmaps",className:"fill",style:o})}return null},update:function(t,e,n,i,r){var o=window.google;if(!n.visibility&&e.visibility){var s=i.getView(),u=a.proj.transform(s.getCenter(),"EPSG:3857","EPSG:4326");l[r].setCenter(new o.maps.LatLng(u[1],u[0])),l[r].setZoom(s.getZoom())}},remove:function(t,e,n){r===t.name&&(r=void 0,delete l[n])}})},function(t,e,n){"use strict";var i=n(432),r=n(857);i.registerType("graticule",{create:function(t,e){var n=new r.Graticule({strokeStyle:t.style||new r.style.Stroke({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return n.setMap(e),{detached:!0,remove:function(){n.setMap(null)}}}})},function(t,e,n){"use strict";n(432).registerType("mapquest",{create:function(t){return t.onError(),!1},isValid:function(){return!1}})},function(t,e,n){"use strict";var i=n(432),r=n(857);i.registerType("osm",{create:function(t){return new r.layer.Tile({opacity:void 0!==t.opacity?t.opacity:1,visible:t.visibility,zIndex:t.zIndex,source:new r.source.OSM})}})},function(t,e,n){"use strict";var i=n(432),r=n(857),o=n(2531),a=function t(e){if(0!==e.length)for(var n=0;n<e.length;n++){var i=e.item(n);i.removeAttribute("data-reactid"),t(i.children||[])}},s=function(t,e){var n=t.cloneNode(!0);n.id=e.id+"-overlay",n.className=(e.className||t.className)+"-overlay",n.removeAttribute("data-reactid"),a(n.children||[]);var i=e.closeClass||"close";if(e.onClose&&1===n.getElementsByClassName(i).length){var r=n.getElementsByClassName(i)[0],s=function(t){e.onClose(t.target.getAttribute("data-overlayid"))};o.add(r,"click",s)}if(e.onLink)for(var l=n.getElementsByTagName("a"),u=0;u<l.length;u++)o.add(l[u],"click",e.onLink);return n};i.registerType("overlay",{create:function(t,e){var n=document.getElementById(t.id),i=s(n,t);document.body.appendChild(i);var o=new r.Overlay({id:t.id,element:i,autoPan:t.autoPan||!1,positioning:t.positioning||"top-left",offset:t.offset||[0,0],autoPanAnimation:{duration:t.autoPanAnimation||250},position:[t.position.x,t.position.y]});return e.addOverlay(o),{detached:!0,remove:function(){e.removeOverlay(o)}}}})},function(t,e,n){"use strict";function i(t,e){var n=o(t,2),i=o(n[0],2),r=i[0],a=i[1],s=o(n[1],2),l=s[0],u=s[1];return c.reprojectBbox([a,r,u,l],"EPSG:4326",c.normalizeSRS(e))}function r(t){var e=t.url.match(/(\{s\})/)?p(t):[d(t.url,t)],n=a({},{urls:e,attributions:t.attribution?[new l.Attribution({html:t.attribution})]:[],maxZoom:t.maxZoom?t.maxZoom:18,minZoom:t.minZoom?t.minZoom:0}),r=new l.source.XYZ(n);return a({},{opacity:void 0!==t.opacity?t.opacity:1,visible:!1!==t.visibility,zIndex:t.zIndex,source:r},t.bounds?{extent:i(t.bounds,t.srs?t.srs:"EPSG:3857")}:{})}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(12),s=n(432),l=n(857),u=n(2274),c=n(80),h=n(2755),p=h.getUrls,d=h.template;s.registerType("tileprovider",{create:function(t){var e=u.getLayerConfig(t.provider,t),n=o(e,2),i=n[0],a=n[1];return a.url=i,new l.layer.Tile(r(a))}})},function(t,e,n){"use strict";var i=n(432),r=n(2214),o=n(857),a=n(14),s=a.isEqual;i.registerType("vector",{create:function(t){var e=[],n=new o.source.Vector({features:e}),i=r.getStyle(t);return new o.layer.Vector({msId:t.id,source:n,visible:!1!==t.visibility,zIndex:t.zIndex,style:i,opacity:t.opacity})},update:function(t,e,n){var i=n.crs||n.srs||"EPSG:3857",o=e.crs||e.srs||"EPSG:3857";o!==i&&t.getSource().forEachFeature(function(t){t.getGeometry().transform(i,o)}),s(n.style,e.style)||t.setStyle(r.getStyle(e))},render:function(){return null}})},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){var e=k(t),n=w({},t.baseParams,{LAYERS:t.name,STYLES:t.style||"",FORMAT:t.format||"image/png",TRANSPARENT:void 0===t.transparent||t.transparent,SRS:x.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),CRS:x.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),TILED:!!v(t.tiled)||t.tiled,VERSION:t.version||"1.3.0"},w({},t._v_?{_v_:t._v_}:{},e||{}));return O.addAuthenticationToSLD(n,t)}function o(t){return t.map(function(t){return t.split("?")[0]})}function a(t,e){var n=e;if(_.needProxy(e)){n=_.getProxyUrl()+encodeURIComponent(e)}t.getImage().src=n}function s(t){return t.join(":")}function l(t,e,n){var i=n;if(t&&_.needProxy(n)){i=_.getProxyUrl()+encodeURIComponent(n)}var r=e.getTileCoord();e.getImage().src="",P.loadTile(i,r,s(r))}function u(t,e){return e.useForElevation?w({},t,{tileLoadFunction:l.bind(null,[e.forceProxy])}):e.forceProxy?w({},t,{tileLoadFunction:a}):t}function c(t,e){var n=t.get("map");return t.getSource().getTileGrid().getTileCoordForCoordAndZ(e,n.getView().getZoom())}function h(t,e,n){var i=t.getSource().getTileGrid(),r=i.getTileCoordExtent(n),o=i.getTileSize()/(r[2]-r[0]);return{x:Math.floor((e[0]-r[0])*o),y:Math.floor((r[3]-e[1])*o)}}function p(t){try{var e=c(this,t),n=this.getSource().getTileGrid().getTileSize(),i=P.getElevation(s(e),h(this,t,e),n,this.get("nodata"));return i.available?i.value:d.createElement(f,{msgId:i.message})}catch(t){return d.createElement(f,{msgId:"elevationLoadingError"})}}var d=n(0),f=n(2158),g=n(432),m=n(857),y=n(14),v=y.isNil,b=y.union,w=n(12),x=n(80),_=n(2236),E=n(14),S=E.isArray,C=E.castArray,T=n(439),k=T.optionsToVendorParams,O=n(198),L=n(109),I=L.creditsToAttribution,A=n(196),P=n(2504),M=function(t){return t&&I(t)?C(I(t)):void 0};g.registerType("wms",{create:function(t,e){var n=o(S(t.url)?t.url:[t.url]),i=r(t)||{};if(n.forEach(function(e){return O.addAuthenticationParameter(e,i,t.securityToken)}),t.singleTile)return new m.layer.Image({opacity:void 0!==t.opacity?t.opacity:1,visible:!1!==t.visibility,zIndex:t.zIndex,source:new m.source.ImageWMS({url:n[0],attributions:M(t.credits),params:i,ratio:t.ratio||1})});var a=e&&e.getView()&&e.getView().getProjection()&&e.getView().getProjection().getCode()||"EPSG:3857",s=m.proj.get(x.normalizeSRS(t.srs||a,t.allowedSRS)).getExtent(),l=u({attributions:M(t.credits),urls:n,params:i,tileGrid:new m.tilegrid.TileGrid({extent:s,resolutions:A.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[s[0],s[1]]})},t),c=new m.layer.Tile({opacity:void 0!==t.opacity?t.opacity:1,visible:!1!==t.visibility,zIndex:t.zIndex,source:new m.source.TileWMS(l)});return c.set("map",e),t.useForElevation&&(c.set("nodata",t.nodata),c.set("getElevation",p.bind(c))),c},update:function(t,e,n,s){if(n&&t&&t.getSource()&&t.getSource().updateParams){var l=!1;n.params&&e.params?l=b(Object.keys(n.params),Object.keys(e.params)).reduce(function(t,i){return e.params[i]!==n.params[i]||t},!1):(!n.params&&e.params||n.params&&!e.params)&&(l=!0);var u=r(n),c=r(e);if(l=l||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce(function(t,e){return u[e]!==c[e]||t},!1),n.srs!==e.srs){var h=m.proj.get(x.normalizeSRS(e.srs,e.allowedSRS)).getExtent();t.getSource().tileGrid=new m.tilegrid.TileGrid({extent:h,resolutions:A.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[h[0],h[1]]})}if(l){var p=w(c,O.addAuthenticationToSLD(k(e)||{},e)),d=t.getSource();t.getSource().refresh&&t.getSource().refresh(),d.updateParams(w(p,Object.keys(u||{}).reduce(function(t,e){return p[e]?t:w(t,i({},e,void 0))},{})))}if(n.credits!==e.credits&&e.credits&&t.getSource().setAttributions(M(e.credits)),n.singleTile!==e.singleTile||n.securityToken!==e.securityToken||n.ratio!==e.ratio||n.credits!==e.credits&&!e.credits){var f=o(S(e.url)?e.url:[e.url]),g=r(e)||{};f.forEach(function(t){return O.addAuthenticationParameter(t,g,e.securityToken)});var y=void 0;if(e.singleTile)y=new m.layer.Image({opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new m.source.ImageWMS({attributions:M(e.credits),url:f[0],params:g,ratio:e.ratio||1})});else{var v=s&&s.getView()&&s.getView().getProjection()&&s.getView().getProjection().getCode()||"EPSG:3857",_=m.proj.get(x.normalizeSRS(e.srs||v,e.allowedSRS)).getExtent();y=new m.layer.Tile({opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new m.source.TileWMS(w({attributions:M(e.credits),urls:f,params:g,tileGrid:new m.tilegrid.TileGrid({extent:_,resolutions:A.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[_[0],_[1]]})},e.forceProxy?{tileLoadFunction:a}:{}))})}return y}return null}}})},function(t,e,n){"use strict";function i(t){return t.map(function(t){return t.split("?")[0]})}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(432),a=n(857),s=n(14),l=s.castArray,u=s.head,c=s.last,h=n(198),p=n(870),d=n(80),f=n(196),g=n(12),m=n(49),y=function(t){var e=i(l(t.url)),n=d.normalizeSRS(t.srs||"EPSG:3857",t.allowedSRS),o=a.proj.get(n),s=o.getMetersPerUnit(),y=p.getTileMatrixSet(t.tileMatrixSet,n,t.allowedSRS,t.matrixIds),v=u(t.tileMatrixSet.filter(function(t){return t["ows:Identifier"]===y})),b=v&&v.TileMatrix.map(function(t){return t.ScaleDenominator}),w=f.getResolutions(),x=function(t){return 28e-5*t/s},_=t.resolutions||b&&b.map(x),E=_||w,S=p.limitMatrix(t.matrixIds&&p.getMatrixIds(t.matrixIds,y||n)||p.getDefaultMatrixId(t),E.length),C="ne"===o.getAxisOrientation().substr(0,2),T=v&&v.TileMatrix&&v.TileMatrix.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.TopLeftCorner;return e&&d.parseString(e)}).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=t.y;return C?[n,e]:[e,n]}),k=t.bbox,O=k?a.extent.applyTransform([parseFloat(k.bounds.minx),parseFloat(k.bounds.miny),parseFloat(k.bounds.maxx),parseFloat(k.bounds.maxy)],a.proj.getTransform(k.crs,t.srs)):null,L={};e.forEach(function(e){return h.addAuthenticationParameter(e,L,t.securityToken)});var I=m.format({query:r({},L)}),A="RESTful"===t.requestEncoding?"REST":t.requestEncoding,P=t.maxResolution||c(w.filter(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return E[0]/t*256<.5}));return new a.layer.Tile({opacity:void 0!==t.opacity?t.opacity:1,zIndex:t.zIndex,extent:O,maxResolution:P,visible:!1!==t.visibility,source:new a.source.WMTS(g({requestEncoding:A,urls:e.map(function(t){return t+I}),layer:t.name,version:t.version||"1.0.0",matrixSet:y,format:t.format||"image/png",style:t.style,tileGrid:new a.tilegrid.WMTS({origins:T,origin:T?void 0:[20037508.3428,-20037508.3428],resolutions:E,matrixIds:S,tileSize:t.tileSize||[256,256]}),wrapX:!0}))})},v=function(t,e,n){return n.securityToken!==e.securityToken||n.srs!==e.srs?y(e):null},b=function(t){return!!u(d.getEquivalentSRS(t.srs).filter(function(e){return t.matrixIds&&t.matrixIds.hasOwnProperty(e)}))};o.registerType("wmts",{create:y,update:v,isCompatible:b})},function(t,e,n){"use strict";var i=n(428),r=i.withProps;t.exports=r(function(t){var e=t.coordinate,n=void 0===e?"lat":e;return{maxDegrees:"lat"===n?90:180,directions:"lat"===n?["N","S"]:["E","W"]}})},function(t,e,n){"use strict";var i=n(428),r=i.compose,o=i.withHandlers;t.exports=r(o({onChange:function(t){var e=t.onChange,n=void 0===e?function(){}:e,i=t.maxLatitude,r=void 0===i?89.9997222222:i,o=t.coordinate;return function(t){return n(Math.abs(parseFloat(t))>r&&"lat"===o?Math.sign(t)*r:t)}}}))},function(t,e,n){"use strict";var i=n(428),r=i.compose,o=i.withHandlers,a=i.withState,s=i.withProps;t.exports=r(s(function(t){return{isValid:""!==t.value}}),a("initial","setInitial",{}),s(function(t){var e=t.isValid,n=t.initial,i=t.degrees,r=t.minutes,o=t.seconds;return e||""===i&&""===r&&""===o?{}:n}),o({onChange:function(t){return function(e){var n=e.degrees,i=e.minutes,r=e.seconds,o=e.direction;isNaN(n)?t.setInitial({degrees:"",minutes:i,seconds:r,direction:o}):isNaN(i)?t.setInitial({degrees:n,minutes:"",seconds:r,direction:o}):isNaN(r)&&t.setInitial({degrees:n,minutes:i,seconds:"",direction:o}),t.onChange({degrees:n,minutes:i,seconds:r,direction:o})}}}))},,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(428),a=o.compose,s=o.withPropsOnChange,l=o.withHandlers,u=n(866),c=u.getStartEnd;t.exports=a(s(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],function(t){var e=t.rangeItems,n=void 0===e?[]:e,o=t.playbackEnabled,a=t.playbackRange;return{rangeItems:o&&a&&void 0!==a.startPlaybackTime&&void 0!==a.endPlaybackTime?[].concat(i(n),[r({id:"playback-range"},c(a.startPlaybackTime,a.endPlaybackTime),{type:"background",className:"ms-playback-range"})]).filter(function(t){return t}):n}}),a(l({onUpdate:function(t){var e=t.moveCurrentRange,n=void 0===e?function(){}:e;return function(t){var e=t.id,i=t.start;"current-range"===e&&n(i.toISOString())}}}),s(["options","onUpdate"],function(t){var e=t.options,n=void 0===e?{}:e,i=t.onUpdate,o=void 0===i?function(){}:i;return{options:r({},n,{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];o(t),e(t)}})}}),s(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],function(t){var e=t.currentTimeRange,n=t.rangeItems,o=void 0===n?[]:n,a=t.readOnly;return{rangeItems:t.offsetEnabled&&void 0!==e.start&&void 0!==e.end?[].concat(i(o),[r({id:"current-range",editable:{updateTime:!a,updateGroup:!1,remove:!1}},c(e.start,e.end),{type:"background",className:"ms-current-range"})]).filter(function(t){return t}):o}})),s(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],function(t){var e=t.currentTime,n=t.playbackRange,i=t.playbackEnabled,o=t.offsetEnabled,a=t.currentTimeRange;return{customTimes:[e?{currentTime:e}:{},i&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&a?{offsetTime:a.end}:{}].reduce(function(t,e){return e?r({},t,e):r({},t)},{})}}))},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(428),a=o.withHandlers,s=n(14),l=s.trim,u=n(3),c=function(t,e){return u(e).diff(t)>0},h=n(866),p=h.getStartEnd;t.exports=a({clickHandler:function(t){var e=t.selectedLayer,n=t.offsetEnabled,i=t.status,r=t.setCurrentTime,o=void 0===r?function(){}:r,a=t.selectGroup,s=void 0===a?function(){}:a;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.time,a=t.group,u=t.what,c=t.event;if("PLAY"!==i)switch(u){case"group-label":a&&"PLAY"!==i&&s(a);break;default:var h=c&&c.target&&c.target.closest(".vis-custom-time"),p=h&&h.getAttribute("class"),d=p&&l(p.replace("vis-custom-time",""));r&&!n&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&o(r.toISOString(),e)}}},timechangedHandler:function(t){var e=t.currentTime,n=t.setOffset,o=void 0===n?function(){}:n,a=t.setCurrentTime,s=void 0===a?function(){}:a,l=t.currentTimeRange,u=void 0===l?{}:l,h=t.playbackRange,d=t.setPlaybackRange,f=void 0===d?function(){}:d,g=t.selectedLayer;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.time,a=t.id;if("startPlaybackTime"===a||"endPlaybackTime"===a){var l=r({},h,i({},a,n.toISOString())),d=p(l.startPlaybackTime,l.endPlaybackTime),m=d.start,y=d.end;return void(c(m,y)&&f({startPlaybackTime:m,endPlaybackTime:y}))}"currentTime"===a&&(u.end?c(n,u.end)?s(n.toISOString(),null):(s(u.end),o(n.toISOString())):s(n.toISOString(),g)),"offsetTime"===a&&(c(e,n)?o(n.toISOString()):(s(n.toISOString()),o(e)))}}})},,,,,function(t,e,n){"use strict";var i=n(3127),r=n(272),o=r.setControlProperty,a=n(2489),s=a.TOGGLE_FULLSCREEN,l=n(38),u=n(98),c=function(){return[["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter(function(t){return document[t[0]]}).reduce(function(t){return t&&t[1]})},h=function(t){return t.ofType(s).switchMap(function(t){var e=document.querySelector(t&&t.querySelector||"."+(l.getConfigProp("themePrefix")||"ms2")+" > div");return e&&t.enable&&i.enabled?i.request(e):e&&!t.enable&&i.exit(),u.Observable.merge(u.Observable.fromEvent(document,c()).filter(function(){return i.element!==e}).map(function(){return o("fullscreen","enabled",!1)}),u.Observable.of(o("fullscreen","enabled",t.enable)),u.Observable.fromEvent(window,"hashchange").do(function(){return i.exit()}).map(function(){return o("fullscreen","enabled",!1)}))})};t.exports={toggleFullscreenEpic:h}},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(98),a=n(14),s=a.get,l=a.find,u=n(72),c=n(2268),h=n(2187),p=h.LOAD_FEATURE_INFO,d=h.ERROR_FEATURE_INFO,f=h.GET_VECTOR_INFO,g=h.FEATURE_INFO_CLICK,m=h.CLOSE_IDENTIFY,y=h.TOGGLE_HIGHLIGHT_FEATURE,v=h.featureInfoClick,b=h.updateCenterToMarker,w=h.purgeMapInfoResults,x=h.exceptionsFeatureInfo,_=h.loadFeatureInfo,E=h.errorFeatureInfo,S=h.noQueryableLayers,C=h.newMapInfoRequest,T=h.getVectorInfo,k=h.showMapinfoMarker,O=h.hideMapinfoMarker,L=n(272),I=L.SET_CONTROL_PROPERTIES,A=n(2174),P=A.closeFeatureGrid,M=n(430),N=M.CHANGE_MOUSE_POINTER,D=M.CLICK_ON_MAP,R=M.zoomToPoint,F=n(2488),G=F.closeAnnotations,j=n(274),z=j.MAP_CONFIG_LOADED,U=n(865),B=U.stopGetFeatureInfoSelector,H=U.identifyOptionsSelector,Y=U.clickPointSelector,V=U.clickLayerSelector,W=n(429),q=W.centerToMarkerSelector,Z=W.queryableLayersSelector,X=n(2197),K=X.modeSelector,Q=n(858),J=Q.mapSelector,$=Q.projectionDefsSelector,tt=Q.projectionSelector,et=n(2176),nt=et.boundingMapRectSelector,it=n(80),rt=it.centerToVisibleArea,ot=it.isInsideVisibleArea,at=it.isPointInsideExtent,st=it.reprojectBbox,lt=n(865),ut=lt.isHighlightEnabledSelector,ct=n(196),ht=ct.getCurrentResolution,pt=ct.parseLayoutValue,dt=n(276),ft=n(80),gt=ft.parseURN,mt=function(t){return"EDIT"===K(t)},yt=function(t){return B(t)||mt(t)},vt=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments[4],l=r({},a,e),h=c.v1(),p=function(e){return o.Observable.defer(function(){return u.get(t,{params:e})})};return(s&&"application/json"!==l.info_format?o.Observable.forkJoin(p(l),p(r({},l,{info_format:"application/json"})).map(function(t){return t.data}).catch(function(){return o.Observable.of({})})).map(function(t){var e=i(t,2),n=e[0],o=e[1];return r({},n,{features:o&&o.features,featuresCrs:o&&o.crs&&gt(o.crs)})}):p(l).map(function(t){return t.data}).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:t,features:t.features,featuresCrs:t&&t.crs&&gt(t.crs)}})).map(function(t){return t.data.exceptions?x(h,t.data.exceptions,e,n):_(h,t.data,e,r({},n,{features:t.features,featuresCrs:t.featuresCrs}))}).catch(function(t){return o.Observable.of(E(h,t.data||t.statusText||t.status,e,n))}).startWith(C(h,l))};t.exports={getFeatureInfoOnFeatureInfoClick:function(t,e){var n=e.getState,i=void 0===n?function(){}:n;return t.ofType(g).switchMap(function(t){var e=t.point,n=Z(i());if(0===n.length)return o.Observable.of(w(),S());var r=["SLD_BODY"],a=["buffer","cql_filter","filter","propertyName"],s=o.Observable.from(n).mergeMap(function(t){var e=dt.buildIdentifyRequest(t,H(i())),n=e.url,s=e.request,l=e.metadata;return n?vt(n,s,l,dt.filterRequestParams(t,a,r),ut(i())):o.Observable.of(T(t,s,l))});return e&&e.modifiers&&!0===e.modifiers.ctrl&&e.multiSelection?s:s.startWith(w())})},handleMapInfoMarker:function(t){return t.ofType(g).map(function(t){return t.layer?O():k()})},closeFeatureGridFromIdentifyEpic:function(t){return t.ofType(p,f).switchMap(function(){return o.Observable.of(P())})},closeFeatureAndAnnotationEditing:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(m).switchMap(function(){return s(i(),"annotations.editing")?o.Observable.of(G()):o.Observable.of(w())})},changeMapPointer:function(t,e){return t.ofType(N).filter(function(){return!e.getState().map}).switchMap(function(e){return t.ofType(z).mapTo(e)})},onMapClick:function(t,e){return t.ofType(D).filter(function(){var t=e.getState().mapInfo.disableAlwaysOn;return void 0!==t&&t||!yt(e.getState()||{})}).map(function(t){var e=t.point,n=t.layer;return v(e,n)})},featureInfoClickOnHighligh:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(y).filter(function(t){return t.enabled&&Y(i())}).map(function(){return v(Y(i()),V(i()))})},zoomToVisibleAreaEpic:function(t,e){return t.ofType(g).filter(function(){return q(e.getState())}).switchMap(function(n){return t.ofType(p,d).switchMap(function(){var t=e.getState(),i=J(t),r=tt(t),a=$(t),s=l(a,{code:r}),u=s&&s.extent,c=u&&st(u,r,"EPSG:4326"),h=nt(t),p=n.point&&n.point&&n.point.latlng,d=ht(Math.round(i.zoom),0,21,96),f=h&&i&&i.size&&{left:pt(h.left,i.size.width),bottom:pt(h.bottom,i.size.height),right:pt(h.right,i.size.width),top:pt(h.top,i.size.height)};if(!i||!f||!p||n.point.cartographic||ot(p,i,f,d))return o.Observable.of(b("disabled"));if(c&&!at(p,c))return o.Observable.empty();var g=rt(p,i,f,d);return o.Observable.of(b("enabled"),R(g.pos,g.zoom,g.crs))})})},closeFeatureInfoOnCatalogOpenEpic:function(t){return t.ofType(I).filter(function(t){return"metadataexplorer"===t.control&&t.properties&&t.properties.enabled}).switchMap(function(){return o.Observable.of(w(),O())})}}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(98),o=n(273),a=o.changeLayerProperties,s=n(430),l=s.CREATION_ERROR_LAYER,u=s.INIT_MAP,c=s.ZOOM_TO_EXTENT,h=s.CHANGE_MAP_CRS,p=s.changeMapView,d=s.changeMapLimits,f=n(858),g=f.configuredExtentCrsSelector,m=f.configuredRestrictedExtentSelector,y=f.configuredMinZoomSelector,v=f.mapSelector,b=f.mapIdSelector,w=n(274),x=w.loadMapInfo,_=n(2493),E=_.LOGIN_SUCCESS,S=n(429),C=S.currentBackgroundLayerSelector,T=S.allBackgroundLayerSelector,k=S.getLayerFromId,O=n(2179),L=O.mapTypeSelector,I=n(2176),A=I.mapPaddingSelector,P=n(272),M=P.setControlProperty,N=n(274),D=N.MAP_CONFIG_LOADED,R=n(109),F=R.isSupportedLayer,G=n(196),j=n(80),z=n(197),U=z.warning,B=n(272),H=B.resetControls,Y=n(273),V=Y.clearLayers,W=n(2233),q=W.removeAllAdditionalLayers,Z=n(14),X=Z.head,K=Z.isArray,Q=Z.isObject,J=Z.mapValues,$=n(38),tt=function(t,e){return t.ofType(l).delay(500).filter(function(t){var n=C(e.getState());return n&&t.options.id===n.id&&"background"===t.options.group}).switchMap(function(t){var n=L(e.getState()),i=X(T(e.getState()).filter(function(e){return F(e,n)&&e.id!==t.options.id}));return i?r.Observable.from([a(i.id,{visibility:!0}),M("backgroundSelector","currentLayer",i),M("backgroundSelector","tempLayer",i),U({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):r.Observable.of(U({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))})},et=function(t,e){return t.ofType(l).delay(500).switchMap(function(t){var n=L(e.getState()),i=k(e.getState(),t.options.id);return i&&F(i,n)?r.Observable.from([a(t.options.id,{invalid:!0})]):r.Observable.empty()})},nt=function(t,e){return t.ofType(D,h).switchMap(function(){var t=g(e.getState()),n=m(e.getState()),i=y(e.getState());return r.Observable.of(d({restrictedExtent:n,crs:t,minZoom:i}))})},it=function(t){return t.ofType(u).switchMap(function(){return r.Observable.of(q(),H(),V())})},rt=function(t){if(K(t))return t.map(function(t){return"string"==typeof t||t instanceof String?Number(t):t});if(Q(t)){var e=J(t,function(t){return"string"==typeof t||t instanceof String?Number(t):t});return[e.minx,e.miny,e.maxx,e.maxy]}},ot=function(t,e){var n=0,o=t.extent,a=void 0===o?[]:o,s=j.reprojectBbox(a,t.crs,e.bbox&&e.bbox.crs||"EPSG:4326");if(s){var l=j.reproject(G.getCenterForExtent(a,t.crs),t.crs,"EPSG:4326");if("EPSG:4326"===t.crs&&a&&a[0]<=-180&&a[1]<=-90&&a[2]>=180&&a[3]>=90)n=1;else{var u=j.reprojectBbox(a,t.crs,e.projection||"EPSG:4326");n=G.getZoomForExtent(u,e.size,0,21,null)}t.maxZoom&&n>t.maxZoom&&(n=t.maxZoom);var c={minx:s[0],miny:s[1],maxx:s[2],maxy:s[3]},h=i({},e.bbox,{bounds:c});return r.Observable.of(p(l,n,h,e.size,t.mapStateSource,e.projection,e.viewerOptions))}r.Observable.empty()},at=function(t,e){var n=e.getState,o=void 0===n?function(){}:n;return t.ofType(c).switchMap(function(t){var e=rt(t.extent);if(!e)return r.Observable.empty();var n=G.getHook(G.ZOOM_TO_EXTENT_HOOK),a=A(o());if(n){return n(e,{crs:t.crs,padding:a,maxZoom:t.maxZoom}),r.Observable.empty()}return ot(i({},t,{extent:e}),v(o()))})},st=function(t,e){var n=e.getState,i=void 0===n?function(){}:n;return t.ofType(E).filter(function(){return b(i())}).map(function(){var t=b(i());return x($.getConfigProp("geoStoreUrl")+"extjs/resource/"+t,t)})};t.exports={checkMapPermissions:st,handleCreationLayerError:et,handleCreationBackgroundError:tt,resetMapOnInit:it,resetLimitsOnInit:nt,zoomToExtentEpic:at}},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(98),a=n(275),s=n(12),l=n(891),u=l.basicError,c=l.basicSuccess,h=n(277),p=n(274),d=p.MAP_INFO_LOADED,f=n(14),g=f.isNil,m=f.find,y=n(436),v=y.SAVE_DETAILS,b=y.SAVE_RESOURCE_DETAILS,w=y.MAPS_GET_MAP_RESOURCES_BY_CATEGORY,x=y.DELETE_MAP,_=y.OPEN_DETAILS_PANEL,E=y.MAPS_LOAD_MAP,S=y.CLOSE_DETAILS_PANEL,C=y.NO_DETAILS_AVAILABLE,T=y.SAVE_MAP_RESOURCE,k=y.MAP_DELETED,O=y.setDetailsChanged,L=y.updateDetails,I=y.mapsLoading,A=y.mapsLoaded,P=y.mapDeleting,M=y.toggleDetailsEditability,N=y.mapDeleted,D=y.loadError,R=y.doNothing,F=y.detailsLoaded,G=y.detailsSaving,j=y.onDisplayMetadataEdit,z=y.RESET_UPDATING,U=y.resetUpdating,B=y.toggleDetailsSheet,H=y.getMapResourcesByCategory,Y=y.mapUpdating,V=y.savingMap,W=y.mapCreated,q=y.mapError,Z=y.loadMaps,X=n(438),K=X.resetCurrentMap,Q=X.EDIT_MAP,J=n(2174),$=J.closeFeatureGrid,tt=n(272),et=tt.toggleControl,nt=n(2750),it=nt.mapPermissionsFromIdSelector,rt=nt.mapThumbnailsUriFromIdSelector,ot=nt.mapDetailsUriFromIdSelector,at=nt.searchTextSelector,st=nt.searchParamsSelector,lt=n(858),ut=lt.mapIdSelector,ct=lt.mapInfoDetailsUriFromIdSelector,ht=n(889),pt=ht.currentMapDetailsTextSelector,dt=ht.currentMapIdSelector,ft=ht.currentMapDetailsUriSelector,gt=ht.currentMapSelector,mt=ht.currentMapDetailsChangedSelector,yt=ht.currentMapOriginalDetailsTextSelector,vt=n(869),bt=vt.userParamsSelector,wt=n(873),xt=wt.deleteResourceById,_t=wt.createAssociatedResource,Et=wt.deleteAssociatedResource,St=wt.updateAssociatedResource,Ct=n(196),Tt=Ct.getIdFromUri,kt=n(108),Ot=kt.getErrorMessage,Lt=n(449),It=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.map,n=void 0===e?{}:e,i=t.attribute,o=void 0===i?"":i,a=t.resource,s=void 0===a?null:a,l=t.type,u=void 0===l?"STRING":l,c=t.optionsDel,h=void 0===c?{}:c,p=t.messages,d=void 0===p?{}:p,f=n[o],m=n.id;return!g(f)&&"NODATA"!==f||g(s)?g(s)?Et({mapId:m,attribute:o,type:u,resourceId:Tt(f),options:h,messages:d}):St({permissions:s.permissions,resourceId:Tt(f),
value:s.value,attribute:o,options:s.optionsAttr,messages:d}):_t(r({},s,{attribute:o,mapId:m,type:u,messages:d}))},At=function(t,e){return t.ofType(v).switchMap(function(t){var n=[],i=e.getState(),r=ft(i);if(t.detailsText.length<=5e5?n.push(B(!0)):n.push(u({message:"maps.feedback.errorSizeExceeded"})),!r)return n.push(O("<p><br></p>"!==t.detailsText)),o.Observable.from(n);var a=yt(i),s=pt(i);return n.push(O(a!==s)),o.Observable.from(n)})},Pt=function(t,e){return t.ofType(b).switchMap(function(){var t=e.getState(),n=dt(t),i=pt(t,n),s=mt(t),l={attribute:"details",map:gt(t),resource:null,type:"STRING"};return s?(""!==i&&s?l.resource={category:"DETAILS",userParams:bt(t),metadata:{name:a()},value:i,permissions:it(t,n),optionsAttr:{},optionsRes:{}}:l.optionsDel={},It(r({},l)).concat([G(!1),U(n)]).startWith(G(!0))):o.Observable.of(R())})},Mt=function(t,e){return t.ofType(Q).switchMap(function(){var t=e.getState(),n=dt(t),i=ft(t);if(!i||"NODATA"===i)return o.Observable.of(L("",!0,""));var r=Tt(i);return o.Observable.fromPromise(h.getData(r).then(function(t){return t})).switchMap(function(t){return o.Observable.of(L(t,!0,t))}).catch(function(){return o.Observable.of(u({message:"maps.feedback.errorFetchingDetailsOfMap"}),L(C,!0,C),M(n))})})},Nt=function(t){return t.ofType(E).switchMap(function(t){var e=t.params,n=t.searchText,i=t.geoStoreUrl,r=n.replace(/[\/?:;@=&\\]+/g,""),a=s({},{params:e},i?{baseURL:i}:{});return o.Observable.of(I(r,e),H("MAP",r,a))})},Dt=function(t,e){var n=e.getState,i=void 0===n?function(){}:n;return t.ofType(k).delay(1e3).switchMap(function(){return o.Observable.of(Z(!1,at(i()),st(i())))})},Rt=function(t){return t.ofType(w).switchMap(function(t){var e=t.map,n=t.searchText,i=t.opts;return o.Observable.fromPromise(h.getResourcesByCategory(e,n,i).then(function(t){return t})).switchMap(function(t){return o.Observable.of(A(t,i.params,n))}).catch(function(t){return D(t)})})},Ft=function(t,e){return t.ofType(x).switchMap(function(t){var n=e.getState(),r=t.resourceId,a=t.options,s=ot(n,r),l=rt(n,r),h=Tt(s),p=Tt(l);return o.Observable.forkJoin(xt(p,a),xt(h,a),xt(r,a)).concatMap(function(t){var e=i(t,3),n=e[0],a=e[1],s=e[2],l=[];return"error"===n.resType&&l.push(u({message:"maps.feedback.errorDeletingDetailsOfMap"})),"error"===a.resType&&l.push(u({message:"maps.feedback.errorDeletingThumbnailOfMap"})),"error"===s.resType&&(l.push(u({message:"maps.feedback.errorDeletingMap"})),l.push(N(r,"failure",s.error))),"success"===s.resType&&l.push(N(r,"success")),"success"===s.resType&&"success"===n.resType&&"success"===a.resType&&l.push(c({message:"maps.feedback.allResDeleted"})),o.Observable.from(l)}).startWith(P(r))})},Gt=function(t,e){return t.ofType(_).switchMap(function(){var t=e.getState(),n=ct(t),i=Tt(n);return o.Observable.fromPromise(h.getData(i).then(function(t){return t})).switchMap(function(t){return o.Observable.from([$(),L(t,!0,t)])}).startWith(et("details","enabled")).catch(function(){return o.Observable.of(u({message:"maps.feedback.errorFetchingDetailsOfMap"}),L(C,!0,C))})})},jt=function(t){return t.ofType(S).switchMap(function(){return o.Observable.from([et("details","enabled"),K()])})},zt=function(t){return t.ofType(z).switchMap(function(){return o.Observable.from([j(!1),K()])})},Ut=function(t,e){return t.ofType(d).switchMap(function(){var t=ut(e.getState());return t?o.Observable.fromPromise(h.getResourceAttributes(t)).switchMap(function(e){var n=m(e,{name:"details"});return n?o.Observable.of(F(t,n.value)):o.Observable.empty()}):o.Observable.empty()})},Bt=function(t){return Lt.updateResource(t).switchMap(function(){return o.Observable.of(c({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"}))}).catch(function(t){return o.Observable.of(D(t),u(r({},Ot(t,"geostore","mapsError"),{autoDismiss:6,position:"tc"})))}).startWith(Y(t.metadata))},Ht=function(t){return Lt.createResource(t).switchMap(function(e){return o.Observable.of(W(e,s({id:e,canDelete:!0,canEdit:!0,canCopy:!0},t.metadata),t.data),j(!1),c({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"}))}).catch(function(t){return o.Observable.of(q(t),u(r({},Ot(t,"geostore","mapsError"),{autoDismiss:6,position:"tc"})))}).startWith(V(t.metadata))},Yt=function(t){return t.ofType(T).exhaustMap(function(t){var e=t.resource;return e.id?Bt(e):Ht(e)})};t.exports={loadMapsEpic:Nt,resetCurrentMapEpic:zt,storeDetailsInfoEpic:Ut,closeDetailsPanelEpic:jt,fetchDataForDetailsPanel:Gt,deleteMapAndAssociatedResourcesEpic:Ft,getMapsResourcesByCategoryEpic:Rt,setDetailsChangedEpic:At,fetchDetailsFromResourceEpic:Mt,saveResourceDetailsEpic:Pt,mapSaveMapResourceEpic:Yt,reloadMapsEpic:Dt}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(3),s=n(14),l=s.get,u=n(2188),c=u.PLAY,h=u.PAUSE,p=u.STOP,d=u.STATUS,f=u.SET_FRAMES,g=u.SET_CURRENT_FRAME,m=u.TOGGLE_ANIMATION_MODE,y=u.ANIMATION_STEP_MOVE,v=u.stop,b=u.setFrames,w=u.appendFrames,x=u.setCurrentFrame,_=u.framesLoading,E=u.updateMetadata,S=n(868),C=S.moveTime,T=S.SET_CURRENT_TIME,k=S.MOVE_TIME,O=n(2180),L=O.selectLayer,I=O.onRangeChanged,A=O.timeDataLoading,P=O.SELECT_LAYER,M=O.SET_MAP_SYNC,N=n(273),D=N.changeLayerProperties,R=N.REMOVE_NODE,F=n(197),G=F.error,j=n(862),z=j.currentTimeSelector,U=j.layersWithTimeDataSelector,B=j.layerTimeSequenceSelectorCreator,H=n(872),Y=H.LOCATION_CHANGE,V=n(2198),W=V.currentFrameSelector,q=V.currentFrameValueSelector,Z=V.lastFrameSelector,X=V.playbackRangeSelector,K=V.playbackSettingsSelector,Q=V.frameDurationSelector,J=V.statusSelector,$=V.playbackMetadataSelector,tt=n(2185),et=tt.selectedLayerSelector,nt=tt.selectedLayerName,it=tt.selectedLayerUrl,rt=tt.selectedLayerData,ot=tt.selectedLayerTimeDimensionConfiguration,at=tt.rangeSelector,st=tt.timelineLayersSelector,lt=tt.multidimOptionsSelectorCreator,ut=n(2726),ct=n(2500),ht=ct.wrapStartStop,pt=n(879),dt=pt.getDomainValues,ft=n(98),gt=function(t,e){return t+"/"+e},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=et(t()),i=nt(t()),r=it(t()),a=X(t())||{},s=a.startPlaybackTime,l=a.endPlaybackTime,u=J(t())===d.PLAY||J(t())===d.PAUSE;return[r,i,"time",o({limit:20,time:s&&l&&u?gt(s,l):void 0},e),lt(n)(t())]},yt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fromValue,i=e.limit,r=void 0===i?20:i,o=e.sort,s=void 0===o?"asc":o,l=K(t()),u=l.timeStep,c=l.stepUnit,h=a.duration(u,c),p=X(t())||{},d=p.startPlaybackTime,f=p.endPlaybackTime,g=void 0!==n?n:d||z(t())||(new Date).toString(),m=[];g!==n&&m.push(a(g).toISOString());for(var y=0;y<r&&(g=a(g).add("asc"===s?h:-1*h),!f||g.isBefore(f));y++)m.push(g.toISOString());return ft.Observable.of(m)},vt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.fromValue,r=n.limit,o=void 0===r?20:r,s=X(e())||{},l=s.startPlaybackTime,u=s.endPlaybackTime;return ft.Observable.of(t.filter(function(t){return!l||!u||a(t).isSameOrAfter(l)&&a(t).isSameOrBefore(u)}).filter(function(t){return!i||a(t).isAfter(i)}).slice(0,o))},bt=function(t,e){if(nt(t())){var n=B(rt(t()))(t()),r=ot(t());return"multidim-extension"!==l(r,"source.type")&&n&&n.length>0?vt(n,t,e):dt.apply(void 0,i(mt(t,e))).map(function(t){return t.DomainValues.Domain.split(",")})}return yt(t,e)},wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(e){var n=U(t());return ft.Observable.from(n.map(function(t){return D(t.id,{singleTile:!0})})).concat(e).concat(ft.Observable.from(n.map(function(t){return D(t.id,{singleTile:t.singleTile})})))}},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.start,i=e.end;return n&&i&&(a(t).isBefore(n)||a(t).isAfter(i))};t.exports={retrieveFramesForPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(c).exhaustMap(function(){return bt(i,{fromValue:X(i())&&X(i()).startPlaybackTime&&X(i()).endPlaybackTime?void 0:z(i())}).map(function(t){return b(t)}).let(ht(_(!0),_(!1)),function(){return ft.Observable.of(G({title:"There was an error retrieving animation",message:"Please contact the administrator"}),v())}).let(ht(A(!1,!0),A(!1,!1))).concat(t.ofType(g).filter(function(t){return t.frame%20==10}).switchMap(function(){return bt(i,{fromValue:Z(i())}).map(w).let(ht(_(!0),_(!1)))})).takeUntil(t.ofType(p,Y)).concat(ft.Observable.of(A(!1,!1))).let(wt(i))})},updateCurrentTimeFromAnimation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(g).map(function(){return q(i())}).map(function(t){return t?C(t):v()})},timeDimensionPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(f).exhaustMap(function(){return ft.Observable.interval(1e3*Q(i())).startWith(0).let(ut(t.ofType(c,h).map(function(t){return t.type===c}))).map(function(){return x(W(i())+1)}).merge(t.ofType(y).map(function(t){var e=t.direction;return x(Math.max(0,W(i())+e))})).concat(ft.Observable.of(v())).takeUntil(t.ofType(p,Y))})},playbackToggleGuideLayerToFixedStep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(m).exhaustMap(function(){return nt(i())?ft.Observable.of(L(void 0)):ft.Observable.of(L(l(st(i()),"[0].id")))})},playbackMoveStep:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(y).filter(function(){return J(i())!==d.PLAY}).switchMap(function(t){var e=t.direction,n=void 0===e?1:e,o=$(i())||{},a=z(i());return a&&o.forTime===a?ft.Observable.of(n>0?o.next:o.previous):bt(i,{limit:1,sort:n>0?"asc":"desc",fromValue:z(i())}).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r(t,1)[0]})}).filter(function(t){return!!t}).map(function(t){return C(t)})},playbackCacheNextPreviousTimes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,o=void 0===n?function(){}:n;return t.ofType(T,k,P,p,M).filter(function(){return J(o())!==d.PLAY&&J(o())!==d.PAUSE}).filter(function(){return et(o())}).filter(function(t){return!!t}).switchMap(function(t){var e=t.time,n=e||z(o());return ft.Observable.forkJoin(dt.apply(void 0,i(mt(o,{sort:"asc",limit:1,fromValue:n}))).map(function(t){return t.DomainValues.Domain.split(",")}).map(function(t){return r(t,1)[0]}).catch(function(t){return t&&ft.Observable.of(null)}),dt.apply(void 0,i(mt(o,{sort:"desc",limit:1,fromValue:n}))).map(function(t){return t.DomainValues.Domain.split(",")}).map(function(t){return r(t,1)[0]}).catch(function(t){return t&&ft.Observable.of(null)})).map(function(t){var e=r(t,2),i=e[0],o=e[1];return E({forTime:n,next:i,previous:o})})})},playbackFollowCursor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(k).filter(function(t){return(t.type===k||J(i())===d.PLAY)&&xt(z(i()),at(i()))}).filter(function(){return l(K(i()),"following")}).switchMap(function(){return ft.Observable.of(I(function(){var t=z(i()),e=at(i()),n=e.start,r=e.end,o=a(r).diff(a(n));return{start:t,end:a(t).add(o).toISOString()}}()))})},playbackStopWhenDeleteLayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(R).filter(function(){return!et(i())&&"PLAY"===J(i())}).switchMap(function(){return ft.Observable.of(v())})}}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(98),l=n(14),u=l.isString,c=l.get,h=l.head,p=l.castArray,d=n(3),f=n(2500),g=f.wrapStartStop,m=n(430),y=m.CHANGE_MAP_VIEW,v=n(2180),b=v.SELECT_TIME,w=v.RANGE_CHANGED,x=v.ENABLE_OFFSET,_=v.SET_MAP_SYNC,E=v.timeDataLoading,S=v.rangeDataLoaded,C=v.onRangeChanged,T=v.selectLayer,k=n(868),O=k.setCurrentTime,L=k.UPDATE_LAYER_DIMENSION_DATA,I=k.setCurrentOffset,A=n(273),P=A.REMOVE_NODE,M=n(197),N=M.error,D=n(429),R=D.getLayerFromId,F=n(2185),G=F.rangeSelector,j=F.selectedLayerName,z=F.selectedLayerUrl,U=F.isAutoSelectEnabled,B=F.selectedLayerSelector,H=F.timelineLayersSelector,Y=F.multidimOptionsSelectorCreator,V=F.isMapSync,W=n(862),q=W.layerTimeSequenceSelectorCreator,Z=W.timeDataSelector,X=W.offsetTimeSelector,K=W.currentTimeSelector,Q=n(866),J=Q.getNearestDate,$=Q.roundRangeResolution,tt=Q.isTimeDomainInterval,et=n(879),nt=et.getHistogram,it=et.describeDomains,rt=et.getDomainValues,ot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=B(t),i=j(t),r=z(t),o=Y(n)(t);return[r,i,"time",a({limit:1},e),o]},at=function(t,e,n){if(j(t))return s.Observable.forkJoin(rt.apply(void 0,r(ot(t,{sort:"asc",fromValue:n}))).map(function(t){return t.DomainValues.Domain.split(",")}).map(function(t){return o(t,1)[0]}).catch(function(t){return t&&s.Observable.of(null)}),rt.apply(void 0,r(ot(t,{sort:"desc",fromValue:n}))).map(function(t){return t.DomainValues.Domain.split(",")}).map(function(t){return o(t,1)[0]}).catch(function(t){return t&&s.Observable.of(null)})).map(function(t){return J(t.filter(function(t){return!!t}),n)||n});var i=q(R(t,e))(t);return s.Observable.of(J(i,n)||n)},st=function(t){return u(t)?t:t.toISOString()},lt=function(t,e,n){var r=e.domain.split("--"),o=G(n())||{start:new Date(r[0]),end:new Date(r[1])},l=$(o,20),u=l.range,d=l.resolution,f=R(n(),t).name,g=i({},"time",st(u.start)+"/"+st(u.end));return nt(e.source.url,f,"time",i({},"time",st(u.start)+"/"+st(u.end)),d,Y(t)(n())).merge(it(e.source.url,f,g,a({},Y(t)(n()),{expandLimit:20}))).scan(function(t,e){return a({},t,e)},{}).switchMap(function(t){var e=t.Histogram,n=t.Domains,i=c(h(p(c(n,"DimensionDomain")||[]).filter(function(){return"time"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Identifier})),"Domain"),r=void 0;try{r=e&&e.Values&&e.Values.split(",").map(function(t){return parseInt(t,10)})||[]}catch(t){r=[]}var o=i&&i.indexOf("--")<0&&i.split(",");return s.Observable.of({range:u,histogram:e&&e.Domain?{values:r,domain:e.Domain}:void 0,domain:i?{values:o}:void 0})})};t.exports={setTimelineCurrentTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(b).throttleTime(100).switchMap(function(t){var e=t.time,n=t.group,o=i();return n?at(o,n,e).switchMap(function(t){var e=G(o),n=e||{},i=n.start,a=n.end,l=[];if(i&&a&&(d(t).isBefore(i)||d(t).isAfter(a))){var u=d(a).diff(i);l=[C({start:d(t).subtract(u/2),end:d(t).add(u/2)})]}return s.Observable.from([].concat(r(l),[O(t)]))}).let(g(E(!1,!0),E(!1,!1))):s.Observable.of(O(e))})},setupTimelineExistingSettings:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(P,L).exhaustMap(function(){return U(i())&&c(H(i()),"[0].id")&&!B(i())?s.Observable.of(T(c(H(i()),"[0].id"))).concat(s.Observable.of(1).switchMap(function(){return at(i(),c(H(i()),"[0].id"),K(i)||(new Date).toISOString()).filter(function(t){return t}).map(function(t){return O(t)})})):s.Observable.empty()})},settingInitialOffsetValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(x).switchMap(function(t){var e=i(),n=K(e),r=G(e);if(t.enabled){var o=r||{},a=o.start,l=void 0===a?0:a,u=o.end,c=void 0===u?432e6:u,h=X(e),p=d(c).diff(l),f=r?d(l).add(p/2).toISOString():d(new Date).toISOString(),g=d(n||f).add(p/5),m=t.enabled&&!n?s.Observable.of(O(f)):s.Observable.empty(),y=t.enabled&&!h||t.enabled&&d(h).diff(n)<0?s.Observable.of(I(g.toISOString())):s.Observable.empty(),v=r?s.Observable.empty():s.Observable.of(C({start:d(f).add(-1*p/2),end:d(f).add(p/2)}));return m.concat(y).concat(v)}return s.Observable.of(I())})},updateRangeDataOnRangeChange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState,i=void 0===n?function(){}:n;return t.ofType(w).merge(t.ofType(y).filter(function(){return V(i())}),t.ofType(_)).debounceTime(400).merge(t.ofType(L).debounceTime(50)).switchMap(function(){var t,e=Z(i())||{},n=Object.keys(e).filter(function(t){return e[t]&&e[t].domain&&tt(e[t].domain)||V(i())});return(t=s.Observable).merge.apply(t,r(n.map(function(t){return lt(t,e[t],i).map(function(e){var n=e.range,i=e.histogram,r=e.domain;return S(t,n,i,r)}).startWith(E(t,!0)).catch(function(){return s.Observable.of(N({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))}).concat(s.Observable.of(E(t,!1)))})))})}}},function(t,e,n){"use strict";t.exports=window.MQ},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return function(r){return r.withLatestFrom(t.startWith(e)).filter(function(t){var e=i(t,2),r=e[1];return n(r)}).map(function(t){return i(t,1)[0]})}}},,function(t,e,n){"use strict";var i=function(t){return!t.viewerOptions.header&&t.validResponses.length>1},r=function(t){return t.index>=t.validResponses.length-1},o=function(t){return t.index<=0};t.exports=function(t){return[{keyProp:"back",glyph:"arrow-left",tooltipId:o(t)?void 0:"wizard.prev",disabled:o(t),visible:i(t),onClick:function(){t.onPrevious()}},{keyProp:"forward",glyph:"arrow-right",tooltipId:r(t)?void 0:"wizard.next",disabled:r(t),visible:i(t),onClick:function(){t.onNext()}}].filter(function(t){return t&&t.visible})}},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}t.exports=function(t){var e=t.showHighlightFeatureButton,n=t.currentFeature,r=t.highlight,o=t.toggleHighlightFeature,a=void 0===o?function(){}:o,s=t.zoomToFeature,l=void 0===s?function(){}:s,u=i(t,["showHighlightFeatureButton","currentFeature","highlight","toggleHighlightFeature","zoomToFeature"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:u.latlng&&u.enableRevGeocode&&u.lngCorrected,onClick:function(){u.showRevGeocode({lat:u.latlng.lat,lng:u.lngCorrected})}},{glyph:"search-coords",tooltipId:u.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:u.enabledCoordEditorButton,bsStyle:u.showCoordinateEditor?"success":"primary",onClick:function(){u.onToggleShowCoordinateEditor(u.showCoordinateEditor)}},{glyph:"map-filter",visible:e,tooltipId:r?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:r?"success":"primary",onClick:function(){return a(!r)}},{glyph:"zoom-to",visible:r&&!!n&&n.length>0&&n.reduce(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.geometry;return t||!!n},!1),tooltipId:"identifyZoomToFeature",onClick:l}].filter(function(t){return t&&t.visible})}},function(t,e,n){"use strict";t.exports={LMap:n(2550),Layer:n(2549)}},function(t,e,n){"use strict";var i=n(0),r=n(430),o=r.creationError,a=r.changeMapView,s=r.clickOnMap,l=n(273),u=l.layerLoading,c=l.layerLoad,h=l.layerError,p=n(2492),d=p.changeMousePosition,f=n(2454),g=f.changeMeasurementState,m=f.changeGeometry,y=f.resetGeometry,v=f.updateMeasures,b=n(2609),w=b.measurementSelector,x=n(2675),_=x.changeSelectionState,E=n(2672),S=E.changeLocateState,C=E.onLocateError,T=n(2196),k=T.changeDrawingStatus,O=T.endDrawing,L=T.setCurrentStyle,I=T.geometryChanged,A=T.drawStopped,P=T.selectFeatures,M=T.drawingFeatures,N=n(2453),D=N.updateHighlighted,R=n(197),F=R.warning,G=n(133),j=G.connect,z=n(12),U=n(858),B=U.projectionDefsSelector,H=function(){return i.createElement("span",null)};t.exports=function(t,e){var i=n(2666)("./"+t+"/index"),r=j(function(t){return{projectionDefs:B(t),mousePosition:t.mousePosition||{enabled:!1}}},z({},{onCreationError:o,onMapViewChanges:a,onClick:s,onMouseMove:d,onLayerLoading:u,onLayerLoad:c,onLayerError:h,onWarning:F},e),function(t,e,n){return z({},n,t,z({},e,{onMouseMove:t.mousePosition.enabled?e.onMouseMove:function(){}}))})(i.LMap),l=j(function(t){return{enabled:t.controls&&t.controls.measure&&t.controls.measure.enabled||!1,measurement:w(t),useTreshold:t.measurement&&t.measurement.useTreshold||null,uom:t.measurement&&t.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}},{changeMeasurementState:g,updateMeasures:v,resetGeometry:y,changeGeometry:m})(i.MeasurementSupport||H),p=j(function(t){return{status:t.locate&&t.locate.state,messages:t.locale&&t.locale.messages?t.locale.messages.locate:void 0}},{changeLocateState:S,onLocateError:C})(i.Locate||H),f=j(function(t){return t.draw||{}},{onChangeDrawingStatus:k,onEndDrawing:O,onGeometryChanged:I,onSelectFeatures:P,onDrawingFeatures:M,onDrawStopped:A,setCurrentStyle:L})(i.DrawSupport||H),b=j(function(t){return t.highlight||{}},{updateHighlighted:D})(i.HighlightFeatureSupport||H),x=j(function(t){return{selection:t.selection||{}}},{changeSelectionState:_})(i.SelectionSupport||H);return n(2598)("./"+t+"/plugins/index"),{Map:r,Layer:j(null,{onWarning:F})(i.Layer||H),Feature:i.Feature||H,tools:{measurement:l,locate:p,overview:i.Overview||H,scalebar:i.ScaleBar||H,draw:f,highlight:b,selection:x}}}},function(t,e,n){"use strict";t.exports={LMap:n(2475),Layer:n(2474),Feature:n(2551),Locate:n(2552),MeasurementSupport:n(2553),Overview:n(2554),ScaleBar:n(2555),DrawSupport:n(2635),HighlightFeatureSupport:n(3011)}},function(t,e,n){"use strict";var i=n(2677),r=i(["formatNumber"]);t.exports={LMap:n(2477),Layer:n(2476),Feature:n(2556),Locate:n(2557),MeasurementSupport:r(n(2558)),Overview:n(2559),ScaleBar:n(2560),DrawSupport:n(2636),HighlightFeatureSupport:n(3013),SelectionSupport:n(3014)}},,,,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case s:var n=d({id:e.id,owner:e.owner,actionType:e.actionType,options:e.options},f),r=p(t.filter(function(t){return t.id===n.id}));return r?t.map(function(t){return t.id===n.id?o({},r,n):o({},t)}):[].concat(i(t),[n]);case u:var a=e.options,h=e.owner;return t.map(function(t,e){return t.owner===h?o({},t,{options:g(a)&&a[t.id]||m(a)&&a[e]||{}}):o({},t)});case l:var y=e.id,v=e.owner;return v?t.filter(function(t){return t.owner!==v}):t.filter(function(t){return t.id!==y});case c:return[];default:return t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(2233),s=a.UPDATE_ADDITIONAL_LAYER,l=a.REMOVE_ADDITIONAL_LAYER,u=a.UPDATE_OPTIONS_BY_OWNER,c=a.REMOVE_ALL_ADDITIONAL_LAYERS,h=n(14),p=h.head,d=h.pickBy,f=h.identity,g=h.isObject,m=h.isArray;t.exports=r},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case a:return R({},t,e.map,{newThumbnail:e.map&&e.map.thumbnail?e.map.thumbnail:null,displayMetadataEdit:e.openModalProperties,thumbnailError:null,errors:[],metadata:{name:e.map.name,description:e.map.description},hideGroupProperties:!1,detailsSheetReadOnly:!0});case D:return R({},t,{editDetailsDisabled:!t.editDetailsDisabled});case s:return R({},t,{newThumbnail:e.thumbnail,thumbnailData:e.thumbnailData,unsavedChanges:!0});case g:return R({},t,{updating:!0});case u:var n=[];return e.permissions&&e.permissions.SecurityRuleList&&e.permissions.SecurityRuleList.SecurityRule&&(G(e.permissions.SecurityRuleList.SecurityRule)?n=e.permissions.SecurityRuleList.SecurityRule:n.push(e.permissions.SecurityRuleList.SecurityRule)),R({},t,{permissions:{SecurityRuleList:{SecurityRule:n}}});case c:return R({},t,{availableGroups:e.groups});case p:var r={SecurityRuleList:{SecurityRule:t.permissions&&t.permissions.SecurityRuleList&&t.permissions.SecurityRuleList.SecurityRule?t.permissions.SecurityRuleList.SecurityRule.slice():[]}};return e.rule&&r.SecurityRuleList.SecurityRule.push(e.rule),R({},t,{permissions:r});case l:return R({},t,{thumbnailError:null,mapError:null,errors:e.errors});case f:return R({},t,{thumbnailError:e.error,errors:[],updating:!1});case b:return R({},t,{mapError:e.error,errors:[],updating:!1});case m:return R({},t,{thumbnailError:null});case y:return R({},t,{displayMetadataEdit:e.displayMetadataEditValue});case v:return R({},t,{updating:!1});case w:return R({},t,{mapId:e.resourceId});case x:return R({},t,{permissionLoading:!0});case _:return R({},t,{permissionLoading:!1});case h:return{};case E:return R({},t,{showDetailEditor:!t.showDetailEditor,detailsBackup:t.showDetailEditor||t.detailsDeleted?t.detailsBackup:"",detailsSheetReadOnly:e.detailsSheetReadOnly});case M:var o=e.prop;return R({},t,{metadata:R({},t.metadata,i({},e.prop,e.value)),unsavedChanges:("name"===o?e.value:t.metadata.name)!==t.name||("description"===o?e.value:t.metadata.description)!==t.description});case S:return R({},t,{detailsText:e.detailsText,originalDetails:e.originalDetails||t.originalDetails,detailsBackup:e.doBackup?t.detailsText:t.detailsBackup});case k:return R({},t,{detailsText:t.detailsDeleted?"":e.backupDetails,detailsBackup:t.detailsDeleted?t.detailsBackup:"",showDetailEditor:!1});case O:return R({},t,{detailsText:t.detailsBackup,detailsBackup:"",detailsDeleted:!1});case C:return e.detailsText.length<=5e5?R({},t,{detailsText:e.detailsText,detailsBackup:"",detailsDeleted:!1}):t;case N:return R({},t,{saving:e.saving});case T:return R({},t,{detailsText:"",detailsBackup:t.detailsText,detailsChanged:!0,unsavedChanges:!0,detailsDeleted:!0});case P:return R({},t,{unsavedChanges:e.value});case L:return R({},t,{hideGroupProperties:!t.hideGroupProperties});case I:return R({},t,{showUnsavedChanges:!t.showUnsavedChanges});case A:return R({},t,{unsavedChanges:e.detailsChanged?e.detailsChanged:t.unsavedChanges,detailsChanged:e.detailsChanged});default:return t}}var o=n(438),a=o.EDIT_MAP,s=o.UPDATE_CURRENT_MAP,l=o.ERROR_CURRENT_MAP,u=o.UPDATE_CURRENT_MAP_PERMISSIONS,c=o.UPDATE_CURRENT_MAP_GROUPS,h=o.RESET_CURRENT_MAP,p=o.ADD_CURRENT_MAP_PERMISSION,d=n(436),f=d.THUMBNAIL_ERROR,g=d.MAP_UPDATING,m=d.SAVE_MAP,y=d.DISPLAY_METADATA_EDIT,v=d.RESET_UPDATING,b=d.MAP_ERROR,w=d.MAP_CREATED,x=d.PERMISSIONS_LIST_LOADING,_=d.PERMISSIONS_LIST_LOADED,E=d.TOGGLE_DETAILS_SHEET,S=d.UPDATE_DETAILS,C=d.SAVE_DETAILS,T=d.DELETE_DETAILS,k=d.BACK_DETAILS,O=d.UNDO_DETAILS,L=d.TOGGLE_GROUP_PROPERTIES,I=d.TOGGLE_UNSAVED_CHANGES,A=d.SET_DETAILS_CHANGED,P=d.SET_UNSAVED_CHANGES,M=d.METADATA_CHANGED,N=d.DETAILS_SAVING,D=d.TOGGLE_DETAILS_EDITABILITY,R=n(12),F=n(14),G=F.isArray;t.exports=r},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments[1];switch(e.type){case o:return u({},t,{drawStatus:e.status,drawOwner:e.owner,drawMethod:e.method,options:e.options,features:e.features,style:e.style});case a:return u({},t,{currentStyle:e.currentStyle});case s:return u({},t,{tempFeatures:e.features});case l:return u({},t,{tempFeatures:[]});default:return t}}var r=n(2196),o=r.CHANGE_DRAWING_STATUS,a=r.SET_CURRENT_STYLE,s=r.GEOMETRY_CHANGED,l=r.DRAW_SUPPORT_STOPPED,u=n(12),c={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};t.exports=i},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments[1];switch(e.type){case l:return u({},t,{featuresPath:e.featuresPath||"highlight.emptyFeatures"});case a:return r({},t,{status:e.status});case s:return r({},t,{highlighted:e.features.length,features:e.features,status:e.status||t.status});default:return t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(2453),a=o.HIGHLIGHT_STATUS,s=o.UPDATE_HIGHLIGHTED,l=o.SET_HIGHLIGHT_FEATURES_PATH,u=n(12),c={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};t.exports=i},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},e=arguments[1];switch(e.type){case s:var n=e.layout,r=n.boundingMapRect,a=void 0===r?{}:r,u=i(n,["boundingMapRect"]);return l({},t,{layout:l({},u,u),boundingMapRect:o({},a)});default:return t}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(2491),s=a.UPDATE_MAP_LAYOUT,l=n(12);t.exports=r},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchText:""},e=arguments[1];switch(e.type){case x:return k({},t,{searchText:e.text});case _:return k({},t,{metadata:k({},t.metadata,r({},e.prop,e.value))});case E:return k({},t,{showMapDetails:e.showMapDetails});case C:return k({},t,{metadata:{name:e.map&&e.map.name||t&&t.metadata&&t.metadata.name||"",description:e.map&&e.map.description||t&&t.metadata&&t.metadata.description||""}});case T:return k({},t,{metadata:{name:"",description:""}});case l:return k({},t,{loading:!0,start:e.params&&e.params.start,limit:e.params&&e.params.limit,searchText:e.searchText});case s:if(e.maps&&e.maps.results&&Array.isArray(e.maps.results))return k({},t,e.maps,{loading:!1,start:e.params&&e.params.start,limit:e.params&&e.params.limit,searchText:e.searchText})
;var n=""!==e.maps.results?[e.maps.results]:[];return k({},t,e.maps,{results:n,loading:!1});case u:return{loadingError:e.error};case h:for(var o=""===t.results||I(t.results)?[]:[].concat(i(t.results)),a=0;a<o.length;a++)o[a].id&&o[a].id===e.resourceId&&(o[a]=k({},o[a],{updating:!0}));return k({},t,{results:o});case p:for(var S=""===t.results?[]:[].concat(i(t.results)),O=0;O<S.length;O++)S[O].id&&S[O].id===e.resourceId&&(S[O]=k({},S[O],{description:e.newDescription,name:e.newName,updating:!1}));return k({},t,{results:S});case f:for(var A=""===t.results?[]:[].concat(i(t.results)),P=0;P<A.length;P++)if(A[P].id&&A[P].id===e.resourceId){var M;A[P]=k({},A[P],(M={},r(M,e.name,decodeURIComponent(e.value)),r(M,"updating",!1),r(M,"loadingError",e.error?e.error:null),M))}return k({},t,{results:A});case v:for(var N=""===t.results?[]:[].concat(i(t.results)),D=0;D<N.length;D++)N[D].id&&N[D].id===e.resourceId&&(N[D]=k({},N[D],{loadingError:e.error?e.error:null}));return k({},t,{results:N});case d:for(var R=""===t.results?[]:[].concat(i(t.results)),F=0;F<R.length;F++)R[F].id&&R[F].id===e.resourceId&&(R[F]=k({},R[F],{deleting:!0}));return k({},t,{results:R});case c:var G=""===t.results?[]:[].concat(i(t.results)),j={results:[].concat(i(G),[e.metadata]),totalCount:t.totalCount+1};return k({},t,j);case y:for(var z=""===t.results?[]:[].concat(i(t.results)),U=0;U<z.length;U++)z[U].id&&z[U].id===e.resourceId&&(z[U]=k({},z[U],{files:e.map&&e.map.files,errors:e.map&&e.map.errors,newThumbnail:e.map&&e.map.newThumbnail,thumbnailError:e.map&&e.map.thumbnailError,thumbnail:e.map&&e.map.thumbnail}));return k({},t,{results:z});case b:for(var B=""===t.results?[]:[].concat(i(t.results)),H=0;H<B.length;H++)B[H].id&&B[H].id===e.resourceId&&(B[H]=k({},B[H],{updating:!1}));return k({},t,{results:B});case w:for(var Y=""===t.results?[]:[].concat(i(t.results)),V=0;V<Y.length;V++)Y[V].id&&Y[V].id===e.resourceId&&(Y[V]=k({},Y[V],{updating:!1}));return k({},t,{results:Y});case g:var W=""===t.results?[]:[].concat(i(t.results));return k({},t,{results:W.map(function(t){return t.id===e.mapId?k({},t,{permissionLoading:!0}):t})});case m:var q=""===t.results?[]:[].concat(i(t.results));return k({},t,{results:q.map(function(t){if(t.id===e.mapId){var n=[];return e.permissions&&e.permissions.SecurityRuleList&&e.permissions.SecurityRuleList.SecurityRule&&(L(e.permissions.SecurityRuleList.SecurityRule)?n=e.permissions.SecurityRuleList.SecurityRule:n.push(e.permissions.SecurityRuleList.SecurityRule)),k({},t,{permissionLoading:!1,permissions:{SecurityRuleList:{SecurityRule:n}}})}return t})});default:return t}}var a=n(436),s=a.MAPS_LIST_LOADED,l=a.MAPS_LIST_LOADING,u=a.MAPS_LIST_LOAD_ERROR,c=a.MAP_CREATED,h=a.MAP_UPDATING,p=a.MAP_METADATA_UPDATED,d=a.MAP_DELETING,f=a.ATTRIBUTE_UPDATED,g=a.PERMISSIONS_LIST_LOADING,m=a.PERMISSIONS_LIST_LOADED,y=a.SAVE_MAP,v=a.PERMISSIONS_UPDATED,b=a.THUMBNAIL_ERROR,w=a.RESET_UPDATING,x=a.MAPS_SEARCH_TEXT_CHANGED,_=a.METADATA_CHANGED,E=a.SHOW_DETAILS,S=n(438),C=S.EDIT_MAP,T=S.RESET_CURRENT_MAP,k=n(12),O=n(14),L=O.isArray,I=O.isNil;t.exports=o},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},e=arguments[1];switch(e.type){case o:return{mapType:e.mapType};default:return t}}var r=n(2673),o=r.MAP_TYPE_CHANGED;t.exports=i},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(2188),o=r.PLAY,a=r.PAUSE,s=r.STOP,l=r.STATUS,u=r.SET_FRAMES,c=r.APPEND_FRAMES,h=r.FRAMES_LOADING,p=r.SET_CURRENT_FRAME,d=r.SELECT_PLAYBACK_RANGE,f=r.CHANGE_SETTING,g=r.UPDATE_METADATA,m=n(272),y=m.RESET_CONTROLS,v=n(431),b=v.set,w={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:l.STOP,currentFrame:-1,settings:w},e=arguments[1];switch(e.type){case o:return b("status",l.PLAY,t);case a:return b("status",l.PAUSE,t);case s:return b("status",l.STOP,b("currentFrame",-1,t));case u:return b("frames",e.frames,b("currentFrame",-1,t));case h:return b("framesLoading",e.loading,t);case c:return b("frames",[].concat(i(t.frames||[]),i(e.frames)),t);case p:return b("currentFrame",e.frame,t);case d:return b("playbackRange",e.range,t);case f:return b("settings["+e.name+"]",e.value,t);case g:return b("metadata",{next:e.next,previous:e.previous,forTime:e.forTime},t);case y:return b("metadata",void 0,b("framesLoading",void 0,b("playbackRange",void 0,b("frames",void 0,b("currentFrame",-1,b("status","STOP",b("settings",w,t)))))));default:return t}return t}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:_,capabilities:null,map:null,isLoading:!1,pdfUrl:null},e=arguments[1];switch(e.type){case y:return"print"===e.control?x({},t,{pdfUrl:null,isLoading:!1,error:null}):t;case s:var n=w(e,"capabilities.layouts",[{name:"A4"}]),r=n.filter(function(e){return E(e.name)===t.spec.sheet}).length?t.spec.sheet:E(n[0].name);return x({},t,{capabilities:e.capabilities,spec:x({},t.spec||{},{sheet:r,resolution:e.capabilities&&e.capabilities.dpis&&e.capabilities.dpis.length&&e.capabilities.dpis[0].value})});case a:return x({},t,{spec:x({},t.spec,i({},e.name,e.value))});case u:var o=e.layers.map(function(t){return t.title?x({},t,{title:b(t.title)&&e.currentLocale&&t.title[e.currentLocale]||b(t.title)&&t.title.default||t.title}):t});return x({},t,{map:{center:e.center,zoom:e.zoom,scaleZoom:e.scaleZoom,scale:e.scale,layers:o,projection:e.projection},error:null});case c:var m=e.zoom-t.map.scaleZoom;return x({},t,{map:x({},t.map,{scaleZoom:e.zoom,zoom:t.map.zoom+m,scale:e.scale})});case h:return x({},t,{map:x({},t.map,{size:e.size})});case p:return x({},t,{isLoading:!0,pdfUrl:null,error:null});case d:return x({},t,{isLoading:!1,pdfUrl:e.url,error:null});case f:case l:return x({},t,{isLoading:!1,pdfUrl:null,error:e.error});case g:return x({},t,{isLoading:!1,pdfUrl:null,error:null});default:return t}}var o=n(875),a=o.SET_PRINT_PARAMETER,s=o.PRINT_CAPABILITIES_LOADED,l=o.PRINT_CAPABILITIES_ERROR,u=o.CONFIGURE_PRINT_MAP,c=o.CHANGE_PRINT_ZOOM_LEVEL,h=o.CHANGE_MAP_PRINT_PREVIEW,p=o.PRINT_SUBMITTING,d=o.PRINT_CREATED,f=o.PRINT_ERROR,g=o.PRINT_CANCEL,m=n(272),y=m.TOGGLE_CONTROL,v=n(14),b=v.isObject,w=v.get,x=n(12),_={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},E=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_")[0]};t.exports=r},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,errorCause:null},e=arguments[1];switch(e.type){case m:return t.user&&e.user&&t.user.id===e.user.id?v({},t,{user:w(e.user)}):t;case f:return"ResetPassword"===e.control&&"enabled"===e.property?v({},t,{passwordChanged:!1,passwordError:null}):t;case o:var n=y.getUserAttributes(e.userDetails.User),i=x(n.filter(function(t){return"uuid"===t.name.toLowerCase()})),r=new Date/1e3|0;return v({},t,{user:e.userDetails.User,token:e.userDetails&&e.userDetails.access_token||i&&i.value,refresh_token:e.userDetails&&e.userDetails.refresh_token,expires:e.userDetails&&e.userDetails.expires?r+e.userDetails.expires:r+172800,authHeader:e.authHeader,loginError:null});case h:var d=new Date/1e3|0;return v({},t,{token:e.userDetails&&e.userDetails.access_token,refresh_token:e.userDetails&&e.userDetails.refresh_token,expires:e.userDetails&&e.userDetails.expires?d+e.userDetails.expires:d+172800});case a:return v({},t,{loginError:e.error});case c:return v({},t,{loginError:null});case s:return v({},t,{user:null,token:null,refresh_token:null,expires:null,authHeader:null,loginError:null});case l:return v({},t,{user:v({},t.user,v({},e.user,{date:(new Date).getTime()})),authHeader:e.authHeader,passwordChanged:!0,passwordError:null});case u:return v({},t,{passwordError:e.error,passwordChanged:!1});case p:return v({},t,{user:e.userDetails.User,loginError:null});default:return t}}var r=n(2493),o=r.LOGIN_SUCCESS,a=r.LOGIN_FAIL,s=r.LOGOUT,l=r.CHANGE_PASSWORD_SUCCESS,u=r.CHANGE_PASSWORD_FAIL,c=r.RESET_ERROR,h=r.REFRESH_SUCCESS,p=r.SESSION_VALID,d=n(272),f=d.SET_CONTROL_PROPERTY,g=n(2676),m=g.USERMANAGER_UPDATE_USER,y=n(198),v=n(12),b=n(14),w=b.cloneDeep,x=b.head;t.exports=i},function(t,e,n){"use strict";var i=n(2180),r=i.RANGE_CHANGED,o=n(273),a=o.REMOVE_NODE,s=n(272),l=s.RESET_CONTROLS,u=n(2180),c=u.RANGE_DATA_LOADED,h=u.LOADING,p=u.SELECT_LAYER,d=u.SET_COLLAPSED,f=u.SET_MAP_SYNC,g=n(431),m=g.set,y=n(14),v=y.assign,b=y.pickBy,w=y.has;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},e=arguments[1];switch(e.type){case d:return m("settings.collapsed",e.collapsed,t);case f:return m("settings.mapSync",e.mapSync,t);case r:return m("range",{start:e.start,end:e.end},t);case c:return m("rangeData["+e.layerId+"]",{range:e.range,histogram:e.histogram,domain:e.domain},t);case h:return e.layerId?m("loading["+e.layerId+"]",e.loading,t):m("loading.timeline",e.loading,t);case p:return m("selectedLayer",e.layerId,t);case a:var n=t;return v({},t,{rangeData:w(n.rangeData,e.node)?b(n.rangeData,function(t,n){return n!==e.node}):n.rangeData,loading:w(n.rangeData,e.node)?b(n.loading,function(t,n){return n!==e.node}):n.loading,selectedLayer:t.selectedLayer===e.node?void 0:t.selectedLayer});case l:return v({},t,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return t}return t}},,function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(14),o=r.get,a=n(195),s=a.createSelector,l=n(80),u=l.reprojectGeoJson,c=function(t){return o(t,t&&t.highlight&&t.highlight.featuresPath||"highlight.emptyFeatures")||[]},h=function(t){return o(t,t&&t.featuregrid&&t.featuregrid.open&&t.featuregrid.showFilteredObject&&"query.filterObj.spatialField"||"emptyObject")},p=function(t){return h(t)&&h(t).geometry},d=function(t){return p(t)&&p(t).type||"Polygon"},f=function(t){return p(t)&&p(t).coordinates||[]},g=function(t){return p(t)&&p(t).projection||"EPSG:3857"},m=function(t){return p(t)&&p(t).id||"spatial_object"},y=s([f,d,m,g],function(t,e,n,i){var r={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:e,coordinates:t},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return t.length>0&&e?u(r,i,"EPSG:4326").features:[]}),v=s([y,c],function(t,e){return[].concat(i(e),i(t))});t.exports={selectedFeatures:c,filteredFeatures:y,filteredSpatialObjectId:m,filteredSpatialObjectCrs:g,filteredspatialObjectCoord:f,filteredspatialObjectType:d,filteredGeometry:p,filteredspatialObject:h,highlighedFeatures:v}},function(t,e,n){"use strict";var i=n(14),r=i.find,o=i.get,a=function(t){return o(t,"maps.results",[])},s=function(t){return o(t,"maps.totalCount")},l=function(t,e){return r(a(t),function(t){return t.id===e})},u=function(t,e){return l(t,e)&&l(t,e).name||""},c=function(t){return o(t,"maps.metadata",{})},h=function(t){return t&&t.maps&&t.maps.totalCount===t.maps.start},p=function(t,e){return l(t,e)&&l(t,e).description||""},d=function(t,e){return l(t,e)&&l(t,e).details||""},f=function(t,e){return l(t,e)&&l(t,e).permissions||""},g=function(t,e){return l(t,e)&&l(t,e).thumbnail||""},m=function(t){return t&&t.maps&&t.maps.searchText},y=function(t){return{start:o(t,"maps.start"),limit:o(t,"maps.limit")}},v=function(t){return o(t,"maps.showMapDetails")};t.exports={mapNameSelector:u,mapFromIdSelector:l,showMapDetailsSelector:v,mapsResultsSelector:a,totalCountSelector:s,mapMetadataSelector:c,isMapsLastPageSelector:h,mapDescriptionSelector:p,mapDetailsUriFromIdSelector:d,mapPermissionsFromIdSelector:f,mapThumbnailsUriFromIdSelector:g,searchTextSelector:m,searchParamsSelector:y}},,function(t,e,n){"use strict";var i={getWindowSize:function(){return{maxWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onfontready:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=arguments[4],a=t,s=r,l=o,u=a;if(n.i({NODE_ENV:"production"}).isTest){var c={},h=function(t){return c[t]=c[t]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[t]};window.reporter=window.reporter||{modifyRootCount:function(t,e){h(t).rootCount+=e},iframesCreated:function(t){h(t).iframesCreated=!0},timedOut:function(t){h(t).timedOut=!0},fontLoaded:function(t){h(t).fontLoaded=!0},requiredExtraTimeout:function(t){h(t).requiredExtraTimeout=!0},getTests:function(){return c}}}i.timeoutAfter&&setTimeout(function(){s&&(n.i({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(u,-1),document.body.removeChild(s),s=0,i.onTimeout&&(n.i({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(u),i.onTimeout()))},i.timeoutAfter),l=function(){s&&s.firstChild.clientWidth===s.lastChild.clientWidth&&(n.i({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(u,-1),document.body.removeChild(s),s=0,n.i({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(u),e())},n.i({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(u,1),n.i({NODE_ENV:"production"}).isLegacy||l(document.body.appendChild(s=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(i.generic?"":"'")+a+(i.generic?"":"'")+',serif">'+(i.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(i.generic?"":"'")+a+(i.generic?"":"'")+',monospace">'+(i.sampleText||" ")+"</div>"),n.i({NODE_ENV:"production"}).isLegacy&&l(document.body.appendChild(s=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(i.generic?"":"'")+a+(i.generic?"":"'")+',serif">'+(i.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(i.generic?"":"'")+a+(i.generic?"":"'")+',monospace">'+(i.sampleText||" ")+"</span>.</table>"),s&&(n.i({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(u),n.i({NODE_ENV:"production"}).isLegacy||(s.firstChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=l,s.lastChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=l),n.i({NODE_ENV:"production"}).isLegacy&&(s.firstChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",l):a.contentWindow.onresize=l,s.lastChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",l):a.contentWindow.onresize=l),n.i({NODE_ENV:"production"}).isTest||(a=setTimeout(l)),n.i({NODE_ENV:"production"}).isTest&&(a=setTimeout(function(){s&&(window.reporter.requiredExtraTimeout(u),l())})))},loadFont:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){i.onfontready(t,n,{timeoutAfter:e.timeoutAfter,onTimeout:r,sampleText:e.sampleText,generic:e.generic})})}};t.exports=i},function(t,e,n){"use strict";var i={OpenStreetMap:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenTopoMap:{url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{noCors:!0,maxZoom:16,maxNativeZoom:16,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',credits:{text:"Map data: OpenStreetMap contributors CC-BY-SA",link:"https://opentopomap.org"}}},Thunderforest:{url:"//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},OpenMapSurfer:{url:"http://openmapsurfer.uni-hd.de/tiles/{variant}/x={x}&y={y}&z={z}",options:{maxZoom:20,maxNativeZoom:20,variant:"roads",credits:{text:"MapQuest, Open Street Map and contributors, CC-BY-SA"},attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Roads:"roads",AdminBounds:{options:{variant:"adminb",maxZoom:19,maxNativeZoom:19}},Grayscale:{options:{variant:"roadsg",maxZoom:19,maxNativeZoom:19}}}},Hydda:{url:"http://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"//api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',credits:{text:"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA"},subdomains:["a","b","c","d"],minZoom:0,maxZoom:20,maxNativeZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{options:{variant:"watercolor",minZoom:1,maxZoom:16,maxNativeZoom:16}},Terrain:{options:{variant:"terrain",minZoom:4,maxZoom:18,maxNativeZoom:18,bounds:[[22,-132],[70,-56]]}},TerrainBackground:{options:{variant:"terrain-background",minZoom:4,maxZoom:18,maxNativeZoom:18,bounds:[[22,-132],[70,-56]]}},TopOSMRelief:{options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},Esri:{url:"//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"//{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"//{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"//nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,
maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}};t.exports=i},,function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.replace(/(?!(\{?[zyx]?\}))\{*([\w_]+)*\}/g,function(){var t=arguments[0],n=arguments[1]?arguments[1]:arguments[2],i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url||"",n=t.subdomains||"";return n&&("string"==typeof n&&(n=n.split("")),a(n))?n.map(function(n){return i(e.replace("{s}",n),t)}):["a","b","c"].map(function(n){return i(e.replace("{s}",n),t)})}var o=n(14),a=o.isArray;t.exports={getUrls:r,template:i}},function(t,e,n){"use strict";t.exports=function(t){function e(e,r){t.when(e,function(e){t.defined(e)&&e.ready&&(e.levelZeroMaximumGeometricError=t.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.heightMapWidth,e.tilingScheme.getNumberOfXTilesAtLevel(0)),t.defined(e.URLtemplateImage)&&(e.getHeightmapTerrainDataImage=function(o,s,l){var u;if(!isNaN(o+s+l)){var c=n(e.URLtemplateImage(o,s,l),o,s,l,r),h={highest:e.highest,lowest:e.lowest,offset:e.offset},p=i(o,s,l,r),d=t.throttleRequestByServer(c,t.loadImage);t.defined(d)&&(u=t.when(d,function(t){return a.imageToHeightmapTerrainData(t,h,{width:e.heightMapWidth,height:e.heightMapHeight},e.waterMask,p,e.hasStyledImage)}).otherwise(function(){return new t.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:p,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return u}),t.defined(e.URLtemplateArray)&&(e.getHeightmapTerrainDataArray=function(o,s,l){var u;if(!isNaN(o+s+l)){var c=n(e.URLtemplateArray(o,s,l),o,s,l,r),h={highest:e.highest,lowest:e.lowest,offset:e.offset},p=i(o,s,l,r),d=t.throttleRequestByServer(c,t.loadArrayBuffer);t.defined(d)&&(u=t.when(d,function(t){return a.arrayToHeightmapTerrainData(t,h,{width:e.heightMapWidth,height:e.heightMapHeight},e.formatArray,e.waterMask,p)}).otherwise(function(){return t.defined(e.getHeightmapTerrainDataImage)?e.getHeightmapTerrainDataImage(o,s,l):new t.HeightmapTerrainData({buffer:new Uint16Array(e.heightMapWidth*e.heightMapHeight),width:e.heightMapWidth,height:e.heightMapHeight,childTileMask:p,waterMask:new Uint8Array(e.heightMapWidth*e.heightMapHeight),structure:e.formatImage.terrainDataStructure})}))}return u}),r.getLevelMaximumGeometricError=function(t){return e.levelZeroMaximumGeometricError/(1<<t)},r.requestTileGeometry=function(n,i,r){var o;return t.defined(e.getHeightmapTerrainDataArray)?o=e.getHeightmapTerrainDataArray(n,i,r):t.defined(e.getHeightmapTerrainDataImage)&&(o=e.getHeightmapTerrainDataImage(n,i,r)),o},t.defineProperties(r,{tilingScheme:{get:function(){return e.tilingScheme}},ready:{get:function(){return e.ready}},hasWaterMask:{get:function(){return e.waterMask}},heightMapHeight:{get:function(){return e.heightMapHeight}},heightMapWidth:{get:function(){return e.heightMapWidth}},getTileDataAvailable:{get:function(){return e.getTileDataAvailable}}}))})}function n(t,e,n,i,r){var o=r.tilingScheme.tileXYToNativeRectangle(e,n,i),a=(o.east-o.west)/(r.heightMapWidth-1),s=(o.north-o.south)/(r.heightMapHeight-1);o.west-=.5*a,o.east+=.5*a,o.south-=.5*s,o.north+=.5*s;var l=r.tilingScheme.getNumberOfYTilesAtLevel(i),u=l-n-1;return t.replace("{south}",o.south).replace("{north}",o.north).replace("{west}",o.west).replace("{east}",o.east).replace("{x}",e).replace("{y}",n).replace("{tmsY}",u)}function i(t,e,n,i){var r=0,o=n+1;return r|=i.getTileDataAvailable(2*t,2*e,o)?1:0,r|=i.getTileDataAvailable(2*t+1,2*e,o)?2:0,r|=i.getTileDataAvailable(2*t,2*e+1,o)?4:0,r|=i.getTileDataAvailable(2*t+1,2*e+1,o)?8:0}var r={},o=function(e,n){var i=Math.max(e.west,n.west),r=Math.min(e.east,n.east),o=Math.max(e.south,n.south),a=Math.min(e.north,n.north);return r<=i||o>=a?void 0:new t.Rectangle(i,o,r,a)};r.CRS=[{name:"CRS:84",ellipsoid:t.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:t.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:t.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:t.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:t.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:t.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:t.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:t.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],r.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],r.FormatArray=[{format:"image/bil",postProcessArray:function(t,e,n,i,r){var o,a=new DataView(t),s=new ArrayBuffer(e.height*e.width*2),l=new DataView(s);if(s.byteLength===t.byteLength){for(var u,c=0,h=0,p=0;p<s.byteLength;p+=2)u=a.getInt16(p,!1)-r,u>i&&u<n?(l.setInt16(p,u,!0),h+=u,c++):l.setInt16(p,0,!0);o=new Int16Array(s)}return o}}],r.WMSParser={},r.TMSParser={},r.WMTSParser={},r.parser=function(e){var n;switch(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),e.service){case"TMS":n=r.TMSParser.generate(e);break;case"WMTS":n=r.WMTSParser.generate(e);break;default:n=r.WMSParser.generate(e)}return n},r.WMSParser.generate=function(e){var n;if(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),t.defined(e.url)){var i=e.url,o=i.lastIndexOf("?");o>-1&&(i=i.substring(0,o));var a=i+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";t.defined(e.proxy)&&(a=e.proxy.getURL(a)),n=t.when(t.loadXML(a),function(t){return r.WMSParser.getMetaDatafromXML(t,e)})}else{if(!t.defined(e.xml))throw new t.DeveloperError("either description.url or description.xml are required.");n=r.WMSParser.getMetaDatafromXML(e.xml,e)}return n},r.WMSParser.getMetaDatafromXML=function(e,n){if(!(e instanceof XMLDocument))throw new t.DeveloperError("xml must be a XMLDocument");if(!t.defined(n.layerName))throw new t.DeveloperError("description.layerName is required.");var i={},o=n.layerName,a=(t.defaultValue(n.maxLevel,11),void 0);i.heightMapWidth=t.defaultValue(n.heightMapWidth,65),i.heightMapHeight=t.defaultValue(n.heightMapHeight,i.heightMapWidth);var s={width:65,height:65},l=void 0;i.formatImage=n.formatImage,i.formatArray=n.formatArray,i.tilingScheme=void 0;var u=void 0,c=void 0;i.ready=!1,i.levelZeroMaximumGeometricError=void 0,i.waterMask=t.defaultValue(n.waterMask,!1),"boolean"!=typeof i.waterMask&&(i.waterMask=!1),i.offset=t.defaultValue(n.offset,0),i.highest=t.defaultValue(n.highest,12e3),i.lowest=t.defaultValue(n.lowest,-500);var h=n.styleName;i.hasStyledImage=t.defaultValue(n.hasStyledImage,"string"==typeof n.styleName);var p=e.querySelector("[version]");null!==p&&(a=p.getAttribute("version"),c=/^1\.[3-9]\./.test(a));var d=e.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),f=d.indexOf("?");f>-1&&(d=d.substring(0,f)),t.defined(n.proxy)&&(d=n.proxy.getURL(d));var g=e.querySelectorAll("Request>GetMap>Format");if(!t.defined(i.formatImage))for(var m=0;m<g.length&&!t.defined(i.formatArray);m++){var y=r.FormatArray.filter(function(t){return t.format===g[m].textContent});y.length>0&&(i.formatArray=y[0])}t.defined(i.formatArray)&&"string"==typeof i.formatArray.format&&"function"==typeof i.formatArray.postProcessArray?i.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:i.formatArray=void 0;for(var m=0;m<g.length&&!t.defined(i.formatImage);m++){var y=r.FormatImage.filter(function(t){return t.format===g[m].textContent});y.length>0&&(i.formatImage=y[0])}t.defined(i.formatImage)&&"string"==typeof i.formatImage.format?i.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:i.formatImage=void 0;for(var v,b=e.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),w=0;w<b.length&&!t.defined(v);w++)if(b[w].querySelector("Name").textContent===o){v=b[w];var x=v.getAttribute("fixedHeight"),_=v.getAttribute("fixedWidth");t.defined(x)&&(x=parseInt(x),i.heightMapHeight=x>0&&x<i.heightMapHeight?x:i.heightMapHeight,s.height=x>0?x:s.height),t.defined(_)&&(_=parseInt(_),i.heightMapWidth=_>0&&_<i.heightMapWidth?_:i.heightMapWidth,s.width=_>0?_:s.width)}if(t.defined(v)&&t.defined(a)){for(var E=!1,S=0;S<r.CRS.length&&!E;S++){var C=r.CRS[S],T=C.name,k=v.querySelector("BoundingBox[SRS='"+T+"'],BoundingBox[CRS='"+T+"']");if(null!==k){l=T,u=C.firstAxeIsLatitude,i.tilingScheme=new C.tilingScheme({ellipsoid:C.ellipsoid});var O,L,I,A;u&&c?(O=parseFloat(k.getAttribute("miny")),L=parseFloat(k.getAttribute("maxy")),I=parseFloat(k.getAttribute("minx")),A=parseFloat(k.getAttribute("maxx"))):(O=parseFloat(k.getAttribute("minx")),L=parseFloat(k.getAttribute("maxx")),I=parseFloat(k.getAttribute("miny")),A=parseFloat(k.getAttribute("maxy")));new t.Rectangle(O,I,L,A);i.getTileDataAvailable=function(t,e,n){return!0},E=!0}}if(t.defined(h)){for(var P=v.querySelectorAll("Style>Name"),M=!1,N=0;N<P.length&&!M;N++)h===P[N].textContent&&(M=!0);M||(h=void 0)}for(var D=e.querySelectorAll("VendorSpecificCapabilities>TileSet"),R=!1,F=0;F<D.length&&!R;F++){var G=null!==D[F].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");D[F].querySelector("Layers").textContent===o&&G&&(s.width=parseInt(D[F].querySelector("Width").textContent),s.height=parseInt(D[F].querySelector("Height").textContent),R=!0)}i.ready=E&&(t.defined(i.formatImage)||t.defined(i.formatArray))&&t.defined(a)}if(i.ready){var j=d+"?SERVICE=WMS&REQUEST=GetMap&layers="+o+"&version="+a+"&bbox=";if(j+=c&&u?"{south},{west},{north},{east}":"{west},{south},{east},{north}",j+="&crs="+l+"&srs="+l,i.formatImage){var z=j+"&format="+i.formatImage.format+"&width="+s.width+"&height="+s.height;t.defined(h)&&(z+="&styles="+h+"&style="+h),i.URLtemplateImage=function(){return z},i.imageSize=s}if(i.formatArray){var U=j+"&format="+i.formatArray.format+"&width="+i.heightMapWidth+"&height="+i.heightMapHeight;i.URLtemplateArray=function(){return U}}}return i},r.TMSParser.generate=function(e){var n;if(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),t.defined(e.url))n=t.loadXML(e.url).then(function(t){return r.TMSParser.parseXML(t,e)});else{if(!t.defined(e.xml))throw new t.DeveloperError("either description.url or description.xml are required.");n=r.TMSParser.parseXML(e.xml,e)}return n},r.TMSParser.parseXML=function(e,n){if(!(e instanceof XMLDocument))throw new t.DeveloperError("xml must be a XMLDocument");var i;if(null!=e.querySelector("TileMapService")){if(!t.defined(n.layerName))throw new t.DeveloperError("layerName is required.");var o=[].slice.apply(e.querySelectorAll("TileMap[title='"+n.layerName+"']")),a=o.map(function(e){var i=e.getAttribute("href");return t.defined(n.proxy)&&(i=n.proxy.getURL(i)),t.when(t.loadXML(i),function(t){return r.TMSParser.getMetaDatafromXML(t,n)})});i=t.when.all(a).then(function(e){for(var n,i=0;i<e.length&&!t.defined(n);i++)t.defined(e[i])&&(n=e[i]);return n}).then(function(t){return t})}else i=r.TMSParser.getMetaDatafromXML(e,n);return i},r.TMSParser.getMetaDatafromXML=function(e,n){var i={};i.ready=!1,i.heightMapWidth=t.defaultValue(n.heightMapWidth,65),i.heightMapHeight=t.defaultValue(n.heightMapHeight,i.heightMapWidth);var a=t.defaultValue(n.maxLevel,11),s=n.proxy;i.hasStyledImage=t.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),i.waterMask=t.defaultValue(n.waterMask,!1),"boolean"!=typeof i.waterMask&&(i.waterMask=!1),i.offset=t.defaultValue(n.offset,0),i.highest=t.defaultValue(n.highest,12e3),i.lowest=t.defaultValue(n.lowest,-500);var l=e.querySelector("SRS").textContent,u=r.CRS.filter(function(t){return t.name===l});u.length>0&&(i.tilingScheme=new u[0].tilingScheme({ellipsoid:u[0].ellipsoid}));var c=e.querySelector("TileFormat"),h=r.FormatImage.filter(function(t){return t.extension==c.getAttribute("extension")});h.length>0&&(i.formatImage=h[0],i.imageSize={},i.imageSize.width=parseInt(c.getAttribute("width")),i.imageSize.height=parseInt(c.getAttribute("height")));var p=[].slice.call(e.querySelectorAll("TileSets>TileSet")),d=[];if(t.defined(i.formatImage)&&(d=p.map(function(e){var n=e.getAttribute("href")+"/{x}/{tmsY}."+i.formatImage.extension;return t.defined(s)&&(n=s.getURL(n)),{url:n,level:parseInt(e.getAttribute("order"))}}),d.sort(function(t,e){return t.level-e.level}),d.length>0&&(i.tileSets=d)),t.defined(i.tileSets)&&t.defined(i.formatImage)&&t.defined(i.tilingScheme)){i.URLtemplateImage=function(t,e,n){var i="";return n<d.length&&(i=d[n].url),i};var f=e.querySelector("BoundingBox"),g=parseFloat(f.getAttribute("miny")),m=parseFloat(f.getAttribute("maxy")),y=parseFloat(f.getAttribute("minx")),v=parseFloat(f.getAttribute("maxx")),b=new t.Rectangle(y,g,v,m);i.getTileDataAvailable=function(e,n,r){var s=i.tilingScheme.tileXYToNativeRectangle(e,n,r),l=o(b,s);return t.defined(l)&&r<a&&r<d.length},i.ready=!0}else i=void 0;return i},r.WMTSParser.generate=function(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT);var n;if(t.defined(e.url)){var i=e.url,o=i.lastIndexOf("?");o>-1&&(i=i.substring(0,o));var a=i+"?REQUEST=GetCapabilities";t.defined(e.proxy)&&(a=e.proxy.getURL(a)),n=t.loadXML(a).then(function(t){return r.WMTSParser.getMetaDatafromXML(t,e)})}else{if(!t.defined(e.xml))throw new t.DeveloperError("either description.url or description.xml are required.");n=r.WMTSParser.getMetaDatafromXML(e.xml,e)}return n},r.WMTSParser.getMetaDatafromXML=function(e,n){if(!(e instanceof XMLDocument))throw new t.DeveloperError("xml must be a XMLDocument");var i={},o=n.layerName;i.ready=!1,i.heightMapWidth=t.defaultValue(n.heightMapWidth,65),i.heightMapHeight=t.defaultValue(n.heightMapHeight,i.heightMapWidth);var a=t.defaultValue(n.maxLevel,12),s=n.proxy,l=n.styleName;i.hasStyledImage=t.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),i.waterMask=t.defaultValue(n.waterMask,!1),"boolean"!=typeof i.waterMask&&(i.waterMask=!1),i.offset=t.defaultValue(n.offset,0),i.highest=t.defaultValue(n.highest,12e3),i.lowest=t.defaultValue(n.lowest,-500);for(var u,c,h,p,d=[],f=[].slice.call(e.querySelectorAll('Operation[name="GetTile"] HTTP Get')),g=f.map(function(t){var e,n=t.querySelector("Value").textContent;return"KVP"===n&&(e={node:t,type:"KVP"}),"RESTful"===n&&(e={node:t,type:"RESTful"}),e}).filter(function(e){return t.defined(e)}),m=0;m<g.length;m++){var y=g[m];"RESTful"!==y.type||t.defined(h)||(h=y.node.getAttribute("xlink:href"),t.defined(s)&&(h=s.getURL(h))),"KVP"!==y.type||t.defined(c)||(c=y.node.getAttribute("xlink:href"),t.defined(s)&&(c=s.getURL(c)))}for(var v,b=e.querySelectorAll("Contents>Layer>Identifier"),m=0;m<b.length&&!t.defined(v);m++)o===b[m].textContent&&(v=b[m].parentNode);if(t.defined(v)){for(var w,x,_=v.querySelectorAll("Style"),m=0;m<_.length;m++){var E=_[m].querySelector("Identifier").textContent;null!=_[m].getAttribute("isDefault")&&(w=E),E===l&&(x=E)}t.defined(l)&&l==x||(l=t.defaultValue(w,""));for(var S=[].slice.call(v.querySelectorAll("Format")),C=0;C<r.FormatImage.length&&!t.defined(p);C++){S.filter(function(t){return t.textContent===r.FormatImage[C].format}).length>0&&(p=r.FormatImage[C])}d=v.querySelectorAll("TileMatrixSetLink")}for(var T=[].slice.call(e.querySelectorAll("TileMatrixSet>Identifier")),k=0;k<d.length&&!i.ready;k++){for(var O,L,I=d[k],A=I.querySelector("TileMatrixSet").textContent,m=0;m<T.length&&!t.defined(O);m++)T[m].textContent===A&&(O=T[m].parentNode);for(var P=O.querySelector("SupportedCRS").textContent,M=0;M<r.CRS.length&&!t.defined(L);M++)r.CRS[M].SupportedCRS===P&&(L=r.CRS[M]);if(t.defined(L)){var N,D=[].slice.call(O.querySelectorAll("TileMatrix"));N=D.map(function(t){var e=t.querySelector("Identifier").textContent,n=parseInt(t.querySelector("MatrixWidth").textContent),i=parseInt(t.querySelector("MatrixHeight").textContent),r=parseInt(t.querySelector("TileWidth").textContent),o=parseInt(t.querySelector("TileHeight").textContent);return{id:e,maxWidth:n,maxHeight:i,scaleDenominator:parseFloat(t.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:r,tileHeight:o}}),N.sort(function(t,e){return e.scaleDenominator-t.scaleDenominator}),listTileMatrixLimits=I.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var R=0;R<N.length;R++)for(var F=N[R],G=0;G<listTileMatrixLimits.length;G++){var j=listTileMatrixLimits[G];F.id===j.querySelector("TileMatrix").textContent&&(F.minTileRow=parseInt(j.querySelector("MinTileRow").textContent),F.maxTileRow=parseInt(j.querySelector("MaxTileRow").textContent),F.minTileCol=parseInt(j.querySelector("MinTileCol").textContent),F.maxTileCol=parseInt(j.querySelector("MaxTileCol").textContent),F.complete=!0,N[R]=F)}if(N.length>0){i.tilingScheme=new L.tilingScheme({ellipsoid:L.ellipsoid,numberOfLevelZeroTilesX:N[0].maxWidth,numberOfLevelZeroTilesY:N[0].maxHeight});var z=v.querySelector("ResourceURL[format='"+p.format+"']");if(null!=z?u=z.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",l).replace("{TileMatrixSet}",A).replace("{layer}",o).replace("{infoFormatExtension}",p.extension):t.defined(c)&&(u=c+"service=WMTS&request=GetTile&version=1.0.0&layer="+o+"&style=&"+l+"format="+p.format+"&TileMatrixSet="+A+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),t.defined(u)){i.getTileDataAvailable=function(t,e,n){var i=!1;if(n<a&&n<N.length){var r=N[n];i=r.complete?e<=r.maxTileRow&&e>=r.minTileRow&&t<=r.maxTileCol&&t>=r.minTileCol:t<r.maxWidth&&e<r.maxHeight}return i},i.URLtemplateImage=function(t,e,n){var r="";if(i.getTileDataAvailable(t,e,n)){var o=N[n];r=u.replace("{TileMatrix}",o.id)}return r};var U={width:N[0].tileWidth,height:N[0].tileHeight};0==N.filter(function(t){return t.tileWidth!=U.width||t.tileHeight!=U.height}).length&&(i.imageSize=U),i.ready=!0}}}}return i};var a=function(n){if(!t.defined(n))throw new t.DeveloperError("description is required.");var i=new t.Event,o=n.credit;"string"==typeof o&&(o=new t.Credit(o)),this.ready=!1,t.defineProperties(this,{errorEvent:{get:function(){return i}},credit:{get:function(){return o}},hasVertexNormals:{get:function(){return!1}}}),e(r.parser(n),this)};return a.arrayToHeightmapTerrainData=function(e,n,i,r,o,a){"number"==typeof i&&(i={width:i,height:i});var s=r.postProcessArray(e,i,n.highest,n.lowest,n.offset);if(!t.defined(s))throw new t.DeveloperError("no good size");var l={buffer:s,width:i.width,height:i.height,childTileMask:a,structure:r.terrainDataStructure};if(o){for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)s[c]<=0&&(u[c]=255);l.waterMask=u}return new t.HeightmapTerrainData(l)},a.imageToHeightmapTerrainData=function(e,n,i,r,o,a){"number"==typeof i&&(i={width:i,height:i});for(var s=t.getImagePixels(e,i.width,i.height),l=new Uint8Array(s.length/4),u=new Int16Array(s.length/4),c=0,h=0,p=0;p<s.length;p+=4){var d=s[p],f=s[p+1],g=s[p+2]>128,m=(d<<8|f)-n.offset-32768;m>n.lowest&&m<n.highest&&(g||a)?(u[p/4]=m,h+=m,c++):u[p/4]=0==c?0:h/c}var y={buffer:u,width:i.width,height:i.height,childTileMask:o,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(r){for(var l=new Uint8Array(heightBuffer.length),p=0;p<heightBuffer.length;p++)heightBuffer[p]<=0&&(l[p]=255);y.waterMask=l}return new t.HeightmapTerrainData(y)},a}},function(t,e,n){"use strict";var i=n(2175),r=function(t,e){if(null!==e.position){var n=t.scene,i=n._globe.ellipsoid;return n._camera.pickEllipsoid(e.position||e.endPosition,i)}},o=function(t,e){var n=t.scene,o=e.position||e.endPosition;if(!o)return null;var a=t.camera.getPickRay(o),s=t.scene.globe.pick(a,t.scene),l=n._globe.ellipsoid;if(i.defined(s)){var u=l.cartesianToCartographic(s),c=r(t,e);return c&&(u.height=n._globe.getHeight(u),u.cartesian=c,u.position=s),u}return null},a=function(t,e){var n=t.scene;if(!e.position)return null;var i=t.camera.getPickRay(e.position);return t.scene.globe.pickTile(i,n)};t.exports={getMouseXYZ:o,getMouseTile:a}},function(t,e,n){"use strict";var i={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]};t.exports=i},function(t,e,n){"use strict";var i=n(859),r=n(14),o=r.isFunction;n(2950),n(3157),t.exports={extra:{getIcon:function(t){var e=t.iconPrefix||"fa";return i.ExtraMarkers.icon({icon:e+"-"+t.iconGlyph,markerColor:t.iconColor||"blue",shape:t.iconShape||"square",prefix:e,extraClasses:t.highlight?"marker-selected":""})}},standard:{getIcon:function(t){return i.icon({iconUrl:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl,shadowUrl:t.shadowUrl,iconSize:t.iconSize,shadowSize:t.shadowSize,iconAnchor:t.iconAnchor,shadowAnchor:t.shadowAnchor,popupAnchor:t.popupAnchor})}},html:{getIcon:function(t,e){return i.divIcon(o(t.html)?t.html(e):t.html)}}}},function(t,e,n){"use strict";var i=n(12),r={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(t){var e=void 0!==t.opacity?t.opacity:1;return i({layers:t.name,styles:t.style||"",format:t.format||"image/png",transparent:void 0===t.transparent||t.transparent,tiled:void 0===t.tiled||t.tiled,opacity:e},t.params||{})},getWMSURL:function(t){return t.split("?")[0]},filterWMSParamOptions:function(t){var e={};return Object.keys(t).forEach(function(n){n&&n.toLowerCase&&r.PARAM_OPTIONS.indexOf(n.toLowerCase())>=0&&(e[n]=t[n])}),e}};t.exports=r},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=n(859),o=n(196),a=n(80),s=n(14),l=s.head,u=s.isNumber,c=function(t,e,n){return!(t<n.cols.min||t>n.cols.max)&&!(e<n.rows.min||e>n.rows.max)},h=r.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(t,e,n){this._url=t[0],this._urls=t,this._urlsIndex=0;var i=r.extend({},this.defaultWmtsParams),o=e.tileSize||this.options.tileSize;e.detectRetina&&r.Browser.retina?i.width=i.height=2*o:i.width=i.height=o;for(var a in e)this.options.hasOwnProperty(a)||"crs"===a||(i[a]=e[a]);this.wmtsParams=i,this.matrixIds=n.matrixIds&&this.getMatrix(n.matrixIds,n)||this.getDefaultMatrix(n),this.matrixSet=n.matrixSet&&n.matrixSet.TileMatrix||[],this.ignoreErrors=n.ignoreErrors||!1,r.setOptions(this,e)},getWMTSParams:function(t,e,n,i,r){var s=o.getScales()[n],h=l(t.map(function(e,n){if(n===t.length-1)return null;var i=parseFloat(e.ScaleDenominator),r=parseFloat(t[n+1].ScaleDenominator);if(i>=s&&r<s)return s-r>(i-r)/2?{id:n,data:e}:{id:n+1,data:t[n+1]};return null}).filter(function(t){return t})),p=h&&u(h.id)&&h.id+""||0===t.length&&n||null;if(!e[p])return null;var d=e[p].identifier,f=h.data&&h.data.TopLeftCorner&&a.parseString(h.data.TopLeftCorner)||e[p].topLeftCorner,g=f.lng||f.x,m=f.lat||f.y,y=Math.round((i.x-g)/r),v=-Math.round((i.y-m)/r),b=h.data&&h.data.MatrixWidth&&h.data.MatrixHeight&&{cols:{min:0,max:h.data.MatrixWidth-1},rows:{min:0,max:h.data.MatrixHeight-1}},w=e[p].ranges||b;return w&&!c(y,v,w)?null:{ident:d,tilecol:y,tilerow:v}},getTileUrl:function(t){var e=this._map,n=e.options.crs,o=this.options.tileSize,a=t.multiplyBy(o);a.x+=1,a.y-=1;var s=a.add([o,o]),l=n.project(e.unproject(a,t.z)),u=n.project(e.unproject(s,t.z)),c=u.x-l.x,h=this.getWMTSParams([].concat(i(this.matrixSet)),[].concat(i(this.matrixIds)),t.z,l,c);if(!h)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";++this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=r.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(t),TileRow:h.tilerow,TileCol:h.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:h.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+r.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+h.ident+"&tilerow="+h.tilerow+"&tilecol="+h.tilecol},getMatrix:function(t,e){return t.map(function(t){return{identifier:t.identifier,topLeftCorner:new r.LatLng(e.originY,e.originX),ranges:t.ranges||null}})},getDefaultMatrix:function(t){for(var e=new Array(22),n=0;n<22;n++)e[n]={identifier:t.tileMatrixPrefix+n,topLeftCorner:new r.LatLng(t.originY,t.originX)};return e},onError:function(){return!this.ignoreErrors}});t.exports=h},,function(t,e,n){"use strict";var i=n(857),r=n(2764)(),o=n(12),a=function(t,e){i.Object.call(this,{state:"DISABLED"}),this.map=t;var n={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=o({},n,e||{}),this.geolocate=new i.Geolocation({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.geolocate.on("change:position",this._updatePosFt,this),this.popup=r,this.popup.hidden=!0,this.popCnt=r.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new i.Overlay({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new i.layer.Vector({source:new i.source.Vector({useSpatialIndex:!1})}),this.posFt=new i.Feature({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt)};i.inherits(a,i.Object),a.prototype.start=function(){this.geolocate.on("error",this.options.onLocationError,this),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.mapClick,this),this.map.on("touch",this.mapClick,this)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopFollow,this),this.p?this._updatePosFt():this.set("state","LOCATING")},a.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopFollow,this),this.p&&this._updatePosFt()},a.prototype.stop=function(){this.geolocate.un("error",this.options.onLocationError,this),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.mapClick),this.map.un("touch",this.mapClick)),this.options.stopFollowingOnDrag&&!this.follow&&this.map.un("pointerdrag",this.stopFollow,this),this.set("state","DISABLED")},a.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopFollow,this),this.set("state","ENABLED")},a.prototype._updatePosFt=function(){var t=this.get("state"),e=this.follow?"FOLLOWING":"ENABLED";e!==t&&this.set("state",e);var n=this.geolocate.getPosition();this.p=n;var r=new i.geom.Point([parseFloat(n[0]),parseFloat(n[1])]);if(this.options.drawCircle){var o=new i.geom.Circle([parseFloat(n[0]),parseFloat(n[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new i.geom.GeometryCollection([r,o]))}else this.posFt.setGeometry(new i.geom.GeometryCollection([r]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(r),this.options.remainActive||this.geolocate.setTracking(!1)},a.prototype.updateView=function(t){this.follow&&(this.map.getView().setCenter(t.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},a.prototype._updatePopUpCnt=function(){var t=void 0,e=void 0;this.options.metric?(t=this.geolocate.getAccuracy(),e=this.options.strings.metersUnit):(t=Math.round(3.2808399*this.geolocate.getAccuracy()),e=this.options.strings.feetUnit);var n=this.options.strings.popup.replace("{distance}",t);this.popCnt.innerHTML=n.replace("{unit}",e),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},a.prototype.onLocationError=function(t){alert(t.message)},a.prototype.mapClick=function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,function(t){return t});e&&"_locate-pos"===e.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(r.hidden=!0)},a.prototype._getDefaultStyles=function(){return new i.style.Style({image:new i.style.Circle({radius:6,fill:new i.style.Fill({color:"rgba(42,147,238,0.7)"}),stroke:new i.style.Stroke({color:"rgba(19,106,236,1)",width:2})}),fill:new i.style.Fill({color:"rgba(19,106,236,0.15)"}),stroke:new i.style.Stroke({color:"rgba(19,106,236,1)",width:2})})},a.prototype.setStrings=function(t){this.options.strings=o({},this.options.strings,t)},t.exports=a},function(t,e,n){"use strict";n(3156);var i=function(){var t=document.createElement("div");t.setAttribute("class","ol-popup");var e=document.createElement("a");e.setAttribute("class","ol-popup-close-btn"),e.setAttribute("href","#close"),e.innerHTML="x";var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt-wrapper");var i=document.createElement("div");i.setAttribute("class","ol-popup-cnt"),n.appendChild(i);var r=document.createElement("div");r.setAttribute("class","ol-popup-tip-wrapper");var o=document.createElement("div");return o.setAttribute("class","ol-popup-tip"),r.appendChild(o),t.appendChild(e),t.appendChild(n),t.appendChild(r),t};t.exports=i},function(t,e,n){"use strict";var i={addProjections:function(t,e,n,i,r){t.proj.addProjection(new t.proj.Projection({code:e,extent:n,worldExtent:i,axisOrientation:r}))}};t.exports=i},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t
},r=n(98),o=n(273),a=o.SELECT_NODE,s=n(2174),l=s.setPermission,u=n(2251),c=u.setEditPermissionStyleEditor,h=u.INIT_STYLE_SERVICE,p=n(450),d=p.layerEditPermissions,f=p.styleEditPermissions,g=p.updateThumb,m=n(429),y=m.getSelectedLayer,v=m.layersSelector,b=n(858),w=b.mapSelector,x=n(38),_=n(2491),E=_.updateMapLayout,S=n(272),C=S.TOGGLE_CONTROL,T=S.SET_CONTROL_PROPERTY,k=S.SET_CONTROL_PROPERTIES,O=n(274),L=O.MAP_CONFIG_LOADED,I=n(2174),A=I.SIZE_CHANGE,P=I.CLOSE_FEATURE_GRID,M=I.OPEN_FEATURE_GRID,N=n(2187),D=N.CLOSE_IDENTIFY,R=N.ERROR_FEATURE_INFO,F=N.TOGGLE_MAPINFO_STATE,G=N.LOAD_FEATURE_INFO,j=N.EXCEPTIONS_FEATURE_INFO,z=N.NO_QUERYABLE_LAYER,U=n(273),B=U.SHOW_SETTINGS,H=U.HIDE_SETTINGS,Y=n(2187),V=Y.PURGE_MAPINFO_RESULTS,W=n(865),q=W.isMapInfoOpen,Z=n(2197),X=Z.isFeatureGridOpen,K=Z.getDockSize,Q=n(14),J=Q.head,tt=Q.get,et=n(2722),nt=et.mapSaveMapResourceEpic,it=n(861),rt=it.showCoordinateEditorSelector,ot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState;return t.ofType(a).filter(function(t){return"layer"===t.nodeType&&!x.getConfigProp("disableCheckEditPermissions")}).switchMap(function(){var t=y(n()||{});return t?d(t).map(function(t){return l(t)}).startWith(l({canEdit:!1})).catch(function(){return r.Observable.empty()}):r.Observable.of(l({canEdit:!1}))})},at=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState;return t.ofType(h,a).filter(function(t){var e=t.nodeType;return e&&"layer"===e&&!x.getConfigProp("disableCheckEditPermissions")||!e&&!x.getConfigProp("disableCheckEditPermissions")}).switchMap(function(t){var e=y(n()||{});return e?f(e).map(function(t){var e=t.canEdit;return c(e)}).startWith(c(t.canEdit)).catch(function(){return r.Observable.empty()}):r.Observable.of(c(!1))})},st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getState;return t.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do(function(){try{$("#_thumbnail_processing").modal("show")}catch(t){console.log(t)}}).exhaustMap(function(t){var e=t.type,i=n(),o=v(i),a=w(i),s="GEONODE:CREATE_MAP_THUMBNAIL"===e,l=s?tt(a,"info.id"):o[o.length-1].name,u=s?"maps":"layers",c=a.size,h=c.width,p=c.height,d=a.bbox.bounds,f=d.maxx,m=d.minx,y=d.maxy,b=d.miny,x={bbox:[m,f,b,y],srid:a.bbox.crs,center:a.center,zoom:a.zoom,width:h,height:p,layers:o.filter(function(t){return"background"!==t.group&&t.visibility}).map(function(t){return t.name}).join(",")};return g(u,l,x).do(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=t.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(e),$("#_thumbnail_feedbacks").modal("show")}catch(t){console.log(t)}}).mapTo({type:"THUMBNAIL_UPDATE"}).catch(function(t){var e=t.code,n=t.message;try{"ECONNABORTED"===e?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(t){console.log(t)}finally{return r.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}}).do(function(){try{$("#_thumbnail_processing").modal("hide")}catch(t){console.log(t)}})})},lt=function(t,e){return t.ofType(L,A,z,k,P,M,D,F,G,j,C,T,B,H,R,V).switchMap(function(){var t=e.getState();if(tt(t,"browser.mobile")){var n=q(t)?{bottom:"50%"}:{bottom:void 0},o=i({},n);return r.Observable.of(E({boundingMapRect:o}))}var a=x.getConfigProp("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===tt(t,"mode")){var s={height:"calc(100% - "+a.bottom.sm+"px)"},l=q(t)?{bottom:"50%"}:{bottom:void 0},u=i({},l);return r.Observable.of(E(i({},s,{boundingMapRect:u})))}var c=tt(t,"controls.drawer.resizedWidth"),h=J([tt(t,"controls.queryPanel.enabled")&&{left:a.left.lg}||null,tt(t,"controls.widgetBuilder.enabled")&&{left:a.left.md}||null,tt(t,"layers.settings.expanded")&&{left:a.left.md}||null,tt(t,"controls.drawer.enabled")&&{left:c||a.left.sm}||null].filter(function(t){return t}))||{left:0},p=J([tt(t,"controls.details.enabled")&&{right:a.right.md}||null,tt(t,"controls.annotations.enabled")&&{right:a.right.md}||null,tt(t,"controls.metadataexplorer.enabled")&&{right:a.right.md}||null,tt(t,"controls.measure.enabled")&&rt(t)&&{right:a.right.md}||null,tt(t,"mapInfo.enabled")&&q(t)&&{right:a.right.md}||null].filter(function(t){return t}))||{right:0},d=100*K(t),f=X(t)&&{bottom:d+"%",dockSize:d}||{bottom:a.bottom.sm},g=X(t)&&{transform:"translate(0, -"+a.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+a.bottom.sm+"px)"},y=i({},f,h,p);return r.Observable.of(E(i({},h,p,f,g,m,{boundingMapRect:y})))})};t.exports={mapSaveMapResourceEpic:nt,_setFeatureEditPermission:ot,_setThumbnail:st,_setStyleEditorPermission:at,updateMapLayoutEpic:lt}},function(t,e,n){t.exports={default:n(2772),__esModule:!0}},function(t,e,n){t.exports={default:n(2773),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(2767),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";function i(){function t(t,e){e||(e=t,t=0),t>o?o=t:t<a&&(a=t),i[t]||(i[t]=[]),i[t].push(e),r++}function e(){for(var t=a;t<=o;t++)for(var e=i[t],n=0;n<e.length;n++){var r=e[n];r()}}function n(){return r}var i={},r=0,o=0,a=0;return{add:t,process:e,size:n}}var r=n(2771);t.exports=function(t){function e(t,e){!f&&h&&c&&0===d.size()&&a(),d.add(t,e)}function n(){for(f=!0;d.size();){var t=d;d=i(),t.process()}f=!1}function o(t){f||(void 0===t&&(t=c),p&&(s(p),p=null),t?a():n())}function a(){p=l(n)}function s(t){return clearTimeout(t)}function l(t){return function(t){return setTimeout(t,0)}(t)}t=t||{};var u=t.reporter,c=r.getOption(t,"async",!0),h=r.getOption(t,"auto",!0);h&&!c&&(u&&u.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),c=!0);var p,d=i(),f=!1;return{add:e,force:o}}},function(t,e,n){"use strict";function i(t,e,n){var i=t[e];return void 0!==i&&null!==i||void 0===n?i:n}(t.exports={}).getOption=i},function(t,e,n){n(2774);var i=n(40).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){n(2775),t.exports=n(40).Object.getPrototypeOf},function(t,e,n){var i=n(83);i(i.S+i.F*!n(99),"Object",{defineProperty:n(111).f})},function(t,e,n){var i=n(163),r=n(896);n(445)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,"\n.msgapi .background-plugin-position {\n    bottom: 45px;\n    left: 0;\n    position: absolute;\n    z-index: 100;\n    margin-bottom: 30px;\n}\n\n.msgapi .background-list-container {\n    position: absolute;\n    bottom: 0;\n    height: auto;\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n}\n\n.msgapi .background-plugin-pagination-btn-horizontal {\n    cursor: pointer;\n    width: 20px;\n    margin-right: 5px;\n    float: left;\n}\n\n.msgapi .background-plugin-pagination-btn-horizontal span {\n    font-size: 20px;\n    opacity: 1.0;\n}\n\n.msgapi .background-plugin-pagination-btn-horizontal:hover span{\n    opacity: 0.5;\n}\n\n.msgapi .background-plugin-pagination-btn-vertical {\n    cursor: pointer;\n    width: 20px;\n    margin-right: 5px;\n}\n\n.msgapi .background-plugin-pagination-btn-vertical span {\n    font-size: 20px;\n    opacity: 1.0;\n}\n\n.msgapi .background-plugin-pagination-btn-vertical:hover span{\n    opacity: 0.5;\n}\n\n.msgapi .background-list-arrow-placeholder {\n    height: 26px;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,"\n.msgapi .background-preview-button-label {\n    position: absolute;\n    overflow: hidden;\n    font-weight: bold;\n    font-size: 12px;\n    text-align: center;\n    -webkit-transition: all 0.0s;\n    -moz-transition: all 0.0s;\n    -o-transition: all 0.0s;\n    transition: all 0.0s;\n\n}\n\n.msgapi .background-preview-button-label div {\n    overflow: hidden;\n    opacity: 0.8;\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n}\n\n.msgapi .background-preview-button-container {\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-button-frame {\n    overflow: hidden;\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n}\n\n.msgapi .background-preview-button-frame img{\n    width: auto;\n    height: 100%;\n}\n\n.msgapi .background-preview-button-container:hover {\n    cursor: pointer;\n    box-shadow: none;\n}\n\n.msgapi .background-preview-button-container:active {\n    opacity: 0.6;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,"\n.msgapi .background-preview-icon-frame {\n    overflow: hidden;\n}\n\n.msgapi .background-preview-icon-frame img{\n    width: auto;\n    height: 100%;\n}\n\n.msgapi .background-preview-icon-container-horizontal {\n    cursor: pointer;\n    float: left;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-horizontal:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-horizontal:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\n    cursor: not-allowed;\n    float: left;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical {\n    cursor: pointer;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-vertical:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\n    cursor: not-allowed;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\n    display: block;\n    background-color: #777;\n    position: absolute;\n    z-index: 1000;\n    top : -10px;\n    left: -10px;\n}\n\n\n.msgapi #helpbadge-zoomToMaxExtent {\n    display: inline;\n    position: absolute;\n    left: 34px;\n    top: 72px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-scaleBox {\n    display: inline;\n    position: absolute;\n    left: 116px;\n    bottom: 48px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-seachBar {\n    display: inline;\n    position: absolute;\n    left: 46px;\n    top: 10px;\n    z-index: 100000\n}\n\n\n.msgapi .btn .badge {\n    position: absolute;\n    top: -10px;\n    left: -10px;\n}\n\n.msgapi .themed .btn .badge {\n    top: -35px;\n    left: -50px;\n}\n\n.msgapi .badge {\n    cursor: pointer;\n}\n\n.msgapi #helpbadge-scaleBox {\n    left: 0 !important;\n}\n\n.msgapi #mapstore-navbar #helpbadge-search-help {\n    position: absolute;\n    left: -10px;\n    bottom: -8px;\n    z-index: 1;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .leaflet-control-minimap {\n    border:solid rgba(255, 255, 255, 1.0) 4px;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n    border-radius: 3px;\n    background: #f8f8f9;\n    transition: all .2s;\n}\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\n    position:relative;\n    bottom:5px;\n}\n.msgapi .leaflet-control-minimap a {\n    background-color: rgba(255, 255, 255, 1.0);\n    background-repeat: no-repeat;\n    z-index: 99999;\n    transition: all .2s;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n    border-radius: 0px;\n    bottom: -3px;\n    right: -3px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topleft {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topright {\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display{\n    background-image: url("+n(2941)+");\n    background-size: cover;\n    position: absolute;\n    border-radius: 3px 0px 0px 0px;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\n    background-image: url("+n(3178)+");\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\n    bottom: 0;\n    right: 0;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\n    top: 0;\n    left: 0;\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\n    bottom: 0;\n    left: 0;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topright{\n    top: 0;\n    right: 0;\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n}\n\n/* Old IE */\n.msgapi .leaflet-oldie .leaflet-control-minimap {\n    border: 1px solid #999;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\n    background-color: #fff;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\n    background-color: #f4f4f4;\n}\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\n    width: 26px;\n    height: 26px;\n    line-height: 26px;\n    display: block;\n\n    color: black;\n    background-color: #fff;\n    border-width: 0;\n    margin:0;\n}\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\n    font-family: 'Lucida Console', Monaco, monospace;\n    text-align: center;\n    text-decoration: none;\n    font-weight: bold;\n}\n\n.msgapi .ol-zoom .ol-zoom-out{\n    font-size: 18px;\n    border-radius: 0 0 4px 4px;\n}\n.msgapi .ol-zoom .ol-zoom-in{\n    border-bottom: 1px solid #ccc;\n    border-radius: 4px 4px 0 0;\n    font-size: 20px;\n}\n.msgapi .ol-zoom.ol-unselectable.ol-control{\n    top:10px;\n    left:10px;\n    padding:0;\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\n    border-radius: 4px;\n}\n\n.msgapi .ol-scale-line.ol-unselectable{\n    background-color: rgba(255, 255, 255, 0.8);\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .ol-custom-overviewmap,\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\n          bottom: 20px;\n          left: auto;\n          right: 10px;\n          top: auto;\n\n      }\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\n\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n           border-radius: 1px;\n           transition: all .2s;\n      }\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\n          border: none;\n          width: 300px;\n          height: 150px;\n\n      }\n\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\n          border: 1px solid black;\n          cursor: pointer;\n          border-radius: 5px;\n      }\n\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\n          bottom: auto;\n          left: auto;\n          right: 2px;\n          bottom: 2px;\n      }\n\n      .msgapi .ol-rotate {\n          top: 170px;\n          right: 0;\n      }\n      .msgapi .ol-overview-dargbox{\n           border: 1px solid black;\n           background-color: rgba(125,125,0,.5);\n           border-radius: 5px;\n      }\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mapstore-globalspinner  {\n    margin: 0 !important;\n    width: 40px !important;\n    position:static !important;\n    border-radius: 0 !important;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mapstore-burger-menu {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.msgapi #mapstore-navbar #mapstore-burger-menu {\n    position: relative;\n    float: right;\n    left: 0;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .swipe-header-left-button {\n    float: left;\n}\n\n.msgapi .swipe-header-right-button {\n    float: right;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mapstore-globalspinner  {\n    width: 28px;\n    height: 28px;\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\n    background-color: white;\n    background-size: 80px 80px;\n    background-repeat: no-repeat;\n    border-radius: 4px;\n    border: 1px solid #999;\n    z-index: 10;\n    top: 90px;\n    left: 2px;\n    position: absolute;\n    margin: 8px;\n}\n\n.msgapi #mapstore-globalspinner .circle-wrapper {\n    margin-left: 2px;\n    margin-top: 1px;\n}\n\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\n    position: static;\n    width: 42px;\n    margin: 0;\n    margin-top: 0;\n    height: 35px;\n    box-shadow: none;\n}\n\n.msgapi .ms2-loading .sk-circle-wrapper {\n     width: 30px;\n     height: 30px;\n     margin-left: 10px !important;\n     margin-top: 10px !important;\n }\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,"/*viewer navbar */\n.msgapi .navbar-dx{\n\tposition:absolute;\n\tright:0;\n\ttop:0;\n}\n\n.msgapi .navbar-dx > ul{\n\tpadding:0;\n}\n\n.msgapi .navbar-dx > ul > li{\n\tfloat: left;\n\tlist-style:none;\n}\n\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\n    right: 0;\n    top: 0;\n    left: 0;\n}\n\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\n    border-color: #fff;\n    border-right: 0;\n    webkit-box-shadow: none;\n    box-shadow: none;\n}\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\n    border: 0;\n}\n.msgapi .navbar-dx .search-result-list{\n    left: 0;\n    max-height: none;\n}\n\n.msgapi .navbar-dx .dropdown-menu {\n\tmargin:0;\n\tpadding-top: 0;\n}\n\n@media (min-width: 1200px) {\n    .msgapi .navbar-dx .search-wrap {\n       width: 500px;\n       height: 50px;\n    }\n}\n\n.msgapi .navbar-dx > * {\n\tdisplay: inline-block;\n}\n/* Page Navbar */\n.msgapi .navbar-home .dropdown {\n\tfloat: right;\n}\n.msgapi .navbar-home .navbar-header {\n\tmargin-top: 7px;\n\tmargin-left: 10px;\n\tmargin-right: 10px;\n\tdisplay: inline-block;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mappreview-scalebox {\n    position: relative;\n    top: -36px;\n    width: 150px;\n    left: 10px;\n}\n\n.msgapi .print-error {\n    height: 100px;\n    color: #600;\n    background-color: #E8BABA;\n    border: solid #600 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-error span, .msgapi .print-warning span {\n    display: inline-block;\n    max-height: 80px;\n    overflow: auto;\n    width: 100%;\n}\n.msgapi .print-warning {\n    height: 50px;\n    color: #660;\n    background-color: #E6E8BA;\n    border: solid #660 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-preview-panel .spinner {\n    display: inline-block;\n}\n\n.msgapi .print-mappreview-refresh {\n    position: relative;\n    top: -83px;\n    right: -155px;\n    z-index: 1000;\n}\n.msgapi #mapstore-print-panel.modal-dialog {\n    z-index: 2000;\n}\n\n.msgapi #mapstore-print-panel .modal-body {\n    max-height: calc(100vh - 190px);\n    overflow-y: auto;\n}\n\n.msgapi .mapstore-print-panel {\n    width: 850px;\n    position: absolute;\n    top: 50px;\n    right: 60px;\n    zIndex: 100;\n}\n\n.msgapi .mapstore-print-panel .form-inline label {\n    margin-right: 20px;\n}\n\n.msgapi .mapstore-print-panel .print-download {\n    margin-right: 10px;\n    display: inline-block;\n    width: 30px;\n    height: 34px;\n    border: solid 1px #CCC;\n    padding: 7px;\n    border-radius: 4px;\n    padding-right: 25px;\n    padding-left: 11px;\n    top: 2px;\n    position: relative;\n}\n\n.msgapi .print-layout .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-layout .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-layout .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n.msgapi .print-legend-options .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-legend-options .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-legend-options .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n\n@media (min-width: 992px) {\n    .msgapi #mapstore-print-panel {\n        width: 825px;\n    }\n}\n\n@media (max-width: 991px) {\n    .msgapi #mapstore-print-panel {\n        width: 700px;\n    }\n}\n\n@media (max-width: 767px) {\n    .msgapi #mapstore-print-panel {\n        width: 98%;\n    }\n}\n\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\n    top: -96px;\n}\n\n.msgapi #mapstore-print-panel .print-submit {\n    float: right;\n}\n\n@media (min-width: 768px) {\n    .msgapi #mapstore-print-panel input[type=radio] {\n        margin: 0 8px 0 20px;\n    }\n}\n\n.msgapi #mapstore-print-panel .print-map-preview {\n    margin-bottom: 15px;\n}\n\n.msgapi #mapstore-print-panel .panel-default {\n    border: none;\n}\n\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\n    font-weight: bold;\n}\n\n.msgapi #mapstore-print-panel .panel-heading {\n    padding-left: 0;\n    background-color: transparent;\n}\n\n.msgapi #mapstore-print-panel .panel-body {\n    padding: 10px;\n}\n\n.msgapi #mapstore-print-panel .form-control {\n    padding: 0 10px;\n    height: 25px;\n}\n\n.msgapi #mapstore-print-panel .print-download {\n    margin-right: 10px;\n}\n\n.msgapi #mapstore-print-panel .print-download a {\n    color: white;\n}\n\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mapstore-scalebox {\n    /*z-index: 10;\n    bottom: 6px;\n    left: -2px;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n\n.msgapi #mapstore-scalebox-container {\n    /*z-index: 10;\n    bottom: -16px;\n    right: 55px;\n    left: auto;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .mapToolbar {\n    position: absolute;\n    bottom: 5px;\n    right: 0;\n    z-index: 1000;\n    margin-bottom: 35px;\n    margin-right: 5px;\n}\n\n.msgapi .toolbarexpand-enter {\n  opacity: 0.01;\n}\n\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in;\n}\n\n.msgapi .toolbarexpand-leave {\n  opacity: 1;\n}\n\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\n  opacity: 0.01;\n  transition: opacity 300ms ease-in;\n}\n\n.msgapi #navigationBar .toolbar-panel {\n    bottom: 80px !important;\n}\n\n.msgapi #identifyBar .mapToolbar {\n    top: auto !important;\n    bottom: 5px;\n    right: 212px !important;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\n    z-index: 1;\n    position: relative;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi #mapstore-zoomtomaxextent {\n    z-index: 1;\n    position: relative;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,'.msgapi .ol-popup {\n    position: absolute;\n    text-align: center;\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\n    -webkit-transform: translate(-50%,-100%); /* Safari */\n    transform: translate(-50%,-100%);\n}\n.msgapi a.ol-popup-close-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 4px 4px 0 0;\n  text-align: center;\n  width: 18px;\n  height: 14px;\n  font: 16px/14px Tahoma, Verdana, sans-serif;\n  color: #c3c3c3;\n  text-decoration: none;\n  font-weight: bold;\n  background: transparent;\n}\n.msgapi .ol-popup-cnt-wrapper {\n  padding: 1px;\n  text-align: left;\n  border-radius: 12px;\n}\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\n  background: white;\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\n}\n.msgapi .ol-popup-cnt {\n  margin: 13px 19px;\n  line-height: 1.4;\n   white-space: nowrap;\n\n}\n.msgapi .ol-popup-tip-wrapper {\n  margin: 0 auto;\n  width: 40px;\n  height: 20px;\n  position: relative;\n  overflow: hidden;\n\n}\n.msgapi .ol-popup-tip {\n  width: 17px;\n  height: 17px;\n  padding: 1px;\n  margin: -10px auto 0;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n',""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .extra-marker{background:url("+n(3195)+") no-repeat 0 0;width:35px;height:46px;position:absolute;left:0;top:0;display:block;text-align:center}.msgapi .extra-marker-shadow{background:url("+n(3197)+") no-repeat 0 0;width:36px;height:16px}@media (min--moz-device-pixel-ratio:1.5),(-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx){.msgapi .extra-marker{background-image:url("+n(3196)+");background-size:540px 184px}.msgapi .extra-marker-shadow{background-image:url("+n(3198)+");background-size:35px 16px}}.msgapi .extra-marker i{color:#fff;margin-top:10px;display:inline-block;font-size:14px}.msgapi .extra-marker i.icon{margin-right:0;opacity:1}.msgapi .extra-marker-circle-red{background-position:0 0}.msgapi .extra-marker-circle-orange-dark{background-position:-36px 0}.msgapi .extra-marker-circle-orange{background-position:-72px 0}.msgapi .extra-marker-circle-yellow{background-position:-108px 0}.msgapi .extra-marker-circle-blue-dark{background-position:-144px 0}.msgapi .extra-marker-circle-blue{background-position:-180px 0}.msgapi .extra-marker-circle-cyan{background-position:-216px 0}.msgapi .extra-marker-circle-purple{background-position:-252px 0}.msgapi .extra-marker-circle-violet{background-position:-288px 0}.msgapi .extra-marker-circle-pink{background-position:-324px 0}.msgapi .extra-marker-circle-green-dark{background-position:-360px 0}.msgapi .extra-marker-circle-green{background-position:-396px 0}.msgapi .extra-marker-circle-green-light{background-position:-432px 0}.msgapi .extra-marker-circle-black{background-position:-468px 0}.msgapi .extra-marker-circle-white{background-position:-504px 0}.msgapi .extra-marker-square-red{background-position:0 -46px}.msgapi .extra-marker-square-orange-dark{background-position:-36px -46px}.msgapi .extra-marker-square-orange{background-position:-72px -46px}.msgapi .extra-marker-square-yellow{background-position:-108px -46px}.msgapi .extra-marker-square-blue-dark{background-position:-144px -46px}.msgapi .extra-marker-square-blue{background-position:-180px -46px}.msgapi .extra-marker-square-cyan{background-position:-216px -46px}.msgapi .extra-marker-square-purple{background-position:-252px -46px}.msgapi .extra-marker-square-violet{background-position:-288px -46px}.msgapi .extra-marker-square-pink{background-position:-324px -46px}.msgapi .extra-marker-square-green-dark{background-position:-360px -46px}.msgapi .extra-marker-square-green{background-position:-396px -46px}.msgapi .extra-marker-square-green-light{background-position:-432px -46px}.msgapi .extra-marker-square-black{background-position:-468px -46px}.msgapi .extra-marker-square-white{background-position:-504px -46px}.msgapi .extra-marker-star-red{background-position:0 -92px}.msgapi .extra-marker-star-orange-dark{background-position:-36px -92px}.msgapi .extra-marker-star-orange{background-position:-72px -92px}.msgapi .extra-marker-star-yellow{background-position:-108px -92px}.msgapi .extra-marker-star-blue-dark{background-position:-144px -92px}.msgapi .extra-marker-star-blue{background-position:-180px -92px}.msgapi .extra-marker-star-cyan{background-position:-216px -92px}.msgapi .extra-marker-star-purple{background-position:-252px -92px}.msgapi .extra-marker-star-violet{background-position:-288px -92px}.msgapi .extra-marker-star-pink{background-position:-324px -92px}.msgapi .extra-marker-star-green-dark{background-position:-360px -92px}.msgapi .extra-marker-star-green{background-position:-396px -92px}.msgapi .extra-marker-star-green-light{background-position:-432px -92px}.msgapi .extra-marker-star-black{background-position:-468px -92px}.msgapi .extra-marker-star-white{background-position:-504px -92px}.msgapi .extra-marker-penta-red{background-position:0 -138px}.msgapi .extra-marker-penta-orange-dark{background-position:-36px -138px}.msgapi .extra-marker-penta-orange{background-position:-72px -138px}.msgapi .extra-marker-penta-yellow{background-position:-108px -138px}.msgapi .extra-marker-penta-blue-dark{background-position:-144px -138px}.msgapi .extra-marker-penta-blue{background-position:-180px -138px}.msgapi .extra-marker-penta-cyan{background-position:-216px -138px}.msgapi .extra-marker-penta-purple{background-position:-252px -138px}.msgapi .extra-marker-penta-violet{background-position:-288px -138px}.msgapi .extra-marker-penta-pink{background-position:-324px -138px}.msgapi .extra-marker-penta-green-dark{background-position:-360px -138px}.msgapi .extra-marker-penta-green{background-position:-396px -138px}.msgapi .extra-marker-penta-green-light{background-position:-432px -138px}.msgapi .extra-marker-penta-black{background-position:-468px -138px}.msgapi .extra-marker-penta-white{background-position:-504px -138px}.msgapi .extra-marker .fa-number:before{content:attr(number)}",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .leaflet-grid-label .gridlabel-vert {\n    margin-left: 8px;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-grid-label .gridlabel-vert,\n.msgapi .leaflet-grid-label .gridlabel-horiz {\n    padding-left:2px;\n    text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),
e.push([t.i,"/* Compatible with Leaflet 0.7 */\n.msgapi .leaflet-control-locate a {\n  font-size: 1.4em;\n  color: #444;\n  cursor: pointer;\n}\n.msgapi .leaflet-control-locate.active a {\n  color: #2074B6;\n}\n.msgapi .leaflet-control-locate.active.following a {\n  color: #FC8428;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-chasing-dots {\n  width: 27px;\n  height: 27px;\n  position: relative;\n\n  -webkit-animation: sk-rotate 2.0s infinite linear;\n  animation: sk-rotate 2.0s infinite linear;\n}\n\n.msgapi .sk-dot1, .msgapi .sk-dot2 {\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: #333;\n  border-radius: 100%;\n\n  -webkit-animation: sk-bounce 2.0s infinite ease-in-out;\n  animation: sk-bounce 2.0s infinite ease-in-out;\n}\n\n.msgapi .sk-dot2 {\n  top: auto;\n  bottom: 0px;\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n@-webkit-keyframes sk-rotate { .msgapi 100% { -webkit-transform: rotate(360deg) }}\n@keyframes sk-rotate {\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes sk-bounce {\n  .msgapi 0%, .msgapi 100% { -webkit-transform: scale(0.0) }\n  .msgapi 50% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bounce {\n  0%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 50% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-circle-wrapper {\n  width: 22px;\n  height: 22px;\n  position: relative;\n}\n\n.msgapi .sk-circle {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.msgapi .sk-circle:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 20%;\n  height: 20%;\n  background-color: #333;\n\n  border-radius: 100%;\n  -webkit-animation: sk-bouncedelay 1.2s infinite ease-in-out;\n  animation: sk-bouncedelay 1.2s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n\n.msgapi .sk-circle2  { -webkit-transform: rotate(30deg);  transform: rotate(30deg)  }\n.msgapi .sk-circle3  { -webkit-transform: rotate(60deg);  transform: rotate(60deg)  }\n.msgapi .sk-circle4  { -webkit-transform: rotate(90deg);  transform: rotate(90deg)  }\n.msgapi .sk-circle5  { -webkit-transform: rotate(120deg); transform: rotate(120deg) }\n.msgapi .sk-circle6  { -webkit-transform: rotate(150deg); transform: rotate(150deg) }\n.msgapi .sk-circle7  { -webkit-transform: rotate(180deg); transform: rotate(180deg) }\n.msgapi .sk-circle8  { -webkit-transform: rotate(210deg); transform: rotate(210deg) }\n.msgapi .sk-circle9  { -webkit-transform: rotate(240deg); transform: rotate(240deg) }\n.msgapi .sk-circle10 { -webkit-transform: rotate(270deg); transform: rotate(270deg) }\n.msgapi .sk-circle11 { -webkit-transform: rotate(300deg); transform: rotate(300deg) }\n.msgapi .sk-circle12 { -webkit-transform: rotate(330deg); transform: rotate(330deg) }\n\n.msgapi .sk-circle2:before  { -webkit-animation-delay: -1.1s; animation-delay: -1.1s }\n.msgapi .sk-circle3:before  { -webkit-animation-delay: -1.0s; animation-delay: -1.0s }\n.msgapi .sk-circle4:before  { -webkit-animation-delay: -0.9s; animation-delay: -0.9s }\n.msgapi .sk-circle5:before  { -webkit-animation-delay: -0.8s; animation-delay: -0.8s }\n.msgapi .sk-circle6:before  { -webkit-animation-delay: -0.7s; animation-delay: -0.7s }\n.msgapi .sk-circle7:before  { -webkit-animation-delay: -0.6s; animation-delay: -0.6s }\n.msgapi .sk-circle8:before  { -webkit-animation-delay: -0.5s; animation-delay: -0.5s }\n.msgapi .sk-circle9:before  { -webkit-animation-delay: -0.4s; animation-delay: -0.4s }\n.msgapi .sk-circle10:before { -webkit-animation-delay: -0.3s; animation-delay: -0.3s }\n.msgapi .sk-circle11:before { -webkit-animation-delay: -0.2s; animation-delay: -0.2s }\n.msgapi .sk-circle12:before { -webkit-animation-delay: -0.1s; animation-delay: -0.1s }\n\n@-webkit-keyframes sk-bouncedelay {\n  .msgapi 0%, .msgapi 80%, .msgapi 100% { -webkit-transform: scale(0.0) }\n  .msgapi 40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bouncedelay {\n  0%, 80%, 100% {\n    -webkit-transform: scale(0.0);\n    transform: scale(0.0);\n  } 40% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-cube-grid {\n  width:27px;\n  height:27px;\n}\n\n.msgapi .sk-cube {\n  width:33%;\n  height:33%;\n  background:#333;\n  float:left;\n  -webkit-animation: sk-scaleDelay 1.3s infinite ease-in-out;\n  animation: sk-scaleDelay 1.3s infinite ease-in-out;\n}\n\n/*\n * Spinner positions\n * 1 2 3\n * 4 5 6\n * 7 8 9\n */\n\n.msgapi .sk-spinner .sk-cube:nth-child(1) { -webkit-animation-delay: 0.2s; animation-delay: 0.2s  }\n.msgapi .sk-spinner .sk-cube:nth-child(2) { -webkit-animation-delay: 0.3s; animation-delay: 0.3s  }\n.msgapi .sk-spinner .sk-cube:nth-child(3) { -webkit-animation-delay: 0.4s; animation-delay: 0.4s  }\n.msgapi .sk-spinner .sk-cube:nth-child(4) { -webkit-animation-delay: 0.1s; animation-delay: 0.1s  }\n.msgapi .sk-spinner .sk-cube:nth-child(5) { -webkit-animation-delay: 0.2s; animation-delay: 0.2s  }\n.msgapi .sk-spinner .sk-cube:nth-child(6) { -webkit-animation-delay: 0.3s; animation-delay: 0.3s  }\n.msgapi .sk-spinner .sk-cube:nth-child(7) { -webkit-animation-delay: 0.0s; animation-delay: 0.0s  }\n.msgapi .sk-spinner .sk-cube:nth-child(8) { -webkit-animation-delay: 0.1s; animation-delay: 0.1s  }\n.msgapi .sk-spinner .sk-cube:nth-child(9) { -webkit-animation-delay: 0.2s; animation-delay: 0.2s  }\n\n@-webkit-keyframes sk-scaleDelay {\n  .msgapi 0%, .msgapi 70%, .msgapi 100% { -webkit-transform:scale3D(1.0, 1.0, 1.0) }\n  .msgapi 35%           { -webkit-transform:scale3D(0.0, 0.0, 1.0) }\n}\n\n@keyframes sk-scaleDelay {\n  0%, 70%, 100% { -webkit-transform:scale3D(1.0, 1.0, 1.0); transform:scale3D(1.0, 1.0, 1.0) }\n  35%           { -webkit-transform:scale3D(1.0, 1.0, 1.0); transform:scale3D(0.0, 0.0, 1.0) }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-double-bounce {\n  width: 27px;\n  height: 27px;\n\n  position: relative;\n}\n\n.msgapi .sk-double-bounce1, .msgapi .sk-double-bounce2 {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: #333;\n  opacity: 0.6;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  -webkit-animation: sk-bounce 2.0s infinite ease-in-out;\n  animation: sk-bounce 2.0s infinite ease-in-out;\n}\n\n.msgapi .sk-double-bounce2 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n@-webkit-keyframes sk-bounce {\n  .msgapi 0%, .msgapi 100% { -webkit-transform: scale(0.0) }\n  .msgapi 50% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bounce {\n  0%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 50% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,"@-webkit-keyframes sk-fade-in {\n  .msgapi 0% {\n      opacity: 0;\n  }\n  .msgapi 50% {\n      opacity: 0;\n  }\n  .msgapi 100% {\n      opacity: 1;\n  }\n}\n\n@-moz-keyframes sk-fade-in {\n  .msgapi 0% {\n      opacity: 0;\n  }\n  .msgapi 50% {\n      opacity: 0;\n  }\n  .msgapi 100% {\n      opacity: 1;\n  }\n}\n\n@-ms-keyframes sk-fade-in {\n  .msgapi 0% {\n      opacity: 0;\n  }\n  .msgapi 50% {\n      opacity: 0;\n  }\n  .msgapi 100% {\n      opacity: 1;\n  }\n}\n\n@keyframes sk-fade-in {\n  0% {\n      opacity: 0;\n  }\n  50% {\n      opacity: 0;\n  }\n  100% {\n      opacity: 1;\n  }\n}\n\n.msgapi .sk-fade-in {\n  -webkit-animation: sk-fade-in 2s;\n  -moz-animation: sk-fade-in 2s;\n  -o-animation: sk-fade-in 2s;\n  -ms-animation: sk-fade-in 2s;\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-folding-cube {\n  width: 27px;\n  height: 27px;\n  position: relative;\n  -webkit-transform: rotateZ(45deg);\n          transform: rotateZ(45deg);\n}\n\n.msgapi .sk-folding-cube .sk-cube {\n  float: left;\n  width: 50%;\n  height: 50%;\n  position: relative;\n  -webkit-transform: scale(1.1);\n      -ms-transform: scale(1.1);\n          transform: scale(1.1); \n}\n.msgapi .sk-folding-cube .sk-cube:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #333;\n  -webkit-animation: sk-foldCubeAngle 2.4s infinite linear both;\n          animation: sk-foldCubeAngle 2.4s infinite linear both;\n  -webkit-transform-origin: 100% 100%;\n      -ms-transform-origin: 100% 100%;\n          transform-origin: 100% 100%;\n}\n.msgapi .sk-folding-cube .sk-cube2 {\n  -webkit-transform: scale(1.1) rotateZ(90deg);\n          transform: scale(1.1) rotateZ(90deg);\n}\n.msgapi .sk-folding-cube .sk-cube3 {\n  -webkit-transform: scale(1.1) rotateZ(180deg);\n          transform: scale(1.1) rotateZ(180deg);\n}\n.msgapi .sk-folding-cube .sk-cube4 {\n  -webkit-transform: scale(1.1) rotateZ(270deg);\n          transform: scale(1.1) rotateZ(270deg);\n}\n.msgapi .sk-folding-cube .sk-cube2:before {\n  -webkit-animation-delay: 0.3s;\n          animation-delay: 0.3s;\n}\n.msgapi .sk-folding-cube .sk-cube3:before {\n  -webkit-animation-delay: 0.6s;\n          animation-delay: 0.6s; \n}\n.msgapi .sk-folding-cube .sk-cube4:before {\n  -webkit-animation-delay: 0.9s;\n          animation-delay: 0.9s;\n}\n@-webkit-keyframes sk-foldCubeAngle {\n  .msgapi 0%, .msgapi 10% {\n    -webkit-transform: perspective(140px) rotateX(-180deg);\n            transform: perspective(140px) rotateX(-180deg);\n    opacity: 0; \n  } .msgapi 25%, .msgapi 75% {\n    -webkit-transform: perspective(140px) rotateX(0deg);\n            transform: perspective(140px) rotateX(0deg);\n    opacity: 1; \n  } .msgapi 90%, .msgapi 100% {\n    -webkit-transform: perspective(140px) rotateY(180deg);\n            transform: perspective(140px) rotateY(180deg);\n    opacity: 0; \n  } \n}\n\n@keyframes sk-foldCubeAngle {\n  0%, 10% {\n    -webkit-transform: perspective(140px) rotateX(-180deg);\n            transform: perspective(140px) rotateX(-180deg);\n    opacity: 0; \n  } 25%, 75% {\n    -webkit-transform: perspective(140px) rotateX(0deg);\n            transform: perspective(140px) rotateX(0deg);\n    opacity: 1; \n  } 90%, 100% {\n    -webkit-transform: perspective(140px) rotateY(180deg);\n            transform: perspective(140px) rotateY(180deg);\n    opacity: 0; \n  }\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-pulse {\n  width: 27px;\n  height: 27px;\n  background-color: #333;\n\n  border-radius: 100%;\n  -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;\n  animation: sk-scaleout 1.0s infinite ease-in-out;\n}\n\n@-webkit-keyframes sk-scaleout {\n  .msgapi 0% { -webkit-transform: scale(0.0) }\n  .msgapi 100% {\n    -webkit-transform: scale(1.0);\n    opacity: 0;\n  }\n}\n\n@keyframes sk-scaleout {\n  0% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 100% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n    opacity: 0;\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-rotating-plane {\n  width: 27px;\n  height: 27px;\n  background-color: #333;\n\n  -webkit-animation: sk-rotateplane 1.2s infinite ease-in-out;\n  animation: sk-rotateplane 1.2s infinite ease-in-out;\n}\n\n@-webkit-keyframes sk-rotateplane {\n  .msgapi 0% { -webkit-transform: perspective(120px) }\n  .msgapi 50% { -webkit-transform: perspective(120px) rotateY(180deg) }\n  .msgapi 100% { -webkit-transform: perspective(120px) rotateY(180deg)  rotateX(180deg) }\n}\n\n@keyframes sk-rotateplane {\n  0% {\n    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n    -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n  } 50% {\n    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n    -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n  } 100% {\n    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n    -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-three-bounce > div {\n  width: 18px;\n  height: 18px;\n  background-color: #333;\n\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out;\n  /* Prevent first frame from flickering when animation starts */\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n\n.msgapi .sk-three-bounce .sk-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n\n.msgapi .sk-three-bounce .sk-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@-webkit-keyframes sk-bouncedelay {\n  .msgapi 0%, .msgapi 80%, .msgapi 100% { -webkit-transform: scale(0.0) }\n  .msgapi 40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bouncedelay {\n  0%, 80%, 100% {\n    transform: scale(0.0);\n    -webkit-transform: scale(0.0);\n  } 40% {\n    transform: scale(1.0);\n    -webkit-transform: scale(1.0);\n  }\n}\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-wandering-cubes {\n  width: 27px;\n  height: 27px;\n  position: relative;\n}\n\n.msgapi .sk-cube1, .msgapi .sk-cube2 {\n  background-color: #333;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  -webkit-animation: sk-cubemove 1.8s infinite ease-in-out;\n  animation: sk-cubemove 1.8s infinite ease-in-out;\n}\n\n.msgapi .sk-cube2 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n@-webkit-keyframes sk-cubemove {\n  .msgapi 25% { -webkit-transform: translateX(22px) rotate(-90deg) scale(0.5) }\n  .msgapi 50% { -webkit-transform: translateX(22px) translateY(22px) rotate(-180deg) }\n  .msgapi 75% { -webkit-transform: translateX(0px) translateY(22px) rotate(-270deg) scale(0.5) }\n  .msgapi 100% { -webkit-transform: rotate(-360deg) }\n}\n\n@keyframes sk-cubemove {\n  25% {\n    transform: translateX(42px) rotate(-90deg) scale(0.5);\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } 50% {\n    /* Hack to make FF rotate in the right direction */\n    transform: translateX(42px) translateY(42px) rotate(-179deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } 50.1% {\n    transform: translateX(42px) translateY(42px) rotate(-180deg);\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } 75% {\n    transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } 100% {\n    transform: rotate(-360deg);\n    -webkit-transform: rotate(-360deg);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-wave {\n  width: 50px;\n  height: 27px;\n}\n\n.msgapi .sk-wave > div {\n  background-color: #333;\n  height: 100%;\n  width: 6px;\n  display: inline-block;\n\n  -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n  animation: sk-stretchdelay 1.2s infinite ease-in-out;\n}\n\n.msgapi .sk-wave .sk-rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n\n.msgapi .sk-wave .sk-rect3 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n.msgapi .sk-wave .sk-rect4 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.msgapi .sk-wave .sk-rect5 {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n@-webkit-keyframes sk-stretchdelay {\n  .msgapi 0%, .msgapi 40%, .msgapi 100% { -webkit-transform: scaleY(0.4) }\n  .msgapi 20% { -webkit-transform: scaleY(1.0) }\n}\n\n@keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  } 20% {\n    transform: scaleY(1.0);\n    -webkit-transform: scaleY(1.0);\n  }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),e.push([t.i,".msgapi .sk-wordpress {\n  background: #333;\n  width: 27px;\n  height: 27px;\n  display: inline-block;\n  border-radius: 27px;\n  position: relative;\n  -webkit-animation: sk-inner-circle 1s linear infinite;\n  animation: sk-inner-circle 1s linear infinite;\n}\n\n.msgapi .sk-inner-circle {\n  display: block;\n  background: #fff;\n  width: 8px;\n  height: 8px;\n  position: absolute;\n  border-radius: 8px;\n  top: 5px;\n  left: 5px;\n}\n\n@-webkit-keyframes sk-inner-circle {\n  .msgapi 0% { -webkit-transform: rotate(0); }\n  .msgapi 100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes sk-inner-circle {\n  0% { transform: rotate(0); -webkit-transform:rotate(0); }\n  100% { transform: rotate(360deg); -webkit-transform:rotate(360deg); }\n}\n\n",""])},function(t,e,n){e=t.exports=n(855)(),
e.push([t.i,'.msgapi .vis .overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.msgapi .vis-active{box-shadow:0 0 10px #86d5f8}.msgapi .vis [class*=span]{min-height:0;width:auto}.msgapi div.vis-configuration{position:relative;display:block;float:left;font-size:12px}.msgapi div.vis-configuration-wrapper{display:block;width:700px}.msgapi div.vis-configuration-wrapper::after{clear:both;content:"";display:block}.msgapi div.vis-configuration.vis-config-option-container{display:block;width:495px;background-color:#fff;border:2px solid #f7f8fa;border-radius:4px;margin-top:20px;left:10px;padding-left:5px}.msgapi div.vis-configuration.vis-config-button{display:block;width:495px;height:25px;vertical-align:middle;line-height:25px;background-color:#f7f8fa;border:2px solid #ceced0;border-radius:4px;margin-top:20px;left:10px;padding-left:5px;cursor:pointer;margin-bottom:30px}.msgapi div.vis-configuration.vis-config-button.hover{background-color:#4588e6;border:2px solid #214373;color:#fff}.msgapi div.vis-configuration.vis-config-item{display:block;float:left;width:495px;height:25px;vertical-align:middle;line-height:25px}.msgapi div.vis-configuration.vis-config-item.vis-config-s2{left:10px;background-color:#f7f8fa;padding-left:5px;border-radius:3px}.msgapi div.vis-configuration.vis-config-item.vis-config-s3{left:20px;background-color:#e4e9f0;padding-left:5px;border-radius:3px}.msgapi div.vis-configuration.vis-config-item.vis-config-s4{left:30px;background-color:#cfd8e6;padding-left:5px;border-radius:3px}.msgapi div.vis-configuration.vis-config-header{font-size:18px;font-weight:700}.msgapi div.vis-configuration.vis-config-label{width:120px;height:25px;line-height:25px}.msgapi div.vis-configuration.vis-config-label.vis-config-s3{width:110px}.msgapi div.vis-configuration.vis-config-label.vis-config-s4{width:100px}.msgapi div.vis-configuration.vis-config-colorBlock{top:1px;width:30px;height:19px;border:1px solid #444;border-radius:2px;padding:0;margin:0;cursor:pointer}.msgapi input.vis-configuration.vis-config-checkbox{left:-5px}.msgapi input.vis-configuration.vis-config-rangeinput{position:relative;top:-5px;width:60px;padding:1px;margin:0;pointer-events:none}.msgapi input.vis-configuration.vis-config-range{-webkit-appearance:none;border:0 solid #fff;background-color:rgba(0,0,0,0);width:300px;height:20px}.msgapi input.vis-configuration.vis-config-range::-webkit-slider-runnable-track{width:300px;height:5px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}.msgapi input.vis-configuration.vis-config-range::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #14334b;height:17px;width:17px;border-radius:50%;background:#3876c2;background:-moz-linear-gradient(top,#3876c2 0,#385380 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3876c2),color-stop(100%,#385380));background:-webkit-linear-gradient(top,#3876c2 0,#385380 100%);background:-o-linear-gradient(top,#3876c2 0,#385380 100%);background:-ms-linear-gradient(top,#3876c2 0,#385380 100%);background:linear-gradient(to bottom,#3876c2 0,#385380 100%);box-shadow:#111927 0 0 1px 0;margin-top:-7px}.msgapi input.vis-configuration.vis-config-range:focus{outline:0}.msgapi input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track{background:#9d9d9d;background:-moz-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#9d9d9d),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-o-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:linear-gradient(to bottom,#9d9d9d 0,#c8c8c8 99%)}.msgapi input.vis-configuration.vis-config-range::-moz-range-track{width:300px;height:10px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(to bottom,#dedede 0,#c8c8c8 99%);border:1px solid #999;box-shadow:#aaa 0 0 3px 0;border-radius:3px}.msgapi input.vis-configuration.vis-config-range::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}.msgapi input.vis-configuration.vis-config-range:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}.msgapi input.vis-configuration.vis-config-range::-ms-track{width:300px;height:5px;background:0 0;border-color:transparent;border-width:6px 0;color:transparent}.msgapi input.vis-configuration.vis-config-range::-ms-fill-lower{background:#777;border-radius:10px}.msgapi input.vis-configuration.vis-config-range::-ms-fill-upper{background:#ddd;border-radius:10px}.msgapi input.vis-configuration.vis-config-range::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}.msgapi input.vis-configuration.vis-config-range:focus::-ms-fill-lower{background:#888}.msgapi input.vis-configuration.vis-config-range:focus::-ms-fill-upper{background:#ccc}.msgapi .vis-configuration-popup{position:absolute;background:rgba(57,76,89,.85);border:2px solid #f2faff;line-height:30px;height:30px;width:150px;text-align:center;color:#fff;font-size:14px;border-radius:4px;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.msgapi .vis-configuration-popup:after,.msgapi .vis-configuration-popup:before{left:100%;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.msgapi .vis-configuration-popup:after{border-color:rgba(136,183,213,0);border-left-color:rgba(57,76,89,.85);border-width:8px;margin-top:-8px}.msgapi .vis-configuration-popup:before{border-color:rgba(194,225,245,0);border-left-color:#f2faff;border-width:12px;margin-top:-12px}.msgapi div.vis-tooltip{position:absolute;visibility:hidden;padding:5px;white-space:nowrap;font-family:verdana;font-size:14px;color:#000;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,.2);pointer-events:none;z-index:5}.msgapi .vis-current-time{background-color:#ff7f6e;width:2px;z-index:1;pointer-events:none}.msgapi .vis-rolling-mode-btn{height:40px;width:40px;position:absolute;top:7px;right:20px;border-radius:50%;font-size:28px;cursor:pointer;opacity:.8;color:#fff;font-weight:700;text-align:center;background:#3876c2}.msgapi .vis-rolling-mode-btn:before{content:"\\26F6"}.msgapi .vis-rolling-mode-btn:hover{opacity:1}.msgapi .vis-custom-time{background-color:#6e94ff;width:2px;cursor:move;z-index:1}.msgapi .vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal{position:absolute;width:100%;height:0;border-bottom:1px solid}.msgapi .vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor{border-color:#e5e5e5}.msgapi .vis-panel.vis-background.vis-horizontal .vis-grid.vis-major{border-color:#bfbfbf}.msgapi .vis-data-axis .vis-y-axis.vis-major{width:100%;position:absolute;color:#4d4d4d;white-space:nowrap}.msgapi .vis-data-axis .vis-y-axis.vis-major.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.msgapi .vis-data-axis .vis-y-axis.vis-minor{position:absolute;width:100%;color:#bebebe;white-space:nowrap}.msgapi .vis-data-axis .vis-y-axis.vis-minor.vis-measure{padding:0;margin:0;border:0;visibility:hidden;width:auto}.msgapi .vis-data-axis .vis-y-axis.vis-title{position:absolute;color:#4d4d4d;white-space:nowrap;bottom:20px;text-align:center}.msgapi .vis-data-axis .vis-y-axis.vis-title.vis-measure{padding:0;margin:0;visibility:hidden;width:auto}.msgapi .vis-data-axis .vis-y-axis.vis-title.vis-left{bottom:0;-webkit-transform-origin:left top;-moz-transform-origin:left top;-ms-transform-origin:left top;-o-transform-origin:left top;transform-origin:left bottom;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.msgapi .vis-data-axis .vis-y-axis.vis-title.vis-right{bottom:0;-webkit-transform-origin:right bottom;-moz-transform-origin:right bottom;-ms-transform-origin:right bottom;-o-transform-origin:right bottom;transform-origin:right bottom;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.msgapi .vis-legend{background-color:rgba(247,252,255,.65);padding:5px;border:1px solid #b3b3b3;box-shadow:2px 2px 10px rgba(154,154,154,.55)}.msgapi .vis-legend-text{white-space:nowrap;display:inline-block}.msgapi .vis-item{position:absolute;color:#1a1a1a;border-color:#97b0f8;border-width:1px;background-color:#d5ddf6;display:inline-block;z-index:1}.msgapi .vis-item.vis-selected{border-color:#ffc200;background-color:#fff785;z-index:2}.msgapi .vis-editable.vis-selected{cursor:move}.msgapi .vis-item.vis-point.vis-selected{background-color:#fff785}.msgapi .vis-item.vis-box{text-align:center;border-style:solid;border-radius:2px}.msgapi .vis-item.vis-point{background:0 0}.msgapi .vis-item.vis-dot{position:absolute;padding:0;border-width:4px;border-style:solid;border-radius:4px}.msgapi .vis-item.vis-range{border-style:solid;border-radius:2px;box-sizing:border-box}.msgapi .vis-item.vis-background{border:none;background-color:rgba(213,221,246,.4);box-sizing:border-box;padding:0;margin:0}.msgapi .vis-item .vis-item-overflow{position:relative;width:100%;height:100%;padding:0;margin:0;overflow:hidden}.msgapi .vis-item-visible-frame{white-space:nowrap}.msgapi .vis-item.vis-range .vis-item-content{position:relative;display:inline-block}.msgapi .vis-item.vis-background .vis-item-content{position:absolute;display:inline-block}.msgapi .vis-item.vis-line{padding:0;position:absolute;width:0;border-left-width:1px;border-left-style:solid}.msgapi .vis-item .vis-item-content{white-space:nowrap;box-sizing:border-box;padding:5px}.msgapi .vis-item .vis-onUpdateTime-tooltip{position:absolute;background:#4f81bd;color:#fff;width:200px;text-align:center;white-space:nowrap;padding:5px;border-radius:1px;transition:.4s;-o-transition:.4s;-moz-transition:.4s;-webkit-transition:.4s}.msgapi .vis-item .vis-delete,.msgapi .vis-item .vis-delete-rtl{position:absolute;top:0;width:24px;height:24px;box-sizing:border-box;padding:0 5px;cursor:pointer;-webkit-transition:background .2s linear;-moz-transition:background .2s linear;-ms-transition:background .2s linear;-o-transition:background .2s linear;transition:background .2s linear}.msgapi .vis-item .vis-delete{right:-24px}.msgapi .vis-item .vis-delete-rtl{left:-24px}.msgapi .vis-item .vis-delete-rtl:after,.msgapi .vis-item .vis-delete:after{content:"\\D7";color:red;font-family:arial,sans-serif;font-size:22px;font-weight:700;-webkit-transition:color .2s linear;-moz-transition:color .2s linear;-ms-transition:color .2s linear;-o-transition:color .2s linear;transition:color .2s linear}.msgapi .vis-item .vis-delete-rtl:hover,.msgapi .vis-item .vis-delete:hover{background:red}.msgapi .vis-item .vis-delete-rtl:hover:after,.msgapi .vis-item .vis-delete:hover:after{color:#fff}.msgapi .vis-item .vis-drag-center{position:absolute;width:100%;height:100%;top:0;left:0;cursor:move}.msgapi .vis-item.vis-range .vis-drag-left{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;left:-4px;cursor:w-resize}.msgapi .vis-item.vis-range .vis-drag-right{position:absolute;width:24px;max-width:20%;min-width:2px;height:100%;top:0;right:-4px;cursor:e-resize}.msgapi .vis-range.vis-item.vis-readonly .vis-drag-left,.msgapi .vis-range.vis-item.vis-readonly .vis-drag-right{cursor:auto}.msgapi .vis-itemset{position:relative;padding:0;margin:0;box-sizing:border-box}.msgapi .vis-itemset .vis-background,.msgapi .vis-itemset .vis-foreground{position:absolute;width:100%;height:100%;overflow:visible}.msgapi .vis-axis{position:absolute;width:100%;height:0;left:0;z-index:1}.msgapi .vis-foreground .vis-group{position:relative;box-sizing:border-box;border-bottom:1px solid #bfbfbf}.msgapi .vis-foreground .vis-group:last-child{border-bottom:none}.msgapi .vis-nesting-group{cursor:pointer}.msgapi .vis-nested-group{background:#f5f5f5}.msgapi .vis-label.vis-nesting-group.expanded:before{content:"\\25BC"}.msgapi .vis-label.vis-nesting-group.collapsed-rtl:before{content:"\\25C0"}.msgapi .vis-label.vis-nesting-group.collapsed:before{content:"\\25B6"}.msgapi .vis-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10}.msgapi .vis-labelset{position:relative;overflow:hidden;box-sizing:border-box}.msgapi .vis-labelset .vis-label{position:relative;left:0;top:0;width:100%;color:#4d4d4d;box-sizing:border-box}.msgapi .vis-labelset .vis-label{border-bottom:1px solid #bfbfbf}.msgapi .vis-labelset .vis-label.draggable{cursor:pointer}.msgapi .vis-labelset .vis-label:last-child{border-bottom:none}.msgapi .vis-labelset .vis-label .vis-inner{display:inline-block;padding:5px}.msgapi .vis-labelset .vis-label .vis-inner.vis-hidden{padding:0}.msgapi .vis-panel{position:absolute;padding:0;margin:0;box-sizing:border-box}.msgapi .vis-panel.vis-bottom,.msgapi .vis-panel.vis-center,.msgapi .vis-panel.vis-left,.msgapi .vis-panel.vis-right,.msgapi .vis-panel.vis-top{border:1px #bfbfbf}.msgapi .vis-panel.vis-center,.msgapi .vis-panel.vis-left,.msgapi .vis-panel.vis-right{border-top-style:solid;border-bottom-style:solid;overflow:hidden}.msgapi .vis-left.vis-panel.vis-vertical-scroll,.msgapi .vis-right.vis-panel.vis-vertical-scroll{height:100%;overflow-x:hidden;overflow-y:scroll}.msgapi .vis-left.vis-panel.vis-vertical-scroll{direction:rtl}.msgapi .vis-left.vis-panel.vis-vertical-scroll .vis-content{direction:ltr}.msgapi .vis-right.vis-panel.vis-vertical-scroll{direction:ltr}.msgapi .vis-right.vis-panel.vis-vertical-scroll .vis-content{direction:rtl}.msgapi .vis-panel.vis-bottom,.msgapi .vis-panel.vis-center,.msgapi .vis-panel.vis-top{border-left-style:solid;border-right-style:solid}.msgapi .vis-background{overflow:hidden}.msgapi .vis-panel>.vis-content{position:relative}.msgapi .vis-panel .vis-shadow{position:absolute;width:100%;height:1px;box-shadow:0 0 10px rgba(0,0,0,.8)}.msgapi .vis-panel .vis-shadow.vis-top{top:-1px;left:0}.msgapi .vis-panel .vis-shadow.vis-bottom{bottom:-1px;left:0}.msgapi .vis-graph-group0{fill:#4f81bd;fill-opacity:0;stroke-width:2px;stroke:#4f81bd}.msgapi .vis-graph-group1{fill:#f79646;fill-opacity:0;stroke-width:2px;stroke:#f79646}.msgapi .vis-graph-group2{fill:#8c51cf;fill-opacity:0;stroke-width:2px;stroke:#8c51cf}.msgapi .vis-graph-group3{fill:#75c841;fill-opacity:0;stroke-width:2px;stroke:#75c841}.msgapi .vis-graph-group4{fill:#ff0100;fill-opacity:0;stroke-width:2px;stroke:#ff0100}.msgapi .vis-graph-group5{fill:#37d8e6;fill-opacity:0;stroke-width:2px;stroke:#37d8e6}.msgapi .vis-graph-group6{fill:#042662;fill-opacity:0;stroke-width:2px;stroke:#042662}.msgapi .vis-graph-group7{fill:#00ff26;fill-opacity:0;stroke-width:2px;stroke:#00ff26}.msgapi .vis-graph-group8{fill:#f0f;fill-opacity:0;stroke-width:2px;stroke:#f0f}.msgapi .vis-graph-group9{fill:#8f3938;fill-opacity:0;stroke-width:2px;stroke:#8f3938}.msgapi .vis-timeline .vis-fill{fill-opacity:.1;stroke:none}.msgapi .vis-timeline .vis-bar{fill-opacity:.5;stroke-width:1px}.msgapi .vis-timeline .vis-point{stroke-width:2px;fill-opacity:1}.msgapi .vis-timeline .vis-legend-background{stroke-width:1px;fill-opacity:.9;fill:#fff;stroke:#c2c2c2}.msgapi .vis-timeline .vis-outline{stroke-width:1px;fill-opacity:1;fill:#fff;stroke:#e5e5e5}.msgapi .vis-timeline .vis-icon-fill{fill-opacity:.3;stroke:none}.msgapi .vis-time-axis{position:relative;overflow:hidden}.msgapi .vis-time-axis.vis-foreground{top:0;left:0;width:100%}.msgapi .vis-time-axis.vis-background{position:absolute;top:0;left:0;width:100%;height:100%}.msgapi .vis-time-axis .vis-text{position:absolute;color:#4d4d4d;padding:3px;overflow:hidden;box-sizing:border-box;white-space:nowrap}.msgapi .vis-time-axis .vis-text.vis-measure{position:absolute;padding-left:0;padding-right:0;margin-left:0;margin-right:0;visibility:hidden}.msgapi .vis-time-axis .vis-grid.vis-vertical{position:absolute;border-left:1px solid}.msgapi .vis-time-axis .vis-grid.vis-vertical-rtl{position:absolute;border-right:1px solid}.msgapi .vis-time-axis .vis-grid.vis-minor{border-color:#e5e5e5}.msgapi .vis-time-axis .vis-grid.vis-major{border-color:#bfbfbf}.msgapi .vis-timeline{position:relative;border:1px solid #bfbfbf;overflow:hidden;padding:0;margin:0;box-sizing:border-box}',""])},function(t,e){t.exports={generic:!0,types:{"absolute-size":"xx-small | x-small | small | medium | large | x-large | xx-large","alpha-value":"<number> | <percentage>","angle-percentage":"<angle> | <percentage>","animateable-feature":"scroll-position | contents | <custom-ident>",attachment:"scroll | fixed | local","auto-repeat":"repeat( [ auto-fill | auto-fit ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","auto-track-list":"[ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>? <auto-repeat> [ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>?","basic-shape":"<inset()> | <circle()> | <ellipse()> | <polygon()>","bg-image":"none | <image>","bg-layer":"<bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box>{1,2}","bg-size":"[ <length-percentage> | auto ]{1,2} | cover | contain","blur()":"blur( <length> )","blend-mode":"normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity",box:"border-box | padding-box | content-box","br-style":"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset","br-width":"<length> | thin | medium | thick","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [ [ '+' | '-' ] <calc-product> ]*","calc-product":"<calc-value> [ '*' <calc-value> | '/' <number> ]*","calc-value":"<number> | <dimension> | <percentage> | ( <calc-sum> )","cf-final-image":"<image> | <color>","cf-mixing-image":"<percentage>? && <image>","circle()":"circle( [ <shape-radius> ]? [ at <position> ]? )","clip-source":"<url>",color:"<rgb()> | <rgba()> | <hsl()> | <hsla()> | <hex-color> | <named-color> | currentcolor | <deprecated-system-color>","color-stop":"<color> <length-percentage>?","color-stop-list":"<color-stop>#{2,}","common-lig-values":"[ common-ligatures | no-common-ligatures ]","composite-style":"clear | copy | source-over | source-in | source-out | source-atop | destination-over | destination-in | destination-out | destination-atop | xor","compositing-operator":"add | subtract | intersect | exclude","contextual-alt-values":"[ contextual | no-contextual ]","content-list":"[ <string> | contents | <url> | <quote> | <attr()> | counter( <ident> , <'list-style-type'>? ) ]+","content-replacement":"<image>","contrast()":"contrast( [ <number-percentage> ] )","counter-style":"<counter-style-name> | symbols()","counter-style-name":"<custom-ident>","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease | ease-in | ease-out | ease-in-out | cubic-bezier( <number> , <number> , <number> , <number> )","deprecated-system-color":"ActiveBorder | ActiveCaption | AppWorkspace | Background | ButtonFace | ButtonHighlight | ButtonShadow | ButtonText | CaptionText | GrayText | Highlight | HighlightText | InactiveBorder | InactiveCaption | InactiveCaptionText | InfoBackground | InfoText | Menu | MenuText | Scrollbar | ThreeDDarkShadow | ThreeDFace | ThreeDHighlight | ThreeDLightShadow | ThreeDShadow | Window | WindowFrame | WindowText","discretionary-lig-values":"[ discretionary-ligatures | no-discretionary-ligatures ]","display-box":"contents | none","display-inside":"flow | flow-root | table | flex | grid | subgrid | ruby","display-internal":"table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container","display-legacy":"inline-block | inline-list-item | inline-table | inline-flex | inline-grid","display-listitem":"list-item && <display-outside>? && [ flow | flow-root ]?","display-outside":"block | inline | run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ]","east-asian-width-values":"[ full-width | proportional-width ]","element()":"element( <id-selector> )","ellipse()":"ellipse( [ <shape-radius>{2} ]? [ at <position> ]? )","ending-shape":"circle | ellipse","explicit-track-list":"[ <line-names>? <track-size> ]+ <line-names>?","family-name":"<string> | <custom-ident>+","feature-tag-value":"<string> [ <integer> | on | off ]?","feature-value-name":"<custom-ident>","fill-rule":"nonzero | evenodd","filter-function":"<blur()> | <brightness()> | <contrast()> | <drop-shadow()> | <grayscale()> | <hue-rotate()> | <invert()> | <opacity()> | <sepia()> | <saturate()>","filter-function-list":"[ <filter-function> | <url> ]+","final-bg-layer":"<bg-image> || <position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box> || <'background-color'>","fit-content()":"fit-content( [ <length> | <percentage> ] )","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [ <positive-integer> ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","fixed-size":"<fixed-breadth> | minmax( <fixed-breadth> , <track-breadth> ) | minmax( <inflexible-breadth> , <fixed-breadth> )","font-variant-css21":"[ normal | small-caps ]","frames-timing-function":"frames( <integer> )","frequency-percentage":"<frequency> | <percentage>","generic-family":"serif | sans-serif | cursive | fantasy | monospace | -apple-system","generic-name":"serif | sans-serif | cursive | fantasy | monospace","geometry-box":"<shape-box> | fill-box | stroke-box | view-box",gradient:"<-legacy-gradient()> | <linear-gradient()> | <repeating-linear-gradient()> | <radial-gradient()> | <repeating-radial-gradient()>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto | <custom-ident> | [ <integer> && <custom-ident>? ] | [ span && [ <integer> || <custom-ident> ] ]","historical-lig-values":"[ historical-ligatures | no-historical-ligatures ]","hsl()":"hsl( [ <hue> <percentage> <percentage> [ / <alpha-value> ]? ] | [ <hue> , <percentage> , <percentage> , <alpha-value>? ] )","hsla()":"hsla( [ <hue> <percentage> <percentage> [ / <alpha-value> ]? ] | [ <hue> , <percentage> , <percentage> , <alpha-value>? ] )",hue:"<number> | <angle>","hue-rotate()":"hue-rotate( <angle> )",image:"<url> | <image()> | <image-set()> | <element()> | <cross-fade()> | <gradient>","image()":"image( [ [ <image> | <string> ]? , <color>? ]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[ <image> | <string> ] <resolution>","inflexible-breadth":"<length> | <percentage> | min-content | max-content | auto","inset()":"inset( <length-percentage>{1,4} [ round <'border-radius'> ]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident> | <string>","keyframe-selector":"from | to | <percentage>","leader()":"leader( <leader-type> )","leader-type":"dotted | solid | space | <string>","length-percentage":"<length> | <percentage>","line-names":"'[' <custom-ident>* ']'","line-name-list":"[ <line-names> | <name-repeat> ]+","linear-gradient()":"linear-gradient( [ <angle> | to <side-or-corner> ]? , <color-stop-list> )","mask-layer":"<mask-reference> || <position> [ / <bg-size> ]? || <repeat-style> || <geometry-box> || [ <geometry-box> | no-clip ] || <compositing-operator> || <masking-mode>","mask-position":"[ <length-percentage> | left | center | right ] [ <length-percentage> | top | center | bottom ]?","mask-reference":"none | <image> | <mask-source>","mask-source":"<url>","masking-mode":"alpha | luminance | match-source","matrix()":"matrix( <number> [, <number> ]{5} )","matrix3d()":"matrix3d( <number> [, <number> ]{15} )","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","minmax()":"minmax( [ <length> | <percentage> | <flex> | min-content | max-content | auto ] , [ <length> | <percentage> | <flex> | min-content | max-content | auto ] )","named-color":"transparent | aliceblue | antiquewhite | aqua | aquamarine | azure | beige | bisque | black | blanchedalmond | blue | blueviolet | brown | burlywood | cadetblue | chartreuse | chocolate | coral | cornflowerblue | cornsilk | crimson | cyan | darkblue | darkcyan | darkgoldenrod | darkgray | darkgreen | darkgrey | darkkhaki | darkmagenta | darkolivegreen | darkorange | darkorchid | darkred | darksalmon | darkseagreen | darkslateblue | darkslategray | darkslategrey | darkturquoise | darkviolet | deeppink | deepskyblue | dimgray | dimgrey | dodgerblue | firebrick | floralwhite | forestgreen | fuchsia | gainsboro | ghostwhite | gold | goldenrod | gray | green | greenyellow | grey | honeydew | hotpink | indianred | indigo | ivory | khaki | lavender | lavenderblush | lawngreen | lemonchiffon | lightblue | lightcoral | lightcyan | lightgoldenrodyellow | lightgray | lightgreen | lightgrey | lightpink | lightsalmon | lightseagreen | lightskyblue | lightslategray | lightslategrey | lightsteelblue | lightyellow | lime | limegreen | linen | magenta | maroon | mediumaquamarine | mediumblue | mediumorchid | mediumpurple | mediumseagreen | mediumslateblue | mediumspringgreen | mediumturquoise | mediumvioletred | midnightblue | mintcream | mistyrose | moccasin | navajowhite | navy | oldlace | olive | olivedrab | orange | orangered | orchid | palegoldenrod | palegreen | paleturquoise | palevioletred | papayawhip | peachpuff | peru | pink | plum | powderblue | purple | rebeccapurple | red | rosybrown | royalblue | saddlebrown | salmon | sandybrown | seagreen | seashell | sienna | silver | skyblue | slateblue | slategray | slategrey | snow | springgreen | steelblue | tan | teal | thistle | tomato | turquoise | violet | wheat | white | whitesmoke | yellow | yellowgreen | <-non-standart-color>","namespace-prefix":"<ident>","number-percentage":"<number> | <percentage>","numeric-figure-values":"[ lining-nums | oldstyle-nums ]","numeric-fraction-values":"[ diagonal-fractions | stacked-fractions ]","numeric-spacing-values":"[ proportional-nums | tabular-nums ]","opacity()":"opacity( [ <number-percentage> ] )","perspective()":"perspective( <length> )","polygon()":"polygon( <fill-rule>? , [ <length-percentage> <length-percentage> ]# )",position:"[ center && [ left | right | top | bottom ] <length-percentage>? ] | [ [ left | right ] <length-percentage>? ] && [ [ top | bottom ] <length-percentage>? ] | [ [ left | center | right | <length-percentage> ] || [ top | center | bottom | <length-percentage> ] ]",quote:"open-quote | close-quote | no-open-quote | no-close-quote","radial-gradient()":"radial-gradient( [ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list> )","relative-size":"larger | smaller","repeat-style":"repeat-x | repeat-y | [ repeat | space | round | no-repeat ]{1,2}","repeating-linear-gradient()":"repeating-linear-gradient( [ <angle> | to <side-or-corner> ]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list> )","rgb()":"rgb( [ [ <percentage>{3} | <number>{3} ] [ / <alpha-value> ]? ] | [ [ <percentage>#{3} | <number>#{3} ] , <alpha-value>? ] )","rgba()":"rgba( [ [ <percentage>{3} | <number>{3} ] [ / <alpha-value> ]? ] | [ [ <percentage>#{3} | <number>#{3} ] , <alpha-value>? ] )","rotate()":"rotate( <angle> )","rotate3d()":"rotate3d( <number> , <number> , <number> , <angle> )","rotateX()":"rotateX( <angle> )","rotateY()":"rotateY( <angle> )","rotateZ()":"rotateZ( <angle> )","saturate()":"saturate( <number-percentage> )","scale()":"scale( <number> [, <number> ]? )","scale3d()":"scale3d( <number> , <number> , <number> )","scaleX()":"scaleX( <number> )","scaleY()":"scaleY( <number> )","scaleZ()":"scaleZ( <number> )","shape-radius":"<length-percentage> | closest-side | farthest-side","skew()":"skew( <angle> [, <angle> ]? )","skewX()":"skewX( <angle> )","skewY()":"skewY( <angle> )","sepia()":"sepia( <number-percentage> )",shadow:"inset? && <length>{2,4} && <color>?","shadow-t":"[ <length>{2,3} && <color>? ]",shape:"rect( [ [ <top> , <right> , <bottom> , <left> ] | [ <top> <right> <bottom> <left> ] ] )","shape-box":"<box> | margin-box","side-or-corner":"[ left | right ] || [ top | bottom ]","single-animation":"<time> || <single-timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state> || [ none | <keyframes-name> ]","single-animation-direction":"normal | reverse | alternate | alternate-reverse","single-animation-fill-mode":"none | forwards | backwards | both","single-animation-iteration-count":"infinite | <number>","single-animation-play-state":"running | paused","single-timing-function":"linear | <cubic-bezier-timing-function> | <step-timing-function> | <frames-timing-function>","single-transition":"<single-transition-timing-function> || [ none | <single-transition-property> ] || <time> || <time>","single-transition-timing-function":"<single-timing-function>","single-transition-property":"all | <custom-ident>",size:"closest-side | farthest-side | closest-corner | farthest-corner | <length> | <length-percentage>{2}","step-timing-function":"step-start | step-end | steps( <integer> [, [ start | end ] ]? )",symbol:"<string> | <image> | <ident>",target:"<target-counter()> | <target-counters()> | <target-text()>","target-counter()":"target-counter( [ <string> | <url> ] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [ <string> | <url> ] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [ <string> | <url> ] , [ content | before | after | first-letter ]? )","time-percentage":"<time> | <percentage>","track-breadth":"<length-percentage> | <flex> | min-content | max-content | auto","track-list":"[ <line-names>? [ <track-size> | <track-repeat> ] ]+ <line-names>?","track-repeat":"repeat( [ <positive-integer> ] , [ <line-names>? <track-size> ]+ <line-names>? )","track-size":"<track-breadth> | minmax( <inflexible-breadth> , <track-breadth> ) | fit-content( [ <length> | <percentage> ] )","transform-function":"[ <matrix()> || <translate()> || <translateX()> || <translateY()> || <scale()> || <scaleX()> || <scaleY()> || <rotate()> || <skew()> || <skewX()> || <skewY()> || <matrix3d()> || <translate3d()> || <translateZ()> || <scale3d()> || <scaleZ()> || <rotate3d()> || <rotateX()> || <rotateY()> || <rotateZ()> || <perspective()> ]+","transform-list":"<transform-function>+","translate()":"translate( <length-percentage> [, <length-percentage> ]? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string | integer | color | url | integer | number | length | angle | time | frequency | em | ex | px | rem | vw | vh | vmin | vmax | mm | q | cm | in | pt | pc | deg | grad | rad | ms | s | Hz | kHz | %","viewport-length":"auto | <length-percentage>",
"-legacy-gradient()":"<-webkit-gradient()> | <-legacy-linear-gradient()> | <-legacy-repeating-linear-gradient()> | <-legacy-radial-gradient()> | <-legacy-repeating-radial-gradient()>","-legacy-linear-gradient()":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> ) | -ms-linear-gradient( <-legacy-linear-gradient-arguments> ) | -webkit-linear-gradient( <-legacy-linear-gradient-arguments> ) | -o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient()":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> ) | -ms-repeating-linear-gradient( <-legacy-linear-gradient-arguments> ) | -webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> ) | -o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[ <angle> | <side-or-corner> ]? , <color-stop-list>","-legacy-radial-gradient()":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> ) | -ms-radial-gradient( <-legacy-radial-gradient-arguments> ) | -webkit-radial-gradient( <-legacy-radial-gradient-arguments> ) | -o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient()":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> ) | -ms-repeating-radial-gradient( <-legacy-radial-gradient-arguments> ) | -webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> ) | -o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[ <position> , ]? [ [ [ <-legacy-radial-gradient-shape> || <-legacy-radial-gradient-size> ] | [ <length> | <percentage> ]{2} ] , ]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side | closest-corner | farthest-side | farthest-corner | contain | cover","-legacy-radial-gradient-shape":"circle | ellipse","-non-standart-font":"-apple-system-body | -apple-system-headline | -apple-system-subheadline | -apple-system-caption1 | -apple-system-caption2 | -apple-system-footnote | -apple-system-short-body | -apple-system-short-headline | -apple-system-short-subheadline | -apple-system-short-caption1 | -apple-system-short-footnote | -apple-system-tall-body","-non-standart-color":"-moz-ButtonDefault | -moz-ButtonHoverFace | -moz-ButtonHoverText | -moz-CellHighlight | -moz-CellHighlightText | -moz-Combobox | -moz-ComboboxText | -moz-Dialog | -moz-DialogText | -moz-dragtargetzone | -moz-EvenTreeRow | -moz-Field | -moz-FieldText | -moz-html-CellHighlight | -moz-html-CellHighlightText | -moz-mac-accentdarkestshadow | -moz-mac-accentdarkshadow | -moz-mac-accentface | -moz-mac-accentlightesthighlight | -moz-mac-accentlightshadow | -moz-mac-accentregularhighlight | -moz-mac-accentregularshadow | -moz-mac-chrome-active | -moz-mac-chrome-inactive | -moz-mac-focusring | -moz-mac-menuselect | -moz-mac-menushadow | -moz-mac-menutextselect | -moz-MenuHover | -moz-MenuHoverText | -moz-MenuBarText | -moz-MenuBarHoverText | -moz-nativehyperlinktext | -moz-OddTreeRow | -moz-win-communicationstext | -moz-win-mediatext | -moz-activehyperlinktext | -moz-default-background-color | -moz-default-color | -moz-hyperlinktext | -moz-visitedhyperlinktext | -webkit-activelink | -webkit-focus-ring-color | -webkit-link | -webkit-text","-non-standart-image-rendering":"optimize-contrast | -moz-crisp-edges | -o-crisp-edges | -webkit-optimize-contrast","-non-standart-width":"min-intrinsic | intrinsic | -moz-min-content | -moz-max-content | -webkit-min-content | -webkit-max-content","-non-standart-word-break":"break-word","-webkit-image-set()":"<image-set()>","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [ , <-webkit-gradient-point> | , <-webkit-gradient-radius> , <-webkit-gradient-point> ] [, <-webkit-gradient-radius> ]? [, <-webkit-gradient-color-stop()> ]* )","-webkit-gradient-color-stop()":"from( <color> ) | color-stop( [ <number-zero-one> | <percentage> ] , <color> ) | to( <color> )","-webkit-gradient-point":"[ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ]","-webkit-gradient-radius":"<length> | <percentage>","-webkit-gradient-type":"linear | radial","-webkit-mask-box-repeat":"repeat | stretch | round","-webkit-mask-clip-style":"border | border-box | padding | padding-box | content | content-box | text","-ms-filter":"[ <progid> | FlipH | FlipV ]+",age:"child | young | old","border-radius":"<length-percentage>{1,2}",bottom:"<length> | auto","generic-voice":"[ <age>? <gender> <integer>? ]",gender:"male | female | neutral",left:"<length> | auto","mask-image":"<mask-reference>#","name-repeat":"repeat( [ <positive-integer> | auto-fill ] , <line-names>+ )","outline-radius":"<border-radius>",paint:"none | currentColor | <color> | <url> [ none | currentColor | <color> ]?","path()":"path( <string> )",right:"<length> | auto","svg-length":"<percentage> | <length> | <number>","svg-writing-mode":"lr-tb | rl-tb | tb-rl | lr | rl | tb",top:"<length> | auto",x:"<number>",y:"<number>"},properties:{"-ms-overflow-style":"auto | none | scrollbar | -ms-autohiding-scrollbar","-moz-appearance":"none | button | button-arrow-down | button-arrow-next | button-arrow-previous | button-arrow-up | button-bevel | button-focus | caret | checkbox | checkbox-container | checkbox-label | checkmenuitem | dualbutton | groupbox | listbox | listitem | menuarrow | menubar | menucheckbox | menuimage | menuitem | menuitemtext | menulist | menulist-button | menulist-text | menulist-textfield | menupopup | menuradio | menuseparator | meterbar | meterchunk | progressbar | progressbar-vertical | progresschunk | progresschunk-vertical | radio | radio-container | radio-label | radiomenuitem | range | range-thumb | resizer | resizerpanel | scale-horizontal | scalethumbend | scalethumb-horizontal | scalethumbstart | scalethumbtick | scalethumb-vertical | scale-vertical | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | separator | sheet | spinner | spinner-downbutton | spinner-textfield | spinner-upbutton | splitter | statusbar | statusbarpanel | tab | tabpanel | tabpanels | tab-scroll-arrow-back | tab-scroll-arrow-forward | textfield | textfield-multiline | toolbar | toolbarbutton | toolbarbutton-dropdown | toolbargripper | toolbox | tooltip | treeheader | treeheadercell | treeheadersortarrow | treeitem | treeline | treetwisty | treetwistyopen | treeview | -moz-mac-unified-toolbar | -moz-win-borderless-glass | -moz-win-browsertabbar-toolbox | -moz-win-communicationstext | -moz-win-communications-toolbox | -moz-win-exclude-glass | -moz-win-glass | -moz-win-mediatext | -moz-win-media-toolbox | -moz-window-button-box | -moz-window-button-box-maximized | -moz-window-button-close | -moz-window-button-maximize | -moz-window-button-minimize | -moz-window-button-restore | -moz-window-frame-bottom | -moz-window-frame-left | -moz-window-frame-right | -moz-window-titlebar | -moz-window-titlebar-maximized","-moz-binding":"<url> | none","-moz-border-bottom-colors":"[ <color> ]* <color> | none","-moz-border-left-colors":"[ <color> ]* <color> | none","-moz-border-right-colors":"[ <color> ]* <color> | none","-moz-border-top-colors":"[ <color> ]* <color> | none","-moz-context-properties":"none | [ fill | fill-opacity | stroke | stroke-opacity ]#","-moz-float-edge":"border-box | content-box | margin-box | padding-box","-moz-force-broken-image-icon":"<integer>","-moz-image-region":"<shape> | auto","-moz-orient":"inline | block | horizontal | vertical","-moz-outline-radius":"<outline-radius>{1,4} [ / <outline-radius>{1,4} ]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore | stretch-to-fit","-moz-text-blink":"none | blink","-moz-user-focus":"ignore | normal | select-after | select-before | select-menu | select-same | select-all | none","-moz-user-input":"auto | none | enabled | disabled","-moz-user-modify":"read-only | read-write | write-only","-moz-window-shadow":"default | menu | tooltip | sheet | none","-webkit-border-before":"<'border-width'> || <'border-style'> || <'color'>","-webkit-border-before-color":"<'color'>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[ above | below | right | left ]? <length>? <image>?","-webkit-mask":"<mask-image> [ <'-webkit-mask-repeat'> || <'-webkit-mask-attachment'> || <'-webkit-mask-position'> || <'-webkit-mask-origin'> || <'-webkit-mask-clip'> ]*","-webkit-mask-attachment":"<attachment> [, <attachment> ]*","-webkit-mask-clip":"<-webkit-mask-clip-style> [, <-webkit-mask-clip-style> ]*","-webkit-mask-composite":"<composite-style> [, <composite-style> ]*","-webkit-mask-image":"<mask-image> [, <mask-image> ]*","-webkit-mask-origin":"[ padding | border | content ] [, [ border | padding | content ] ]*","-webkit-mask-position":"<mask-position>#","-webkit-mask-position-x":"[ <length-percentage> | left | center | right ]#","-webkit-mask-position-y":"[ <length-percentage> | top | center | bottom ]#","-webkit-mask-repeat":"<repeat-style> [, <repeat-style> ]*","-webkit-mask-repeat-x":"repeat | no-repeat | space | round","-webkit-mask-repeat-y":"repeat | no-repeat | space | round","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length> || <color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default | none","align-content":"flex-start | flex-end | center | space-between | space-around | space-evenly | stretch","align-items":"flex-start | flex-end | center | baseline | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch",all:"initial | inherit | unset",animation:"<single-animation>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[ none | <keyframes-name> ]#","animation-play-state":"<single-animation-play-state>#","animation-timing-function":"<single-timing-function>#",appearance:"auto | none",azimuth:"<angle> | [ [ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards","backdrop-filter":"none | <filter-function-list>","backface-visibility":"visible | hidden",background:"[ <bg-layer> , ]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<box>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<position>#","background-position-x":"[ center | [ left | right | x-start | x-end ]? <length-percentage>? ]#","background-position-y":"[ center | [ top | bottom | y-start | y-end ]? <length-percentage>? ]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-size":"<'width'>",border:"<br-width> || <br-style> || <color>","border-block-end":"<'border-width'> || <'border-style'> || <'color'>","border-block-end-color":"<'color'>","border-block-end-style":"<'border-style'>","border-block-end-width":"<'border-width'>","border-block-start":"<'border-width'> || <'border-style'> || <'color'>","border-block-start-color":"<'color'>","border-block-start-style":"<'border-style'>","border-block-start-width":"<'border-width'>","border-bottom":"<br-width> || <br-style> || <color>","border-bottom-color":"<color>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<br-style>","border-bottom-width":"<br-width>","border-collapse":"collapse | separate","border-color":"<color>{1,4}","border-image":"<'border-image-source'> || <'border-image-slice'> [ / <'border-image-width'> | / <'border-image-width'>? / <'border-image-outset'> ]? || <'border-image-repeat'>","border-image-outset":"[ <length> | <number> ]{1,4}","border-image-repeat":"[ stretch | repeat | round | space ]{1,2}","border-image-slice":"<number-percentage>{1,4} && fill?","border-image-source":"none | <image>","border-image-width":"[ <length-percentage> | <number> | auto ]{1,4}","border-inline-end":"<'border-width'> || <'border-style'> || <'color'>","border-inline-end-color":"<'color'>","border-inline-end-style":"<'border-style'>","border-inline-end-width":"<'border-width'>","border-inline-start":"<'border-width'> || <'border-style'> || <'color'>","border-inline-start-color":"<'color'>","border-inline-start-style":"<'border-style'>","border-inline-start-width":"<'border-width'>","border-left":"<br-width> || <br-style> || <color>","border-left-color":"<color>","border-left-style":"<br-style>","border-left-width":"<br-width>","border-radius":"<length-percentage>{1,4} [ / <length-percentage>{1,4} ]?","border-right":"<br-width> || <br-style> || <color>","border-right-color":"<color>","border-right-style":"<br-style>","border-right-width":"<br-width>","border-spacing":"<length> <length>?","border-style":"<br-style>{1,4}","border-top":"<br-width> || <br-style> || <color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<br-style>","border-top-width":"<br-width>","border-width":"<br-width>{1,4}",bottom:"<length> | <percentage> | auto","box-align":"start | center | end | baseline | stretch","box-decoration-break":"slice | clone","box-direction":"normal | reverse | inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single | multiple","box-ordinal-group":"<integer>","box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","box-pack":"start | center | end | justify","box-shadow":"none | <shadow>#","box-sizing":"content-box | border-box","break-after":"auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region","break-before":"auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region","break-inside":"auto | avoid | avoid-page | avoid-column | avoid-region","caption-side":"top | bottom | block-start | block-end | inline-start | inline-end","caret-color":"auto | <color>",clear:"none | left | right | both | inline-start | inline-end",clip:"<shape> | auto","clip-path":"<clip-source> | [ <basic-shape> || <geometry-box> ] | none",color:"<color>","column-count":"<number> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<'column-rule-width'> || <'column-rule-style'> || <'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<br-style>","column-rule-width":"<br-width>","column-span":"none | all","column-width":"<length> | auto",columns:"<'column-width'> || <'column-count'>",contain:"none | strict | content | [ size || layout || style || paint ]",content:"normal | none | [ <content-replacement> | <content-list> ] [ / <string> ]?","counter-increment":"[ <custom-ident> <integer>? ]+ | none","counter-reset":"[ <custom-ident> <integer>? ]+ | none",cursor:"[ [ <url> [ <x> <y> ]? , ]* [ auto | default | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out | grab | grabbing | hand | -webkit-grab | -webkit-grabbing | -webkit-zoom-in | -webkit-zoom-out | -moz-grab | -moz-grabbing | -moz-zoom-in | -moz-zoom-out ] ]",direction:"ltr | rtl",display:"none | inline | block | list-item | inline-list-item | inline-block | inline-table | table | table-cell | table-column | table-column-group | table-footer-group | table-header-group | table-row | table-row-group | flex | inline-flex | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents | -ms-flexbox | -ms-inline-flexbox | -ms-grid | -ms-inline-grid | -webkit-flex | -webkit-inline-flex | -webkit-box | -webkit-inline-box | -moz-inline-stack | -moz-box | -moz-inline-box","display-inside":"auto | block | table | flex | grid | ruby","display-list":"none | list-item","display-outside":"block-level | inline-level | run-in | contents | none | table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container","empty-cells":"show | hide",filter:"none | <filter-function-list> | <-ms-filter>",flex:"none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]","flex-basis":"content | <'width'>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<'flex-direction'> || <'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse",float:"left | right | none | inline-start | inline-end",font:"[ [ <'font-style'> || <font-variant-css21> || <'font-weight'> || <'font-stretch'> ]? <'font-size'> [ / <'line-height'> ]? <'font-family'> ] | caption | icon | menu | message-box | small-caption | status-bar | <-non-standart-font>","font-family":"[ <family-name> | <generic-family> ]#","font-feature-settings":"normal | <feature-tag-value>#","font-kerning":"auto | normal | none","font-language-override":"normal | <string>","font-variation-settings":"normal | [ <string> <number> ]#","font-size":"<absolute-size> | <relative-size> | <length-percentage>","font-size-adjust":"none | <number>","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded","font-style":"normal | italic | oblique","font-synthesis":"none | [ weight || style ]","font-variant":"normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> || stylistic( <feature-value-name> ) || historical-forms || styleset( <feature-value-name># ) || character-variant( <feature-value-name># ) || swash( <feature-value-name> ) || ornaments( <feature-value-name> ) || annotation( <feature-value-name> ) || [ small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps ] || <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero || <east-asian-variant-values> || <east-asian-width-values> || ruby ]","font-variant-alternates":"normal | [ stylistic( <feature-value-name> ) || historical-forms || styleset( <feature-value-name># ) || character-variant( <feature-value-name># ) || swash( <feature-value-name> ) || ornaments( <feature-value-name> ) || annotation( <feature-value-name> ) ]","font-variant-caps":"normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps","font-variant-east-asian":"normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ]","font-variant-ligatures":"normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> ]","font-variant-numeric":"normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]","font-variant-position":"normal | sub | super","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900",grid:"<'grid-template'> | <'grid-template-rows'> / [ auto-flow && dense? ] <'grid-auto-columns'>? | [ auto-flow && dense? ] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [ / <grid-line> ]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[ row | column ] || dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [ / <grid-line> ]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [ / <grid-line> ]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none | [ <'grid-template-rows'> / <'grid-template-columns'> ] | [ <line-names>? <string> <track-size>? <line-names>? ]+ [ / <explicit-track-list> ]?","grid-template-areas":"none | <string>+","grid-template-columns":"none | <track-list> | <auto-track-list>","grid-template-rows":"none | <track-list> | <auto-track-list>",height:"[ <length> | <percentage> ] && [ border-box | content-box ]? | available | min-content | max-content | fit-content | auto",hyphens:"none | manual | auto","image-orientation":"from-image | <angle> | [ <angle>? flip ]","image-rendering":"auto | crisp-edges | pixelated | optimizeSpeed | optimizeQuality | <-non-standart-image-rendering>","image-resolution":"[ from-image || <resolution> ] && snap?","ime-mode":"auto | normal | active | inactive | disabled","initial-letter":"normal | [ <number> <integer>? ]","initial-letter-align":"[ auto | alphabetic | hanging | ideographic ]","inline-size":"<'width'>",isolation:"auto | isolate","justify-content":"flex-start | flex-end | center | space-between | space-around | space-evenly",left:"<length> | <percentage> | auto","letter-spacing":"normal | <length-percentage>","line-break":"auto | loose | normal | strict","line-height":"normal | <number> | <length> | <percentage>","list-style":"<'list-style-type'> || <'list-style-position'> || <'list-style-image'>","list-style-image":"<url> | none","list-style-position":"inside | outside","list-style-type":"<counter-style> | <string> | none",margin:"[ <length> | <percentage> | auto ]{1,4}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length> | <percentage> | auto","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length> | <percentage> | auto","margin-right":"<length> | <percentage> | auto","margin-top":"<length> | <percentage> | auto","marker-offset":"<length> | auto",mask:"<mask-layer>#","mask-clip":"[ <geometry-box> | no-clip ]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance | alpha","max-block-size":"<'max-width'>","max-height":"<length> | <percentage> | none | max-content | min-content | fit-content | fill-available","max-inline-size":"<'max-width'>","max-width":"<length> | <percentage> | none | max-content | min-content | fit-content | fill-available | <-non-standart-width>","min-block-size":"<'min-width'>","min-height":"<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available","min-inline-size":"<'min-width'>","min-width":"<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available | <-non-standart-width>","mix-blend-mode":"<blend-mode>","object-fit":"fill | contain | cover | none | scale-down","object-position":"<position>",offset:"[ <'offset-position'>? [ <'offset-path'> [ <'offset-distance'> || <'offset-rotate'> ]? ]? ]! [ / <'offset-anchor'> ]?","offset-anchor":"auto | <position>","offset-block-end":"<'left'>","offset-block-start":"<'left'>","offset-inline-end":"<'left'>","offset-inline-start":"<'left'>","offset-distance":"<length-percentage>","offset-path":"none | ray( [ <angle> && <size>? && contain? ] ) | <path()> | <url> | [ <basic-shape> || <geometry-box> ]","offset-position":"auto | <position>","offset-rotate":"[ auto | reverse ] || <angle>",opacity:"<number-zero-one>",order:"<integer>",orphans:"<integer>",outline:"[ <'outline-color'> || <'outline-style'> || <'outline-width'> ]","outline-color":"<color> | invert","outline-offset":"<length>","outline-style":"auto | <br-style>","outline-width":"<br-width>",overflow:"visible | hidden | scroll | auto","overflow-clip-box":"padding-box | content-box","overflow-wrap":"normal | break-word","overflow-x":"visible | hidden | scroll | auto","overflow-y":"visible | hidden | scroll | auto",padding:"[ <length> | <percentage> ]{1,4}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length> | <percentage>","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length> | <percentage>","padding-right":"<length> | <percentage>","padding-top":"<length> | <percentage>","page-break-after":"auto | always | avoid | left | right","page-break-before":"auto | always | avoid | left | right","page-break-inside":"auto | avoid",perspective:"none | <length>","perspective-origin":"<position>","pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | sticky | fixed | -webkit-sticky",quotes:"none | [ <string> <string> ]+",resize:"none | both | horizontal | vertical",right:"<length> | <percentage> | auto","ruby-align":"start | center | space-between | space-around","ruby-merge":"separate | collapse | auto","ruby-position":"over | under | inter-character","scroll-behavior":"auto | smooth","scroll-snap-coordinate":"none | <position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none | repeat( <length-percentage> )","scroll-snap-points-y":"none | repeat( <length-percentage> )","scroll-snap-type":"none | mandatory | proximity","scroll-snap-type-x":"none | mandatory | proximity","scroll-snap-type-y":"none | mandatory | proximity","shape-image-threshold":"<number>","shape-margin":"<length-percentage>","shape-outside":"none | <shape-box> || <basic-shape> | <image>","tab-size":"<integer> | <length>","table-layout":"auto | fixed","text-align":"start | end | left | right | center | justify | match-parent","text-align-last":"auto | start | end | left | right | center | justify","text-combine-upright":"none | all | [ digits <integer>? ]","text-decoration":"<'text-decoration-line'> || <'text-decoration-style'> || <'text-decoration-color'>","text-decoration-color":"<color>","text-decoration-line":"none | [ underline || overline || line-through || blink ]","text-decoration-skip":"none | [ objects || spaces || ink || edges || box-decoration ]","text-decoration-style":"solid | double | dotted | dashed | wavy","text-emphasis":"<'text-emphasis-style'> || <'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[ over | under ] && [ right | left ]","text-emphasis-style":"none | [ [ filled | open ] || [ dot | circle | double-circle | triangle | sesame ] ] | <string>","text-indent":"<length-percentage> && hanging? && each-line?","text-justify":"auto | inter-character | inter-word | none","text-orientation":"mixed | upright | sideways","text-overflow":"[ clip | ellipsis | <string> ]{1,2}","text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision","text-shadow":"none | <shadow-t>#","text-size-adjust":"none | auto | <percentage>","text-transform":"none | capitalize | uppercase | lowercase | full-width","text-underline-position":"auto | [ under || [ left | right ] ]",top:"<length> | <percentage> | auto","touch-action":"auto | none | [ [ pan-x | pan-left | pan-right ] || [ pan-y | pan-up | pan-down ] || pinch-zoom ] | manipulation",transform:"none | <transform-list>","transform-box":"border-box | fill-box | view-box","transform-origin":"[ [ <length-percentage> | left | center | right ] && [ <length-percentage> | top | center | bottom ] ] <length>? | [ <length-percentage> | left | center | right | top | bottom ]","transform-style":"flat | preserve-3d",transition:"<single-transition>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none | <single-transition-property>#","transition-timing-function":"<single-transition-timing-function>#","unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | -moz-isolate | -moz-isolate-override | -moz-plaintext | -webkit-isolate","user-select":"auto | text | none | contain | all","vertical-align":"baseline | sub | super | text-top | text-bottom | middle | top | bottom | <percentage> | <length>",visibility:"visible | hidden | collapse","white-space":"normal | pre | nowrap | pre-wrap | pre-line",widows:"<integer>",width:"[ <length> | <percentage> ] && [ border-box | content-box ]? | available | min-content | max-content | fit-content | auto","will-change":"auto | <animateable-feature>#","word-break":"normal | break-all | keep-all | <-non-standart-word-break>","word-spacing":"normal | <length-percentage>","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | sideways-rl | sideways-lr | <svg-writing-mode>","z-index":"auto | <integer>","-moz-background-clip":"padding | border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-osx-font-smoothing":"auto | unset | grayscale","-moz-user-select":"none | text | all | -moz-none","-ms-filter":"<string>","-ms-flex-align":"start | end | center | baseline | stretch","-ms-flex-item-align":"auto | start | end | center | baseline | stretch","-ms-flex-line-pack":"start | end | center | justify | distribute | stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start | end | center | justify | distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor | bicubic","-ms-grid-column-align":"start | end | center | stretch","-ms-grid-row-align":"start | end | center | stretch","-ms-high-contrast-adjust":"auto | none","-ms-user-select":"none | element | text","-webkit-appearance":"none | button | button-bevel | caps-lock-indicator | caret | checkbox | default-button | listbox | listitem | media-fullscreen-button | media-mute-button | media-play-button | media-seek-back-button | media-seek-forward-button | media-slider | media-sliderthumb | menulist | menulist-button | menulist-text | menulist-textfield | push-button | radio | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbargripper-horizontal | scrollbargripper-vertical | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | searchfield-cancel-button | searchfield-decoration | searchfield-results-button | searchfield-results-decoration | slider-horizontal | slider-vertical | sliderthumb-horizontal | sliderthumb-vertical | square-button | textarea | textfield","-webkit-background-clip":"[ <box> | border | padding | content | text ]#","-webkit-column-break-after":"always | auto | avoid","-webkit-column-break-before":"always | auto | avoid","-webkit-column-break-inside":"always | auto | avoid","-webkit-font-smoothing":"none | antialiased | subpixel-antialiased","-webkit-line-clamp":"<positive-integer>","-webkit-mask-box-image":"[ <url> | <gradient> | none ] [ <length-percentage>{4} <-webkit-mask-box-repeat>{2} ]?","-webkit-overflow-scrolling":"auto | touch","-webkit-print-color-adjust":"economy | exact","-webkit-text-security":"none | circle | disc | square","-webkit-user-drag":"none | element | auto","-webkit-user-select":"auto | none | text | all",
"alignment-baseline":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical","baseline-shift":"baseline | sub | super | <svg-length>",behavior:"<url>+","clip-rule":"nonzero | evenodd",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>? | none","cue-before":"<url> <decibel>? | none","dominant-baseline":"auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero | evenodd","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto | <svg-length>",marker:"none | <url>","marker-end":"none | <url>","marker-mid":"none | <url>","marker-start":"none | <url>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time> | none | x-weak | weak | medium | strong | x-strong","pause-before":"<time> | none | x-weak | weak | medium | strong | x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time> | none | x-weak | weak | medium | strong | x-strong","rest-before":"<time> | none | x-weak | weak | medium | strong | x-strong","shape-rendering":"auto | optimizeSpeed | crispEdges | geometricPrecision",src:"[ <url> format( <string># )? | local( <family-name> ) ]#",speak:"auto | none | normal","speak-as":"normal | spell-out || digits || [ literal-punctuation | no-punctuation ]",stroke:"<paint>","stroke-dasharray":"none | [ <svg-length>+ ]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt | round | square","stroke-linejoin":"miter | round | bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","text-anchor":"start | middle | end","unicode-range":"<unicode-range>#","voice-balance":"<number> | left | center | right | leftwards | rightwards","voice-duration":"auto | <time>","voice-family":"[ [ <family-name> | <generic-voice> ] , ]* [ <family-name> | <generic-voice> ] | preserve","voice-pitch":"<frequency> && absolute | [ [ x-low | low | medium | high | x-high ] || [ <frequency> | <semitones> | <percentage> ] ]","voice-range":"<frequency> && absolute | [ [ x-low | low | medium | high | x-high ] || [ <frequency> | <semitones> | <percentage> ] ]","voice-rate":"[ normal | x-slow | slow | medium | fast | x-fast ] || <percentage>","voice-stress":"normal | strong | moderate | none | reduced","voice-volume":"silent | [ [ x-soft | soft | medium | loud | x-loud ] || <decibel> ]",zoom:"normal | reset | <number> | <percentage>"}}},function(t,e,n){var i=n(2160);t.exports=function(t){var e=t.walk,n=t.walkUp;return{fromPlainObject:function(t){return e(t,function(t){t.children&&t.children instanceof i==!1&&(t.children=(new i).fromArray(t.children))}),t},toPlainObject:function(t){return n(t,function(t){t.children&&t.children instanceof i&&(t.children=t.children.toArray())}),t}}}},function(t,e,n){"use strict";function i(t,e){for(var n=e.children,i=n.head;null!==i;)this.generate(t,i.data,i,n),i=i.next}function r(t,e){for(var n=e.children,i=n.head;null!==i;)i.prev&&t(","),this.generate(t,i.data,i,n),i=i.next}function o(t){var e={generate:function(e,n,i,r){if(!u.call(t,n.type))throw new Error("Unknown node type: "+n.type);t[n.type].call(this,e,n,i,r)},each:i,eachComma:r};return function(t,n){if("function"!=typeof n){var i=[];return e.generate(function(t){i.push(t)},t),i.join("")}e.generate(n,t)}}function a(t){var e={generate:function(e,n,i,r){if(!u.call(t,n.type))throw new Error("Unknown node type: "+n.type);var o=[];t[n.type].call(this,function(t){o.push(t)},n,i,r),e({node:n,value:o})},each:i,eachComma:r};return function(t,n,i){function r(t,e){var o=t.value;if(n(t.node,e,o),"string"==typeof o)e+=o;else for(var a=0;a<o.length;a++)"string"==typeof o[a]?e+=o[a]:e=r(o[a],e);return i(t.node,e,o),e}"function"!=typeof n&&(n=c),"function"!=typeof i&&(i=c);var o=[];return e.generate(function(){o.push.apply(o,arguments)},t),r(o[0],"")}}function s(t){var e={};if(t.node)for(var n in t.node){var i=t.node[n];e[n]=i.generate}return e}var l=n(2508),u=Object.prototype.hasOwnProperty,c=function(){};t.exports=function(t){var e=s(t),n=a(e);return{translate:o(e),translateWithSourceMap:function(t){return l(n,t)},translateMarkup:n}},t.exports.createGenerator=o,t.exports.createMarkupGenerator=a,t.exports.sourceMap=n(2508)},function(t,e,n){"use strict";t.exports=n(2837)},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)t[i].syntax&&(n[i]=e?t[i].syntax:g(t[i].syntax));return n}function r(t){return t&&t.data}function o(t){var e=!1;return this.syntax.walk(t,function(t){"Function"===t.type&&"var"===t.name.toLowerCase()&&(e=!0)}),e}function a(t){return"Identifier"===t.type&&/^\\[09]/.test(t.name)}function s(t){for(;null!==t;){if("WhiteSpace"!==t.data.type&&"Comment"!==t.data.type&&!a(t.data))return!1;t=t.next}return!0}function l(t,e){return{matched:t,error:e,getTrace:v.getTrace,isType:v.isType,isProperty:v.isProperty,isKeyword:v.isKeyword}}function u(t,e,n){var i;return n&&"Value"===n.type?o.call(t,n)?l(null,new Error("Matching for a value with var() is not supported")):(i=y(t,t.valueCommonSyntax,n.children.head),i.match||(i=e.match(n.children.head),i.match)?("ASTNode"===i.match.type?i.match={syntax:{type:e.type,name:e.name},match:[i.match]}:"Group"===i.match.syntax.type&&(i.match.syntax={type:e.type,name:e.name}),i.next&&!s(i.next)?l(null,new h("Uncomplete match",t,e.syntax,n,i.badNode||r(i.next)||n)):l(i.match,null)):l(null,new h("Mismatch",t,e.syntax,n,i.badNode||r(i.next)||n))):l(null,new Error("Not a Value node"))}var c=n(2509).SyntaxReferenceError,h=n(2509).MatchError,p=n(2237),d=n(2816),f=n(2511),g=n(2276),m=n(2512),y=n(2818),v=n(2821),b=n(2819),w=n(2820).getStructureFromConfig,x=f("inherit | initial | unset"),_=f("inherit | initial | unset | <expression>"),E=function(t,e,n){if(this.valueCommonSyntax=x,this.syntax=e,this.generic=!1,this.properties={},this.types={},this.structure=n||w(t),t){if(t.generic){this.generic=!0;for(var i in d)this.addType_(i,d[i])}if(t.types)for(var i in t.types)this.addType_(i,t.types[i]);if(t.properties)for(var i in t.properties)this.addProperty_(i,t.properties[i])}};E.prototype={structure:{},checkStructure:function(t){function e(t,e){i.push({node:t,message:e})}var n=this.structure,i=[];return this.syntax.walk(t,function(t){n.hasOwnProperty(t.type)?n[t.type].check(t,e):e(t,"Unknown node type `"+t.type+"`")}),!!i.length&&i},createDescriptor:function(t,e,n){var i=this,r={type:e,name:n,syntax:null,match:null};return"function"==typeof t?(t={type:"ASTNode",match:t},r.match=function(e){return y(i,t,e)}):("string"==typeof t?Object.defineProperty(r,"syntax",{get:function(){return Object.defineProperty(r,"syntax",{value:f(t)}),r.syntax}}):r.syntax=t,r.match=function(t){return y(i,r.syntax,t)}),r},addProperty_:function(t,e){this.properties[t]=this.createDescriptor(e,"Property",t)},addType_:function(t,e){this.types[t]=this.createDescriptor(e,"Type",t),e===d.expression&&(this.valueCommonSyntax=_)},matchDeclaration:function(t){return"Declaration"!==t.type?l(null,new Error("Not a Declaration node")):this.matchProperty(t.property,t.value)},matchProperty:function(t,e){var n=p.property(t);if(n.custom)return l(null,new Error("Lexer matching doesn't applicable for custom properties"));var i=n.vendor?this.getProperty(n.vendor+n.name)||this.getProperty(n.name):this.getProperty(n.name);return i?u(this,i,e):l(null,new c("Unknown property",t))},matchType:function(t,e){var n=this.getType(t);return n?u(this,n,e):l(null,new c("Unknown type",t))},findValueFragments:function(t,e,n,i){return b.matchFragments(this,e,this.matchProperty(t,e),n,i)},findDeclarationValueFragments:function(t,e,n){return b.matchFragments(this,t.value,this.matchDeclaration(t),e,n)},findAllFragments:function(t,e,n){var i=[];return this.syntax.walkDeclarations(t,function(t){i.push.apply(i,this.findDeclarationValueFragments(t,e,n))}.bind(this)),i},getProperty:function(t){return this.properties.hasOwnProperty(t)?this.properties[t]:null},getType:function(t){return this.types.hasOwnProperty(t)?this.types[t]:null},validate:function(){function t(i,r,o,a){if(o.hasOwnProperty(r))return o[r];o[r]=!1,null!==a.syntax&&m(a.syntax,function(a){if("Type"===a.type||"Property"===a.type){var s="Type"===a.type?i.types:i.properties,l="Type"===a.type?e:n;s.hasOwnProperty(a.name)&&!t(i,a.name,l,s[a.name])||(o[r]=!0)}},this)}var e={},n={};for(var i in this.types)t(this,i,e,this.types[i]);for(var i in this.properties)t(this,i,n,this.properties[i]);return e=Object.keys(e).filter(function(t){return e[t]}),n=Object.keys(n).filter(function(t){return n[t]}),e.length||n.length?{types:e,properties:n}:null},dump:function(t){return{generic:this.generic,types:i(this.types,t),properties:i(this.properties,t)}},toString:function(){return JSON.stringify(this.dump())}},t.exports=E},function(t,e,n){"use strict";function i(t){if("Function"!==t.data.type)return!1;var e=y.keyword(t.data.name);return"calc"===e.name&&(""===e.vendor||"-moz-"===e.vendor||"-webkit-"===e.vendor)}function r(t){return function(e){return e.data.type===t}}function o(t){return function(e){return i(e)||"Dimension"===e.data.type&&t.hasOwnProperty(e.data.unit.toLowerCase())}}function a(t){return function(e){return i(e)||"Dimension"===e.data.type&&t.hasOwnProperty(e.data.unit.toLowerCase())||"Number"===e.data.type&&0===Number(e.data.value)}}function s(t){return"Function"===t.data.type&&"attr"===t.data.name.toLowerCase()}function l(t){return i(t)||"Number"===t.data.type}function u(t){if(i(t)||"Number"===t.data.type){var e=Number(t.data.value);return e>=0&&e<=1}return!1}function c(t){return!(!i(t)&&"Number"!==t.data.type)&&Number(t.data.value)>=1}function h(t){return i(t)||"Number"===t.data.type&&-1===t.data.value.indexOf(".")}function p(t){return i(t)||"Number"===t.data.type&&-1===t.data.value.indexOf(".")&&"-"!==t.data.value.charAt(0)}function d(t){return i(t)||"Percentage"===t.data.type}function f(t){if("HexColor"!==t.data.type)return!1;var e=t.data.value;return/^[0-9a-fA-F]{3,8}$/.test(e)&&(3===e.length||4===e.length||6===e.length||8===e.length)}function g(t){return"Function"===t.data.type&&"expression"===t.data.name.toLowerCase()}function m(t){if("Identifier"!==t.data.type)return!1;var e=t.data.name.toLowerCase();return"unset"!==e&&"initial"!==e&&"inherit"!==e&&"default"!==e}var y=n(2237),v={px:!0,mm:!0,cm:!0,in:!0,pt:!0,pc:!0,q:!0,em:!0,ex:!0,ch:!0,rem:!0,vh:!0,vw:!0,vmin:!0,vmax:!0,vm:!0},b={deg:!0,grad:!0,rad:!0,turn:!0},w={s:!0,ms:!0},x={hz:!0,khz:!0},_={dpi:!0,dpcm:!0,dppx:!0,x:!0},E={fr:!0},S={db:!0},C={st:!0};t.exports={angle:a(b),"attr()":s,"custom-ident":m,decibel:o(S),dimension:r("Dimension"),frequency:o(x),flex:o(E),"hex-color":f,"id-selector":r("IdSelector"),ident:r("Identifier"),integer:h,length:a(v),number:l,"number-zero-one":u,"number-one-or-greater":c,percentage:d,"positive-integer":p,resolution:o(_),semitones:o(C),string:r("String"),time:o(w),"unicode-range":r("UnicodeRange"),url:r("Url"),progid:r("Raw"),expression:g}},function(t,e,n){t.exports={SyntaxParseError:n(2510).SyntaxParseError,parse:n(2511),translate:n(2276),walk:n(2512)}},function(t,e,n){"use strict";function i(t){for(;null!==t&&("WhiteSpace"===t.data.type||"Comment"===t.data.type);)t=t.next;return t}function r(t,e){"Group"===(e.type||e.syntax.type)?t.push.apply(t,e.match):t.push(e)}function o(){return{type:this.syntax.type,name:this.syntax.name,match:this.match,node:this.node}}function a(t,e,n,i){return t?{badNode:t,lastNode:null,next:null,match:null}:{badNode:null,lastNode:e,next:n,match:i}}function s(t,e,n){var s,u,h,p=[],d=e.multiplier||c,f=d.min,g=0===d.max?1/0:d.max,m=0,y=null,v=null;t:for(;m<g;){switch(n=i(n),s=[],e.combinator){case"|":for(var b=0;b<e.terms.length;b++){var w=e.terms[b],x=l(t,w,n);if(x.match){r(s,x.match),n=x.next;break}if(x.badNode){v=x.badNode;break t}x.lastNode&&(y=x.lastNode)}if(0===s.length)break t;break;case" ":for(var _=n,E=null,S=!1,C=!1,b=0;b<e.terms.length;b++){var w=e.terms[b],x=l(t,w,n);if(!x.match){if(x.badNode){v=x.badNode;break t}if(x.lastNode&&(y=x.lastNode),"Comma"===w.type&&0!==b&&b!==e.terms.length-1){S&&(C=!0);continue}y=x.lastNode||n&&n.data,n=_;break t}if("Comma"===w.type&&0!==b&&!S){y=n&&n.data,n=_;break t}if(x.next!==n){if(C){y=n&&n.data,n=_;break t}S="Comma"!==w.type,E=w}r(s,x.match),n=i(x.next)}if(!E&&e.disallowEmpty){y=n&&n.data,n=_;break t}if(E&&"Comma"===E.type&&"Comma"!==w.type){y=n&&n.data,n=_;break t}break;case"&&":for(var _=n,E=null,T=e.terms.slice();T.length;){for(var k=!1,O=0,b=0;b<T.length;b++){var w=T[b],x=l(t,w,n);if(x.match){if(x.next===n){O++;continue}E=w,k=!0,T.splice(b--,1),r(s,x.match),n=i(x.next);break}if(x.badNode){v=x.badNode;break t}x.lastNode&&(y=x.lastNode)}if(!k){if(O===T.length)break;y=n&&n.data,n=_;break t}}if(!E&&e.disallowEmpty){y=n&&n.data,n=_;break t}break;case"||":for(var _=n,E=null,T=e.terms.slice();T.length;){for(var k=!1,O=0,b=0;b<T.length;b++){var w=T[b],x=l(t,w,n);if(x.match){if(x.next===n){O++;continue}E=w,k=!0,T.splice(b--,1),r(s,x.match),n=i(x.next);break}if(x.badNode){v=x.badNode;break t}x.lastNode&&(y=x.lastNode)}if(!k)break}if(!E&&(O!==T.length||e.disallowEmpty)){y=n&&n.data,n=_;break t}}if(p.push.apply(p,s),m++,!n)break;if(d.comma){if(h&&u===p.length)break t;if(null===(n=i(n))||"Operator"!==n.data.type||","!==n.data.value){y=null!==n?n.data:null;break t}p.push({syntax:e,match:[{type:"ASTNode",node:n.data,childrenMatch:null}]}),u=p.length,h=n,n=n.next}}return h&&u===p.length&&(n=h,p.pop()),a(v,y,n,m<f?null:{syntax:e,match:p,toJSON:o})}function l(t,e,n){var i=null,c=null,h=null;switch(e.type){case"Group":return s(t,e,n);case"Function":if(!n||"Function"!==n.data.type)break;var p=u.keyword(n.data.name),d=e.name.toLowerCase();if(d!==p.vendor+p.name)break;var f=l(t,e.children,n.data.children.head);if(!f.match||f.next){i=f.badNode||f.lastNode||(f.next?f.next.data:null)||n.data;break}h=[{type:"ASTNode",node:n.data,childrenMatch:f.match.match}],n=n.next;break;case"Parentheses":if(!n||"Parentheses"!==n.data.type)break;var f=l(t,e.children,n.data.children.head);if(!f.match||f.next){i=f.badNode||f.lastNode||(f.next?f.next.data:null)||n.data;break}h=[{type:"ASTNode",node:n.data,childrenMatch:f.match.match}],n=f.next;break;case"Type":var g=t.getType(e.name);if(!g)throw new Error("Unknown syntax type `"+e.name+"`");var f=g.match(n);if(!f.match){i=f&&f.badNode,c=f&&f.lastNode||n&&n.data;break}n=f.next,r(h=[],f.match),0===h.length&&(h=null);break;case"Property":var m=t.getProperty(e.name);if(!m)throw new Error("Unknown property `"+e.name+"`");var f=m.match(n);if(!f.match){i=f&&f.badNode,c=f&&f.lastNode||n&&n.data;break}n=f.next,r(h=[],f.match),0===h.length&&(h=null);break;case"Keyword":if(!n)break;if("Identifier"===n.data.type){var p=u.keyword(n.data.name),y=p.name,d=e.name.toLowerCase();if(-1!==y.indexOf("\\")&&(y=y.replace(/\\[09].*$/,"")),d!==p.vendor+y)break}else if("Number"!==n.data.type||n.data.value!==e.name)break;h=[{type:"ASTNode",node:n.data,childrenMatch:null}],n=n.next;break;case"Slash":case"Comma":if(!n||"Operator"!==n.data.type||n.data.value!==e.value)break;h=[{type:"ASTNode",node:n.data,childrenMatch:null}],n=n.next;break;case"String":if(!n||"String"!==n.data.type)break;h=[{type:"ASTNode",node:n.data,childrenMatch:null}],n=n.next;break;case"ASTNode":return n&&e.match(n)&&(h={type:"ASTNode",node:n.data,childrenMatch:null},n=n.next),a(i,c,n,h);default:throw new Error("Not implemented yet node type: "+e.type)}return a(i,c,n,null===h?null:{syntax:e,match:h,toJSON:o})}var u=n(2237),c={comma:!1,min:1,max:1};t.exports=l},function(t,e,n){function i(t){return"ASTNode"===t.type?t.node:0!==t.match.length?i(t.match[0]):null}function r(t){return"ASTNode"===t.type?t.node:0!==t.match.length?r(t.match[t.match.length-1]):null}function o(t,e,n,o,s){function l(n){if("ASTNode"!==n.type){if(n.syntax.type===o&&n.syntax.name===s){var c=i(n),h=r(n);t.syntax.walk(e,function(t,e,n){if(t===c){var i=new a,r=null;do{if(i.appendData(e.data),e.data===h)break;e=e.next}while(null!==e);null!==c.loc&&null!==h.loc&&(r={source:c.loc.source,start:c.loc.start,end:h.loc.end}),u.push({parent:n,loc:r,nodes:i})}})}n.match.forEach(l)}}var u=[];return null!==n.matched&&l(n.matched),u}var a=n(2160);t.exports={matchFragments:o}},function(t,e,n){function i(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&t>=0}function r(t){return Boolean(t)&&i(t.offset)&&i(t.line)&&i(t.column)}function o(t,e){return function(n,i){if(!n||n.constructor!==Object)return i(n,"Type of node should be an Object");for(var o in n){var a=!0;if(!1!==l.call(n,o)){if("type"===o)n.type!==t&&i(n,"Wrong node type `"+n.type+"`, expected `"+t+"`");else if("loc"===o){if(null===n.loc)continue;if(n.loc&&n.loc.constructor===Object)if("string"!=typeof n.loc.source)o+=".source";else if(r(n.loc.start)){if(r(n.loc.end))continue;o+=".end"}else o+=".start";a=!1}else if(e.hasOwnProperty(o))for(var u=0,a=!1;!a&&u<e[o].length;u++){var c=e[o][u];switch(c){case String:a="string"==typeof n[o];break;case Boolean:a="boolean"==typeof n[o];break;case null:a=null===n[o];break;default:"string"==typeof c?a=n[o]&&n[o].type===c:Array.isArray(c)&&(a=n[o]instanceof s)}}else i(n,"Unknown field `"+o+"` for "+t+" node type");a||i(n,"Bad value for `"+t+"."+o+"`")}}for(var o in e)l.call(e,o)&&!1===l.call(n,o)&&i(n,"Field `"+t+"."+o+"` is missed")}}function a(t,e){var n=e.structure,i={type:String,loc:!0},r={type:'"'+t+'"'};for(var a in n)if(!1!==l.call(n,a)){for(var s=[],u=i[a]=Array.isArray(n[a])?n[a].slice():[n[a]],c=0;c<u.length;c++){var h=u[c];if(h===String||h===Boolean)s.push(h.name);else if(null===h)s.push("null");else if("string"==typeof h)s.push("<"+h+">");else{if(!Array.isArray(h))throw new Error("Wrong value `"+h+"` in `"+t+"."+a+"` structure definition");s.push("List")}}r[a]=s.join(" | ")}return{docs:r,check:o(t,i)}}var s=n(2160),l=Object.prototype.hasOwnProperty;t.exports={getStructureFromConfig:function(t){var e={};if(t.node)for(var n in t.node)if(l.call(t.node,n)){var i=t.node[n];if(!i.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=a(n,i)}return e}}},function(t,e){function n(t){function e(i){if("ASTNode"===i.type){if(i.node===t)return n=[],!0;if(i.childrenMatch)for(var r=0;r<i.childrenMatch.length;r++)if(e(i.childrenMatch[r]))return!0}else for(var r=0;r<i.match.length;r++)if(e(i.match[r]))return"Type"!==i.syntax.type&&"Property"!==i.syntax.type&&"Keyword"!==i.syntax.type||n.unshift(i.syntax),!0;return!1}var n=null;return null!==this.matched&&e(this.matched),n}function i(t,e,i){var r=n.call(t,e);return null!==r&&r.some(i)}function r(t,e){return i(this,t,function(t){return"Type"===t.type&&t.name===e})}function o(t,e){return i(this,t,function(t){return"Property"===t.type&&t.name===e})}function a(t){return i(this,t,function(t){return"Keyword"===t.type})}t.exports={getTrace:n,isType:r,isProperty:o,isKeyword:a}},function(t,e,n){"use strict";function i(t){return function(){return this[t]()}}function r(t){var e={context:{},scope:{},atrule:{},pseudo:{}};if(t.parseContext)for(var n in t.parseContext)switch(typeof t.parseContext[n]){case"function":e.context[n]=t.parseContext[n];break;case"string":e.context[n]=i(t.parseContext[n])}if(t.scope)for(var n in t.scope)e.scope[n]=t.scope[n];if(t.atrule)for(var n in t.atrule){var r=t.atrule[n];r.parse&&(e.atrule[n]=r.parse)}if(t.pseudo)for(var n in t.pseudo){var o=t.pseudo[n];o.parse&&(e.pseudo[n]=o.parse)}if(t.node)for(var n in t.node)e[n]=t.node[n].parse;return e}var o=n(2159),a=n(2823),s=function(){};t.exports=function(t){var e={scanner:new o,filename:"<unknown>",needPositions:!1,tolerant:!1,onParseError:s,parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:a,tolerantParse:function(t,e){if(!this.tolerant)return t.call(this);var n=this.scanner.currentToken;try{return t.call(this)}catch(t){return this.onParseError(t),e.call(this,n)}},getLocation:function(t,e){return this.needPositions?this.scanner.getLocationRange(t,e,this.filename):null},getLocationFromList:function(t){return this.needPositions?this.scanner.getLocationRange(null!==t.head?t.first().loc.start.offset-this.scanner.startOffset:this.scanner.tokenStart,null!==t.head?t.last().loc.end.offset-this.scanner.startOffset:this.scanner.tokenStart,this.filename):null}};t=r(t||{});for(var n in t)e[n]=t[n];return function(t,n){n=n||{};var i,r=n.context||"default";if(e.scanner.setSource(t,n.offset,n.line,n.column),e.filename=n.filename||"<unknown>",e.needPositions=Boolean(n.positions),e.tolerant=Boolean(n.tolerant),e.onParseError="function"==typeof n.onParseError?n.onParseError:s,e.parseAtrulePrelude=!("parseAtrulePrelude"in n)||Boolean(n.parseAtrulePrelude),e.parseRulePrelude=!("parseRulePrelude"in n)||Boolean(n.parseRulePrelude),e.parseValue=!("parseValue"in n)||Boolean(n.parseValue),e.parseCustomProperty="parseCustomProperty"in n&&Boolean(n.parseCustomProperty),!e.context.hasOwnProperty(r))throw new Error("Unknown context `"+r+"`");return i=e.context[r].call(e,n),e.scanner.eof||e.scanner.error(),i}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.WhiteSpace,a=r.Comment;t.exports=function(t){var e=new i,n=null,r={recognizer:t,space:null,ignoreWS:!1,ignoreWSAfter:!1};for(this.scanner.skipSC();!this.scanner.eof;){switch(this.scanner.tokenType){case a:this.scanner.next();continue;case o:r.ignoreWS?this.scanner.next():r.space=this.WhiteSpace();continue}if(void 0===(n=t.getNode.call(this,r)))break;null!==r.space&&(e.appendData(r.space),r.space=null),e.appendData(n),r.ignoreWSAfter?(r.ignoreWSAfter=!1,r.ignoreWS=!0):r.ignoreWS=!1}return e}},function(t,e){t.exports={parse:{prelude:null,block:function(){return this.Block(this.Declaration)}}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.String,a=r.Identifier,s=r.Url,l=r.LeftParenthesis;t.exports={parse:{prelude:function(){var t=new i;switch(this.scanner.skipSC(),this.scanner.tokenType){case o:t.appendData(this.String());break;case s:t.appendData(this.Url());break;default:this.scanner.error("String or url() is expected")}return this.scanner.lookupNonWSType(0)!==a&&this.scanner.lookupNonWSType(0)!==l||(t.appendData(this.WhiteSpace()),t.appendData(this.MediaQueryList())),t},block:null}}},function(t,e,n){t.exports={"font-face":n(2824),import:n(2825),media:n(2827),page:n(2828),supports:n(2829)}},function(t,e,n){var i=n(2160);t.exports={parse:{prelude:function(){return(new i).appendData(this.MediaQueryList())},block:function(){return this.Block(this.Rule)}}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.LeftCurlyBracket;t.exports={parse:{prelude:function(){return this.scanner.lookupNonWSType(0)===o?null:(new i).appendData(this.SelectorList())},block:function(){return this.Block(this.Declaration)}}}},function(t,e,n){function i(){return(new a).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1))}function r(){var t=0;return this.scanner.skipSC(),this.scanner.tokenType===c?t=1:this.scanner.tokenType===d&&this.scanner.lookupType(1)===c&&(t=2),0!==t&&this.scanner.lookupNonWSType(t)===f?(new a).appendData(this.Declaration()):o.call(this)}function o(){var t,e=new a,n=null;this.scanner.skipSC();t:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case l:n=this.WhiteSpace();continue;case u:this.scanner.next();continue;case h:t=this.Function(i,this.scope.AtrulePrelude);break;case c:t=this.Identifier();break;case p:t=this.Parentheses(r,this.scope.AtrulePrelude);break;default:break t}null!==n&&(e.appendData(n),n=null),e.appendData(t)}return e}var a=n(2160),s=n(2159).TYPE,l=s.WhiteSpace,u=s.Comment,c=s.Identifier,h=s.Function,p=s.LeftParenthesis,d=s.HyphenMinus,f=s.Colon;t.exports={parse:{prelude:function(){var t=o.call(this);return t.isEmpty()&&this.scanner.error("Condition is expected"),t},block:function(){return this.Block(this.Rule)}}}},function(t,e,n){var i=n(2811);t.exports={generic:!0,types:i.types,properties:i.properties,node:n(2277)}},function(t,e){function n(t){return t&&t.constructor===Object}function i(t){if(n(t)){var e={};for(var i in t)a.call(t,i)&&(e[i]=t[i]);return e}return t}function r(t,e){for(var o in e)a.call(e,o)&&(n(t[o])?r(t[o],i(e[o])):t[o]=i(e[o]))}function o(t,e,s){for(var l in s)if(!1!==a.call(s,l))if(!0===s[l])l in e&&a.call(e,l)&&(t[l]=i(e[l]));else if(s[l])if(n(s[l])){var u={};r(u,t[l]),r(u,e[l]),t[l]=u}else if(Array.isArray(s[l])){var u={},c=s[l].reduce(function(t,e){return t[e]=!0,t},{});for(var h in t[l])a.call(t[l],h)&&(u[h]={},t[l]&&t[l][h]&&o(u[h],t[l][h],c));for(var h in e[l])a.call(e[l],h)&&(u[h]||(u[h]={}),e[l]&&e[l][h]&&o(u[h],e[l][h],c));t[l]=u}return t}var a=Object.prototype.hasOwnProperty,s={generic:!0,types:{},properties:{},parseContext:{},scope:{},atrule:["parse"],pseudo:["parse"],node:["name","structure","parse","generate","walkContext"]};t.exports=function(t,e){return o(t,e,s)}},function(t,e,n){t.exports={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude:function(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block:function(){return this.Block(this.Declaration)},declarationList:"DeclarationList",declaration:"Declaration",value:function(t){return this.Value(t.property?String(t.property):null)}},scope:n(2890),atrule:n(2826),pseudo:n(2880),node:n(2277)}},function(t,e,n){t.exports={node:n(2277)}},function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function r(t){var e=u(t),n=p(t),m=c(t),y=h(n),v={List:o,Tokenizer:a,Lexer:s,property:f.property,keyword:f.keyword,grammar:l,lexer:null,createLexer:function(t){return new s(t,v,v.lexer.structure)},parse:e,walk:n.walk,walkUp:n.walkUp,walkRules:n.walkRules,walkRulesRight:n.walkRulesRight,walkDeclarations:n.walkDeclarations,translate:m.translate,translateWithSourceMap:m.translateWithSourceMap,translateMarkup:m.translateMarkup,clone:d,fromPlainObject:y.fromPlainObject,toPlainObject:y.toPlainObject,createSyntax:function(t){return r(g({},t))},fork:function(e){var n=g({},t);return r("function"==typeof e?e(n,i):g(n,e))}};return v.lexer=new s({generic:!0,types:t.types,properties:t.properties,node:t.node},v),v}var o=n(2160),a=n(2159),s=n(2815),l=n(2817),u=n(2822),c=n(2813),h=n(2812),p=n(2897),d=n(2896),f=n(2237),g=n(2831);e.create=function(t){return r(g({},t))}},function(t,e,n){var i=n(2160);t.exports=function(){return(new i).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1))}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.Identifier,a=r.Comma,s=r.Semicolon,l=r.HyphenMinus,u=r.ExclamationMark;t.exports=function(){var t=new i;this.scanner.skipSC();var e=this.scanner.tokenStart;return this.scanner.eat(l),this.scanner.source.charCodeAt(this.scanner.tokenStart)!==l&&this.scanner.error("HyphenMinus is expected"),this.scanner.eat(o),t.appendData({type:"Identifier",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)}),this.scanner.skipSC(),this.scanner.tokenType===a&&(t.appendData(this.Operator()),t.appendData(this.parseCustomProperty?this.Value(null):this.Raw(this.scanner.currentToken,u,s,!1,!1))),t}},function(t,e,n){t.exports=n(2834).create(function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}(n(2830),n(2832),n(2833)))},function(t,e,n){function i(t,e){var n=t.tokenStart;for(t.source.charCodeAt(n)!==u&&t.source.charCodeAt(n)!==c||(e&&t.error(),n++);n<t.tokenEnd;n++)o(t.source.charCodeAt(n))||t.error("Unexpected input",n)}var r=n(2159).cmpChar,o=n(2159).isNumber,a=n(2159).TYPE,s=a.Identifier,l=a.Number,u=a.PlusSign,c=a.HyphenMinus;t.exports={name:"AnPlusB",structure:{a:[String,null],b:[String,null]},parse:function(){var t=this.scanner.tokenStart,e=t,n="",a=null,h=null;if(this.scanner.tokenType!==l&&this.scanner.tokenType!==u||(i(this.scanner,!1),n=this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart),this.scanner.tokenType===s){var p=this.scanner.tokenStart;r(this.scanner.source,p,c)&&(""===n?(n="-",p++):this.scanner.error("Unexpected hyphen minus")),r(this.scanner.source,p,110)||this.scanner.error(),a=""===n?"1":"+"===n?"+1":"-"===n?"-1":n;var d=this.scanner.tokenEnd-p;d>1?(this.scanner.source.charCodeAt(p+1)!==c&&this.scanner.error("Unexpected input",p+1),d>2?this.scanner.tokenStart=p+2:(this.scanner.next(),this.scanner.skipSC()),i(this.scanner,!0),h="-"+this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart):(n="",this.scanner.next(),e=this.scanner.tokenStart,this.scanner.skipSC(),this.scanner.tokenType!==c&&this.scanner.tokenType!==u||(n=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC()),this.scanner.tokenType===l?(i(this.scanner,""!==n),o(this.scanner.source.charCodeAt(this.scanner.tokenStart))||(n=this.scanner.source.charAt(this.scanner.tokenStart),this.scanner.tokenStart++),""===n?this.scanner.error():"+"===n&&(n=""),h=n+this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart):n&&this.scanner.eat(l))}else""!==n&&"+"!==n||this.scanner.error("Number or identifier is expected",this.scanner.tokenStart+(this.scanner.tokenType===u||this.scanner.tokenType===c)),h=n;return{type:"AnPlusB",loc:this.getLocation(t,e),a:a,b:h}},generate:function(t,e){var n=null!==e.a&&void 0!==e.a,i=null!==e.b&&void 0!==e.b;n?(t("+1"===e.a?"+n":"1"===e.a?"n":"-1"===e.a?"-n":e.a+"n"),i&&(i=String(e.b),"-"===i.charAt(0)||"+"===i.charAt(0)?(t(i.charAt(0)),t(i.substr(1))):(t("+"),t(i)))):t(String(e.b))}}},function(t,e,n){function i(){for(var t,e=1;t=this.scanner.lookupType(e);e++){if(t===l)return!0;if(t===s||t===o)return!1}this.scanner.skip(e),this.scanner.eat(l)}var r=n(2159).TYPE,o=r.Atrule,a=r.Semicolon,s=r.LeftCurlyBracket,l=r.RightCurlyBracket;t.exports={name:"Atrule",structure:{name:String,prelude:["AtrulePrelude",null],block:["Block",null]},parse:function(){var t,e,n=this.scanner.tokenStart,r=null,l=null;if(this.scanner.eat(o),t=this.scanner.substrToCursor(n+1),e=t.toLowerCase(),this.scanner.skipSC(),r=this.AtrulePrelude(t),null===r.children.head&&(r=null),this.scanner.skipSC(),this.atrule.hasOwnProperty(e))"function"==typeof this.atrule[e].block?(this.scanner.tokenType!==s&&this.scanner.error("Curly bracket is expected"),l=this.atrule[e].block.call(this)):this.tolerant&&this.scanner.eof||this.scanner.eat(a);else switch(this.scanner.tokenType){case a:this.scanner.next();break;case s:l=this.Block(i.call(this)?this.Declaration:this.Rule);break;default:this.tolerant||this.scanner.error("Semicolon or block is expected")}return{type:"Atrule",loc:this.getLocation(n,this.scanner.tokenStart),name:t,prelude:r,block:l}},generate:function(t,e){t("@"),t(e.name),null!==e.prelude&&(t(" "),this.generate(t,e.prelude)),e.block?this.generate(t,e.block):t(";")},walkContext:"atrule"}},function(t,e,n){function i(t){return(new o).appendData(this.Raw(t,s,l,!1,!0))}function r(){return this.readSequence(this.scope.AtrulePrelude)}var o=n(2160),a=n(2159).TYPE,s=a.Semicolon,l=a.LeftCurlyBracket;t.exports={name:"AtrulePrelude",structure:{children:[[]]},parse:function(t){var e=null,n=this.scanner.currentToken;return null!==t&&(t=t.toLowerCase()),this.parseAtrulePrelude?(this.atrule.hasOwnProperty(t)?"function"==typeof this.atrule[t].prelude&&(e=this.tolerantParse(this.atrule[t].prelude,i)):(this.scanner.skipSC(),e=this.tolerantParse(r,i)),this.tolerant&&(this.scanner.eof||this.scanner.tokenType!==s&&this.scanner.tokenType!==l)&&(e=i.call(this,n))):e=i.call(this,n),null===e&&(e=new o),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}},generate:function(t,e){this.each(t,e)},walkContext:"atrulePrelude"}},function(t,e,n){function i(){this.scanner.eof&&this.scanner.error("Unexpected end of input");var t=this.scanner.tokenStart,e=!1,n=!0;return this.scanner.tokenType===u?(e=!0,n=!1,this.scanner.next()):this.scanner.tokenType!==g&&this.scanner.eat(a),this.scanner.tokenType===g?this.scanner.lookupType(1)!==h?(this.scanner.next(),
this.scanner.eat(a)):e&&this.scanner.error("Identifier is expected",this.scanner.tokenEnd):e&&this.scanner.error("Vertical line is expected"),n&&this.scanner.tokenType===c&&(this.scanner.next(),this.scanner.eat(a)),{type:"Identifier",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}}function r(){var t=this.scanner.tokenStart,e=this.scanner.tokenType;return e!==h&&e!==m&&e!==f&&e!==l&&e!==u&&e!==g&&this.scanner.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),e===h?this.scanner.next():(this.scanner.next(),this.scanner.eat(h)),this.scanner.substrToCursor(t)}var o=n(2159).TYPE,a=o.Identifier,s=o.String,l=o.DollarSign,u=o.Asterisk,c=o.Colon,h=o.EqualsSign,p=o.LeftSquareBracket,d=o.RightSquareBracket,f=o.CircumflexAccent,g=o.VerticalLine,m=o.Tilde;t.exports={name:"AttributeSelector",structure:{name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]},parse:function(){var t,e=this.scanner.tokenStart,n=null,o=null,l=null;return this.scanner.eat(p),this.scanner.skipSC(),t=i.call(this),this.scanner.skipSC(),this.scanner.tokenType!==d&&(this.scanner.tokenType!==a&&(n=r.call(this),this.scanner.skipSC(),o=this.scanner.tokenType===s?this.String():this.Identifier(),this.scanner.skipSC()),this.scanner.tokenType===a&&(l=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC())),this.scanner.eat(d),{type:"AttributeSelector",loc:this.getLocation(e,this.scanner.tokenStart),name:t,matcher:n,value:o,flags:l}},generate:function(t,e){var n=" ";t("["),this.generate(t,e.name),null!==e.matcher&&(t(e.matcher),null!==e.value&&(this.generate(t,e.value),"String"===e.value.type&&(n=""))),null!==e.flags&&(t(n),t(e.flags)),t("]")}}},function(t,e,n){function i(t){return this.Raw(t,0,l,!0,!0)}var r=n(2160),o=n(2159).TYPE,a=o.WhiteSpace,s=o.Comment,l=o.Semicolon,u=o.Atrule,c=o.LeftCurlyBracket,h=o.RightCurlyBracket;t.exports={name:"Block",structure:{children:[["Atrule","Rule","Declaration"]]},parse:function(t){t||(t=this.Declaration);var e=this.scanner.tokenStart,n=new r;this.scanner.eat(c);t:for(;!this.scanner.eof;)switch(this.scanner.tokenType){case h:break t;case a:case s:case l:this.scanner.next();break;case u:n.appendData(this.tolerantParse(this.Atrule,i));break;default:n.appendData(this.tolerantParse(t,i))}return this.tolerant&&this.scanner.eof||this.scanner.eat(h),{type:"Block",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){t("{"),this.each(t,e),t("}")},walkContext:"block"}},function(t,e,n){var i=n(2159).TYPE,r=i.LeftSquareBracket,o=i.RightSquareBracket;t.exports={name:"Brackets",structure:{children:[[]]},parse:function(t,e){var n=this.scanner.tokenStart,i=null;return this.scanner.eat(r),i=t.call(this,e),this.scanner.eat(o),{type:"Brackets",loc:this.getLocation(n,this.scanner.tokenStart),children:i}},generate:function(t,e){t("["),this.each(t,e),t("]")}}},function(t,e,n){var i=n(2159).TYPE.CDC;t.exports={name:"CDC",structure:[],parse:function(){var t=this.scanner.tokenStart;return this.scanner.eat(i),{type:"CDC",loc:this.getLocation(t,this.scanner.tokenStart)}},generate:function(t){t("--\x3e")}}},function(t,e,n){var i=n(2159).TYPE.CDO;t.exports={name:"CDO",structure:[],parse:function(){var t=this.scanner.tokenStart;return this.scanner.eat(i),{type:"CDO",loc:this.getLocation(t,this.scanner.tokenStart)}},generate:function(t){t("\x3c!--")}}},function(t,e,n){var i=n(2159).TYPE,r=i.Identifier,o=i.FullStop;t.exports={name:"ClassSelector",structure:{name:String},parse:function(){return this.scanner.eat(o),{type:"ClassSelector",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.scanner.consume(r)}},generate:function(t,e){t("."),t(e.name)}}},function(t,e,n){var i=n(2159).TYPE,r=i.PlusSign,o=i.Solidus,a=i.GreaterThanSign,s=i.Tilde;t.exports={name:"Combinator",structure:{name:String},parse:function(){var t=this.scanner.tokenStart;switch(this.scanner.tokenType){case a:case r:case s:this.scanner.next();break;case o:this.scanner.next(),this.scanner.expectIdentifier("deep"),this.scanner.eat(o);break;default:this.scanner.error("Combinator is expected")}return{type:"Combinator",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.name)}}},function(t,e,n){var i=n(2159).TYPE,r=i.Asterisk,o=i.Solidus;t.exports={name:"Comment",structure:{value:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.tokenEnd;return e-t+2>=2&&this.scanner.source.charCodeAt(e-2)===r&&this.scanner.source.charCodeAt(e-1)===o&&(e-=2),this.scanner.next(),{type:"Comment",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.source.substring(t+2,e)}},generate:function(t,e){t("/*"),t(e.value),t("*/")}}},function(t,e,n){function i(t){return t.length>=2&&t.charCodeAt(0)===d&&t.charCodeAt(1)===d}function r(){var t=this.scanner.tokenStart,e=0;switch(this.scanner.tokenType){case h:case p:case y:case v:e=1;break;case c:e=this.scanner.lookupType(1)===c?2:1}return this.scanner.lookupType(e)===d&&e++,e&&this.scanner.skip(e),this.scanner.eat(s),this.scanner.substrToCursor(t)}function o(t){t.eat(u),t.skipSC();var e=t.consume(s);return"important"===e||e}var a=n(2159).TYPE,s=a.Identifier,l=a.Colon,u=a.ExclamationMark,c=a.Solidus,h=a.Asterisk,p=a.DollarSign,d=a.HyphenMinus,f=a.Semicolon,g=a.RightCurlyBracket,m=a.RightParenthesis,y=a.PlusSign,v=a.NumberSign;t.exports={name:"Declaration",structure:{important:[Boolean,String],property:String,value:["Value","Raw"]},parse:function(){var t,e=this.scanner.tokenStart,n=r.call(this),a=!1;return this.scanner.skipSC(),this.scanner.eat(l),t=(i(n)?this.parseCustomProperty:this.parseValue)?this.Value(n):this.Raw(this.scanner.currentToken,u,f,!1,!1),this.scanner.tokenType===u&&(a=o(this.scanner),this.scanner.skipSC()),this.scanner.eof||this.scanner.tokenType===f||this.scanner.tokenType===m||this.scanner.tokenType===g||this.scanner.error(),{type:"Declaration",loc:this.getLocation(e,this.scanner.tokenStart),important:a,property:n,value:t}},generate:function(t,e,n){t(e.property),t(":"),this.generate(t,e.value),e.important&&t(!0===e.important?"!important":"!"+e.important),n&&n.next&&t(";")},walkContext:"declaration"}},function(t,e,n){function i(t){return this.Raw(t,0,l,!0,!0)}var r=n(2160),o=n(2159).TYPE,a=o.WhiteSpace,s=o.Comment,l=o.Semicolon;t.exports={name:"DeclarationList",structure:{children:[["Declaration"]]},parse:function(){for(var t=new r;!this.scanner.eof;)switch(this.scanner.tokenType){case a:case s:case l:this.scanner.next();break;default:t.appendData(this.tolerantParse(this.Declaration,i))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}}},function(t,e,n){function i(t){var e=t.getTokenValue(),n=e.indexOf("\\");return n>0?(t.tokenStart+=n,e.substring(0,n)):(t.next(),e)}var r=n(2159).TYPE.Number;t.exports={name:"Dimension",structure:{value:String,unit:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.consume(r),n=i(this.scanner);return{type:"Dimension",loc:this.getLocation(t,this.scanner.tokenStart),value:e,unit:n}},generate:function(t,e){t(e.value),t(e.unit)}}},function(t,e,n){var i=n(2159).TYPE,r=i.RightParenthesis;t.exports={name:"Function",structure:{name:String,children:[[]]},parse:function(t,e){var n,i=this.scanner.tokenStart,o=this.scanner.consumeFunctionName(),a=o.toLowerCase();return n=e.hasOwnProperty(a)?e[a].call(this,e):t.call(this,e),this.scanner.eat(r),{type:"Function",loc:this.getLocation(i,this.scanner.tokenStart),name:o,children:n}},generate:function(t,e){t(e.name),t("("),this.each(t,e),t(")")},walkContext:"function"}},function(t,e,n){function i(t,e){if(!r(t.source.charCodeAt(t.tokenStart))){if(!e)return;t.error("Unexpected input",t.tokenStart)}for(var n=t.tokenStart+1;n<t.tokenEnd;n++){var i=t.source.charCodeAt(n);if(!r(i))return void(t.tokenStart=n)}t.next()}var r=n(2159).isHex,o=n(2159).TYPE,a=o.Identifier,s=o.Number,l=o.NumberSign;t.exports={name:"HexColor",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;switch(this.scanner.eat(l),this.scanner.tokenType){case s:i(this.scanner,!0),this.scanner.tokenType===a&&i(this.scanner,!1);break;case a:i(this.scanner,!0);break;default:this.scanner.error("Number or identifier is expected")}return{type:"HexColor",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t+1)}},generate:function(t,e){t("#"),t(e.value)}}},function(t,e,n){var i=n(2159).TYPE,r=i.Identifier,o=i.NumberSign;t.exports={name:"IdSelector",structure:{name:String},parse:function(){return this.scanner.eat(o),{type:"IdSelector",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.scanner.consume(r)}},generate:function(t,e){t("#"),t(e.name)}}},function(t,e,n){var i=n(2159).TYPE,r=i.Identifier;t.exports={name:"Identifier",structure:{name:String},parse:function(){return{type:"Identifier",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),name:this.scanner.consume(r)}},generate:function(t,e){t(e.name)}}},function(t,e,n){var i=n(2159).TYPE,r=i.Identifier,o=i.Number,a=i.LeftParenthesis,s=i.RightParenthesis,l=i.Colon,u=i.Solidus;t.exports={name:"MediaFeature",structure:{name:String,value:["Identifier","Number","Dimension","Ratio",null]},parse:function(){var t,e=this.scanner.tokenStart,n=null;if(this.scanner.eat(a),this.scanner.skipSC(),t=this.scanner.consume(r),this.scanner.skipSC(),this.scanner.tokenType!==s){switch(this.scanner.eat(l),this.scanner.skipSC(),this.scanner.tokenType){case o:n=this.scanner.lookupType(1)===r?this.Dimension():this.scanner.lookupNonWSType(1)===u?this.Ratio():this.Number();break;case r:n=this.Identifier();break;default:this.scanner.error("Number, dimension, ratio or identifier is expected")}this.scanner.skipSC()}return this.scanner.eat(s),{type:"MediaFeature",loc:this.getLocation(e,this.scanner.tokenStart),name:t,value:n}},generate:function(t,e){t("("),t(e.name),null!==e.value&&(t(":"),this.generate(t,e.value)),t(")")}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.WhiteSpace,a=r.Comment,s=r.Identifier,l=r.LeftParenthesis;t.exports={name:"MediaQuery",structure:{children:[["Identifier","MediaFeature","WhiteSpace"]]},parse:function(){this.scanner.skipSC();var t=new i,e=null,n=null;t:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case a:this.scanner.next();continue;case o:n=this.WhiteSpace();continue;case s:e=this.Identifier();break;case l:e=this.MediaFeature();break;default:break t}null!==n&&(t.appendData(n),n=null),t.appendData(e)}return null===e&&this.scanner.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE.Comma;t.exports={name:"MediaQueryList",structure:{children:[["MediaQuery"]]},parse:function(t){var e=new i;for(this.scanner.skipSC();!this.scanner.eof&&(e.appendData(this.MediaQuery(t)),this.scanner.tokenType===r);)this.scanner.next();return{type:"MediaQueryList",loc:this.getLocationFromList(e),children:e}},generate:function(t,e){this.eachComma(t,e)}}},function(t,e){t.exports={name:"Nth",structure:{nth:["AnPlusB","Identifier"],selector:["SelectorList",null]},parse:function(t){this.scanner.skipSC();var e,n=this.scanner.tokenStart,i=n,r=null;return e=this.scanner.lookupValue(0,"odd")||this.scanner.lookupValue(0,"even")?this.Identifier():this.AnPlusB(),this.scanner.skipSC(),t&&this.scanner.lookupValue(0,"of")?(this.scanner.next(),r=this.SelectorList(),this.needPositions&&(i=r.children.last().loc.end.offset)):this.needPositions&&(i=e.loc.end.offset),{type:"Nth",loc:this.getLocation(n,i),nth:e,selector:r}},generate:function(t,e){this.generate(t,e.nth),null!==e.selector&&(t(" of "),this.generate(t,e.selector))}}},function(t,e,n){var i=n(2159).TYPE.Number;t.exports={name:"Number",structure:{value:String},parse:function(){return{type:"Number",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.scanner.consume(i)}},generate:function(t,e){t(e.value)}}},function(t,e){t.exports={name:"Operator",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.next(),{type:"Operator",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.value)}}},function(t,e,n){var i=n(2159).TYPE,r=i.LeftParenthesis,o=i.RightParenthesis;t.exports={name:"Parentheses",structure:{children:[[]]},parse:function(t,e){var n=this.scanner.tokenStart,i=null;return this.scanner.eat(r),i=t.call(this,e),this.scanner.eat(o),{type:"Parentheses",loc:this.getLocation(n,this.scanner.tokenStart),children:i}},generate:function(t,e){t("("),this.each(t,e),t(")")}}},function(t,e,n){var i=n(2159).TYPE,r=i.Number,o=i.PercentSign;t.exports={name:"Percentage",structure:{value:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.consume(r);return this.scanner.eat(o),{type:"Percentage",loc:this.getLocation(t,this.scanner.tokenStart),value:e}},generate:function(t,e){t(e.value),t("%")}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.Identifier,a=r.Function,s=r.Colon,l=r.RightParenthesis;t.exports={name:"PseudoClassSelector",structure:{name:String,children:[["Raw"],null]},parse:function(){var t,e,n=this.scanner.tokenStart,r=null;return this.scanner.eat(s),this.scanner.tokenType===a?(t=this.scanner.consumeFunctionName(),e=t.toLowerCase(),this.pseudo.hasOwnProperty(e)?(this.scanner.skipSC(),r=this.pseudo[e].call(this),this.scanner.skipSC()):r=(new i).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1)),this.scanner.eat(l)):t=this.scanner.consume(o),{type:"PseudoClassSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:t,children:r}},generate:function(t,e){t(":"),t(e.name),null!==e.children&&(t("("),this.each(t,e),t(")"))},walkContext:"function"}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.Identifier,a=r.Function,s=r.Colon,l=r.RightParenthesis;t.exports={name:"PseudoElementSelector",structure:{name:String,children:[["Raw"],null]},parse:function(){var t,e,n=this.scanner.tokenStart,r=null;return this.scanner.eat(s),this.scanner.eat(s),this.scanner.tokenType===a?(t=this.scanner.consumeFunctionName(),e=t.toLowerCase(),this.pseudo.hasOwnProperty(e)?(this.scanner.skipSC(),r=this.pseudo[e].call(this),this.scanner.skipSC()):r=(new i).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1)),this.scanner.eat(l)):t=this.scanner.consume(o),{type:"PseudoElementSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:t,children:r}},generate:function(t,e){t("::"),t(e.name),null!==e.children&&(t("("),this.each(t,e),t(")"))},walkContext:"function"}},function(t,e,n){function i(t){for(var e=t.consumeNonWS(a),n=0;n<e.length;n++){var i=e.charCodeAt(n);r(i)||i===l||t.error("Unsigned number is expected",t.tokenStart-e.length+n)}return 0===Number(e)&&t.error("Zero number is not allowed",t.tokenStart-e.length),e}var r=n(2159).isNumber,o=n(2159).TYPE,a=o.Number,s=o.Solidus,l=o.FullStop;t.exports={name:"Ratio",structure:{left:String,right:String},parse:function(){var t,e=this.scanner.tokenStart,n=i(this.scanner);return this.scanner.eatNonWS(s),t=i(this.scanner),{type:"Ratio",loc:this.getLocation(e,this.scanner.tokenStart),left:n,right:t}},generate:function(t,e){t(e.left),t("/"),t(e.right)}}},function(t,e){t.exports={name:"Raw",structure:{value:String},parse:function(t,e,n,i,r){var o,a=this.scanner.getTokenStart(t);return this.scanner.skip(this.scanner.getRawLength(t,e,n,i)),o=r&&this.scanner.tokenStart>a?this.scanner.getOffsetExcludeWS():this.scanner.tokenStart,{type:"Raw",loc:this.getLocation(a,o),value:this.scanner.source.substring(a,o)}},generate:function(t,e){t(e.value)}}},function(t,e,n){function i(t){return this.Raw(t,o,0,!1,!0)}var r=n(2159).TYPE,o=r.LeftCurlyBracket;t.exports={name:"Rule",structure:{prelude:["SelectorList","Raw"],block:["Block"]},parse:function(){var t=this.scanner.currentToken,e=this.scanner.tokenStart,n=this.parseRulePrelude?this.tolerantParse(this.SelectorList,i):i.call(this,t),r=this.Block(this.Declaration);return{type:"Rule",loc:this.getLocation(e,this.scanner.tokenStart),prelude:n,block:r}},generate:function(t,e){this.generate(t,e.prelude),this.generate(t,e.block)},walkContext:"rule"}},function(t,e){t.exports={name:"Selector",structure:{children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]},parse:function(){var t=this.readSequence(this.scope.Selector);return t.isEmpty()&&this.scanner.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}}},function(t,e,n){var i=n(2160),r=n(2159).TYPE,o=r.Comma;t.exports={name:"SelectorList",structure:{children:[["Selector","Raw"]]},parse:function(){for(var t=new i;!this.scanner.eof;){t.appendData(this.Selector());{if(this.scanner.tokenType!==o)break;this.scanner.next()}}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.eachComma(t,e)},walkContext:"selector"}},function(t,e,n){var i=n(2159).TYPE.String;t.exports={name:"String",structure:{value:String},parse:function(){return{type:"String",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.scanner.consume(i)}},generate:function(t,e){t(e.value)}}},function(t,e,n){function i(t){return this.Raw(t,0,0,!1,!1)}var r=n(2160),o=n(2159).TYPE,a=o.WhiteSpace,s=o.Comment,l=o.ExclamationMark,u=o.Atrule,c=o.CDO,h=o.CDC;t.exports={name:"StyleSheet",structure:{children:[["Comment","Atrule","Rule","Raw"]]},parse:function(){for(var t,e=this.scanner.tokenStart,n=new r;!this.scanner.eof;){switch(this.scanner.tokenType){case a:this.scanner.next();continue;case s:if(this.scanner.source.charCodeAt(this.scanner.tokenStart+2)!==l){this.scanner.next();continue}t=this.Comment();break;case c:t=this.CDO();break;case h:t=this.CDC();break;case u:t=this.Atrule();break;default:t=this.tolerantParse(this.Rule,i)}n.appendData(t)}return{type:"StyleSheet",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){this.each(t,e)},walkContext:"stylesheet"}},function(t,e,n){function i(){this.scanner.tokenType!==o&&this.scanner.tokenType!==a&&this.scanner.error("Identifier or asterisk is expected"),this.scanner.next()}var r=n(2159).TYPE,o=r.Identifier,a=r.Asterisk,s=r.VerticalLine;t.exports={name:"TypeSelector",structure:{name:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.tokenType===s?(this.scanner.next(),i.call(this)):(i.call(this),this.scanner.tokenType===s&&(this.scanner.next(),i.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.name)}}},function(t,e,n){function i(t){for(var e=t.tokenStart+1;e<t.tokenEnd;e++){var n=t.source.charCodeAt(e);if(n===h||n===u)return t.tokenStart=e,!1}return!0}function r(t){var e=t.tokenStart+1,n=0;t:{if(t.tokenType===l){if(t.source.charCodeAt(t.tokenStart)!==h&&i(t))t.next();else if(t.source.charCodeAt(t.tokenStart)!==c)break t}else t.next();t.tokenType===c&&t.next(),t.tokenType===l&&t.next(),t.tokenType===s&&t.next(),t.tokenStart===e&&t.error("Unexpected input",e)}for(var r=e,a=!1;r<t.tokenStart;r++){var u=t.source.charCodeAt(r);!1!==o(u)||u===c&&!a||t.error("Unexpected input",r),u===c?(0===n&&t.error("Unexpected input",r),a=!0,n=0):++n>6&&t.error("Too long hex sequence",r)}if(0===n&&t.error("Unexpected input",r-1),!a)for(;n<6&&!t.eof&&t.tokenType===p;t.next())n++}var o=n(2159).isHex,a=n(2159).TYPE,s=a.Identifier,l=a.Number,u=a.PlusSign,c=a.HyphenMinus,h=a.FullStop,p=a.QuestionMark;t.exports={name:"UnicodeRange",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.next(),r(this.scanner),{type:"UnicodeRange",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.value)}}},function(t,e,n){var i=n(2159).TYPE,r=i.String,o=i.Url,a=i.Raw,s=i.RightParenthesis;t.exports={name:"Url",structure:{value:["String","Raw"]},parse:function(){var t,e=this.scanner.tokenStart;switch(this.scanner.eat(o),this.scanner.skipSC(),this.scanner.tokenType){case r:t=this.String();break;case a:t=this.Raw(this.scanner.currentToken,0,a,!0,!1);break;default:this.scanner.error("String or Raw is expected")}return this.scanner.skipSC(),this.scanner.eat(s),{type:"Url",loc:this.getLocation(e,this.scanner.tokenStart),value:t}},generate:function(t,e){t("url"),t("("),this.generate(t,e.value),t(")")}}},function(t,e,n){function i(t){for(var e,n=0;(e=t.lookupType(n))&&(e===a||e===s);n++);if(t.lookupValue(n,"alpha(")||t.lookupValue(n,"chroma(")||t.lookupValue(n,"dropshadow(")){if(t.lookupType(n)!==l)return!1}else if(!1===t.lookupValue(n,"progid")||t.lookupType(n+1)!==u)return!1;return!0}var r=n(2159).endsWith,o=n(2159).TYPE,a=o.WhiteSpace,s=o.Comment,l=o.Function,u=o.Colon,c=o.Semicolon,h=o.ExclamationMark;t.exports={name:"Value",structure:{children:[[]]},parse:function(t){if(null!==t&&r(t,"filter")&&i(this.scanner))return this.scanner.skipSC(),this.Raw(this.scanner.currentToken,h,c,!1,!1);var e=this.scanner.tokenStart,n=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){this.each(t,e)}}},function(t,e,n){var i=n(2159).TYPE.WhiteSpace,r=Object.freeze({type:"WhiteSpace",loc:null,value:" "});t.exports={name:"WhiteSpace",structure:{value:String},parse:function(){return this.scanner.eat(i),r},generate:function(t,e){t(e.value)}}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.Identifier())}}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.SelectorList())}}},function(t,e,n){t.exports={dir:n(2878),has:n(2879),lang:n(2881),matches:n(2882),not:n(2883),"nth-child":n(2884),"nth-last-child":n(2885),"nth-last-of-type":n(2886),"nth-of-type":n(2887),slotted:n(2888)}},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.Identifier())}}},function(t,e,n){t.exports=n(2516)},function(t,e,n){t.exports=n(2516)},function(t,e,n){t.exports=n(2515)},function(t,e,n){t.exports=n(2515)},function(t,e,n){t.exports=n(2514)},function(t,e,n){t.exports=n(2514)},function(t,e,n){var i=n(2160);t.exports={parse:function(){return(new i).appendData(this.Selector())}}},function(t,e,n){t.exports={getNode:n(2517)}},function(t,e,n){t.exports={AtrulePrelude:n(2889),Selector:n(2891),Value:n(2892)}},function(t,e,n){function i(t){switch(this.scanner.tokenType){case u:case f:case m:return t.space=null,t.ignoreWSAfter=!0,this.Combinator();case c:return this.Combinator();case p:return this.ClassSelector();case l:return this.AttributeSelector();case s:return this.IdSelector();case d:return this.scanner.lookupType(1)===d?this.PseudoElementSelector():this.PseudoClassSelector();case o:case h:case g:return this.TypeSelector();case a:return this.Percentage()}}var r=n(2159).TYPE,o=r.Identifier,a=r.Number,s=r.NumberSign,l=r.LeftSquareBracket,u=r.PlusSign,c=r.Solidus,h=r.Asterisk,p=r.FullStop,d=r.Colon,f=r.GreaterThanSign,g=r.VerticalLine,m=r.Tilde;t.exports={getNode:i}},function(t,e,n){t.exports={getNode:n(2517),"-moz-element":n(2513),element:n(2513),expression:n(2835),var:n(2836)}},function(t,e,n){"use strict";function i(t,e){var n=e.length,i=h(e),r=t.lines,o=t.startLine,a=t.columns,s=t.startColumn;(null===r||r.length<n+1)&&(r=new nt(Math.max(n+1024,$)),a=new nt(r.length));for(var l=i;l<n;l++){var u=e.charCodeAt(l);r[l]=o,a[l]=s++,u!==M&&u!==D&&u!==N||(u===D&&l+1<n&&e.charCodeAt(l+1)===M&&(l++,r[l]=o,a[l]=s),o++,s=1)}r[l]=o,a[l]=s,t.linesAnsColumnsComputed=!0,t.lines=r,t.columns=a}function r(t,e,n){var i=e.length,r=t.offsetAndType,o=t.balance,a=0,s=0,l=n,c=0,h=0,f=0,M=0;for((null===r||r.length<i+1)&&(r=new nt(i+1024),o=new nt(i+1024));l<i;){var N=e.charCodeAt(l),D=N<128?u[N]:_;switch(o[a]=i,D){case x:l=g(e,l+1);break;case T:switch(N){case h:for(M=f&tt,f=o[M],h=f>>et,o[a]=M,o[M++]=a;M<a;M++)o[M]===i&&(o[M]=a);break;case Q:o[a]=f,h=J,f=h<<et|a;break;case X:o[a]=f,h=K,f=h<<et|a;break;case q:o[a]=f,h=Z,f=h<<et|a}if(N===R&&s===F){D=C,l=m(e,l+1),a--;break}if(N===G&&(s===j||s===z)&&l+1<i&&d(e.charCodeAt(l+1))){D=E,l=v(e,l+2,!1),a--;break}if(N===H&&s===B&&l+2<i&&e.charCodeAt(l+1)===z&&e.charCodeAt(l+2)===z){D=k,l+=3,a--;break}if(N===z&&s===z&&l+1<i&&e.charCodeAt(l+1)===U){D=O,l+=2,a--;break}if(N===q&&s===_){l+=1,a--,o[a]=o[a+1],f--,l-c==4&&p(e,c,l,"url(")?(c=g(e,l),N=e.charCodeAt(c),N!==q&&N!==Z&&N!==V&&N!==W?(r[a++]=A<<et|l,o[a]=i,c!==l&&(r[a++]=x<<et|c,o[a]=i),D=P,l=w(e,c)):D=A):D=I;break}D=N,l+=1;break;case E:l=v(e,l+1,s!==G),s!==G&&s!==z&&s!==j||a--;break;case S:l=y(e,l+1,N);break;default:c=l,l=b(e,l),s===z&&(a--,s=0===a?0:r[a-1]>>et),s===Y&&(a--,D=L)}r[a++]=D<<et|l,s=D}for(r[a]=l,o[a]=i,o[i]=i;0!==f;)M=f&tt,f=o[M],o[M]=i;t.offsetAndType=r,t.tokenCount=a,t.balance=o}var o=n(2894),a=n(2518),s=a.TYPE,l=a.NAME,u=a.SYMBOL_TYPE,c=n(2895),h=c.firstCharOffset,p=c.cmpStr,d=c.isNumber,f=c.findLastNonSpaceLocation,g=c.findWhiteSpaceEnd,m=c.findCommentEnd,y=c.findStringEnd,v=c.findNumberEnd,b=c.findIdentifierEnd,w=c.findUrlRawEnd,x=s.WhiteSpace,_=s.Identifier,E=s.Number,S=s.String,C=s.Comment,T=s.Punctuator,k=s.CDO,O=s.CDC,L=s.Atrule,I=s.Function,A=s.Url,P=s.Raw,M=10,N=12,D=13,R=s.Asterisk,F=s.Solidus,G=s.FullStop,j=s.PlusSign,z=s.HyphenMinus,U=s.GreaterThanSign,B=s.LessThanSign,H=s.ExclamationMark,Y=s.CommercialAt,V=s.QuotationMark,W=s.Apostrophe,q=s.LeftParenthesis,Z=s.RightParenthesis,X=s.LeftCurlyBracket,K=s.RightCurlyBracket,Q=s.LeftSquareBracket,J=s.RightSquareBracket,$=16384,tt=16777215,et=24,nt="undefined"!=typeof Uint32Array?Uint32Array:Array,it=function(t,e,n,i){this.offsetAndType=null,this.balance=null,this.lines=null,this.columns=null,this.setSource(t,e,n,i)};it.prototype={setSource:function(t,e,n,i){var o=String(t||""),a=h(o);this.source=o,this.firstCharOffset=a,this.startOffset=void 0===e?0:e,this.startLine=void 0===n?1:n,this.startColumn=void 0===i?1:i,this.linesAnsColumnsComputed=!1,this.eof=!1,this.currentToken=-1,this.tokenType=0,this.tokenStart=a,this.tokenEnd=a,r(this,o,a),this.next()},lookupType:function(t){return t+=this.currentToken,t<this.tokenCount?this.offsetAndType[t]>>et:0},lookupNonWSType:function(t){t+=this.currentToken;for(var e;t<this.tokenCount;t++)if((e=this.offsetAndType[t]>>et)!==x)return e;return 0},lookupValue:function(t,e){return(t+=this.currentToken)<this.tokenCount&&p(this.source,this.offsetAndType[t-1]&tt,this.offsetAndType[t]&tt,e)},getTokenStart:function(t){return t===this.currentToken?this.tokenStart:t>0?t<this.tokenCount?this.offsetAndType[t-1]&tt:this.offsetAndType[this.tokenCount]&tt:this.firstCharOffset},getOffsetExcludeWS:function(){return this.currentToken>0&&this.offsetAndType[this.currentToken-1]>>et===x?this.currentToken>1?this.offsetAndType[this.currentToken-2]&tt:this.firstCharOffset:this.tokenStart},getRawLength:function(t,e,n,i){var r,o=t;t:for(;o<this.tokenCount&&!((r=this.balance[o])<t);o++)switch(this.offsetAndType[o]>>et){case e:break t;case n:i&&o++;break t;default:this.balance[r]===o&&(o=r)}return o-this.currentToken},getTokenValue:function(){return this.source.substring(this.tokenStart,this.tokenEnd)},substrToCursor:function(t){return this.source.substring(t,this.tokenStart)},skipWS:function(){for(var t=this.currentToken,e=0;t<this.tokenCount&&this.offsetAndType[t]>>et===x;t++,e++);e>0&&this.skip(e)},skipSC:function(){for(;this.tokenType===x||this.tokenType===C;)this.next()},skip:function(t){var e=this.currentToken+t;e<this.tokenCount?(this.currentToken=e,this.tokenStart=this.offsetAndType[e-1]&tt,e=this.offsetAndType[e],this.tokenType=e>>et,this.tokenEnd=e&tt):(this.currentToken=this.tokenCount,this.next())},next:function(){var t=this.currentToken+1;t<this.tokenCount?(this.currentToken=t,this.tokenStart=this.tokenEnd,t=this.offsetAndType[t],this.tokenType=t>>et,this.tokenEnd=t&tt):(this.currentToken=this.tokenCount,this.eof=!0,this.tokenType=0,this.tokenStart=this.tokenEnd=this.source.length)},eat:function(t){if(this.tokenType!==t){var e=this.tokenStart,n=l[t]+" is expected";t===_?this.tokenType!==I&&this.tokenType!==A||(e=this.tokenEnd-1,n+=" but function found"):this.source.charCodeAt(this.tokenStart)===t&&(e+=1),this.error(n,e)}this.next()},eatNonWS:function(t){this.skipWS(),this.eat(t)},consume:function(t){var e=this.getTokenValue();return this.eat(t),e},consumeFunctionName:function(){var t=this.source.substring(this.tokenStart,this.tokenEnd-1);return this.eat(I),t},consumeNonWS:function(t){return this.skipWS(),this.consume(t)},expectIdentifier:function(t){this.tokenType===_&&!1!==p(this.source,this.tokenStart,this.tokenEnd,t)||this.error("Identifier `"+t+"` is expected"),this.next()},getLocation:function(t,e){return this.linesAnsColumnsComputed||i(this,this.source),{source:e,offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}},getLocationRange:function(t,e,n){return this.linesAnsColumnsComputed||i(this,this.source),{source:n,start:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]},end:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}},error:function(t,e){var n=void 0!==e&&e<this.source.length?this.getLocation(e):this.eof?f(this):this.getLocation(this.tokenStart);throw new o(t||"Unexpected input",this.source,n.offset,n.line,n.column)},dump:function(){var t=0;return Array.prototype.slice.call(this.offsetAndType,0,this.tokenCount).map(function(e,n){var i=t,r=e&tt;return t=r,{idx:n,type:l[e>>et],chunk:this.source.substring(i,r),balance:this.balance[n]}},this)}},it.CssSyntaxError=o,Object.keys(a).forEach(function(t){it[t]=a[t]}),Object.keys(c).forEach(function(t){it[t]=c[t]}),new it("\n\r\r\n\f\x3c!----\x3e//\"\"''/*\r\n\f*/1a;.\\31\t+2{url(a);func();+1.2e3 -.4e-5 .6e+7}").getLocation(),t.exports=it},function(t,e,n){"use strict";function i(t,e){function n(t,e){return i.slice(t,e).map(function(e,n){for(var i=String(t+n+1);i.length<h;)i=" "+i;return i+" |"+e}).join("\n")}var i=t.source.split(/\n|\r\n?|\f/),s=t.line,l=t.column,u=Math.max(1,s-e)-1,c=Math.min(s+e,i.length+1),h=Math.max(4,String(c).length)+1,p=0;(l+=(a.length-1)*(i[s-1].substr(0,l-1).match(/\t/g)||[]).length)>r&&(p=l-o+3,l=o-2);for(var d=u;d<=c;d++)d>=0&&d<i.length&&(i[d]=i[d].replace(/\t/g,a),i[d]=(p>0&&i[d].length>p?"…":"")+i[d].substr(p,r-2)+(i[d].length>p+r-1?"…":""));return[n(u,s),new Array(l+h+2).join("-")+"^",n(s,c)].join("\n")}var r=100,o=60,a="    ",s=function(t,e,n,r,o){var a=Object.create(SyntaxError.prototype);return a.name="CssSyntaxError",a.message=t,a.stack=((new Error).stack||"").replace(/^.+\n/,a.name+": "+a.message+"\n"),a.source=e,a.offset=n,a.line=r,a.column=o,a.sourceFragment=function(t){return i(a,isNaN(t)?0:t)},Object.defineProperty(a,"formattedMessage",{get:function(){return"Parse error: "+a.message+"\n"+i(a,2)}}),a.parseError={offset:n,line:r,column:o},a};t.exports=s},function(t,e,n){"use strict";function i(t){return 65279===t.charCodeAt(0)||65534===t.charCodeAt(0)?1:0}function r(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function o(t){return t>=48&&t<=57}function a(t,e,n){return n===O||n===L||n===I?n===I&&e+1<t.length&&t.charCodeAt(e+1)===O?2:1:0}function s(t,e,n){var i=t.charCodeAt(e);return i>=65&&i<=90&&(i|=32),i===n}function l(t,e,n,i){if(n-e!==i.length)return!1;if(e<0||n>t.length)return!1;for(var r=e;r<n;r++){var o=t.charCodeAt(r),a=i.charCodeAt(r-e);if(o>=65&&o<=90&&(o|=32),o!==a)return!1}return!0}function u(t,e){return l(t,t.length-e.length,t.length,e)}function c(t){for(var e=t.source.length-1;e>=0;e--){var n=t.source.charCodeAt(e);if(n!==A&&n!==k&&n!==I&&n!==O&&n!==L)break}return t.getLocation(e+1)}function h(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n!==A&&n!==k&&n!==I&&n!==O&&n!==L)break}return e}function p(t,e){var n=t.indexOf("*/",e);return-1===n?t.length:n+2}function d(t,e,n){for(;e<t.length;e++){
var i=t.charCodeAt(e);if(i===P)e++;else if(i===n){e++;break}}return e}function f(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)break}return e}function g(t,e,n){var i;return e=f(t,e),n&&e+1<t.length&&t.charCodeAt(e)===E&&(i=t.charCodeAt(e+1),o(i)&&(e=f(t,e+1))),e+1<t.length&&(32|t.charCodeAt(e))===M&&(i=t.charCodeAt(e+1),i!==S&&i!==C||e+2<t.length&&(i=t.charCodeAt(e+2)),o(i)&&(e=f(t,e+2))),e}function m(t,e){for(var n=0;n<7&&e+n<t.length;n++){var i=t.charCodeAt(e+n);if(6===n||!r(i)){n>0&&(e+=n-1+a(t,e+n,i),i!==A&&i!==k||e++);break}}return e}function y(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n===P)e=m(t,e+1);else if(n<128&&w[n]===T)break}return e}function v(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n===P)e=m(t,e+1);else if(n<128&&1===x[n])break}return e}var b=n(2518),w=b.PUNCTUATION,x=b.STOP_URL_RAW,_=b.TYPE,E=_.FullStop,S=_.PlusSign,C=_.HyphenMinus,T=_.Punctuator,k=9,O=10,L=12,I=13,A=32,P=92,M=101;t.exports={firstCharOffset:i,isHex:r,isNumber:o,isNewline:a,cmpChar:s,cmpStr:l,endsWith:u,findLastNonSpaceLocation:c,findWhiteSpaceEnd:h,findCommentEnd:p,findStringEnd:d,findDecimalNumberEnd:f,findNumberEnd:g,findEscaseEnd:m,findIdentifierEnd:y,findUrlRawEnd:v}},function(t,e,n){"use strict";var i=n(2160);t.exports=function t(e){var n={};for(var r in e){var o=e[r];o&&(Array.isArray(o)?o=o.slice(0):o instanceof i?o=(new i).fromArray(o.map(t)):o.constructor===Object&&(o=t(o))),n[r]=o}return n}},function(t,e,n){"use strict";function i(t,e,n){switch(t.type){case"StyleSheet":var r=this.stylesheet;this.stylesheet=t,t.children.each(i,this),this.stylesheet=r;break;case"Atrule":if(null!==t.block){var o=this.atrule;this.atrule=t,i.call(this,t.block),this.atrule=o}this.fn(t,e,n);break;case"Rule":this.fn(t,e,n);var a=this.rule;this.rule=t,i.call(this,t.block),this.rule=a;break;case"Block":var s=this.block;this.block=t,t.children.each(i,this),this.block=s}}function r(t,e,n){switch(t.type){case"StyleSheet":var i=this.stylesheet;this.stylesheet=t,t.children.eachRight(r,this),this.stylesheet=i;break;case"Atrule":if(null!==t.block){var o=this.atrule;this.atrule=t,r.call(this,t.block),this.atrule=o}this.fn(t,e,n);break;case"Rule":var a=this.rule;this.rule=t,r.call(this,t.block),this.rule=a,this.fn(t,e,n);break;case"Block":var s=this.block;this.block=t,t.children.eachRight(r,this),this.block=s}}function o(t){switch(t.type){case"StyleSheet":var e=this.stylesheet;this.stylesheet=t,t.children.each(o,this),this.stylesheet=e;break;case"Atrule":if(null!==t.block){var n=this.atrule;this.atrule=t,o.call(this,t.block),this.atrule=n}break;case"Rule":var i=this.rule;this.rule=t,null!==t.block&&o.call(this,t.block),this.rule=i;break;case"Block":t.children.each(function(t,e,n){"Declaration"===t.type?this.fn(t,e,n):o.call(this,t)},this)}}function a(t,e){var n=e.structure,i=[];for(var r in n)if(!1!==u.call(n,r)){var o=n[r],a={name:r,type:!1,nullable:!1};Array.isArray(n[r])||(o=[n[r]]);for(var s=0;s<o.length;s++){var l=o[s];null===l?a.nullable=!0:"string"==typeof l?a.type="node":Array.isArray(l)&&(a.type="list")}a.type&&i.push(a)}return i.length?{context:e.walkContext,fields:i}:null}function s(t){var e={};if(t.node)for(var n in t.node)if(u.call(t.node,n)){var i=t.node[n];if(!i.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");var r=a(n,i);null!==r&&(e[n]=r)}return e}function l(t,e){return{fn:e,root:t,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null}}var u=Object.prototype.hasOwnProperty;t.exports=function(t){var e=s(t),n={};for(var a in e)if(u.call(e,a)){var t=e[a];n[a]=Function("node","context","walk",(t.context?"var old = context."+t.context+";\ncontext."+t.context+" = node;\n":"")+t.fields.map(function(t){var e="list"===t.type?"node."+t.name+".each(walk);":"walk(node."+t.name+");";return t.nullable&&(e="if (node."+t.name+") {\n    "+e+"}"),e}).join("\n")+(t.context?"\ncontext."+t.context+" = old;":""))}return{walk:function(t,e){function i(t,o,a){e.call(r,t,o,a),n.hasOwnProperty(t.type)&&n[t.type](t,r,i)}var r=l(t,e);i(t)},walkUp:function(t,e){function i(t,o,a){n.hasOwnProperty(t.type)&&n[t.type](t,r,i),e.call(r,t,o,a)}var r=l(t,e);i(t)},walkRules:function(t,e){i.call(l(t,e),t)},walkRulesRight:function(t,e){r.call(l(t,e),t)},walkDeclarations:function(t,e){o.call(l(t,e),t)}}}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(2279),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];i(this,t),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var a=0;a<n.length;a++)if(!o.default(n[a]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return t.prototype.add=function(t){this.isDisposed?t.dispose():this.disposables.push(t)},t.prototype.remove=function(t){if(this.isDisposed)return!1;var e=this.disposables.indexOf(t);return-1!==e&&(this.disposables.splice(e,1),t.dispose(),!0)},t.prototype.dispose=function(){if(!this.isDisposed){for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(var n=0;n<t;n++)e[n].dispose()}},t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){},a=function(){function t(e){i(this,t),this.isDisposed=!1,this.action=e||o}return r(t,null,[{key:"empty",value:{dispose:o},enumerable:!0}]),t.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=n(2279),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=function(){function t(){i(this,t),this.isDisposed=!1,this.current=null}return t.prototype.getDisposable=function(){return this.current},t.prototype.setDisposable=function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=t&&!o.default(t))throw new Error("Expected either an empty value or a valid disposable");var e=this.isDisposed,n=void 0;e||(n=this.current,this.current=t),n&&n.dispose(),e&&t&&t.dispose()},t.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}},t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(2279),o=i(r);e.isDisposable=o.default;var a=n(2914),s=i(a);e.Disposable=s.default;var l=n(2913),u=i(l);e.CompositeDisposable=u.default;var c=n(2915),h=i(c);e.SerialDisposable=h.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2929),s=i(a),l=n(2925),u=i(l),c=n(2240),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),p=n(2918),d=i(p),f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var i=(0,s.default)(u.default);this.context=n,this.store=i,this.monitor=new d.default(i),this.registry=this.monitor.registry,this.backend=e(this),i.subscribe(this.handleRefCountChange.bind(this))}return o(t,[{key:"handleRefCountChange",value:function(){var t=this.store.getState().refCount>0;t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){function t(t){return function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=t.apply(e,r);void 0!==a&&n(a)}}var e=this,n=this.store.dispatch;return Object.keys(h).filter(function(t){return"function"==typeof h[t]}).reduce(function(e,n){var i=h[n];return e[n]=t(i),e},{})}}]),t}();e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(90),s=i(a),l=n(44),u=i(l),c=n(2528),h=i(c),p=n(2921),d=i(p),f=n(2527),g=n(2526),m=function(){function t(e){r(this,t),this.store=e,this.registry=new d.default(e)}return o(t,[{key:"subscribeToStateChange",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.handlerIds;(0,s.default)("function"==typeof t,"listener must be a function."),(0,s.default)(void 0===i||(0,u.default)(i),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,o=function(){var n=e.store.getState(),o=n.stateId;try{o===r||o===r+1&&!(0,g.areDirty)(n.dirtyHandlerIds,i)||t()}finally{r=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(t){var e=this;(0,s.default)("function"==typeof t,"listener must be a function.");var n=this.store.getState().dragOffset,i=function(){var i=e.store.getState().dragOffset;i!==n&&(n=i,t())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(t){var e=this.registry.getSource(t);return(0,s.default)(e,"Expected to find a valid source."),!this.isDragging()&&e.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){var e=this.registry.getTarget(t);if((0,s.default)(e,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(t),i=this.getItemType();return(0,h.default)(n,i)&&e.canDrop(this,t)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(t){var e=this.registry.getSource(t,!0);return(0,s.default)(e,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(t)===this.getItemType()&&e.isDragging(this,t))}},{key:"isOverTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},n=e.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(t),r=this.getItemType();if(!(0,h.default)(i,r))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(t);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,f.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,f.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),t}();e.default=m},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(t,e){return e===t.getSourceId()}},{key:"endDrag",value:function(){}}]),t}();e.default=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),t}();e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){(0,d.default)("function"==typeof t.canDrag,"Expected canDrag to be a function."),(0,d.default)("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),(0,d.default)("function"==typeof t.endDrag,"Expected endDrag to be a function.")}function a(t){(0,d.default)("function"==typeof t.canDrop,"Expected canDrop to be a function."),(0,d.default)("function"==typeof t.hover,"Expected hover to be a function."),(0,d.default)("function"==typeof t.drop,"Expected beginDrag to be a function.")}function s(t,e){if(e&&(0,g.default)(t))return void t.forEach(function(t){return s(t,!1)});(0,d.default)("string"==typeof t||"symbol"===(void 0===t?"undefined":h(t)),e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function l(t){var e=(0,w.default)().toString();switch(t){case x.SOURCE:return"S"+e;case x.TARGET:return"T"+e;default:(0,d.default)(!1,"Unknown role: "+t)}}function u(t){switch(t[0]){case"S":return x.SOURCE;case"T":return x.TARGET;default:(0,d.default)(!1,"Cannot parse handler ID: "+t)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=n(90),d=i(p),f=n(44),g=i(f),m=n(2670),y=i(m),v=n(2241),b=n(2928),w=i(b),x={SOURCE:"SOURCE",TARGET:"TARGET"},_=function(){function t(e){r(this,t),this.store=e,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return c(t,[{key:"addSource",value:function(t,e){s(t),o(e);var n=this.addHandler(x.SOURCE,t,e);return this.store.dispatch((0,v.addSource)(n)),n}},{key:"addTarget",value:function(t,e){s(t,!0),a(e);var n=this.addHandler(x.TARGET,t,e);return this.store.dispatch((0,v.addTarget)(n)),n}},{key:"addHandler",value:function(t,e,n){var i=l(t);return this.types[i]=e,this.handlers[i]=n,i}},{key:"containsHandler",value:function(t){var e=this;return Object.keys(this.handlers).some(function(n){return e.handlers[n]===t})}},{key:"getSource",value:function(t,e){return(0,d.default)(this.isSourceId(t),"Expected a valid source ID."),e&&t===this.pinnedSourceId?this.pinnedSource:this.handlers[t]}},{key:"getTarget",value:function(t){return(0,d.default)(this.isTargetId(t),"Expected a valid target ID."),this.handlers[t]}},{key:"getSourceType",value:function(t){return(0,d.default)(this.isSourceId(t),"Expected a valid source ID."),this.types[t]}},{key:"getTargetType",value:function(t){return(0,d.default)(this.isTargetId(t),"Expected a valid target ID."),this.types[t]}},{key:"isSourceId",value:function(t){return u(t)===x.SOURCE}},{key:"isTargetId",value:function(t){return u(t)===x.TARGET}},{key:"removeSource",value:function(t){var e=this;(0,d.default)(this.getSource(t),"Expected an existing source."),this.store.dispatch((0,v.removeSource)(t)),(0,y.default)(function(){delete e.handlers[t],delete e.types[t]})}},{key:"removeTarget",value:function(t){var e=this;(0,d.default)(this.getTarget(t),"Expected an existing target."),this.store.dispatch((0,v.removeTarget)(t)),(0,y.default)(function(){delete e.handlers[t],delete e.types[t]})}},{key:"pinSource",value:function(t){var e=this.getSource(t);(0,d.default)(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}},{key:"unpinSource",value:function(){(0,d.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),t}();e.default=_},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return new l(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=r;var a=n(447),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=function(){function t(e){i(this,t),this.actions=e.getActions()}return o(t,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return s.default}},{key:"connectDragPreview",value:function(){return s.default}},{key:"connectDropTarget",value:function(){return s.default}},{key:"simulateBeginDrag",value:function(t,e){this.actions.beginDrag(t,e)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(t,e){this.actions.hover(t,e)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2917);Object.defineProperty(e,"DragDropManager",{enumerable:!0,get:function(){return i(r).default}});var o=n(2919);Object.defineProperty(e,"DragSource",{enumerable:!0,get:function(){return i(o).default}});var a=n(2920);Object.defineProperty(e,"DropTarget",{enumerable:!0,get:function(){return i(a).default}});var s=n(2922);Object.defineProperty(e,"createTestBackend",{enumerable:!0,get:function(){return i(s).default}})},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments[1];switch(e.type){case s.BEGIN_DRAG:return r({},t,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},t,{isSourcePublic:!0});case s.HOVER:return r({},t,{targetIds:e.targetIds});case l.REMOVE_TARGET:return-1===t.targetIds.indexOf(e.targetId)?t:r({},t,{targetIds:(0,a.default)(t.targetIds,e.targetId)});case s.DROP:return r({},t,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=i;var o=n(2626),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(2240),l=n(2241),u={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return{dirtyHandlerIds:(0,p.default)(t.dirtyHandlerIds,e,t.dragOperation),dragOffset:(0,a.default)(t.dragOffset,e),refCount:(0,c.default)(t.refCount,e),dragOperation:(0,l.default)(t.dragOperation,e),stateId:(0,f.default)(t.stateId)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2527),a=i(o),s=n(2924),l=i(s),u=n(2926),c=i(u),h=n(2526),p=i(h),d=n(2927),f=i(d)},function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case r.ADD_SOURCE:case r.ADD_TARGET:return t+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return t-1;default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(2241)},function(t,e,n){"use strict";function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(){return r++}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){function i(){y===m&&(y=m.slice())}function o(){return g}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return i(),y.push(t),function(){if(e){e=!1,i();var n=y.indexOf(t);y.splice(n,1)}}}function c(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,g=f(g,t)}finally{v=!1}for(var e=m=y,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");f=t,c({type:u.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[l.default]=function(){return this},t}var d;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var f=t,g=e,m=[],y=m,v=!1;return c({type:u.INIT}),d={dispatch:c,subscribe:s,getState:o,replaceReducer:h},d[l.default]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e.default=r;var o=n(434),a=i(o),s=n(292),l=i(s),u=e.ActionTypes={INIT:"@@redux/INIT"}},,function(t,e,n){"use strict";var i=n(2529);t.exports=function(t){function e(t,e){function n(){e(t)}if(i.isIE(8))u(t).object={proxy:n},t.attachEvent("onresize",n);else{var r=o(t);if(!r)throw new Error("Element is not detectable by this strategy.");r.contentDocument.defaultView.addEventListener("resize",n)}}function n(e){var n=t.important?" !important; ":"; ";return(e.join(n)+n).trim()}function r(t,e,r){r||(r=e,e=t,t=null),t=t||{};t.debug;i.isIE(8)?r(e):function(e,r){function o(){function n(){if("static"===h.position){e.style.setProperty("position","relative",t.important?"important":"");var n=function(e,n,i,r){var o=i[r];"auto"!==o&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",n),n.style.setProperty(r,"0",t.important?"important":""))};n(s,e,h,"top"),n(s,e,h,"right"),n(s,e,h,"bottom"),n(s,e,h,"left")}}function o(){function t(e,n){if(!e.contentDocument){var i=u(e);return i.checkForObjectDocumentTimeoutId&&window.clearTimeout(i.checkForObjectDocumentTimeoutId),void(i.checkForObjectDocumentTimeoutId=setTimeout(function(){i.checkForObjectDocumentTimeoutId=0,t(e,n)},100))}n(e.contentDocument)}c||n(),t(this,function(t){r(e)})}""!==h.position&&(n(h),c=!0);var l=document.createElement("object");l.style.cssText=a,l.tabIndex=-1,l.type="text/html",l.setAttribute("aria-hidden","true"),l.onload=o,i.isIE()||(l.data="about:blank"),u(e)&&(e.appendChild(l),u(e).object=l,i.isIE()&&(l.data="about:blank"))}var a=n(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),c=!1,h=window.getComputedStyle(e),p=e.offsetWidth,d=e.offsetHeight;u(e).startSize={width:p,height:d},l?l.add(o):o()}(e,r)}function o(t){return u(t).object}function a(t){if(u(t)){var e=o(t);e&&(i.isIE(8)?t.detachEvent("onresize",e.proxy):t.removeChild(e),u(t).checkForObjectDocumentTimeoutId&&window.clearTimeout(u(t).checkForObjectDocumentTimeoutId),delete u(t).object)}}t=t||{};var s=t.reporter,l=t.batchProcessor,u=t.stateHandler.getState;if(!s)throw new Error("Missing required dependency: reporter.");return{makeDetectable:r,addListener:e,uninstall:a}}},function(t,e,n){"use strict";var i=n(2530).forEach;t.exports=function(t){function e(t){r(t,v,b)}function n(e){var n=t.important?" !important; ":"; ";return(e.join(n)+n).trim()}function r(t,e,i){if(!t.getElementById(e)){var r=i+"_animation",o=i+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+i+" > div::-webkit-scrollbar { "+n(["display: none"])+" }\n\n",a+="."+o+" { "+n(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",a+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",a+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",function(n,i){i=i||function(e){t.head.appendChild(e)};var r=t.createElement("style");r.innerHTML=n,r.id=e,i(r)}(a)}}function o(t){t.className+=" "+b+"_animation_active"}function a(t,e,n){if(t.addEventListener)t.addEventListener(e,n);else{if(!t.attachEvent)return d.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+e,n)}}function s(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n);else{if(!t.detachEvent)return d.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+e,n)}}function l(t){return g(t).container.childNodes[0].childNodes[0].childNodes[0]}function u(t){return g(t).container.childNodes[0].childNodes[0].childNodes[1]}function c(t,e){if(!g(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");g(t).listeners.push(e)}function h(t,e,r){function s(){if(t.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(m.get(e),"Scroll: "),d.log.apply)d.log.apply(null,n);else for(var i=0;i<n.length;i++)d.log(n[i])}}function c(t){var e=g(t).container.childNodes[0],n=window.getComputedStyle(e);return!n.width||-1===n.width.indexOf("px")}function h(){var t=window.getComputedStyle(e),n={};return n.position=t.position,n.width=e.offsetWidth,n.height=e.offsetHeight,n.top=t.top,n.right=t.right,n.bottom=t.bottom,n.left=t.left,n.widthCSS=t.width,n.heightCSS=t.height,n}function p(){var t=h();g(e).startSize={width:t.width,height:t.height},s("Element start size",g(e).startSize)}function v(){g(e).listeners=[]}function w(){if(s("storeStyle invoked."),!g(e))return void s("Aborting because element has been uninstalled");var t=h();g(e).style=t}function x(t,e,n){g(t).lastWidth=e,g(t).lastHeight=n}function _(t){return l(t).childNodes[0]}function E(){return 2*y.width+1}function S(){return 2*y.height+1}function C(t){return t+10+E()}function T(t){return t+10+S()}function k(t){return 2*t+E()}function O(t){return 2*t+S()}function L(t,e,n){var i=l(t),r=u(t),o=C(e),a=T(n),s=k(e),c=O(n);i.scrollLeft=o,i.scrollTop=a,r.scrollLeft=s,r.scrollTop=c}function I(){var t=g(e).container;if(!t){t=document.createElement("div"),t.className=b,t.style.cssText=n(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),g(e).container=t,o(t),e.appendChild(t);var i=function(){g(e).onRendered&&g(e).onRendered()};a(t,"animationstart",i),g(e).onAnimationStart=i}return t}function A(){function i(){g(e).onExpand&&g(e).onExpand()}function r(){g(e).onShrink&&g(e).onShrink()}if(s("Injecting elements"),!g(e))return void s("Aborting because element has been uninstalled");!function(){var n=g(e).style;if("static"===n.position){e.style.setProperty("position","relative",t.important?"important":"");var i=function(t,e,n,i){var r=n[i];"auto"!==r&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(r)&&(t.warn("An element that is positioned static has style."+i+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",e),e.style[i]=0)};i(d,e,n,"top"),i(d,e,n,"right"),i(d,e,n,"bottom"),i(d,e,n,"left")}}();var o=g(e).container;o||(o=I());var l=y.width,u=y.height,c=n(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),h=n(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(function(t,e,n,i){return t=t?t+"px":"0",e=e?e+"px":"0",n=n?n+"px":"0",i=i?i+"px":"0",["left: "+t,"top: "+e,"right: "+i,"bottom: "+n]}(-(1+l),-(1+u),-u,-l))),p=n(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),f=n(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),m=n(["position: absolute","left: 0","top: 0"]),v=n(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),x=document.createElement("div"),_=document.createElement("div"),E=document.createElement("div"),S=document.createElement("div"),C=document.createElement("div");w.dir="ltr",w.style.cssText=c,w.className=b,x.className=b,x.style.cssText=h,_.style.cssText=p,E.style.cssText=m,S.style.cssText=f,C.style.cssText=v,_.appendChild(E),S.appendChild(C),x.appendChild(_),x.appendChild(S),w.appendChild(x),o.appendChild(w),a(_,"scroll",i),a(S,"scroll",r),g(e).onExpandScroll=i,g(e).onShrinkScroll=r}function P(){function n(e,n,i){var r=_(e),o=C(n),a=T(i);r.style.setProperty("width",o+"px",t.important?"important":""),r.style.setProperty("height",a+"px",t.important?"important":"")}function r(i){var r=e.offsetWidth,a=e.offsetHeight,l=r!==g(e).lastWidth||a!==g(e).lastHeight;s("Storing current size",r,a),x(e,r,a),f.add(0,function(){if(l){if(!g(e))return void s("Aborting because element has been uninstalled");if(!o())return void s("Aborting because element container has not been initialized");if(t.debug){var i=e.offsetWidth,u=e.offsetHeight;i===r&&u===a||d.warn(m.get(e),"Scroll: Size changed before updating detector elements.")}n(e,r,a)}}),f.add(1,function(){
return g(e)?o()?void L(e,r,a):void s("Aborting because element container has not been initialized"):void s("Aborting because element has been uninstalled")}),l&&i&&f.add(2,function(){return g(e)?o()?void i():void s("Aborting because element container has not been initialized"):void s("Aborting because element has been uninstalled")})}function o(){return!!g(e).container}function a(){s("notifyListenersIfNeeded invoked");var t=g(e);return function(){return void 0===g(e).lastNotifiedWidth}()&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?s("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?s("Not notifying: Size already notified"):(s("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void i(g(e).listeners,function(t){t(e)}))}function h(){if(s("startanimation triggered."),c(e))return void s("Ignoring since element is still unrendered...");s("Element rendered.");var t=l(e),n=u(e);0!==t.scrollLeft&&0!==t.scrollTop&&0!==n.scrollLeft&&0!==n.scrollTop||(s("Scrollbars out of sync. Updating detector elements..."),r(a))}function p(){if(s("Scroll detected."),c(e))return void s("Scroll event fired while unrendered. Ignoring...");r(a)}if(s("registerListenersAndPositionElements invoked."),!g(e))return void s("Aborting because element has been uninstalled");g(e).onRendered=h,g(e).onExpand=p,g(e).onShrink=p;var y=g(e).style;n(e,y.width,y.height)}function M(){if(s("finalizeDomMutation invoked."),!g(e))return void s("Aborting because element has been uninstalled");var t=g(e).style;x(e,t.width,t.height),L(e,t.width,t.height)}function N(){r(e)}function D(){s("Installing..."),v(),p(),f.add(0,w),f.add(1,A),f.add(2,P),f.add(3,M),f.add(4,N)}r||(r=e,e=t,t=null),t=t||{},s("Making detectable..."),!function(t){return!function(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}(t)||null===window.getComputedStyle(t)}(e)?D():(s("Element is detached"),I(),s("Waiting until element is attached..."),g(e).onRendered=function(){s("Element is now attached"),D()})}function p(t){var e=g(t);e&&(e.onExpandScroll&&s(l(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&s(u(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&s(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))}t=t||{};var d=t.reporter,f=t.batchProcessor,g=t.stateHandler.getState,m=(t.stateHandler.hasState,t.idHandler);if(!f)throw new Error("Missing required dependency: batchProcessor");if(!d)throw new Error("Missing required dependency: reporter.");var y=function(){var t=document.createElement("div");t.style.cssText=n(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var e=document.createElement("div");e.style.cssText=n(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),e.appendChild(t),document.body.insertBefore(e,document.body.firstChild);var i=500-e.clientWidth,r=500-e.clientHeight;return document.body.removeChild(e),{width:i,height:r}}(),v="erd_scroll_detection_scrollbar_style",b="erd_scroll_detection_container";return e(window.document),{makeDetectable:h,addListener:c,uninstall:p,initDocument:e}}},function(t,e,n){"use strict";function i(t){return Array.isArray(t)||void 0!==t.length}function r(t){if(Array.isArray(t))return t;var e=[];return s(t,function(t){e.push(t)}),e}function o(t){return t&&1===t.nodeType}function a(t,e,n){var i=t[e];return void 0!==i&&null!==i||void 0===n?i:n}var s=n(2530).forEach,l=n(2934),u=n(2937),c=n(2935),h=n(2936),p=n(2938),d=n(2529),f=n(2770),g=n(2939),m=n(2931),y=n(2932);t.exports=function(t){function e(t,e,n){function l(t){var e=T.get(t);s(e,function(e){e(t)})}function u(t,e,n){T.add(e,n),t&&n(e)}if(n||(n=e,e=t,t={}),!e)throw new Error("At least one element required.");if(!n)throw new Error("Listener required.");if(o(e))e=[e];else{if(!i(e))return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=r(e)}var c=0,h=a(t,"callOnAdd",S.callOnAdd),p=a(t,"onReady",function(){}),d=a(t,"debug",S.debug);s(e,function(t){g.getState(t)||(g.initState(t),b.set(t));var i=b.get(t);if(d&&_.log("Attaching listener to element",i,t),!k.isDetectable(t))return d&&_.log(i,"Not detectable."),k.isBusy(t)?(d&&_.log(i,"System busy making it detectable"),u(h,t,n),A[i]=A[i]||[],void A[i].push(function(){++c===e.length&&p()})):(d&&_.log(i,"Making detectable..."),k.markBusy(t,!0),C.makeDetectable({debug:d,important:L},t,function(t){if(d&&_.log(i,"onElementDetectable"),g.getState(t)){k.markAsDetectable(t),k.markBusy(t,!1),C.addListener(t,l),u(h,t,n);var r=g.getState(t);if(r&&r.startSize){var o=t.offsetWidth,a=t.offsetHeight;r.startSize.width===o&&r.startSize.height===a||l(t)}A[i]&&s(A[i],function(t){t()})}else d&&_.log(i,"Element uninstalled before being detectable.");delete A[i],++c===e.length&&p()}));d&&_.log(i,"Already detecable, adding listener."),u(h,t,n),c++}),c===e.length&&p()}function n(t){if(!t)return _.error("At least one element is required.");if(o(t))t=[t];else{if(!i(t))return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=r(t)}s(t,function(t){T.removeAllListeners(t),C.uninstall(t),g.cleanState(t)})}function v(t){C.initDocument&&C.initDocument(t)}t=t||{};var b;if(t.idHandler)b={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var w=c(),x=h({idGenerator:w,stateHandler:g});b=x}var _=t.reporter;if(!_){_=p(!1===_)}var E=a(t,"batchProcessor",f({reporter:_})),S={};S.callOnAdd=!!a(t,"callOnAdd",!0),S.debug=!!a(t,"debug",!1);var C,T=u(b),k=l({stateHandler:g}),O=a(t,"strategy","object"),L=a(t,"important",!1),I={reporter:_,batchProcessor:E,stateHandler:g,idHandler:b,important:L};if("scroll"===O&&(d.isLegacyOpera()?(_.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),O="object"):d.isIE(9)&&(_.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),O="object")),"scroll"===O)C=y(I);else{if("object"!==O)throw new Error("Invalid strategy name: "+O);C=m(I)}var A={};return{listenTo:e,removeListener:T.removeListener,removeAllListeners:T.removeAllListeners,uninstall:n,initDocument:v}}},function(t,e,n){"use strict";t.exports=function(t){function e(t){var e=o(t);return e&&!!e.isDetectable}function n(t){o(t).isDetectable=!0}function i(t){return!!o(t).busy}function r(t,e){o(t).busy=!!e}var o=t.stateHandler.getState;return{isDetectable:e,markAsDetectable:n,isBusy:i,markBusy:r}}},function(t,e,n){"use strict";t.exports=function(){function t(){return e++}var e=1;return{generate:t}}},function(t,e,n){"use strict";t.exports=function(t){function e(t){var e=r(t);return e&&void 0!==e.id?e.id:null}function n(t){var e=r(t);if(!e)throw new Error("setId required the element to have a resize detection state.");var n=i.generate();return e.id=n,n}var i=t.idGenerator,r=t.stateHandler.getState;return{get:e,set:n}}},function(t,e,n){"use strict";t.exports=function(t){function e(e){var n=t.get(e);return void 0===n?[]:o[n]||[]}function n(e,n){var i=t.get(e);o[i]||(o[i]=[]),o[i].push(n)}function i(t,n){for(var i=e(t),r=0,o=i.length;r<o;++r)if(i[r]===n){i.splice(r,1);break}}function r(t){var n=e(t);n&&(n.length=0)}var o={};return{get:e,add:n,removeListener:i,removeAllListeners:r}}},function(t,e,n){"use strict";t.exports=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var i=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var n=0;n<arguments.length;n++)t(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},function(t,e,n){"use strict";function i(t){return t[a]={},r(t)}function r(t){return t[a]}function o(t){delete t[a]}var a="_erd";t.exports={initState:i,getState:r,cleanState:o}},,function(t,e,n){t.exports=n.p+"toggle.svg"},function(t,e){function n(t){if(!t||!t.type)return null;var e=i[t.type];return e?"geometry"===e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===e?{type:"FeatureCollection",features:[t]}:"featurecollection"===e?t:void 0:null}t.exports=n;var i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},,,,,,,,function(t,e){!function(t,e,n){"use strict";L.ExtraMarkers={},L.ExtraMarkers.version="1.0.1",L.ExtraMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"extra-marker",prefix:"",extraClasses:"",shape:"circle",icon:"",innerHTML:"",markerColor:"red",svgBorderColor:"#fff",svgOpacity:1,iconColor:"#fff",number:"",svg:!1},initialize:function(t){t=L.Util.setOptions(this,t)},createIcon:function(){var t=e.createElement("div"),n=this.options;return n.icon&&(t.innerHTML=this._createInner()),n.innerHTML&&(t.innerHTML=n.innerHTML),n.bgPos&&(t.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.svg?this._setIconStyles(t,"svg"):this._setIconStyles(t,n.shape+"-"+n.markerColor),t},_createInner:function(){var t="",e="",n=this.options;if(n.iconColor&&(t="style='color: "+n.iconColor+"' "),n.number&&(e="number='"+n.number+"' "),n.svg){var i='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 69.529271 95.44922" style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-139.52 -173.21)"><path d="m174.28 173.21c-19.199 0.00035-34.764 15.355-34.764 34.297 0.007 6.7035 1.5591 12.813 5.7461 18.854l0.0234 0.0371 28.979 42.262 28.754-42.107c3.1982-5.8558 5.9163-11.544 6.0275-19.045-0.0001-18.942-15.565-34.298-34.766-34.297z"/></g></svg>';return"square"==n.shape&&(i='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 69.457038 96.523441" style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-545.27 -658.39)"><path d="m545.27 658.39v65.301h22.248l12.48 31.223 12.676-31.223h22.053v-65.301h-69.457z"/></g></svg>'),"star"==n.shape&&(i='<svg style="top:0; fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 77.690999 101.4702"><g transform="translate(-101.15 -162.97)"><g transform="matrix(1 0 0 1.0165 -65.712 -150.28)"><path d="m205.97 308.16-11.561 11.561h-16.346v16.346l-11.197 11.197 11.197 11.197v15.83h15.744l11.615 33.693 11.467-33.568 0.125-0.125h16.346v-16.346l11.197-11.197-11.197-11.197v-15.83h-15.83l-11.561-11.561z"/></g></g></svg>'),"penta"==n.shape&&(i='<svg style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71.550368 96.362438" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-367.08 -289.9)"><path d="m367.08 322.5 17.236-32.604h36.151l18.164 32.25-35.665 64.112z"/></g></svg>'),i+"<i "+e+t+"class='"+n.extraClasses+" "+n.prefix+" "+n.icon+"'></i>"}return"<i "+e+t+"class='"+n.extraClasses+" "+n.prefix+" "+n.icon+"'></i>"},_setIconStyles:function(t,e){var n,i,r=this.options,o=L.point(r["shadow"===e?"shadowSize":"iconSize"]);"shadow"===e?(n=L.point(r.shadowAnchor||r.iconAnchor),i="shadow"):(n=L.point(r.iconAnchor),i="icon"),!n&&o&&(n=o.divideBy(2,!0)),t.className="leaflet-marker-"+i+" extra-marker-"+e+" "+r.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},createShadow:function(){var t=e.createElement("div");return this._setIconStyles(t,"shadow"),t}}),L.ExtraMarkers.icon=function(t){return new L.ExtraMarkers.Icon(t)}}(window,document)},function(t,e,n){var i,r,o;!function(a,s){r=[n(859)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o),void 0!==s&&s.L&&(s.L.Control.MiniMap=a(L),s.L.control.minimap=function(t,e){return new s.L.Control.MiniMap(t,e)})}(function(t){var e=t.Control.extend({includes:t.Evented?t.Evented.prototype:t.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(e,n){t.Util.setOptions(this,n),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=e},onAdd:function(e){this._mainMap=e,this._container=t.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",t.DomEvent.disableClickPropagation(this._container),t.DomEvent.on(this._container,"mousewheel",t.DomEvent.stopPropagation);var n={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:e.options.crs};return n=t.Util.extend(this.options.mapOptions,n),this._miniMap=new t.Map(this._container,n),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(t.Util.bind(function(){this._aimingRect=t.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=t.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(e){t.Control.prototype.addTo.call(this,e);var n=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(n,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(e,n,i,r,o,a){var s=t.DomUtil.create("a",i,r);s.innerHTML=e,s.href="#",s.title=n;var l=t.DomEvent.stopPropagation;return t.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",t.DomEvent.preventDefault).on(s,"click",o,a),s},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){if(this._miniMapMoving)this._miniMapMoving=!1;else{var e=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(e,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){if(!this.options.centerFixed){var e=this._aimingRect.getBounds(),n=this._miniMap.latLngToContainerPoint(e.getSouthWest()),i=this._miniMap.latLngToContainerPoint(e.getNorthEast());this._lastAimingRectPosition={sw:n,ne:i}}},_onMiniMapMoving:function(e){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new t.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var e,n=this._miniMap.getZoom()-this._mainMap.getZoom(),i=this._miniMap.getZoom()-this.options.zoomLevelOffset;return n>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(e=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):e=this._mainMap.getZoom():e=i,this._lastMiniMapZoom=this._miniMap.getZoom(),e},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){t.Util.requestAnimFrame(function(){t.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),t.Browser.any3d||t.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){t.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var e={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",e),this.fire("toggle",e)}});return t.Map.mergeOptions({miniMapControl:!1}),t.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new e).addTo(this))}),e},window)},function(t,e){L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:""},initialize:function(t,e){L.Util.setOptions(this,e),this._key=t,this._url=null,this._providers=[],this.metaRequested=!1},tile2quad:function(t,e,n){for(var i="",r=n;r>0;r--){var o=0,a=1<<r-1;0!=(t&a)&&(o+=1),0!=(e&a)&&(o+=2),i+=o}return i},getTileUrl:function(t){var e=this._getZoomForUrl(),n=this.options.subdomains,i=this.options.subdomains[Math.abs((t.x+t.y)%n.length)];return this._url.replace("{subdomain}",i).replace("{quadkey}",this.tile2quad(t.x,t.y,e)).replace("{culture}",this.options.culture)},loadMetadata:function(){if(!this.metaRequested){this.metaRequested=!0;var t=this,e="_bing_metadata_"+L.Util.stamp(this);window[e]=function(n){window[e]=void 0;var i=document.getElementById(e);if(i.parentNode.removeChild(i),n.errorDetails)throw new Error(n.errorDetails);t.initMetadata(n)};var n="file:"===document.location.protocol?"http":document.location.protocol.slice(0,-1),i=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+e+"&key="+this._key+"&UriScheme="+n,r=document.createElement("script");r.type="text/javascript",r.src=i,r.id=e,document.getElementsByTagName("head")[0].appendChild(r)}},initMetadata:function(t){var e=t.resourceSets[0].resources[0];if(this.options.subdomains=e.imageUrlSubdomains,this._url=e.imageUrl,e.imageryProviders)for(var n=0;n<e.imageryProviders.length;n++)for(var i=e.imageryProviders[n],r=0;r<i.coverageAreas.length;r++){var o=i.coverageAreas[r],a={zoomMin:o.zoomMin,zoomMax:o.zoomMax,active:!1},s=new L.LatLngBounds(new L.LatLng(o.bbox[0]+.01,o.bbox[1]+.01),new L.LatLng(o.bbox[2]-.01,o.bbox[3]-.01));a.bounds=s,a.attrib=i.attribution,this._providers.push(a)}this._update()},_update:function(){null!==this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var t=L.latLngBounds(this._map.getBounds().getSouthWest().wrap(),this._map.getBounds().getNorthEast().wrap()),e=this._map.getZoom(),n=0;n<this._providers.length;n++){var i=this._providers[n];e<=i.zoomMax&&e>=i.zoomMin&&t.intersects(i.bounds)?(!i.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(i.attrib),i.active=!0):(i.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(i.attrib),i.active=!1)}},onAdd:function(t){this.loadMetadata(),L.TileLayer.prototype.onAdd.apply(this,[t])},onRemove:function(t){for(var e=0;e<this._providers.length;e++){var n=this._providers[e];n.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(n.attrib),n.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[t])}}),L.bingLayer=function(t,e){return new L.BingLayer(t,e)}},function(t,e,n){var i=n(859),r=i.LayerGroup.extend({options:{interval:20,showOriginLabel:!0,redraw:"move"},lineStyle:{stroke:!0,color:"#111",opacity:.6,weight:1},initialize:function(t){i.LayerGroup.prototype.initialize.call(this),i.Util.setOptions(this,t)},onAdd:function(t){this._map=t;var e=this.redraw();this._map.on("viewreset "+this.options.redraw,e.redraw,e),this.eachLayer(t.addLayer,t)},onRemove:function(t){t.off("viewreset "+this.options.redraw,this.map),this.eachLayer(this.removeLayer,this)},redraw:function(){return this._bounds=this._map.getBounds().pad(.5),this.clearLayers(),this.constructLines(this.getMins(),this.getLineCounts()),this.options.showOriginLabel&&this.addLayer(this.addOriginLabel()),this},getLineCounts:function(){return{x:Math.ceil((this._bounds.getEast()-this._bounds.getWest())/this.options.interval),y:Math.ceil((this._bounds.getNorth()-this._bounds.getSouth())/this.options.interval)}},getMins:function(){var t=this.options.interval;return{x:Math.floor(this._bounds.getWest()/t)*t,y:Math.floor(this._bounds.getSouth()/t)*t}},constructLines:function(t,e){for(var n=new Array(e.x+e.y),i=new Array(e.x+e.y),r=0;r<=e.x;r++){var o=t.x+r*this.options.interval;n[r]=this.buildXLine(o),i[r]=this.buildLabel("gridlabel-horiz",o)}for(var a=0;a<=e.y;a++){var s=t.y+a*this.options.interval;n[a+r]=this.buildYLine(s),i[a+r]=this.buildLabel("gridlabel-vert",s)}n.forEach(this.addLayer,this),i.forEach(this.addLayer,this)},buildXLine:function(t){var e=new i.LatLng(this._bounds.getSouth(),t),n=new i.LatLng(this._bounds.getNorth(),t);return new i.Polyline([e,n],this.lineStyle)},buildYLine:function(t){var e=new i.LatLng(t,this._bounds.getWest()),n=new i.LatLng(t,this._bounds.getEast());return new i.Polyline([e,n],this.lineStyle)},buildLabel:function(t,e){var n,r=this._map.getBounds().pad(-.003);return n="gridlabel-horiz"==t?new i.LatLng(r.getNorth(),e):new i.LatLng(e,r.getWest()),i.marker(n,{icon:i.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="'+t+'">'+e+"</div>"})})},addOriginLabel:function(){return i.marker([0,0],{icon:i.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="gridlabel-horiz">(0,0)</div>'})})}});t.exports=r},function(t,e){L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(t,e){var n=0,i=null;i=setInterval(function(){return n>=10?(clearInterval(i),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(i),t(window.google)):void n++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(t){L.GridLayer.prototype.onAdd.call(this,t),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=t,this._initMutant(),t.on("viewreset",this._reset,this),t.on("move",this._update,this),t.on("zoomend",this._handleZoomAnim,this),t.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),t._controlCorners.bottomright.style.marginBottom="20px",t._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var e in this._subLayers)this._subLayers[e].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,google.maps.event.clearListeners(t,"idle"),google.maps.event.clearListeners(this._mutant,"idle"),t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners&&(t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em")},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(t,e){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var n=google.maps[t],i=new n(e);return i.setMap(this._mutant),this._subLayers[t]=i,i}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var n=t[e],i=0;i<n.addedNodes.length;++i){var r=n.addedNodes[i];r instanceof HTMLImageElement?this._onMutatedImage(r):r instanceof HTMLElement&&Array.prototype.forEach.call(r.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,n=t.src.match(this._roadRegexp),i=0;if(n?(e={z:n[1],x:n[2],y:n[3]},this._imagesPerTile>1&&(t.style.zIndex=1,i=1)):(n=t.src.match(this._satRegexp),n&&(e={x:n[1],y:n[2],z:n[3]}),i=0),e){var r=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var o=r+"/"+i;if(this._freshTiles[o]=t,o in this._tileCallbacks&&this._tileCallbacks[o])this._tileCallbacks[o].pop()(t),this._tileCallbacks[o].length||delete this._tileCallbacks[o];else if(this._tiles[r]){var a=this._tiles[r].el,s=0===i?a.firstChild:a.firstChild.nextSibling,l=this._clone(t);a.replaceChild(l,s)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,e){var n=this._tileCoordsToKey(t),i=L.DomUtil.create("div");i.dataset.pending=this._imagesPerTile,e=e.bind(this,null,i);for(var r=0;r<this._imagesPerTile;r++){var o=n+"/"+r;if(o in this._freshTiles){var a=this._freshTiles[o];i.appendChild(this._clone(a)),i.dataset.pending--}else this._tileCallbacks[o]=this._tileCallbacks[o]||[],this._tileCallbacks[o].push(function(t){return function(n){t.appendChild(this._clone(n)),t.dataset.pending--,parseInt(t.dataset.pending)||e()}.bind(this)}.bind(this)(i))}return parseInt(i.dataset.pending)||L.Util.requestAnimFrame(e),i},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var n=this._map.getZoom(),i=n!==Math.round(n),r=this._mutant.getZoom();i||n==r||(this._mutant.setZoom(n),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){
if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),n=t.split(":")[2],i=this._mutant.getBounds(),r=i.getSouthWest(),o=i.getNorthEast(),a=L.latLngBounds([[r.lat(),r.lng()],[o.lat(),o.lng()]]),s=0;s<this._imagesPerTile;s++){var l=t+"/"+s;if(l in this._freshTiles){var u=this._map&&this._keyToBounds(t);this._map&&u.overlaps(a)&&n==e||delete this._freshTiles[l]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)}},function(t,e,n){var i,r,o;!function(a,s){r=[n(859)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o),void 0!==s&&s.L&&(s.L.Control.Locate=a(L))}(function(t){var e=function(e,n,i){i=i.split(" "),i.forEach(function(i){t.DomUtil[e].call(this,n,i)})},n=function(t,n){e("addClass",t,n)},i=function(t,n){e("removeClass",t,n)},r=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:t.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(e,n){var i=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);return i.title=n.strings.title,{link:i,icon:t.DomUtil.create(n.iconElementTag,n.icon,i)}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(e){for(var n in e)"object"==typeof this.options[n]?t.extend(this.options[n],e[n]):this.options[n]=e[n];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(e){var n=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var i=this.options.createButtonCallback(n,this.options);return this._link=i.link,this._icon=i.icon,t.DomEvent.on(this._link,"click",t.DomEvent.stopPropagation).on(this._link,"click",t.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),n},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){var t=this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView;switch(t){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds){var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;e.bind(this._map)(this._prevBounds)}}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel){var t=this.options.flyTo?this._map.flyTo:this._map.panTo;t.bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;t.bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var e=this._event.accuracy,n=this._event.latlng;if(this.options.drawCircle){var i=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(n).setRadius(e).setStyle(i):this._circle=t.circle(n,e,i).addTo(this._layer)}var r,o;if(this.options.metric?(r=e.toFixed(0),o=this.options.strings.metersUnit):(r=(3.2808399*e).toFixed(0),o=this.options.strings.feetUnit),this.options.drawMarker){var a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(n),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(n,a).addTo(this._layer)}var s=this.options.strings.popup;this.options.showPopup&&s&&this._marker&&this._marker.bindPopup(t.Util.template(s,{distance:r,unit:o}))._popup.setLatLng(n)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(i(this._container,"active following"),n(this._container,"requesting"),i(this._icon,this.options.icon),n(this._icon,this.options.iconLoading)):"active"==t?(i(this._container,"requesting following"),n(this._container,"active"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)):"following"==t&&(i(this._container,"requesting"),n(this._container,"active following"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon))},_cleanClasses:function(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),i(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return t.control.locate=function(e){return new t.Control.Locate(e)},r},window)},function(t,e,n){(function(e){var n,n;!function(e){t.exports=e()}(function(){return function t(e,i,r){function o(s,l){if(!i[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n,i){(function(t){"use strict";var e="undefined"!=typeof window?window.L:void 0!==t?t.L:null;e.NonTiledLayer.WMS=e.NonTiledLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(t,n){this._wmsUrl=t;var i=e.extend({},this.defaultWmsParams);for(var r in n)e.NonTiledLayer.prototype.options.hasOwnProperty(r)||e.Layer&&e.Layer.prototype.options.hasOwnProperty(r)||(i[r]=n[r]);this.wmsParams=i,e.setOptions(this,n)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,e.NonTiledLayer.prototype.onAdd.call(this,t)},getImageUrl:function(t,n,i){var r=this.wmsParams;r.width=n,r.height=i;var o=this._crs.project(t.getNorthWest()),a=this._crs.project(t.getSouthEast()),s=this._wmsUrl,l=l=(this._wmsVersion>=1.3&&this._crs===e.CRS.EPSG4326?[a.y,o.x,o.y,a.x]:[o.x,a.y,a.x,o.y]).join(",");return s+e.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+l},setParams:function(t,n){return e.extend(this.wmsParams,t),n||this.redraw(),this}}),e.nonTiledLayer.wms=function(t,n){return new e.NonTiledLayer.WMS(t,n)},n.exports=e.NonTiledLayer.WMS}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n,i){(function(t){"use strict";var e="undefined"!=typeof window?window.L:void 0!==t?t.L:null;e.NonTiledLayer=(e.Layer||e.Class).extend({includes:e.Evented||e.Mixin.Events,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",options:{attribution:"",opacity:1,zIndex:void 0,minZoom:0,maxZoom:18,pointerEvents:null,errorImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",bounds:e.latLngBounds([-85.05,-180],[85.05,180]),useCanvas:void 0},key:"",initialize:function(t){e.setOptions(this,t)},onAdd:function(t){this._map=t,void 0===this._zoomAnimated&&(this._zoomAnimated=e.DomUtil.TRANSITION&&e.Browser.any3d&&!e.Browser.mobileOpera&&this._map.options.zoomAnimation),e.version<"1.0"&&this._map.on(this.getEvents(),this),this._div||(this._div=e.DomUtil.create("div","leaflet-image-layer"),this.options.pointerEvents&&(this._div.style["pointer-events"]=this.options.pointerEvents),void 0!==this.options.zIndex&&(this._div.style.zIndex=this.options.zIndex),void 0!==this.options.opacity&&(this._div.style.opacity=this.options.opacity)),this.getPane().appendChild(this._div);var n=!!window.HTMLCanvasElement;void 0===this.options.useCanvas?this._useCanvas=n:this._useCanvas=this.options.useCanvas,this._useCanvas?(this._bufferCanvas=this._initCanvas(),this._currentCanvas=this._initCanvas()):(this._bufferImage=this._initImage(),this._currentImage=this._initImage()),this._update()},getPane:function(){return e.Layer?e.Layer.prototype.getPane.call(this):(this.options.pane?this._pane=this.options.pane:this._pane=this._map.getPanes().overlayPane,this._pane)},onRemove:function(t){e.version<"1.0"&&this._map.off(this.getEvents(),this),this.getPane().removeChild(this._div),this._useCanvas?(this._div.removeChild(this._bufferCanvas),this._div.removeChild(this._currentCanvas)):(this._div.removeChild(this._bufferImage),this._div.removeChild(this._currentImage))},addTo:function(t){return t.addLayer(this),this},_setZoom:function(){this._useCanvas?(this._currentCanvas._bounds&&this._resetImageScale(this._currentCanvas,!0),this._bufferCanvas._bounds&&this._resetImageScale(this._bufferCanvas)):(this._currentImage._bounds&&this._resetImageScale(this._currentImage,!0),this._bufferImage._bounds&&this._resetImageScale(this._bufferImage))},getEvents:function(){var t={moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),e.version>="1.0"&&(t.zoom=this._setZoom),t},getElement:function(){return this._div},setOpacity:function(t){return this.options.opacity=t,this._div&&e.DomUtil.setOpacity(this._div,this.options.opacity),this},setZIndex:function(t){return t&&(this.options.zIndex=t,this._div&&(this._div.style.zIndex=t)),this},bringToFront:function(){return this._div&&this.getPane().appendChild(this._div),this},bringToBack:function(){return this._div&&this.getPane().insertBefore(this._div,this.getPane().firstChild),this},getAttribution:function(){return this.options.attribution},_initCanvas:function(){var t=e.DomUtil.create("canvas","leaflet-image-layer");return this._div.appendChild(t),t._image=new Image,this._ctx=t.getContext("2d"),this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(t,"leaflet-zoom-animated"):e.DomUtil.addClass(t,"leaflet-zoom-hide"),e.extend(t._image,{onload:e.bind(this._onImageLoad,this),onerror:e.bind(this._onImageError,this)}),t},_initImage:function(){var t=e.DomUtil.create("img","leaflet-image-layer");return this._div.appendChild(t),this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(t,"leaflet-zoom-animated"):e.DomUtil.addClass(t,"leaflet-zoom-hide"),e.extend(t,{galleryimg:"no",onselectstart:e.Util.falseFn,onmousemove:e.Util.falseFn,onload:e.bind(this._onImageLoad,this),onerror:e.bind(this._onImageError,this)}),t},redraw:function(){return this._map&&this._update(),this},_animateZoom:function(t){this._useCanvas?(this._currentCanvas._bounds&&this._animateImage(this._currentCanvas,t),this._bufferCanvas._bounds&&this._animateImage(this._bufferCanvas,t)):(this._currentImage._bounds&&this._animateImage(this._currentImage,t),this._bufferImage._bounds&&this._animateImage(this._bufferImage,t))},_animateImage:function(t,n){if(void 0===e.DomUtil.setTransform){var i=this._map,r=t._scale*i.getZoomScale(n.zoom),o=t._bounds.getNorthWest(),a=t._bounds.getSouthEast(),s=i._latLngToNewLayerPoint(o,n.zoom,n.center),l=i._latLngToNewLayerPoint(a,n.zoom,n.center)._subtract(s),u=s._add(l._multiplyBy(.5*(1-1/r)));t.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(u)+" scale("+r+") "}else{var i=this._map,r=t._scale*t._sscale*i.getZoomScale(n.zoom),o=t._bounds.getNorthWest(),a=t._bounds.getSouthEast(),s=i._latLngToNewLayerPoint(o,n.zoom,n.center);e.DomUtil.setTransform(t,s,r)}t._lastScale=r},_resetImageScale:function(t,n){var i=new e.Bounds(this._map.latLngToLayerPoint(t._bounds.getNorthWest()),this._map.latLngToLayerPoint(t._bounds.getSouthEast())),r=t._orgBounds.getSize().y,o=i.getSize().y,a=o/r;t._sscale=a,e.DomUtil.setTransform(t,i.min,a)},_resetImage:function(t){var n=new e.Bounds(this._map.latLngToLayerPoint(t._bounds.getNorthWest()),this._map.latLngToLayerPoint(t._bounds.getSouthEast())),i=n.getSize();e.DomUtil.setPosition(t,n.min),t._orgBounds=n,t._sscale=1,this._useCanvas?(t.width=i.x,t.height=i.y):(t.style.width=i.x+"px",t.style.height=i.y+"px")},_getClippedBounds:function(){var t=this._map.getBounds(),n=t.getSouth(),i=t.getNorth(),r=t.getWest(),o=t.getEast(),a=this.options.bounds.getSouth(),s=this.options.bounds.getNorth(),l=this.options.bounds.getWest(),u=this.options.bounds.getEast();n<a&&(n=a),i>s&&(i=s),r<l&&(r=l),o>u&&(o=u);var c=new e.LatLng(i,r),h=new e.LatLng(n,o);return new e.LatLngBounds(c,h)},_update:function(){var t,n=this._getClippedBounds(),i=this._map.latLngToContainerPoint(n.getNorthWest()),r=this._map.latLngToContainerPoint(n.getSouthEast()),o=r.x-i.x,a=r.y-i.y;if(this._useCanvas?(this._bufferCanvas._scale=this._bufferCanvas._lastScale,this._currentCanvas._scale=this._currentCanvas._lastScale=1,this._bufferCanvas._sscale=1,this._currentCanvas._bounds=n,this._resetImage(this._currentCanvas),t=this._currentCanvas._image,e.DomUtil.setOpacity(t,0)):(this._bufferImage._scale=this._bufferImage._lastScale,this._currentImage._scale=this._currentImage._lastScale=1,this._bufferImage._sscale=1,this._currentImage._bounds=n,this._resetImage(this._currentImage),t=this._currentImage,e.DomUtil.setOpacity(t,0)),this._map.getZoom()<this.options.minZoom||this._map.getZoom()>this.options.maxZoom||o<32||a<32)return this._div.style.visibility="hidden",t.src=this.emptyImageUrl,this.key=t.key="<empty>",void(t.tag=null);this.fire("loading"),this.key=n.getNorthWest()+", "+n.getSouthEast()+", "+o+", "+a,this.getImageUrl?(t.src=this.getImageUrl(n,o,a),t.key=this.key):this.getImageUrlAsync(n,o,a,this.key,function(e,n,i){t.key=e,t.src=n,t.tag=i})},_onImageError:function(t){this.fire("error",t),e.DomUtil.addClass(t.target,"invalid"),t.target.src!==this.options.errorImageUrl&&(t.target.src=this.options.errorImageUrl)},_onImageLoad:function(t){(t.target.src===this.options.errorImageUrl||(e.DomUtil.removeClass(t.target,"invalid"),t.target.key&&t.target.key===this.key))&&(this._onImageDone(t),this.fire("load",t))},_onImageDone:function(t){if(this._useCanvas)this._renderCanvas(t);else{e.DomUtil.setOpacity(this._currentImage,1),e.DomUtil.setOpacity(this._bufferImage,0),this._addInteraction&&this._currentImage.tag&&this._addInteraction(this._currentImage.tag);var n=this._bufferImage;this._bufferImage=this._currentImage,this._currentImage=n}"<empty>"!==t.target.key&&(this._div.style.visibility="visible")},_renderCanvas:function(t){this._currentCanvas.getContext("2d").drawImage(this._currentCanvas._image,0,0),e.DomUtil.setOpacity(this._currentCanvas,1),e.DomUtil.setOpacity(this._bufferCanvas,0),this._addInteraction&&this._currentCanvas._image.tag&&this._addInteraction(this._currentCanvas._image.tag);var n=this._bufferCanvas;this._bufferCanvas=this._currentCanvas,this._currentCanvas=n}}),e.nonTiledLayer=function(){return new e.NonTiledLayer},n.exports=e.NonTiledLayer}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2,1])(2)})}).call(e,n(15))},,function(t,e,n){function i(t,e,n){for(var i=n?a:o,h=t[0].length,p=t.length,d=p,f=Array(p),g=1/0,m=[];d--;){var y=t[d];d&&e&&(y=s(y,l(e))),g=c(y.length,g),f[d]=!n&&(e||h>=120&&y.length>=120)?new r(d&&y):void 0}y=t[0];var v=-1,b=f[0];t:for(;++v<h&&m.length<g;){var w=y[v],x=e?e(w):w;if(w=n||0!==w?w:0,!(b?u(b,x):i(m,x,n))){for(d=p;--d;){var _=f[d];if(!(_?u(_,x):i(t[d],x,n)))continue t}b&&b.push(x),m.push(w)}}return m}var r=n(289),o=n(290),a=n(446),s=n(281),l=n(201),u=n(291),c=Math.min;t.exports=i},function(t,e,n){function i(t,e,n){var i=t.length;if(i<2)return i?a(t[0]):[];for(var s=-1,l=Array(i);++s<i;)for(var u=t[s],c=-1;++c<i;)c!=s&&(l[s]=r(l[s]||u,t[c],e,n));return a(o(l,1),e,n)}var r=n(882),o=n(283),a=n(898);t.exports=i},function(t,e,n){function i(t){return r(t)?t:[]}var r=n(441);t.exports=i},,,function(t,e,n){var i=n(886),r=n(279),o=n(2959),a=n(441),s=r(function(t){return o(i(t,a))});t.exports=s},function(t,e,n){var i,r,o;!function(n,a){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=a():(r=[],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o))}("object"==typeof window&&window,function(){"use strict";function t(n){if(!(this instanceof t))return new t(n);this._LRUCacheState=new e(n)}function e(t){this.capacity=t>0?+t:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,this.data=Object.create?Object.create(null):{},this.hash=Object.create?Object.create(null):{},this.linkedList=new n}function n(){this.length=0,this.head=null,this.end=null}function i(t){this.key=t,this.p=null,this.n=null}function r(t,e){e!==t.head&&(t.end?t.end===e&&(t.end=e.n):t.end=e,o(e.n,e.p),o(e,t.head),t.head=e,t.head.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}var a=t.prototype;return a.get=function(t){var e=this._LRUCacheState,n=e.hash[t];if(n)return r(e.linkedList,n),e.data[t]},a.set=function(t,e){var n=this._LRUCacheState,o=n.hash[t];return void 0===e?this:(o||(n.hash[t]=new i(t),n.linkedList.length+=1,o=n.hash[t]),r(n.linkedList,o),n.data[t]=e,n.linkedList.length>n.capacity&&this.remove(n.linkedList.end.key),this)},a.update=function(t,e){return this.has(t)&&this.set(t,e(this.get(t))),this},a.remove=function(t){var e=this._LRUCacheState,n=e.hash[t];return n?(n===e.linkedList.head&&(e.linkedList.head=n.p),n===e.linkedList.end&&(e.linkedList.end=n.n),o(n.n,n.p),delete e.hash[t],delete e.data[t],e.linkedList.length-=1,this):this},a.removeAll=function(){return this._LRUCacheState=new e(this._LRUCacheState.capacity),this},a.info=function(){var t=this._LRUCacheState;return{capacity:t.capacity,length:t.linkedList.length}},a.keys=function(){for(var t=[],e=this._LRUCacheState.linkedList.head;e;)t.push(e.key),e=e.p;return t},a.has=function(t){return!!this._LRUCacheState.hash[t]},a.staleKey=function(){return this._LRUCacheState.linkedList.end&&this._LRUCacheState.linkedList.end.key},a.popStale=function(){var t=this.staleKey();if(!t)return null;var e=[t,this._LRUCacheState.data[t]];return this.remove(t),e},t})},,,,,,function(t,e){
t.exports='.fa-glass:before {\n  content: "\\f000";\n}\n.fa-music:before {\n  content: "\\f001";\n}\n.fa-search:before {\n  content: "\\f002";\n}\n.fa-envelope-o:before {\n  content: "\\f003";\n}\n.fa-heart:before {\n  content: "\\f004";\n}\n.fa-star:before {\n  content: "\\f005";\n}\n.fa-star-o:before {\n  content: "\\f006";\n}\n.fa-user:before {\n  content: "\\f007";\n}\n.fa-film:before {\n  content: "\\f008";\n}\n.fa-th-large:before {\n  content: "\\f009";\n}\n.fa-th:before {\n  content: "\\f00a";\n}\n.fa-th-list:before {\n  content: "\\f00b";\n}\n.fa-check:before {\n  content: "\\f00c";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\f00d";\n}\n.fa-search-plus:before {\n  content: "\\f00e";\n}\n.fa-search-minus:before {\n  content: "\\f010";\n}\n.fa-power-off:before {\n  content: "\\f011";\n}\n.fa-signal:before {\n  content: "\\f012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\f013";\n}\n.fa-trash-o:before {\n  content: "\\f014";\n}\n.fa-home:before {\n  content: "\\f015";\n}\n.fa-file-o:before {\n  content: "\\f016";\n}\n.fa-clock-o:before {\n  content: "\\f017";\n}\n.fa-road:before {\n  content: "\\f018";\n}\n.fa-download:before {\n  content: "\\f019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\f01a";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\f01b";\n}\n.fa-inbox:before {\n  content: "\\f01c";\n}\n.fa-play-circle-o:before {\n  content: "\\f01d";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\f01e";\n}\n.fa-refresh:before {\n  content: "\\f021";\n}\n.fa-list-alt:before {\n  content: "\\f022";\n}\n.fa-lock:before {\n  content: "\\f023";\n}\n.fa-flag:before {\n  content: "\\f024";\n}\n.fa-headphones:before {\n  content: "\\f025";\n}\n.fa-volume-off:before {\n  content: "\\f026";\n}\n.fa-volume-down:before {\n  content: "\\f027";\n}\n.fa-volume-up:before {\n  content: "\\f028";\n}\n.fa-qrcode:before {\n  content: "\\f029";\n}\n.fa-barcode:before {\n  content: "\\f02a";\n}\n.fa-tag:before {\n  content: "\\f02b";\n}\n.fa-tags:before {\n  content: "\\f02c";\n}\n.fa-book:before {\n  content: "\\f02d";\n}\n.fa-bookmark:before {\n  content: "\\f02e";\n}\n.fa-print:before {\n  content: "\\f02f";\n}\n.fa-camera:before {\n  content: "\\f030";\n}\n.fa-font:before {\n  content: "\\f031";\n}\n.fa-bold:before {\n  content: "\\f032";\n}\n.fa-italic:before {\n  content: "\\f033";\n}\n.fa-text-height:before {\n  content: "\\f034";\n}\n.fa-text-width:before {\n  content: "\\f035";\n}\n.fa-align-left:before {\n  content: "\\f036";\n}\n.fa-align-center:before {\n  content: "\\f037";\n}\n.fa-align-right:before {\n  content: "\\f038";\n}\n.fa-align-justify:before {\n  content: "\\f039";\n}\n.fa-list:before {\n  content: "\\f03a";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\f03b";\n}\n.fa-indent:before {\n  content: "\\f03c";\n}\n.fa-video-camera:before {\n  content: "\\f03d";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\f03e";\n}\n.fa-pencil:before {\n  content: "\\f040";\n}\n.fa-map-marker:before {\n  content: "\\f041";\n}\n.fa-adjust:before {\n  content: "\\f042";\n}\n.fa-tint:before {\n  content: "\\f043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\f044";\n}\n.fa-share-square-o:before {\n  content: "\\f045";\n}\n.fa-check-square-o:before {\n  content: "\\f046";\n}\n.fa-arrows:before {\n  content: "\\f047";\n}\n.fa-step-backward:before {\n  content: "\\f048";\n}\n.fa-fast-backward:before {\n  content: "\\f049";\n}\n.fa-backward:before {\n  content: "\\f04a";\n}\n.fa-play:before {\n  content: "\\f04b";\n}\n.fa-pause:before {\n  content: "\\f04c";\n}\n.fa-stop:before {\n  content: "\\f04d";\n}\n.fa-forward:before {\n  content: "\\f04e";\n}\n.fa-fast-forward:before {\n  content: "\\f050";\n}\n.fa-step-forward:before {\n  content: "\\f051";\n}\n.fa-eject:before {\n  content: "\\f052";\n}\n.fa-chevron-left:before {\n  content: "\\f053";\n}\n.fa-chevron-right:before {\n  content: "\\f054";\n}\n.fa-plus-circle:before {\n  content: "\\f055";\n}\n.fa-minus-circle:before {\n  content: "\\f056";\n}\n.fa-times-circle:before {\n  content: "\\f057";\n}\n.fa-check-circle:before {\n  content: "\\f058";\n}\n.fa-question-circle:before {\n  content: "\\f059";\n}\n.fa-info-circle:before {\n  content: "\\f05a";\n}\n.fa-crosshairs:before {\n  content: "\\f05b";\n}\n.fa-times-circle-o:before {\n  content: "\\f05c";\n}\n.fa-check-circle-o:before {\n  content: "\\f05d";\n}\n.fa-ban:before {\n  content: "\\f05e";\n}\n.fa-arrow-left:before {\n  content: "\\f060";\n}\n.fa-arrow-right:before {\n  content: "\\f061";\n}\n.fa-arrow-up:before {\n  content: "\\f062";\n}\n.fa-arrow-down:before {\n  content: "\\f063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\f064";\n}\n.fa-expand:before {\n  content: "\\f065";\n}\n.fa-compress:before {\n  content: "\\f066";\n}\n.fa-plus:before {\n  content: "\\f067";\n}\n.fa-minus:before {\n  content: "\\f068";\n}\n.fa-asterisk:before {\n  content: "\\f069";\n}\n.fa-exclamation-circle:before {\n  content: "\\f06a";\n}\n.fa-gift:before {\n  content: "\\f06b";\n}\n.fa-leaf:before {\n  content: "\\f06c";\n}\n.fa-fire:before {\n  content: "\\f06d";\n}\n.fa-eye:before {\n  content: "\\f06e";\n}\n.fa-eye-slash:before {\n  content: "\\f070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\f071";\n}\n.fa-plane:before {\n  content: "\\f072";\n}\n.fa-calendar:before {\n  content: "\\f073";\n}\n.fa-random:before {\n  content: "\\f074";\n}\n.fa-comment:before {\n  content: "\\f075";\n}\n.fa-magnet:before {\n  content: "\\f076";\n}\n.fa-chevron-up:before {\n  content: "\\f077";\n}\n.fa-chevron-down:before {\n  content: "\\f078";\n}\n.fa-retweet:before {\n  content: "\\f079";\n}\n.fa-shopping-cart:before {\n  content: "\\f07a";\n}\n.fa-folder:before {\n  content: "\\f07b";\n}\n.fa-folder-open:before {\n  content: "\\f07c";\n}\n.fa-arrows-v:before {\n  content: "\\f07d";\n}\n.fa-arrows-h:before {\n  content: "\\f07e";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\f080";\n}\n.fa-twitter-square:before {\n  content: "\\f081";\n}\n.fa-facebook-square:before {\n  content: "\\f082";\n}\n.fa-camera-retro:before {\n  content: "\\f083";\n}\n.fa-key:before {\n  content: "\\f084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\f085";\n}\n.fa-comments:before {\n  content: "\\f086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\f087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\f088";\n}\n.fa-star-half:before {\n  content: "\\f089";\n}\n.fa-heart-o:before {\n  content: "\\f08a";\n}\n.fa-sign-out:before {\n  content: "\\f08b";\n}\n.fa-linkedin-square:before {\n  content: "\\f08c";\n}\n.fa-thumb-tack:before {\n  content: "\\f08d";\n}\n.fa-external-link:before {\n  content: "\\f08e";\n}\n.fa-sign-in:before {\n  content: "\\f090";\n}\n.fa-trophy:before {\n  content: "\\f091";\n}\n.fa-github-square:before {\n  content: "\\f092";\n}\n.fa-upload:before {\n  content: "\\f093";\n}\n.fa-lemon-o:before {\n  content: "\\f094";\n}\n.fa-phone:before {\n  content: "\\f095";\n}\n.fa-square-o:before {\n  content: "\\f096";\n}\n.fa-bookmark-o:before {\n  content: "\\f097";\n}\n.fa-phone-square:before {\n  content: "\\f098";\n}\n.fa-twitter:before {\n  content: "\\f099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\f09a";\n}\n.fa-github:before {\n  content: "\\f09b";\n}\n.fa-unlock:before {\n  content: "\\f09c";\n}\n.fa-credit-card:before {\n  content: "\\f09d";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\f09e";\n}\n.fa-hdd-o:before {\n  content: "\\f0a0";\n}\n.fa-bullhorn:before {\n  content: "\\f0a1";\n}\n.fa-bell:before {\n  content: "\\f0f3";\n}\n.fa-certificate:before {\n  content: "\\f0a3";\n}\n.fa-hand-o-right:before {\n  content: "\\f0a4";\n}\n.fa-hand-o-left:before {\n  content: "\\f0a5";\n}\n.fa-hand-o-up:before {\n  content: "\\f0a6";\n}\n.fa-hand-o-down:before {\n  content: "\\f0a7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\f0a8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\f0a9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\f0aa";\n}\n.fa-arrow-circle-down:before {\n  content: "\\f0ab";\n}\n.fa-globe:before {\n  content: "\\f0ac";\n}\n.fa-wrench:before {\n  content: "\\f0ad";\n}\n.fa-tasks:before {\n  content: "\\f0ae";\n}\n.fa-filter:before {\n  content: "\\f0b0";\n}\n.fa-briefcase:before {\n  content: "\\f0b1";\n}\n.fa-arrows-alt:before {\n  content: "\\f0b2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\f0c0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\f0c1";\n}\n.fa-cloud:before {\n  content: "\\f0c2";\n}\n.fa-flask:before {\n  content: "\\f0c3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\f0c4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\f0c5";\n}\n.fa-paperclip:before {\n  content: "\\f0c6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\f0c7";\n}\n.fa-square:before {\n  content: "\\f0c8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\f0c9";\n}\n.fa-list-ul:before {\n  content: "\\f0ca";\n}\n.fa-list-ol:before {\n  content: "\\f0cb";\n}\n.fa-strikethrough:before {\n  content: "\\f0cc";\n}\n.fa-underline:before {\n  content: "\\f0cd";\n}\n.fa-table:before {\n  content: "\\f0ce";\n}\n.fa-magic:before {\n  content: "\\f0d0";\n}\n.fa-truck:before {\n  content: "\\f0d1";\n}\n.fa-pinterest:before {\n  content: "\\f0d2";\n}\n.fa-pinterest-square:before {\n  content: "\\f0d3";\n}\n.fa-google-plus-square:before {\n  content: "\\f0d4";\n}\n.fa-google-plus:before {\n  content: "\\f0d5";\n}\n.fa-money:before {\n  content: "\\f0d6";\n}\n.fa-caret-down:before {\n  content: "\\f0d7";\n}\n.fa-caret-up:before {\n  content: "\\f0d8";\n}\n.fa-caret-left:before {\n  content: "\\f0d9";\n}\n.fa-caret-right:before {\n  content: "\\f0da";\n}\n.fa-columns:before {\n  content: "\\f0db";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\f0dc";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\f0dd";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\f0de";\n}\n.fa-envelope:before {\n  content: "\\f0e0";\n}\n.fa-linkedin:before {\n  content: "\\f0e1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\f0e2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\f0e3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\f0e4";\n}\n.fa-comment-o:before {\n  content: "\\f0e5";\n}\n.fa-comments-o:before {\n  content: "\\f0e6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\f0e7";\n}\n.fa-sitemap:before {\n  content: "\\f0e8";\n}\n.fa-umbrella:before {\n  content: "\\f0e9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\f0ea";\n}\n.fa-lightbulb-o:before {\n  content: "\\f0eb";\n}\n.fa-exchange:before {\n  content: "\\f0ec";\n}\n.fa-cloud-download:before {\n  content: "\\f0ed";\n}\n.fa-cloud-upload:before {\n  content: "\\f0ee";\n}\n.fa-user-md:before {\n  content: "\\f0f0";\n}\n.fa-stethoscope:before {\n  content: "\\f0f1";\n}\n.fa-suitcase:before {\n  content: "\\f0f2";\n}\n.fa-bell-o:before {\n  content: "\\f0a2";\n}\n.fa-coffee:before {\n  content: "\\f0f4";\n}\n.fa-cutlery:before {\n  content: "\\f0f5";\n}\n.fa-file-text-o:before {\n  content: "\\f0f6";\n}\n.fa-building-o:before {\n  content: "\\f0f7";\n}\n.fa-hospital-o:before {\n  content: "\\f0f8";\n}\n.fa-ambulance:before {\n  content: "\\f0f9";\n}\n.fa-medkit:before {\n  content: "\\f0fa";\n}\n.fa-fighter-jet:before {\n  content: "\\f0fb";\n}\n.fa-beer:before {\n  content: "\\f0fc";\n}\n.fa-h-square:before {\n  content: "\\f0fd";\n}\n.fa-plus-square:before {\n  content: "\\f0fe";\n}\n.fa-angle-double-left:before {\n  content: "\\f100";\n}\n.fa-angle-double-right:before {\n  content: "\\f101";\n}\n.fa-angle-double-up:before {\n  content: "\\f102";\n}\n.fa-angle-double-down:before {\n  content: "\\f103";\n}\n.fa-angle-left:before {\n  content: "\\f104";\n}\n.fa-angle-right:before {\n  content: "\\f105";\n}\n.fa-angle-up:before {\n  content: "\\f106";\n}\n.fa-angle-down:before {\n  content: "\\f107";\n}\n.fa-desktop:before {\n  content: "\\f108";\n}\n.fa-laptop:before {\n  content: "\\f109";\n}\n.fa-tablet:before {\n  content: "\\f10a";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\f10b";\n}\n.fa-circle-o:before {\n  content: "\\f10c";\n}\n.fa-quote-left:before {\n  content: "\\f10d";\n}\n.fa-quote-right:before {\n  content: "\\f10e";\n}\n.fa-spinner:before {\n  content: "\\f110";\n}\n.fa-circle:before {\n  content: "\\f111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\f112";\n}\n.fa-github-alt:before {\n  content: "\\f113";\n}\n.fa-folder-o:before {\n  content: "\\f114";\n}\n.fa-folder-open-o:before {\n  content: "\\f115";\n}\n.fa-smile-o:before {\n  content: "\\f118";\n}\n.fa-frown-o:before {\n  content: "\\f119";\n}\n.fa-meh-o:before {\n  content: "\\f11a";\n}\n.fa-gamepad:before {\n  content: "\\f11b";\n}\n.fa-keyboard-o:before {\n  content: "\\f11c";\n}\n.fa-flag-o:before {\n  content: "\\f11d";\n}\n.fa-flag-checkered:before {\n  content: "\\f11e";\n}\n.fa-terminal:before {\n  content: "\\f120";\n}\n.fa-code:before {\n  content: "\\f121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\f122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\f123";\n}\n.fa-location-arrow:before {\n  content: "\\f124";\n}\n.fa-crop:before {\n  content: "\\f125";\n}\n.fa-code-fork:before {\n  content: "\\f126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\f127";\n}\n.fa-question:before {\n  content: "\\f128";\n}\n.fa-info:before {\n  content: "\\f129";\n}\n.fa-exclamation:before {\n  content: "\\f12a";\n}\n.fa-superscript:before {\n  content: "\\f12b";\n}\n.fa-subscript:before {\n  content: "\\f12c";\n}\n.fa-eraser:before {\n  content: "\\f12d";\n}\n.fa-puzzle-piece:before {\n  content: "\\f12e";\n}\n.fa-microphone:before {\n  content: "\\f130";\n}\n.fa-microphone-slash:before {\n  content: "\\f131";\n}\n.fa-shield:before {\n  content: "\\f132";\n}\n.fa-calendar-o:before {\n  content: "\\f133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\f134";\n}\n.fa-rocket:before {\n  content: "\\f135";\n}\n.fa-maxcdn:before {\n  content: "\\f136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\f137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\f138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\f139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\f13a";\n}\n.fa-html5:before {\n  content: "\\f13b";\n}\n.fa-css3:before {\n  content: "\\f13c";\n}\n.fa-anchor:before {\n  content: "\\f13d";\n}\n.fa-unlock-alt:before {\n  content: "\\f13e";\n}\n.fa-bullseye:before {\n  content: "\\f140";\n}\n.fa-ellipsis-h:before {\n  content: "\\f141";\n}\n.fa-ellipsis-v:before {\n  content: "\\f142";\n}\n.fa-rss-square:before {\n  content: "\\f143";\n}\n.fa-play-circle:before {\n  content: "\\f144";\n}\n.fa-ticket:before {\n  content: "\\f145";\n}\n.fa-minus-square:before {\n  content: "\\f146";\n}\n.fa-minus-square-o:before {\n  content: "\\f147";\n}\n.fa-level-up:before {\n  content: "\\f148";\n}\n.fa-level-down:before {\n  content: "\\f149";\n}\n.fa-check-square:before {\n  content: "\\f14a";\n}\n.fa-pencil-square:before {\n  content: "\\f14b";\n}\n.fa-external-link-square:before {\n  content: "\\f14c";\n}\n.fa-share-square:before {\n  content: "\\f14d";\n}\n.fa-compass:before {\n  content: "\\f14e";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\f150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\f151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\f152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\f153";\n}\n.fa-gbp:before {\n  content: "\\f154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\f155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\f156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\f157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\f158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\f159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\f15a";\n}\n.fa-file:before {\n  content: "\\f15b";\n}\n.fa-file-text:before {\n  content: "\\f15c";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\f15d";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\f15e";\n}\n.fa-sort-amount-asc:before {\n  content: "\\f160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\f161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\f162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\f163";\n}\n.fa-thumbs-up:before {\n  content: "\\f164";\n}\n.fa-thumbs-down:before {\n  content: "\\f165";\n}\n.fa-youtube-square:before {\n  content: "\\f166";\n}\n.fa-youtube:before {\n  content: "\\f167";\n}\n.fa-xing:before {\n  content: "\\f168";\n}\n.fa-xing-square:before {\n  content: "\\f169";\n}\n.fa-youtube-play:before {\n  content: "\\f16a";\n}\n.fa-dropbox:before {\n  content: "\\f16b";\n}\n.fa-stack-overflow:before {\n  content: "\\f16c";\n}\n.fa-instagram:before {\n  content: "\\f16d";\n}\n.fa-flickr:before {\n  content: "\\f16e";\n}\n.fa-adn:before {\n  content: "\\f170";\n}\n.fa-bitbucket:before {\n  content: "\\f171";\n}\n.fa-bitbucket-square:before {\n  content: "\\f172";\n}\n.fa-tumblr:before {\n  content: "\\f173";\n}\n.fa-tumblr-square:before {\n  content: "\\f174";\n}\n.fa-long-arrow-down:before {\n  content: "\\f175";\n}\n.fa-long-arrow-up:before {\n  content: "\\f176";\n}\n.fa-long-arrow-left:before {\n  content: "\\f177";\n}\n.fa-long-arrow-right:before {\n  content: "\\f178";\n}\n.fa-apple:before {\n  content: "\\f179";\n}\n.fa-windows:before {\n  content: "\\f17a";\n}\n.fa-android:before {\n  content: "\\f17b";\n}\n.fa-linux:before {\n  content: "\\f17c";\n}\n.fa-dribbble:before {\n  content: "\\f17d";\n}\n.fa-skype:before {\n  content: "\\f17e";\n}\n.fa-foursquare:before {\n  content: "\\f180";\n}\n.fa-trello:before {\n  content: "\\f181";\n}\n.fa-female:before {\n  content: "\\f182";\n}\n.fa-male:before {\n  content: "\\f183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\f184";\n}\n.fa-sun-o:before {\n  content: "\\f185";\n}\n.fa-moon-o:before {\n  content: "\\f186";\n}\n.fa-archive:before {\n  content: "\\f187";\n}\n.fa-bug:before {\n  content: "\\f188";\n}\n.fa-vk:before {\n  content: "\\f189";\n}\n.fa-weibo:before {\n  content: "\\f18a";\n}\n.fa-renren:before {\n  content: "\\f18b";\n}\n.fa-pagelines:before {\n  content: "\\f18c";\n}\n.fa-stack-exchange:before {\n  content: "\\f18d";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\f18e";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\f190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\f191";\n}\n.fa-dot-circle-o:before {\n  content: "\\f192";\n}\n.fa-wheelchair:before {\n  content: "\\f193";\n}\n.fa-vimeo-square:before {\n  content: "\\f194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\f195";\n}\n.fa-plus-square-o:before {\n  content: "\\f196";\n}\n.fa-space-shuttle:before {\n  content: "\\f197";\n}\n.fa-slack:before {\n  content: "\\f198";\n}\n.fa-envelope-square:before {\n  content: "\\f199";\n}\n.fa-wordpress:before {\n  content: "\\f19a";\n}\n.fa-openid:before {\n  content: "\\f19b";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\f19c";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\f19d";\n}\n.fa-yahoo:before {\n  content: "\\f19e";\n}\n.fa-google:before {\n  content: "\\f1a0";\n}\n.fa-reddit:before {\n  content: "\\f1a1";\n}\n.fa-reddit-square:before {\n  content: "\\f1a2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\f1a3";\n}\n.fa-stumbleupon:before {\n  content: "\\f1a4";\n}\n.fa-delicious:before {\n  content: "\\f1a5";\n}\n.fa-digg:before {\n  content: "\\f1a6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\f1a7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\f1a8";\n}\n.fa-drupal:before {\n  content: "\\f1a9";\n}\n.fa-joomla:before {\n  content: "\\f1aa";\n}\n.fa-language:before {\n  content: "\\f1ab";\n}\n.fa-fax:before {\n  content: "\\f1ac";\n}\n.fa-building:before {\n  content: "\\f1ad";\n}\n.fa-child:before {\n  content: "\\f1ae";\n}\n.fa-paw:before {\n  content: "\\f1b0";\n}\n.fa-spoon:before {\n  content: "\\f1b1";\n}\n.fa-cube:before {\n  content: "\\f1b2";\n}\n.fa-cubes:before {\n  content: "\\f1b3";\n}\n.fa-behance:before {\n  content: "\\f1b4";\n}\n.fa-behance-square:before {\n  content: "\\f1b5";\n}\n.fa-steam:before {\n  content: "\\f1b6";\n}\n.fa-steam-square:before {\n  content: "\\f1b7";\n}\n.fa-recycle:before {\n  content: "\\f1b8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\f1b9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\f1ba";\n}\n.fa-tree:before {\n  content: "\\f1bb";\n}\n.fa-spotify:before {\n  content: "\\f1bc";\n}\n.fa-deviantart:before {\n  content: "\\f1bd";\n}\n.fa-soundcloud:before {\n  content: "\\f1be";\n}\n.fa-database:before {\n  content: "\\f1c0";\n}\n.fa-file-pdf-o:before {\n  content: "\\f1c1";\n}\n.fa-file-word-o:before {\n  content: "\\f1c2";\n}\n.fa-file-excel-o:before {\n  content: "\\f1c3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\f1c4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\f1c5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\f1c6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\f1c7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\f1c8";\n}\n.fa-file-code-o:before {\n  content: "\\f1c9";\n}\n.fa-vine:before {\n  content: "\\f1ca";\n}\n.fa-codepen:before {\n  content: "\\f1cb";\n}\n.fa-jsfiddle:before {\n  content: "\\f1cc";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\f1cd";\n}\n.fa-circle-o-notch:before {\n  content: "\\f1ce";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\f1d0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\f1d1";\n}\n.fa-git-square:before {\n  content: "\\f1d2";\n}\n.fa-git:before {\n  content: "\\f1d3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\f1d4";\n}\n.fa-tencent-weibo:before {\n  content: "\\f1d5";\n}\n.fa-qq:before {\n  content: "\\f1d6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\f1d7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\f1d8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\f1d9";\n}\n.fa-history:before {\n  content: "\\f1da";\n}\n.fa-circle-thin:before {\n  content: "\\f1db";\n}\n.fa-header:before {\n  content: "\\f1dc";\n}\n.fa-paragraph:before {\n  content: "\\f1dd";\n}\n.fa-sliders:before {\n  content: "\\f1de";\n}\n.fa-share-alt:before {\n  content: "\\f1e0";\n}\n.fa-share-alt-square:before {\n  content: "\\f1e1";\n}\n.fa-bomb:before {\n  content: "\\f1e2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\f1e3";\n}\n.fa-tty:before {\n  content: "\\f1e4";\n}\n.fa-binoculars:before {\n  content: "\\f1e5";\n}\n.fa-plug:before {\n  content: "\\f1e6";\n}\n.fa-slideshare:before {\n  content: "\\f1e7";\n}\n.fa-twitch:before {\n  content: "\\f1e8";\n}\n.fa-yelp:before {\n  content: "\\f1e9";\n}\n.fa-newspaper-o:before {\n  content: "\\f1ea";\n}\n.fa-wifi:before {\n  content: "\\f1eb";\n}\n.fa-calculator:before {\n  content: "\\f1ec";\n}\n.fa-paypal:before {\n  content: "\\f1ed";\n}\n.fa-google-wallet:before {\n  content: "\\f1ee";\n}\n.fa-cc-visa:before {\n  content: "\\f1f0";\n}\n.fa-cc-mastercard:before {\n  content: "\\f1f1";\n}\n.fa-cc-discover:before {\n  content: "\\f1f2";\n}\n.fa-cc-amex:before {\n  content: "\\f1f3";\n}\n.fa-cc-paypal:before {\n  content: "\\f1f4";\n}\n.fa-cc-stripe:before {\n  content: "\\f1f5";\n}\n.fa-bell-slash:before {\n  content: "\\f1f6";\n}\n.fa-bell-slash-o:before {\n  content: "\\f1f7";\n}\n.fa-trash:before {\n  content: "\\f1f8";\n}\n.fa-copyright:before {\n  content: "\\f1f9";\n}\n.fa-at:before {\n  content: "\\f1fa";\n}\n.fa-eyedropper:before {\n  content: "\\f1fb";\n}\n.fa-paint-brush:before {\n  content: "\\f1fc";\n}\n.fa-birthday-cake:before {\n  content: "\\f1fd";\n}\n.fa-area-chart:before {\n  content: "\\f1fe";\n}\n.fa-pie-chart:before {\n  content: "\\f200";\n}\n.fa-line-chart:before {\n  content: "\\f201";\n}\n.fa-lastfm:before {\n  content: "\\f202";\n}\n.fa-lastfm-square:before {\n  content: "\\f203";\n}\n.fa-toggle-off:before {\n  content: "\\f204";\n}\n.fa-toggle-on:before {\n  content: "\\f205";\n}\n.fa-bicycle:before {\n  content: "\\f206";\n}\n.fa-bus:before {\n  content: "\\f207";\n}\n.fa-ioxhost:before {\n  content: "\\f208";\n}\n.fa-angellist:before {\n  content: "\\f209";\n}\n.fa-cc:before {\n  content: "\\f20a";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\f20b";\n}\n.fa-meanpath:before {\n  content: "\\f20c";\n}\n.fa-buysellads:before {\n  content: "\\f20d";\n}\n.fa-connectdevelop:before {\n  content: "\\f20e";\n}\n.fa-dashcube:before {\n  content: "\\f210";\n}\n.fa-forumbee:before {\n  content: "\\f211";\n}\n.fa-leanpub:before {\n  content: "\\f212";\n}\n.fa-sellsy:before {\n  content: "\\f213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\f214";\n}\n.fa-simplybuilt:before {\n  content: "\\f215";\n}\n.fa-skyatlas:before {\n  content: "\\f216";\n}\n.fa-cart-plus:before {\n  content: "\\f217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\f218";\n}\n.fa-diamond:before {\n  content: "\\f219";\n}\n.fa-ship:before {\n  content: "\\f21a";\n}\n.fa-user-secret:before {\n  content: "\\f21b";\n}\n.fa-motorcycle:before {\n  content: "\\f21c";\n}\n.fa-street-view:before {\n  content: "\\f21d";\n}\n.fa-heartbeat:before {\n  content: "\\f21e";\n}\n.fa-venus:before {\n  content: "\\f221";\n}\n.fa-mars:before {\n  content: "\\f222";\n}\n.fa-mercury:before {\n  content: "\\f223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\f224";\n}\n.fa-transgender-alt:before {\n  content: "\\f225";\n}\n.fa-venus-double:before {\n  content: "\\f226";\n}\n.fa-mars-double:before {\n  content: "\\f227";\n}\n.fa-venus-mars:before {\n  content: "\\f228";\n}\n.fa-mars-stroke:before {\n  content: "\\f229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\f22a";\n}\n.fa-mars-stroke-h:before {\n  content: "\\f22b";\n}\n.fa-neuter:before {\n  content: "\\f22c";\n}\n.fa-genderless:before {\n  content: "\\f22d";\n}\n.fa-facebook-official:before {\n  content: "\\f230";\n}\n.fa-pinterest-p:before {\n  content: "\\f231";\n}\n.fa-whatsapp:before {\n  content: "\\f232";\n}\n.fa-server:before {\n  content: "\\f233";\n}\n.fa-user-plus:before {\n  content: "\\f234";\n}\n.fa-user-times:before {\n  content: "\\f235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\f236";\n}\n.fa-viacoin:before {\n  content: "\\f237";\n}\n.fa-train:before {\n  content: "\\f238";\n}\n.fa-subway:before {\n  content: "\\f239";\n}\n.fa-medium:before {\n  content: "\\f23a";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\f23b";\n}\n.fa-optin-monster:before {\n  content: "\\f23c";\n}\n.fa-opencart:before {\n  content: "\\f23d";\n}\n.fa-expeditedssl:before {\n  content: "\\f23e";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\f240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\f241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\f242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\f243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\f244";\n}\n.fa-mouse-pointer:before {\n  content: "\\f245";\n}\n.fa-i-cursor:before {\n  content: "\\f246";\n}\n.fa-object-group:before {\n  content: "\\f247";\n}\n.fa-object-ungroup:before {\n  content: "\\f248";\n}\n.fa-sticky-note:before {\n  content: "\\f249";\n}\n.fa-sticky-note-o:before {\n  content: "\\f24a";\n}\n.fa-cc-jcb:before {\n  content: "\\f24b";\n}\n.fa-cc-diners-club:before {\n  content: "\\f24c";\n}\n.fa-clone:before {\n  content: "\\f24d";\n}\n.fa-balance-scale:before {\n  content: "\\f24e";\n}\n.fa-hourglass-o:before {\n  content: "\\f250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\f251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\f252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\f253";\n}\n.fa-hourglass:before {\n  content: "\\f254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\f255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\f256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\f257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\f258";\n}\n.fa-hand-spock-o:before {\n  content: "\\f259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\f25a";\n}\n.fa-hand-peace-o:before {\n  content: "\\f25b";\n}\n.fa-trademark:before {\n  content: "\\f25c";\n}\n.fa-registered:before {\n  content: "\\f25d";\n}\n.fa-creative-commons:before {\n  content: "\\f25e";\n}\n.fa-gg:before {\n  content: "\\f260";\n}\n.fa-gg-circle:before {\n  content: "\\f261";\n}\n.fa-tripadvisor:before {\n  content: "\\f262";\n}\n.fa-odnoklassniki:before {\n  content: "\\f263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\f264";\n}\n.fa-get-pocket:before {\n  content: "\\f265";\n}\n.fa-wikipedia-w:before {\n  content: "\\f266";\n}\n.fa-safari:before {\n  content: "\\f267";\n}\n.fa-chrome:before {\n  content: "\\f268";\n}\n.fa-firefox:before {\n  content: "\\f269";\n}\n.fa-opera:before {\n  content: "\\f26a";\n}\n.fa-internet-explorer:before {\n  content: "\\f26b";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\f26c";\n}\n.fa-contao:before {\n  content: "\\f26d";\n}\n.fa-500px:before {\n  content: "\\f26e";\n}\n.fa-amazon:before {\n  content: "\\f270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\f271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\f272";\n}\n.fa-calendar-times-o:before {\n  content: "\\f273";\n}\n.fa-calendar-check-o:before {\n  content: "\\f274";\n}\n.fa-industry:before {\n  content: "\\f275";\n}\n.fa-map-pin:before {\n  content: "\\f276";\n}\n.fa-map-signs:before {\n  content: "\\f277";\n}\n.fa-map-o:before {\n  content: "\\f278";\n}\n.fa-map:before {\n  content: "\\f279";\n}\n.fa-commenting:before {\n  content: "\\f27a";\n}\n.fa-commenting-o:before {\n  content: "\\f27b";\n}\n.fa-houzz:before {\n  content: "\\f27c";\n}\n.fa-vimeo:before {\n  content: "\\f27d";\n}\n.fa-black-tie:before {\n  content: "\\f27e";\n}\n.fa-fonticons:before {\n  content: "\\f280";\n}\n.fa-reddit-alien:before {\n  content: "\\f281";\n}\n.fa-edge:before {\n  content: "\\f282";\n}\n.fa-credit-card-alt:before {\n  content: "\\f283";\n}\n.fa-codiepie:before {\n  content: "\\f284";\n}\n.fa-modx:before {\n  content: "\\f285";\n}\n.fa-fort-awesome:before {\n  content: "\\f286";\n}\n.fa-usb:before {\n  content: "\\f287";\n}\n.fa-product-hunt:before {\n  content: "\\f288";\n}\n.fa-mixcloud:before {\n  content: "\\f289";\n}\n.fa-scribd:before {\n  content: "\\f28a";\n}\n.fa-pause-circle:before {\n  content: "\\f28b";\n}\n.fa-pause-circle-o:before {\n  content: "\\f28c";\n}\n.fa-stop-circle:before {\n  content: "\\f28d";\n}\n.fa-stop-circle-o:before {\n  content: "\\f28e";\n}\n.fa-shopping-bag:before {\n  content: "\\f290";\n}\n.fa-shopping-basket:before {\n  content: "\\f291";\n}\n.fa-hashtag:before {\n  content: "\\f292";\n}\n.fa-bluetooth:before {\n  content: "\\f293";\n}\n.fa-bluetooth-b:before {\n  content: "\\f294";\n}\n.fa-percent:before {\n  content: "\\f295";\n}\n.fa-gitlab:before {\n  content: "\\f296";\n}\n.fa-wpbeginner:before {\n  content: "\\f297";\n}\n.fa-wpforms:before {\n  content: "\\f298";\n}\n.fa-envira:before {\n  content: "\\f299";\n}\n.fa-universal-access:before {\n  content: "\\f29a";\n}\n.fa-wheelchair-alt:before {\n  content: "\\f29b";\n}\n.fa-question-circle-o:before {\n  content: "\\f29c";\n}\n.fa-blind:before {\n  content: "\\f29d";\n}\n.fa-audio-description:before {\n  content: "\\f29e";\n}\n.fa-volume-control-phone:before {\n  content: "\\f2a0";\n}\n.fa-braille:before {\n  content: "\\f2a1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\f2a2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\f2a3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\f2a4";\n}\n.fa-glide:before {\n  content: "\\f2a5";\n}\n.fa-glide-g:before {\n  content: "\\f2a6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\f2a7";\n}\n.fa-low-vision:before {\n  content: "\\f2a8";\n}\n.fa-viadeo:before {\n  content: "\\f2a9";\n}\n.fa-viadeo-square:before {\n  content: "\\f2aa";\n}\n.fa-snapchat:before {\n  content: "\\f2ab";\n}\n.fa-snapchat-ghost:before {\n  content: "\\f2ac";\n}\n.fa-snapchat-square:before {\n  content: "\\f2ad";\n}\n.fa-pied-piper:before {\n  content: "\\f2ae";\n}\n.fa-first-order:before {\n  content: "\\f2b0";\n}\n.fa-yoast:before {\n  content: "\\f2b1";\n}\n.fa-themeisle:before {\n  content: "\\f2b2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\f2b3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\f2b4";\n}\n.fa-handshake-o:before {\n  content: "\\f2b5";\n}\n.fa-envelope-open:before {\n  content: "\\f2b6";\n}\n.fa-envelope-open-o:before {\n  content: "\\f2b7";\n}\n.fa-linode:before {\n  content: "\\f2b8";\n}\n.fa-address-book:before {\n  content: "\\f2b9";\n}\n.fa-address-book-o:before {\n  content: "\\f2ba";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\f2bb";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\f2bc";\n}\n.fa-user-circle:before {\n  content: "\\f2bd";\n}\n.fa-user-circle-o:before {\n  content: "\\f2be";\n}\n.fa-user-o:before {\n  content: "\\f2c0";\n}\n.fa-id-badge:before {\n  content: "\\f2c1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\f2c2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\f2c3";\n}\n.fa-quora:before {\n  content: "\\f2c4";\n}\n.fa-free-code-camp:before {\n  content: "\\f2c5";\n}\n.fa-telegram:before {\n  content: "\\f2c6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\f2c7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\f2c8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\f2c9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\f2ca";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\f2cb";\n}\n.fa-shower:before {\n  content: "\\f2cc";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\f2cd";\n}\n.fa-podcast:before {\n  content: "\\f2ce";\n}\n.fa-window-maximize:before {\n  content: "\\f2d0";\n}\n.fa-window-minimize:before {\n  content: "\\f2d1";\n}\n.fa-window-restore:before {\n  content: "\\f2d2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\f2d3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\f2d4";\n}\n.fa-bandcamp:before {\n  content: "\\f2d5";\n}\n.fa-grav:before {\n  content: "\\f2d6";\n}\n.fa-etsy:before {\n  content: "\\f2d7";\n}\n.fa-imdb:before {\n  content: "\\f2d8";\n}\n.fa-ravelry:before {\n  content: "\\f2d9";\n}\n.fa-eercast:before {\n  content: "\\f2da";\n}\n.fa-microchip:before {\n  content: "\\f2db";\n}\n.fa-snowflake-o:before {\n  content: "\\f2dc";\n}\n.fa-superpowers:before {\n  content: "\\f2dd";\n}\n.fa-wpexplorer:before {\n  content: "\\f2de";\n}\n.fa-meetup:before {\n  content: "\\f2e0";\n}\n'
},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(0),u=i(l),c=n(4),h=i(c),p=n(2973),d=i(p),f=n(2972),g=i(f),m=n(2539),y=(m.nameShape.isRequired,h.default.bool,h.default.bool,h.default.bool,(0,m.transitionTimeout)("Appear"),(0,m.transitionTimeout)("Enter"),(0,m.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),v=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(l))),i._wrapChild=function(t){return u.default.createElement(g.default,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},t)},a=n,o(i,a)}return a(e,t),e.prototype.render=function(){return u.default.createElement(d.default,s({},this.props,{childFactory:this._wrapChild}))},e}(u.default.Component);v.displayName="CSSTransitionGroup",v.propTypes={},v.defaultProps=y,e.default=v,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return _.length?_.forEach(function(n){return t.addEventListener(n,e,!1)}):setTimeout(e,0),function(){_.length&&_.forEach(function(n){return t.removeEventListener(n,e,!1)})}}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=n(876),c=i(u),h=n(877),p=i(h),d=n(2468),f=i(d),g=n(440),m=n(0),y=i(m),v=n(4),b=i(v),w=n(43),x=n(2539),_=[];g.transitionEnd&&_.push(g.transitionEnd),g.animationEnd&&_.push(g.animationEnd);var E=(b.default.node,x.nameShape.isRequired,b.default.bool,b.default.bool,b.default.bool,b.default.number,b.default.number,b.default.number,function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,t.call.apply(t,[this].concat(l))),i.componentWillAppear=function(t){i.props.appear?i.transition("appear",t,i.props.appearTimeout):t()},i.componentWillEnter=function(t){i.props.enter?i.transition("enter",t,i.props.enterTimeout):t()},i.componentWillLeave=function(t){i.props.leave?i.transition("leave",t,i.props.leaveTimeout):t()},a=n,o(i,a)}return a(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,n){var i=(0,w.findDOMNode)(this);if(!i)return void(e&&e());var r=this.props.name[t]||this.props.name+"-"+t,o=this.props.name[t+"Active"]||r+"-active",a=null,l=void 0;(0,c.default)(i,r),this.queueClassAndNode(o,i);var u=function(t){t&&t.target!==i||(clearTimeout(a),l&&l(),(0,p.default)(i,r),(0,p.default)(i,o),l&&l(),e&&e())};n?(a=setTimeout(u,n),this.transitionTimeouts.push(a)):g.transitionEnd&&(l=s(i,u))},e.prototype.queueClassAndNode=function(t,e){var n=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,f.default)(function(){return n.flushClassNameAndNodeQueue()}))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(t){t.node.scrollTop,(0,c.default)(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=l({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,y.default.cloneElement(y.default.Children.only(this.props.children),t)},e}(y.default.Component));E.displayName="CSSTransitionGroupChild",E.propTypes={},e.default=E,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(2463),u=i(l),c=n(0),h=i(c),p=n(4),d=i(p),f=n(39),g=(i(f),n(2974)),m=(d.default.any,d.default.func,d.default.node,{component:"span",childFactory:function(t){return t}}),y=function(t){function e(n,i){r(this,e);var a=o(this,t.call(this,n,i));return a.performAppear=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(a._handleDoneAppearing.bind(a,t,e)):a._handleDoneAppearing(t,e)},a._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t,e)},a.performEnter=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(a._handleDoneEntering.bind(a,t,e)):a._handleDoneEntering(t,e)},a._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)||a.performLeave(t,e)},a.performLeave=function(t,e){a.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(a._handleDoneLeaving.bind(a,t,e)):a._handleDoneLeaving(t,e)},a._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete a.currentlyTransitioningKeys[t];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(t)?a.keysToEnter.push(t):a.setState(function(e){var n=s({},e.children);return delete n[t],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,g.getChildMapping)(n.children)},a}return a(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,g.getChildMapping)(t.children),n=this.state.children;this.setState({children:(0,g.mergeChildMappings)(n,e)});for(var i in e){var r=n&&n.hasOwnProperty(i);!e[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(var o in n){var a=e&&e.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},e.prototype.render=function(){var t=this,e=[];for(var n in this.state.children)!function(n){var i=t.state.children[n];if(i){var r="string"!=typeof i.ref,o=t.props.childFactory(i),a=function(e){t.childRefs[n]=e};o===i&&r&&(a=(0,u.default)(i.ref,a)),e.push(h.default.cloneElement(o,{key:n,ref:a}))}}(n);var i=s({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,h.default.createElement(this.props.component,i,e)},e}(h.default.Component);y.displayName="TransitionGroup",y.propTypes={},y.defaultProps=m,e.default=y,t.exports=e.default},function(t,e,n){"use strict";function i(t){if(!t)return t;var e={};return o.Children.map(t,function(t){return t}).forEach(function(t){e[t.key]=t}),e}function r(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var i={},r=[];for(var o in t)e.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a=void 0,s={};for(var l in e){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var u=i[l][a];s[i[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=r;var o=n(0)},,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,s,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(0),c=n(4),h=function(t){return t&&t.__esModule?t:{default:t}}(c),p=n(2540),d=(s=a=function(t){function e(t,n){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.backend=(0,p.unpackBackendForEs5Users)(t.backend),o.childContext=(0,p.createChildContext)(o.backend,{window:function(){return t&&t.window?t.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0}()}),o}return o(e,t),l(e,[{key:"componentWillReceiveProps",value:function(t){if(t.backend!==this.props.backend||t.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),e}(u.Component),a.propTypes={backend:h.default.oneOfType([h.default.func,h.default.object]).isRequired,children:h.default.element.isRequired,window:h.default.object},a.defaultProps={window:void 0},a.childContextTypes=p.CHILD_CONTEXT_TYPES,a.displayName="DragDropContextProvider",a.contextTypes={window:h.default.object},s);e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,w.default)("function"==typeof t,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",t),(0,w.default)((0,v.default)(e),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',e),function(n){var i,s,d=e.arePropsEqual,g=void 0===d?S.default:d,y=n.displayName||n.name||"Component",v=(s=i=function(e){function i(t,e){r(this,i);var n=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return n.handleChange=n.handleChange.bind(n),n.manager=e.dragDropManager,(0,w.default)("object"===u(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",y,y),n.state=n.getCurrentState(),n}return a(i,e),c(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,w.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(t,e){return!g(t,this.props)||!(0,_.default)(e,this.state)}}]),c(i,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var t=this.getCurrentState();(0,_.default)(t,this.state)||this.setState(t)}}},{key:"getCurrentState",value:function(){var e=this.manager.getMonitor();return t(e,this.props)}},{key:"render",value:function(){var t=this;return p.default.createElement(n,l({},this.props,this.state,{ref:function(e){t.child=e}}))}}]),i}(h.Component),i.DecoratedComponent=n,i.displayName="DragLayer("+y+")",i.contextTypes={dragDropManager:f.default.object.isRequired},s);return(0,m.default)(v,n)}}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=s;var h=n(0),p=i(h),d=n(4),f=i(d),g=n(2280),m=i(g),y=n(434),v=i(y),b=n(90),w=i(b),x=n(2434),_=i(x),E=n(2544),S=i(E),C=n(2243),T=i(C)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var r=t;"function"!=typeof t&&((0,a.default)((0,_.default)(t),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t),r=function(){return t}),(0,a.default)((0,l.default)(e),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e);var o=(0,m.default)(e);return(0,a.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,a.default)((0,l.default)(i),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(t){return(0,p.default)({connectBackend:function(t,e){return t.connectDragSource(e)},containerDisplayName:"DragSource",createHandler:o,registerHandler:f.default,createMonitor:v.default,createConnector:w.default,DecoratedComponent:t,getType:r,collect:n,options:i})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(90),a=i(o),s=n(434),l=i(s),u=n(2243),c=i(u),h=n(2542),p=i(h),d=n(2987),f=i(d),g=n(2982),m=i(g),y=n(2983),v=i(y),b=n(2981),w=i(b),x=n(2543),_=i(x)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var r=t;"function"!=typeof t&&((0,a.default)((0,_.default)(t,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t),r=function(){return t}),(0,a.default)((0,l.default)(e),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e);var o=(0,m.default)(e);return(0,a.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,a.default)((0,l.default)(i),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(t){return(0,p.default)({connectBackend:function(t,e){return t.connectDropTarget(e)},containerDisplayName:"DropTarget",createHandler:o,registerHandler:f.default,createMonitor:v.default,createConnector:w.default,DecoratedComponent:t,getType:r,collect:n,options:i})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(90),a=i(o),s=n(434),l=i(s),u=n(2243),c=i(u),h=n(2542),p=i(h),d=n(2988),f=i(d),g=n(2985),m=i(g),y=n(2986),v=i(y),b=n(2984),w=i(b),x=n(2543),_=i(x)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){function e(){u&&(u(),u=null),r&&o&&(u=t.connectDragSource(r,o,s))}function n(){p&&(p(),p=null),r&&c&&(p=t.connectDragPreview(r,c,h))}function i(t){t!==r&&(r=t,e(),n())}var r=void 0,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0,p=void 0;return{receiveHandlerId:i,hooks:(0,a.default)({dragSource:function(t,n){t===o&&(0,l.default)(n,s)||(o=t,s=n,e())},dragPreview:function(t,e){t===c&&(0,l.default)(e,h)||(c=t,h=e,n())}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2545),a=i(o),s=n(2541),l=i(s)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){Object.keys(t).forEach(function(e){(0,l.default)(c.indexOf(e)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',c.join(", "),e),(0,l.default)("function"==typeof t[e],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",e,e,t[e])}),h.forEach(function(e){(0,l.default)("function"==typeof t[e],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",e,e,t[e])});var e=function(){function e(t){r(this,e),this.monitor=t,this.props=null,this.component=null}return a(e,[{key:"receiveProps",value:function(t){this.props=t}},{key:"receiveComponent",value:function(t){this.component=t}},{key:"canDrag",value:function(){return!t.canDrag||t.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(e,n){return t.isDragging?t.isDragging(this.props,this.monitor):n===e.getSourceId()}},{key:"beginDrag",value:function(){var e=t.beginDrag(this.props,this.monitor,this.component);return e}},{key:"endDrag",value:function(){t.endDrag&&t.endDrag(this.props,this.monitor,this.component)}}]),e}();return function(t){return new e(t)}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=o;var s=n(90),l=i(s),u=n(434),c=(i(u),["canDrag","beginDrag","isDragging","endDrag"]),h=["beginDrag"]},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return new c(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=r;var a=n(90),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=!1,u=!1,c=function(){function t(e){i(this,t),this.internalMonitor=e.getMonitor()}return o(t,[{key:"receiveHandlerId",value:function(t){this.sourceId=t}},{key:"canDrag",value:function(){(0,s.default)(!l,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{l=!1}}},{key:"isDragging",value:function(){(0,s.default)(!u,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return u=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{u=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){function e(){s&&(s(),s=null),i&&r&&(s=t.connectDropTarget(i,r,o))}function n(t){t!==i&&(i=t,e())}var i=void 0,r=void 0,o=void 0,s=void 0;return{receiveHandlerId:n,hooks:(0,a.default)({dropTarget:function(t,n){t===r&&(0,l.default)(n,o)||(r=t,o=n,e())}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(2545),a=i(o),s=n(2541),l=i(s)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){Object.keys(t).forEach(function(e){(0,l.default)(c.indexOf(e)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',c.join(", "),e),(0,l.default)("function"==typeof t[e],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",e,e,t[e])});var e=function(){function e(t){r(this,e),this.monitor=t,this.props=null,this.component=null}return a(e,[{key:"receiveProps",value:function(t){this.props=t}},{key:"receiveMonitor",value:function(t){this.monitor=t}},{key:"receiveComponent",value:function(t){this.component=t}},{key:"canDrop",value:function(){return!t.canDrop||t.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){t.hover&&t.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(t.drop){var e=t.drop(this.props,this.monitor,this.component);return e}}}]),e}();return function(t){return new e(t)}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=o;var s=n(90),l=i(s),u=n(434),c=(i(u),["canDrop","hover","drop"])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return new u(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.default=r;var a=n(90),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=!1,u=function(){function t(e){i(this,t),this.internalMonitor=e.getMonitor()}return o(t,[{key:"receiveHandlerId",value:function(t){this.targetId=t}},{key:"canDrop",value:function(){(0,s.default)(!l,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return l=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{l=!1}}},{key:"isOver",value:function(t){return this.internalMonitor.isOverTarget(this.targetId,t)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}()},function(t,e,n){"use strict";function i(t,e,n){function i(){r.removeSource(o)}var r=n.getRegistry(),o=r.addSource(t,e);return{handlerId:o,unregister:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e,n){function i(){r.removeTarget(o)}var r=n.getRegistry(),o=r.addTarget(t,e);return{handlerId:o,unregister:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e){var n=t.ref;return(0,o.default)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?(0,a.cloneElement)(t,{ref:function(t){e(t),n&&n(t)}}):(0,a.cloneElement)(t,{ref:e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(90),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0)},function(t,e,n){!function(e,i){t.exports=i(n(0),n(43))}(0,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1).default,t.exports.DraggableCore=n(17).default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(2),p=i(h),d=n(3),f=i(d),g=n(11),m=i(g),y=n(12),v=i(y),b=n(13),w=n(16),x=n(14),_=n(17),E=i(_),S=n(19),C=i(S),T=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onDragStart=function(t,e){if((0,C.default)("Draggable: onDragStart: %j",e),!1===n.props.onStart(t,(0,w.createDraggableData)(n,e)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(t,e){if(!n.state.dragging)return!1;(0,
C.default)("Draggable: onDrag: %j",e);var i=(0,w.createDraggableData)(n,e),r={x:i.x,y:i.y};if(n.props.bounds){var o=r.x,a=r.y;r.x+=n.state.slackX,r.y+=n.state.slackY;var s=(0,w.getBoundPosition)(n,r.x,r.y),l=u(s,2);r.x=l[0],r.y=l[1],r.slackX=n.state.slackX+(o-r.x),r.slackY=n.state.slackY+(a-r.y),i.x=o,i.y=a,i.deltaX=r.x-n.state.x,i.deltaY=r.y-n.state.y}if(!1===n.props.onDrag(t,i))return!1;n.setState(r)},n.onDragStop=function(t,e){if(!n.state.dragging)return!1;if(!1===n.props.onStop(t,(0,w.createDraggableData)(n,e)))return!1;(0,C.default)("Draggable: onDragStop: %j",e);var i={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var r=n.props.position,o=r.x,a=r.y;i.x=o,i.y=a}n.setState(i)},n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(e,t),c(e,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&m.default.findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,e={},n=null,i=Boolean(this.props.position),o=!i||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:(0,w.canDragX)(this)&&o?this.state.x:a.x,y:(0,w.canDragY)(this)&&o?this.state.y:a.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(s):e=(0,b.createCSSTransform)(s);var u=this.props,c=u.defaultClassName,h=u.defaultClassNameDragging,d=u.defaultClassNameDragged,f=(0,v.default)(this.props.children.props.className||"",c,(t={},r(t,h,this.state.dragging),r(t,d,this.state.dragged),t));return p.default.createElement(E.default,l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p.default.cloneElement(p.default.Children.only(this.props.children),{className:f,style:l({},this.props.children.props.style,e),transform:n}))}}]),e}(p.default.Component);T.displayName="Draggable",T.propTypes=l({},E.default.propTypes,{axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),T.defaultProps=l({},E.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),e.default=T},function(e,n){e.exports=t},function(t,e,n){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i};t.exports=n(4)(r,!0)}else t.exports=n(10)()},function(t,e,n){"use strict";var i=n(5),r=n(6),o=n(7),a=n(8),s=n(9);t.exports=function(t,e){function n(t){var e=t&&(E&&t[E]||t[S]);if("function"==typeof e)return e}function l(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function u(t){this.message=t,this.stack=""}function c(t){function n(n,l,c,h,p,d,f){if(h=h||C,d=d||c,f!==a)if(e)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var g=h+":"+c;!i[g]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,h),i[g]=!0,s++)}return null==l[c]?n?new u(null===l[c]?"The "+p+" `"+d+"` is marked as required in `"+h+"`, but its value is `null`.":"The "+p+" `"+d+"` is marked as required in `"+h+"`, but its value is `undefined`."):null:t(l,c,h,p,d)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var i={},s=0;var l=n.bind(null,!1);return l.isRequired=n.bind(null,!0),l}function h(t){function e(e,n,i,r,o,a){var s=e[n];if(w(s)!==t)return new u("Invalid "+r+" `"+o+"` of type `"+x(s)+"` supplied to `"+i+"`, expected `"+t+"`.");return null}return c(e)}function p(t){function e(e,n,i,r,o){if("function"!=typeof t)return new u("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){return new u("Invalid "+r+" `"+o+"` of type `"+w(s)+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<s.length;l++){var c=t(s,l,i,r,o+"["+l+"]",a);if(c instanceof Error)return c}return null}return c(e)}function d(t){function e(e,n,i,r,o){if(!(e[n]instanceof t)){var a=t.name||C;return new u("Invalid "+r+" `"+o+"` of type `"+_(e[n])+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}return null}return c(e)}function f(t){function e(e,n,i,r,o){for(var a=e[n],s=0;s<t.length;s++)if(l(a,t[s]))return null;return new u("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+JSON.stringify(t)+".")}return Array.isArray(t)?c(e):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)}function g(t){function e(e,n,i,r,o){if("function"!=typeof t)return new u("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=e[n],l=w(s);if("object"!==l)return new u("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var h=t(s,c,i,r,o+"."+c,a);if(h instanceof Error)return h}return null}return c(e)}function m(t){function e(e,n,i,r,o){for(var s=0;s<t.length;s++){if(null==(0,t[s])(e,n,i,r,o,a))return null}return new u("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")}return Array.isArray(t)?c(e):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull)}function y(t){function e(e,n,i,r,o){var s=e[n],l=w(s);if("object"!==l)return new u("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in t){var h=t[c];if(h){var p=h(s,c,i,r,o+"."+c,a);if(p)return p}}return null}return c(e)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||t(e))return!0;var i=n(e);if(!i)return!1;var r,o=i.call(e);if(i!==e.entries){for(;!(r=o.next()).done;)if(!v(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!v(a[1]))return!1}return!0;default:return!1}}function b(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function w(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":b(e,t)?"symbol":e}function x(t){var e=w(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){return t.constructor&&t.constructor.name?t.constructor.name:C}var E="function"==typeof Symbol&&Symbol.iterator,S="@@iterator",C="<<anonymous>>",T={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return c(i.thatReturnsNull)}(),arrayOf:p,element:function(){function e(e,n,i,r,o){var a=e[n];if(!t(a)){return new u("Invalid "+r+" `"+o+"` of type `"+w(a)+"` supplied to `"+i+"`, expected a single ReactElement.")}return null}return c(e)}(),instanceOf:d,node:function(){function t(t,e,n,i,r){return v(t[e])?null:new u("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}return c(t)}(),objectOf:g,oneOf:f,oneOfType:m,shape:y};return u.prototype=Error.prototype,T.checkPropTypes=s,T.PropTypes=T,T}},function(t,e){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,l){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;u=new Error(e.replace(/%s/g,function(){return c[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(r=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=i},function(t,e,n){"use strict";var i=n(5),r=i;"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&function(){var t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+t.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(t){}};r=function(e,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!e){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t.apply(void 0,[n].concat(r))}}}(),t.exports=r},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function i(t,e,n,i,l){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var u in t)if(t.hasOwnProperty(u)){var c;try{r("function"==typeof t[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",n,u),c=t[u](e,u,i,n,null,a)}catch(t){c=t}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",i||"React class",n,u,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var h=l?l():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=h?h:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r=n(6),o=n(7),a=n(8),s={};t.exports=i},function(t,e,n){"use strict";var i=n(5),r=n(6);t.exports=function(){function t(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,n){t.exports=e},function(t,e,n){var i,r;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i))t.push(n.apply(null,i));else if("object"===r)for(var a in i)o.call(i,a)&&i[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(i=[],void 0!==(r=function(){return n}.apply(e,i))&&(t.exports=r))}()},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){return S||(S=(0,x.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,x.isFunction)(t[e])})),t[S].call(t,e)}function o(t,e,n){var i=t;do{if(r(i,e))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function a(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function s(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function l(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,x.int)(n.borderTopWidth),e+=(0,x.int)(n.borderBottomWidth)}function u(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,x.int)(n.borderLeftWidth),e+=(0,x.int)(n.borderRightWidth)}function c(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,x.int)(n.paddingTop),e-=(0,x.int)(n.paddingBottom)}function h(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,x.int)(n.paddingLeft),e-=(0,x.int)(n.paddingRight)}function p(t,e){var n=e===e.ownerDocument.body,i=n?{left:0,top:0}:e.getBoundingClientRect();return{x:t.clientX+e.scrollLeft-i.left,y:t.clientY+e.scrollTop-i.top}}function d(t){var e=t.x,n=t.y;return i({},(0,_.browserPrefixToKey)("transform",E.default),"translate("+e+"px,"+n+"px)")}function f(t){return"translate("+t.x+","+t.y+")"}function g(t,e){return t.targetTouches&&(0,x.findInArray)(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&(0,x.findInArray)(t.changedTouches,function(t){return e===t.identifier})}function m(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function y(t){var e=t.getAttribute("style")||"";O.test(e)||t.setAttribute("style",e+k)}function v(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e.replace(O,""))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w({touchAction:"none"},t)}Object.defineProperty(e,"__esModule",{value:!0});var w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.matchesSelector=r,e.matchesSelectorAndParentsTo=o,e.addEvent=a,e.removeEvent=s,e.outerHeight=l,e.outerWidth=u,e.innerHeight=c,e.innerWidth=h,e.offsetXYFromParent=p,e.createCSSTransform=d,e.createSVGTransform=f,e.getTouch=g,e.getTouchIdentifier=m,e.addUserSelectStyles=y,e.removeUserSelectStyles=v,e.styleHacks=b;var x=n(14),_=n(15),E=function(t){return t&&t.__esModule?t:{default:t}}(_),S="",C=(0,_.getPrefix)("user-select"),T=(0,_.browserPrefixToStyle)("user-select",C),k=";"+T+": none;",O=new RegExp(";?"+T+": none;")},function(t,e){"use strict";function n(t,e){for(var n=0,i=t.length;n<i;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function i(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t&&!isNaN(t)}function o(t){return parseInt(t,10)}function a(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=n,e.isFunction=i,e.isNum=r,e.int=o,e.dontSetMe=a},function(t,e){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<a.length;n++)if(i(t,a[n])in e)return a[n];return""}function i(t,e){return e?""+e+o(t):t}function r(t,e){return e?"-"+e.toLowerCase()+"-"+t:t}function o(t){for(var e="",n=!0,i=0;i<t.length;i++)n?(e+=t[i].toUpperCase(),n=!1):"-"===t[i]?n=!0:e+=t[i];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=n,e.browserPrefixToKey=i,e.browserPrefixToStyle=r;var a=["Moz","Webkit","O","ms"];e.default=n()},function(t,e,n){"use strict";function i(t,e,n){if(!t.props.bounds)return[e,n];var i=t.props.bounds;i="string"==typeof i?i:c(i);var r=d.default.findDOMNode(t);if("string"==typeof i){var o=r.ownerDocument,a=o.defaultView,s=void 0;if("parent"===i)s=r.parentNode;else if(!(s=o.querySelector(i)))throw new Error('Bounds selector "'+i+'" could not find an element.');var l=a.getComputedStyle(r),u=a.getComputedStyle(s);i={left:-r.offsetLeft+(0,h.int)(u.paddingLeft)+(0,h.int)(l.marginLeft),top:-r.offsetTop+(0,h.int)(u.paddingTop)+(0,h.int)(l.marginTop),right:(0,f.innerWidth)(s)-(0,f.outerWidth)(r)-r.offsetLeft+(0,h.int)(u.paddingRight)-(0,h.int)(l.marginRight),bottom:(0,f.innerHeight)(s)-(0,f.outerHeight)(r)-r.offsetTop+(0,h.int)(u.paddingBottom)-(0,h.int)(l.marginBottom)}}return(0,h.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,h.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,h.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,h.isNum)(i.top)&&(n=Math.max(n,i.top)),[e,n]}function r(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]}function o(t){return"both"===t.props.axis||"x"===t.props.axis}function a(t){return"both"===t.props.axis||"y"===t.props.axis}function s(t,e,n){var i="number"==typeof e?(0,f.getTouch)(t,e):null;if("number"==typeof e&&!i)return null;var r=d.default.findDOMNode(n),o=n.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,f.offsetXYFromParent)(i||t,o)}function l(t,e,n){var i=t.state;return(0,h.isNum)(i.lastX)?{node:d.default.findDOMNode(t),deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}:{node:d.default.findDOMNode(t),deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}}function u(t,e){return{node:e.node,x:t.state.x+e.deltaX,y:t.state.y+e.deltaY,deltaX:e.deltaX,deltaY:e.deltaY,lastX:t.state.x,lastY:t.state.y}}function c(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=i,e.snapToGrid=r,e.canDragX=o,e.canDragY=a,e.getControlPosition=s,e.createCoreData=l,e.createDraggableData=u;var h=n(14),p=n(11),d=function(t){return t&&t.__esModule?t:{default:t}}(p),f=n(13)},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(2),c=i(u),h=n(3),p=i(h),d=n(11),f=i(d),g=n(13),m=n(16),y=n(14),v=n(19),b=i(v),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=w.mouse,_=function(t){function e(){var t,n,i,a;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var e=f.default.findDOMNode(i),n=e.ownerDocument;if(!(i.props.disabled||!(t.target instanceof n.defaultView.Node)||i.props.handle&&!(0,g.matchesSelectorAndParentsTo)(t.target,i.props.handle,e)||i.props.cancel&&(0,g.matchesSelectorAndParentsTo)(t.target,i.props.cancel,e))){var r=(0,g.getTouchIdentifier)(t);i.setState({touchIdentifier:r});var o=(0,m.getControlPosition)(t,r,i);if(null!=o){var a=o.x,s=o.y,l=(0,m.createCoreData)(i,a,s);(0,b.default)("DraggableCore: handleDragStart: %j",l),(0,b.default)("calling",i.props.onStart);!1!==i.props.onStart(t,l)&&(i.props.enableUserSelectHack&&(0,g.addUserSelectStyles)(n.body),i.setState({dragging:!0,lastX:a,lastY:s}),(0,g.addEvent)(n,x.move,i.handleDrag),(0,g.addEvent)(n,x.stop,i.handleDragStop))}}},i.handleDrag=function(t){"touchmove"===t.type&&t.preventDefault();var e=(0,m.getControlPosition)(t,i.state.touchIdentifier,i);if(null!=e){var n=e.x,r=e.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,l=(0,m.snapToGrid)(i.props.grid,o,a),u=s(l,2);if(o=u[0],a=u[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var c=(0,m.createCoreData)(i,n,r);(0,b.default)("DraggableCore: handleDrag: %j",c);if(!1!==i.props.onDrag(t,c))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(t){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(h)}}},i.handleDragStop=function(t){if(i.state.dragging){var e=(0,m.getControlPosition)(t,i.state.touchIdentifier,i);if(null!=e){var n=e.x,r=e.y,o=(0,m.createCoreData)(i,n,r),a=f.default.findDOMNode(i),s=a.ownerDocument;i.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(s.body),(0,b.default)("DraggableCore: handleDragStop: %j",o),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,o),(0,b.default)("DraggableCore: Removing handlers"),(0,g.removeEvent)(s,x.move,i.handleDrag),(0,g.removeEvent)(s,x.stop,i.handleDragStop)}}},i.onMouseDown=function(t){return x=w.mouse,i.handleDragStart(t)},i.onMouseUp=function(t){return x=w.mouse,i.handleDragStop(t)},i.onTouchStart=function(t){return x=w.touch,i.handleDragStart(t)},i.onTouchEnd=function(t){return x=w.touch,i.handleDragStop(t)},a=n,o(i,a)}return a(e,t),l(e,[{key:"componentWillUnmount",value:function(){var t=f.default.findDOMNode(this),e=t.ownerDocument;(0,g.removeEvent)(e,w.mouse.move,this.handleDrag),(0,g.removeEvent)(e,w.touch.move,this.handleDrag),(0,g.removeEvent)(e,w.mouse.stop,this.handleDragStop),(0,g.removeEvent)(e,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(e.body)}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,g.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(c.default.Component);_.displayName="DraggableCore",_.propTypes={allowAnyClick:p.default.bool,disabled:p.default.bool,enableUserSelectHack:p.default.bool,offsetParent:function(e,n){if(t.browser&&e[n]&&1!==e[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:p.default.arrayOf(p.default.number),handle:p.default.string,cancel:p.default.string,onStart:p.default.func,onDrag:p.default.func,onStop:p.default.func,onMouseDown:p.default.func,className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe},_.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},e.default=_}).call(e,n(18))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){g&&d&&(g=!1,d.length?f=d.concat(f):m=-1,f.length&&s())}function s(){if(!g){var t=r(a);g=!0;for(var e=f.length;e;){for(d=f,f=[];++m<e;)d&&d[m].run();m=-1,e=f.length}d=null,g=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,f=[],g=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}])})},,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={BackgroundSelector:{displayName:"BackgroundSelector"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/background/BackgroundSelector.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(12),b=n(2995),w=n(2997),x=n(2996),_=n(4);n(3139);var E=function(t){return function(e){return m(e,t)}}("BackgroundSelector")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getThumb=function(t){return o.props.thumbs[t.source]&&o.props.thumbs[t.source][t.name]||t.thumbURL||o.props.thumbs.unknown},o.getIcons=function(t,e,n,i){return o.props.enabled?o.props.layers.map(function(r,a){var s=o.getThumb(r);return y.createElement(x,{projection:o.props.projection,vertical:i,key:a,src:s,currentLayer:o.props.currentLayer,margin:n,side:t,frame:e,layer:r,onToggle:o.props.onToggle,onPropertiesChange:o.props.onPropertiesChange,onLayerChange:o.props.onLayerChange})}):[]},o.getDimensions=function(t,e,n,i,r,a){var s=t+2*e+2*n+(t+2*e+n)*a+i,l=r/2-(t+2*e+2*n)-i,u=s>r/2,c=Math.floor(l/(t+2*e+n));return c=c>a?a:c,{pagination:u,listSize:o.props.enabled?(t+e+n)*c+52:0,visibleIconsLength:c}},o.renderBackgroundSelector=function(){var t=v({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},o.props.dimensions),e=2*t.frame,n=t.side-e,i=o.props.enabled?t.sidePreview-e:n,r=t.margin,a=o.props.enabled?i-2*e:0,s=o.props.enabled?o.props.tempLayer:o.props.currentLayer,l=o.getThumb(s),u=o.getIcons(n,e,r,t.vertical),c=o.getDimensions(n,e,r,0,t.vertical?o.props.size.height:o.props.size.width,u.length),h=c.pagination,p=c.listSize,d=c.visibleIconsLength,f=n+e+r,g=n+e+2*r,m=t.vertical?{bottom:g,left:0,width:g,height:p}:{left:i+2*r+e,width:p,height:f},x=t.vertical?{height:f*d,width:f}:{height:f,width:f*d};return d<=0&&o.props.enabled?null:y.createElement("div",{className:"background-plugin-position",style:o.props.style},y.createElement(b,{showLabel:t.label,src:l,side:i,frame:e,margin:r,labelHeight:a,label:s.title,onToggle:o.props.onToggle}),y.createElement("div",{className:"background-list-container",style:m},y.createElement(w,{vertical:t.vertical,start:o.props.start,bottom:0,height:x.height,width:x.width,icons:u,pagination:h,length:d,onStartChange:o.props.onStartChange})))},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}]),e}(y.Component),a.propTypes={start:_.number,style:_.object,enabled:_.bool,layers:_.array,currentLayer:_.object,tempLayer:_.object,size:_.object,dimensions:_.object,thumbs:_.object,onPropertiesChange:_.func,onToggle:_.func,onLayerChange:_.func,onStartChange:_.func,projection:_.string},a.defaultProps={start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},thumbs:{unknown:n(3177)},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){}},s));t.exports=E}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={PaginationButton:{displayName:"PaginationButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/background/PaginationButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(854),b=v.Glyphicon,w=n(4),x=function(t){return function(e){return m(e,t)}}("PaginationButton")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){var t=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],e=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",n=this.props.vertical?{width:this.props.side}:{height:this.props.side};return y.createElement("div",{
className:e+" text-primary",style:n,onClick:this.props.onClick},y.createElement(b,{glyph:t}))}}]),e}(y.Component),a.propTypes={side:w.number,direction:w.bool,vertical:w.bool,glyphs:w.object,onClick:w.func},a.defaultProps={side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={PreviewButton:{displayName:"PreviewButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/background/PreviewButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4);n(3140);var b=function(t){return function(e){return m(e,t)}}("PreviewButton")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){return y.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},y.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?y.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},y.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,y.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},y.createElement("img",{src:this.props.src}))))}}]),e}(y.Component),a.propTypes={src:v.string,side:v.number,frame:v.number,margin:v.number,labelHeight:v.number,label:v.string,showLabel:v.bool,onToggle:v.func},a.defaultProps={src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){}},s));t.exports=b}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={PreviewIcon:{displayName:"PreviewIcon"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/background/PreviewIcon.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(14),w=b.indexOf,x=b.has;n(3141);var _=function(t){return function(e){return m(e,t)}}("PreviewIcon")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=["EPSG:4326","EPSG:3857","EPSG:900913"],n=w(e,this.props.projection)>-1,i="wmts"===this.props.layer.type&&x(this.props.layer.allowedSRS,this.props.projection),r=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",a=(n||i||"wms"===this.props.layer.type||"empty"===this.props.layer.type)&&!this.props.layer.invalid,s=a?function(){t.props.onToggle(),t.props.onPropertiesChange(t.props.layer.id,{visibility:!0}),t.props.onLayerChange("currentLayer",t.props.layer)}:function(){};return y.createElement("div",{className:r+o+(a?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},y.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},y.createElement("img",{onMouseOver:function(){t.props.onLayerChange("tempLayer",t.props.layer)},onMouseOut:function(){t.props.onLayerChange("tempLayer",t.props.currentLayer)},onClick:s,src:this.props.src})))}}]),e}(y.Component),a.propTypes={side:v.number,frame:v.number,margin:v.number,src:v.string,vertical:v.bool,layer:v.object,currentLayer:v.object,onPropertiesChange:v.func,onToggle:v.func,onLayerChange:v.func,projection:v.string},a.defaultProps={side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}},s));t.exports=_}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={PreviewList:{displayName:"PreviewList"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/background/PreviewList.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(2994),b=n(4),w=function(t){return function(e){return m(e,t)}}("PreviewList")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=[].concat(this.props.icons);e=this.props.pagination?e.slice(this.props.start,this.props.start+this.props.length):e,this.props.vertical&&e.unshift(y.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&e.shift(),e.unshift(y.createElement(v,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){t.props.onStartChange(t.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&e.push(y.createElement(v,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){t.props.onStartChange(t.props.start+1)}})));var n=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return y.createElement("div",{style:n},e)}}]),e}(y.Component),a.propTypes={bottom:b.number,width:b.number,height:b.number,length:b.number,start:b.number,pagination:b.bool,vertical:b.bool,icons:b.array,onStartChange:b.func},a.defaultProps={bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}},s));t.exports=w}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={FullScreenButton:{displayName:"FullScreenButton"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/buttons/FullScreenButton.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(2473),x=n(854),_=x.Tooltip,E=n(2158),S=function(t){return function(e){return y(e,t)}}("FullScreenButton")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getButtonProperties=function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce(function(t,e){return t[e]=o.props[e],t},{})},a=n,r(o,a)}return o(e,t),g(e,[{key:"render",value:function(){return b.createElement(w,f({},this.getButtonProperties(),{pressed:this.props.active,tooltip:b.createElement(_,{id:"full-screen-button-tip"},b.createElement(E,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}]),e}(b.Component),a.propTypes={id:v.string,btnConfig:v.object,options:v.object,text:v.oneOfType([v.string,v.element]),help:v.oneOfType([v.string,v.element]),glyphicon:v.string,active:v.bool,onClick:v.func,activeTooltip:v.string,notActiveTooltip:v.string,tooltipPlace:v.string,style:v.object,btnType:v.oneOf(["normal","image"]),image:v.string,pressedStyle:v.string,defaultStyle:v.string},a.defaultProps={id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ImageButton:{displayName:"ImageButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/buttons/ImageButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(12),w=function(t){return function(e){return m(e,t)}}("ImageButton")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getStyle=function(){var t=o.props.disabled?"not-allowed":"pointer",e={cursor:t,margin:0,padding:0,display:"inline-block"};return o.props.image?b(e,{overflow:"hidden"}):b(e,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),b(e,o.props.style),e},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){return v.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}]),e}(v.Component),a.propTypes={id:y.string,image:y.string,onClick:y.func,style:y.object,disabled:y.bool,tooltip:y.string,className:y.string},a.defaultProps={disabled:!1,tooltip:null,className:void 0},s));t.exports=w}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={ZoomToMaxExtentButton:{displayName:"ZoomToMaxExtentButton"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(854),w=b.Button,x=b.Glyphicon,_=b.Tooltip,E=n(2165),S=n(196),C=n(38),T=function(t){return function(e){return m(e,t)}}("ZoomToMaxExtentButton")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.addTooltip=function(t){var e=v.createElement(_,{id:"locate-tooltip"},o.props.tooltip);return v.createElement(E,{placement:o.props.tooltipPlace,key:"overlay-trigger."+o.props.id,overlay:e},t)},o.zoomToMaxExtent=function(){var t=o.props.mapConfig,e=t.maxExtent,n=o.props.mapConfig.size,i=1,r=o.props.mapConfig.center,a=o.props.mapConfig.projection||"EPSG:3857";e&&"[object Array]"===Object.prototype.toString.call(e)&&(i=S.getZoomForExtent(e,n,0,21),r=S.getCenterForExtent(e,a),0===r.x&&0===r.y||(r=C.getCenter(r,"EPSG:4326")));var s=S.getBbox(r,i,n);o.props.changeMapView(r,i,s,o.props.mapConfig.size,null,o.props.mapConfig.projection)},o.zoomToInitialExtent=function(){var t=o.props.mapInitialConfig,e=S.getBbox(t.center,t.zoom,o.props.mapConfig.size);o.props.changeMapView(t.center,t.zoom,e,o.props.mapConfig.size,null,o.props.mapConfig.projection)},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this;return this.addTooltip(v.createElement(w,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return t.props.useInitialExtent?t.zoomToInitialExtent():t.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?v.createElement(x,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}]),e}(v.Component),a.propTypes={id:y.string,image:y.string,glyphicon:y.string,text:y.string,btnSize:y.oneOf(["large","small","xsmall"]),mapConfig:y.object,mapInitialConfig:y.object,changeMapView:y.func,btnType:y.oneOf(["normal","image"]),help:y.oneOfType([y.string,y.element]),tooltip:y.element,tooltipPlace:y.string,className:y.string,useInitialExtent:y.bool,bsStyle:y.string,style:y.object},a.defaultProps={id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"},s));t.exports=T}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={DefaultViewer:{displayName:"DefaultViewer"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/data/identify/DefaultViewer.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(276),x=n(890),_=n(2260),E=n(2158),S=n(854),C=S.Alert,T=S.Panel,k=S.Accordion,O=n(3008),L=n(14),I=L.isEqual,A=function(t){return function(e){return y(e,t)}}("DefaultViewer")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.renderEmptyLayers=function(t){var e=t.getValidResponses(o.props.responses).length,n=t.getNoValidResponses(o.props.responses);if(0===o.props.missingResponses&&0===e)return null;if(0!==n.length){var i=n.map(function(t){return t.layerMetadata.title});return o.props.showEmptyMessageGFI?v.createElement(C,{bsStyle:"info"},v.createElement(E,{msgId:"noInfoForLayers"}),v.createElement("b",null,i.join(", "))):null}return null},o.renderPage=function(t){var e=o.props.viewers[o.props.format];return e?v.createElement(e,{response:t}):null},o.renderPages=function(t){return 0===o.props.missingResponses&&0===t.length?v.createElement(C,{bsStyle:"danger"},v.createElement("h4",null,v.createElement(_,{msgId:"noFeatureInfo"}))):t.map(function(e,n){var i=e.response,r=e.layerMetadata,a=e.format,s=e.queryParams,l=void 0;s&&s.hasOwnProperty("info_format")&&(l=s.info_format);var u=o.props.header,c=void 0;return r.viewer&&r.viewer.type&&(c=w.getViewer(r.viewer.type)),v.createElement(T,{eventKey:n,key:n,collapsible:o.props.collapsible,header:u?v.createElement("span",null,v.createElement(u,f({size:t.length},o.props.headerOptions,r,{index:o.props.index,onNext:function(){return o.props.onNext()},onPrevious:function(){return o.props.onPrevious()}}))):null,style:o.props.style},v.createElement(O,{response:i,format:l||a&&x.INFO_FORMATS[a]||o.props.format,viewers:c||o.props.viewers,layer:r}))})},o.renderAdditionalInfo=function(){var t=o.props.validator(o.props.format);if(t)return o.renderEmptyLayers(t)},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentWillReceiveProps",value:function(t){I(t.responses,this.props.responses)||this.props.setIndex(0)}},{key:"shouldComponentUpdate",value:function(t){return t.responses!==this.props.responses||t.missingResponses!==this.props.missingResponses||t.index!==this.props.index}},{key:"render",value:function(){var t=this,e=this.props.container,n=this.props.validator(this.props.format),i=n.getValidResponses(this.props.responses);return v.createElement("div",{className:"mapstore-identify-viewer"},v.createElement(e,f({},this.props.containerProps,{onChangeIndex:function(e){t.props.setIndex(e)},ref:"container",index:this.props.index||0,key:"swiper",className:"swipeable-view"}),this.renderPages(i)),this.renderAdditionalInfo())}}]),e}(v.Component),a.propTypes={format:b.string,collapsible:b.bool,requests:b.array,responses:b.array,missingResponses:b.number,container:b.oneOfType([b.object,b.func]),header:b.oneOfType([b.object,b.func]),headerOptions:b.object,validator:b.func,viewers:b.object,style:b.object,containerProps:b.object,index:b.number,onNext:b.func,onPrevious:b.func,onUpdateIndex:b.func,setIndex:b.func,showEmptyMessageGFI:b.bool},a.defaultProps={format:w.getDefaultInfoFormatValue(),responses:[],missingResponses:0,collapsible:!1,headerOptions:{},container:k,validator:w.getValidator,viewers:w.getViewers(),style:{position:"relative",marginBottom:0},containerProps:{},index:0,showEmptyMessageGFI:!0,onNext:function(){},onPrevious:function(){},setIndex:function(){}},s));t.exports=A}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(2201),r=n(2182),o=n(2158),a=n(854),s=a.Glyphicon;t.exports=function(t){var n=t.latlng,a=t.enableRevGeocode,l=t.hideRevGeocode,u=void 0===l?function(){}:l,c=t.showModalReverse,h=t.revGeocodeDisplayName;return a&&n?e.createElement(r,null,e.createElement(i,{fade:!0,title:e.createElement("span",null,e.createElement(s,{glyph:"map-marker"})," ",e.createElement(o,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:c,onClose:u,buttons:[{text:e.createElement(o,{msgId:"close"}),onClick:u,bsStyle:"primary"}]},e.createElement("div",{className:"ms-alert",style:{padding:15}},e.createElement("div",{className:"ms-alert-center text-center"},e.createElement("div",null,h))))):null}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(854),o=r.Row,a=r.Col,s=n(2166),l=n(2158),u=n(2563),c=n(3002),h=n(2201),p=n(2182),d=n(3005);t.exports=function(t){var n=t.enabled,r=t.requests,f=void 0===r?[]:r,g=t.onClose,m=t.responses,y=void 0===m?[]:m,v=t.index,b=t.viewerOptions,w=void 0===b?{}:b,x=t.format,_=t.dock,E=void 0===_||_,S=t.position,C=t.size,T=t.fluid,k=t.validResponses,O=void 0===k?[]:k,L=t.viewer,I=void 0===L?function(){return null}:L,A=t.getToolButtons,P=void 0===A?function(){return[]}:A,M=t.getNavigationButtons,N=void 0===M?function(){return[]}:M,D=t.showFullscreen,R=t.reverseGeocodeData,F=void 0===R?{}:R,G=t.point,j=t.dockStyle,z=void 0===j?{}:j,U=t.draggable,B=t.setIndex,H=t.warning,Y=t.clearWarning,V=t.zIndex,W=t.showEmptyMessageGFI,q=t.enabledCoordEditorButton,Z=t.showCoordinateEditor,X=t.onChangeClickPoint,K=t.onChangeFormat,Q=t.formatCoord,J=G&&G.latlng||null,$=null;J&&($=J&&Math.round(1e17*J.lng)/1e17,$-=360*Math.floor($/360+.5));var tt=I,et=P(e({},t,{lngCorrected:$,validResponses:O,latlng:J})),nt=f.length-y.length,it=F.error?i.createElement(l,{msgId:"identifyRevGeocodeError"}):F.display_name;return i.createElement("div",null,i.createElement(u,{bsStyle:"primary",glyph:"map-marker",title:w.header?i.createElement(l,{msgId:"identifyTitle"}):O[v]&&O[v].layerMetadata&&O[v].layerMetadata.title||"",open:n&&0!==f.length,size:C,fluid:T,position:S,draggable:U,onClose:g,dock:E,style:z,showFullscreen:D,zIndex:V,header:[i.createElement(d,{key:"coordinate-editor",formatCoord:Q,enabledCoordEditorButton:q,onChange:X,onChangeFormat:K,edit:Z,coordinate:{lat:J&&J.lat,lon:$}}),i.createElement(c,e({latlng:J,revGeocodeDisplayName:it},t)),i.createElement(o,{key:"button-row",className:"text-center",style:{position:"relative"}},i.createElement(a,{key:"tools",xs:12},i.createElement(s,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:et})),i.createElement("div",{key:"navigation",style:{zIndex:1,position:"absolute",right:0,margin:"0 10px"}},i.createElement(s,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:N(t)})))].filter(function(t){return t})},i.createElement(tt,e({index:v,setIndex:B,format:x,missingResponses:nt,responses:y,showEmptyMessageGFI:W},w))),i.createElement(p,null,i.createElement(h,{fade:!0,title:i.createElement(l,{msgId:"warning"}),size:"xs",show:H,onClose:Y,buttons:[{text:i.createElement(l,{msgId:"close"}),onClick:Y,bsStyle:"primary"}]},i.createElement("div",{className:"ms-alert",style:{padding:15}},i.createElement("div",{className:"ms-alert-center text-center"},i.createElement(l,{msgId:"identifyNoQueryableLayers"}))))))}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={SwipeHeader:{displayName:"SwipeHeader"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/data/identify/SwipeHeader.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(854),w=b.Glyphicon,x=b.Button,_=b.ButtonGroup,E=function(t){return function(e){return m(e,t)}}("SwipeHeader")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.renderLeftButton=function(){return o.props.useButtons?v.createElement(x,{ref:"left",disabled:0===o.props.index,className:o.props.btnClassName||"square-button-md",bsStyle:"primary",onClick:function(){o.props.onPrevious()}},v.createElement(w,{glyph:"arrow-left"})):v.createElement("a",{ref:"left",disabled:0===o.props.index,className:o.props.btnClassName||"square-button-md",onClick:function(){o.props.onPrevious()}},v.createElement(w,{glyph:"chevron-left"}))},o.renderRightButton=function(){return o.props.useButtons?v.createElement(x,{ref:"right",disabled:o.props.index===o.props.size-1,className:o.props.btnClassName||"square-button-md",bsStyle:"primary",onClick:function(){o.props.onNext()}},v.createElement(w,{glyph:"arrow-right"})):v.createElement("a",{ref:"right",disabled:o.props.index===o.props.size-1,className:o.props.btnClassName||"square-button-md",onClick:function(){o.props.onNext()}},v.createElement(w,{glyph:"chevron-right"}))},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return v.createElement("span",null,v.createElement("span",null,this.props.title),v.createElement(_,{className:"pull-right"},this.renderLeftButton(),this.renderRightButton()))}}]),e}(v.Component),a.propTypes={title:y.string,index:y.number,size:y.number,container:y.oneOfType([y.object,y.func]),useButtons:y.bool,onPrevious:y.func,onNext:y.func,btnClassName:y.string},a.defaultProps={useButtons:!0},s));t.exports=E}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(3006),r=n(3007);t.exports=function(t){var n=t.coordinate,o=void 0===n?{}:n,a=t.formatCoord,s=t.edit,l=t.onChange,u=void 0===l?function(){}:l,c=t.onChangeFormat,h=void 0===c?function(){}:c;return s?e.createElement(i,{removeVisible:!1,formatCoord:a,coordinate:o||{lat:"",lon:""},onChange:u,onChangeFormat:h}):e.createElement(r,{className:"text-center",formatCoord:a,coordinate:o||{lat:"",lon:""}})}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(0),r=n(2644),o=function(t){var n;return i.createElement(r,(n={key:"IdentifyEditor",format:t.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onChange:function(e,n,i){t.onChange(n,null===i||""===i?void 0:i)},onChangeFormat:function(e){t.onChangeFormat(e)}},e(n,"key","GFI row coord editor"),e(n,"component",t.coordinate||{}),e(n,"customClassName","coord-editor"),e(n,"isDraggable",!1),e(n,"showDraggable",!1),e(n,"formatVisible",!0),e(n,"showLabels",!0),e(n,"removeVisible",!1),n))};t.exports=o}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(854),r=i.Row,o=i.Col,a=n(14),s=a.isNil,l=n(2229),u=n(2497),c=u(function(t){var n=t.degrees,i=void 0===n?0:n,r=t.minutes,o=void 0===r?0:r,a=t.seconds,s=void 0===a?0:a,u=t.direction,c=t.integerFormat,h=t.decimalFormat;return e.createElement("span",{className:"coordinate-dms"},e.createElement(l,{key:"latD",numberParams:c,value:i}),e.createElement("span",null,"° "),e.createElement(l,{key:"latM",numberParams:c,value:o}),e.createElement("span",null,"' "),e.createElement(l,{key:"latS",numberParams:h,value:s}),e.createElement("span",null,"'' ")," ",e.createElement("span",null,u))});t.exports=function(t){var n=t.integerFormat,i=void 0===n?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:n,a=t.decimalFormat,u=void 0===a?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:a,h=t.coordinate,p=void 0===h?{}:h,d=t.formatCoord,f=void 0===d?"decimal":d,g=t.className;return e.createElement(r,{className:g},e.createElement(o,{xs:12},s(p.lat)||s(p.lon)?null:"decimal"===f?e.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",e.createElement(l,{value:Math.round(1e5*p.lat)/1e5})," - Long: ",e.createElement(l,{value:p.lon})):e.createElement("div",{className:"ms-coordinates-aeronautical"
},e.createElement("span",null,"Lat: ",e.createElement(c,{integerFormat:i,decimalFormat:u,value:p.lat})),e.createElement("span",null," - "),e.createElement("span",null," Long: ",e.createElement(c,{coordinate:"lon",integerFormat:i,decimalFormat:u,value:p.lon})))))}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={_component:{}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0);t.exports=function(t){return function(e){return m(e,t)}}("_component")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.onTouchStart=function(t){var e=t.touches[0];o.startX=e.pageX,o.startY=e.pageY,o.setState({scrolling:!1})},o.onTouchMove=function(t){var e=t.touches[0],n=t.currentTarget;if(o.state.scrolling)return void t.stopPropagation();if(Math.abs(o.startY-e.pageY)>Math.abs(o.startX-e.pageX))return void t.stopPropagation();var i=o.startX<e.pageX?"left":"right";n&&"left"===i&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft?(o.setState({scrolling:!0}),t.stopPropagation()):n&&"right"===i&&n.clientWidth+n.scrollLeft!==n.scrollWidth&&(o.setState({scrolling:!0}),t.stopPropagation())},o.onTouchEnd=function(){o.setState({scrolling:!1})},o.renderPage=function(){var t="function"==typeof o.props.viewers?o.props.viewers:o.props.viewers[o.props.format];return t?v.createElement(t,{response:o.props.response,layer:o.props.layer}):null},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){return v.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}]),e}(v.Component),a.propTypes={format:y.string,viewers:y.oneOfType([y.func,y.object]),response:y.oneOfType([y.string,y.object,y.node]),layer:y.object},s))}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={HelpWrapper:{displayName:"HelpWrapper"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/help/HelpWrapper.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(2548);n(3142);var w=function(t){return function(e){return m(e,t)}}("HelpWrapper")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){return v.createElement("div",{id:this.props.id},v.createElement(b,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}]),e}(v.Component),a.propTypes={id:y.string,helpText:y.oneOfType([y.string,y.element]),helpEnabled:y.bool,changeHelpText:y.func,changeHelpwinVisibility:y.func},s));t.exports=w}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={HighlightFeatureSupport:{displayName:"HighlightFeatureSupport"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(14),w=b.findIndex,x=function(t){return function(e){return m(e,t)}}("HighlightFeatureSupport")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.setLayer=function(){o._layer&&o.cleanSupport();var t=void 0;o.props.map.eachLayer(function(e){e.layerId===o.props.layer&&(t=e)},o),void 0!==t&&t.on("click",o.featureClicked,o),o._layer=t,o.highlightFeatures(o.props.features)},o.featureClicked=function(t){var e=t.layer;if((t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&e){var n=w(o._selectedFeatures,function(t){return t===e});-1!==n?(o._layer.resetStyle(e),o._selectedFeatures=o._selectedFeatures.filter(function(t,e){return e!==n}),e=null):o._selectedFeatures.push(e)}else o._selectedFeatures.map(function(t){o._layer.resetStyle(t)}),o._selectedFeatures=e?[e]:[];e&&(e.bringToFront(),e.setStyle(o.props.selectedStyle)),o.props.updateHighlighted(o._selectedFeatures.map(function(t){return t.msId}),"")},o.cleanSupport=function(){o._layer&&(o._selectedFeatures.map(function(t){o._layer.resetStyle(t)}),o._layer.off("click",o.featureClicked,o)),o._selectedFeatures=[],o._layer=null,o.props.updateHighlighted([],"")},o.highlightFeatures=function(t){o._layer||o.setLayer(),o._selectedFeatures.map(function(t){o._layer.resetStyle(t)}),o._selectedFeatures=[],o._layer.eachLayer(function(e){-1!==t.indexOf(e.msId)&&(o._selectedFeatures.push(e),e.bringToFront(),e.setStyle(o.props.selectedStyle))},o)},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentDidMount",value:function(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}},{key:"shouldComponentUpdate",value:function(t){var e=this.props;return t.status!==e.status||t.layer!==e.layer||"update"===t.status&&t.features.toString()!==e.features.toString()}},{key:"componentWillUpdate",value:function(t){switch(t.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(t.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this.cleanSupport()}},{key:"render",value:function(){return null}}]),e}(v.Component),a.propTypes={map:y.object,layer:y.string,status:y.oneOf(["disabled","enabled","update"]),updateHighlighted:y.func,selectedStyle:y.object,features:y.array},a.contextTypes={messages:y.object},a.defaultProps={status:"disabled",updateHighlighted:function(){},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var t=n(433),e=n(14),i=e.isNil,r=n(859),o={radius:5,color:"red",weight:1,opacity:1,fillOpacity:0},a=n(12),s=function t(e,n){e.eachLayer&&e.eachLayer(function(e){e.setOpacity&&e.setOpacity(n),t(e,n)})},l=function(t){var e=t.hideLoading,n=r.geoJson([],{pointToLayer:"marker"!==t.styleName?function(e,n){return r.circleMarker(n,t.style||o)}:null,hideLoading:e,style:t.nativeStyle||t.style||o});return n.setOpacity=function(t){var e=a({},n.options.style||o,{opacity:t,fillOpacity:t});n.setStyle(e),s(n,t)},n.on("layeradd",function(){n.setOpacity(i(n.opacity)?t.opacity:n.opacity)}),n};t.registerType("vector",{create:function(t){var e=l(t);return e.opacity=i(t.opacity)?1:t.opacity,e},update:function(t,e,n){e.opacity!==n.opacity&&(t.opacity=e.opacity)},render:function(){return null}})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={HighlightFeatureSupport:{displayName:"HighlightFeatureSupport"}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(4),b=n(0),w=n(857),x=function(t){return function(e){return y(e,t)}}("HighlightFeatureSupport")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getLayer=function(){var t=void 0;return o.props.map.getLayers().forEach(function(e){o.layersFilter(e)&&(t=e)},o),t},o.setSelectInteraction=function(){o._selectInteraction.getActive()||o._selectInteraction.setActive(!0)},o.createSelectInteraction=function(){o.createStyle(),o._selectInteraction=new w.interaction.Select({layers:o.layersFilter,style:o._style,toggleCondition:w.events.condition.platformModifierKeyOnly}),o._selectInteraction.on("select",o.selectionChange,o),o.props.map.addInteraction(o._selectInteraction)},o.selectionChange=function(){var t=[];o._selectInteraction.getFeatures().forEach(function(e){t.push(e.getId())}),o.props.updateHighlighted(t,"")},o.cleanSupport=function(){o._selectInteraction&&o._selectInteraction.getActive()&&(o._selectInteraction.getFeatures().clear(),o.props.updateHighlighted([],""),o._selectInteraction.setActive(!1))},o.layersFilter=function(t){return o.props.layer&&t.get("msId")===o.props.layer},o.createStyle=function(){var t=o.props.selectedStyle,e={stroke:new w.style.Stroke(t.stroke?t.stroke:{color:"blue",width:1}),fill:new w.style.Fill(t.fill?t.fill:{color:"blue"})};"Point"===t.type&&(e={image:new w.style.Circle(f({},e,{radius:t.radius||5}))}),o._style=new w.style.Style(e)},o.highlightFeatures=function(t){var e=o.getLayer(),n=o._selectInteraction.getFeatures();if(n.clear(),e){e.getSource().getFeatures().map(function(e){-1!==t.indexOf(e.getId())&&n.push(e)},o)}},a=n,r(o,a)}return o(e,t),g(e,[{key:"componentDidMount",value:function(){this.createSelectInteraction(),"enabled"===this.props.status?this._selectInteraction.setActive(!0):this._selectInteraction.setActive(!1),this.props.features&&this.highlightFeatures(this.props.features)}},{key:"shouldComponentUpdate",value:function(t){var e=this.props;return t.status!==e.status||t.layer!==e.layer||"update"===t.status&&t.features.toString()!==e.features.toString()}},{key:"componentWillUpdate",value:function(t){switch(t.status){case"enabled":this.setSelectInteraction(t);break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(t.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this._selectInteraction&&(this.cleanSupport(),this._selectInteraction.un("select",this.selectionChange,this),this.props.map.removeInteraction(this._selectInteraction),this._selectInteraction=null,this._style=null)}},{key:"render",value:function(){return null}}]),e}(b.Component),a.propTypes={map:v.object,layer:v.string.isRequired,status:v.oneOf(["disabled","enabled","update"]),updateHighlighted:v.func,selectedStyle:v.object,features:v.array},a.contextTypes={messages:v.object},a.defaultProps={status:"disabled",updateHighlighted:function(){},selectedStyle:{type:"Point",radius:12,stroke:{width:4,color:"yellow"},fill:{color:"red"}}},s));t.exports=x}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={SelectionSupport:{displayName:"SelectionSupport"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(857),w=function(t){return function(e){return m(e,t)}}("SelectionSupport")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.addDrawInteraction=function(t){o.drawInteraction&&o.removeDrawInteraction();var e=new b.source.Vector,n=new b.layer.Vector({source:e,zIndex:1e6,style:new b.style.Style({fill:new b.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new b.style.Stroke({color:"#ffcc33",width:2}),image:new b.style.Circle({radius:7,fill:new b.style.Fill({color:"#ffcc33"})})})});o.props.map.addLayer(n);var i=new b.interaction.Draw({source:e,type:t.selection.geomType,style:new b.style.Style({fill:new b.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new b.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new b.style.Circle({radius:5,stroke:new b.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new b.style.Fill({color:"rgba(255, 255, 255, 0.2)"})})})});i.on("drawstart",function(t){this.sketchFeature=t.feature,e.clear()},o),i.on("drawend",function(){this.updateSelectionState()},o),o.props.map.addInteraction(i),o.drawInteraction=i,o.selectionLayer=n,o.setDoubleClickZoomEnabled(!1)},o.removeDrawInteraction=function(){null!==o.drawInteraction&&(o.props.map.removeInteraction(o.drawInteraction),o.drawInteraction=null,o.props.map.removeLayer(o.selectionLayer),o.sketchFeature=null,setTimeout(function(){return o.setDoubleClickZoomEnabled(!0)},251))},o.updateSelectionState=function(){if(o.sketchFeature){var t=o.sketchFeature.getGeometry().getCoordinates(),e={geomType:o.props.selection.geomType,point:"Point"===o.props.selection.geomType?[t[0],t[1]]:null,line:"LineString"===o.props.selection.geomType?t.map(function(t){return[t[0],t[1]]}):null,polygon:"Polygon"===o.props.selection.geomType?o.sketchFeature.getGeometry().getLinearRing(0).getCoordinates().map(function(t){return[t[0],t[1]]}):null};o.props.changeSelectionState(e)}},o.setDoubleClickZoomEnabled=function(t){for(var e=o.props.map.getInteractions(),n=0;n<e.getLength();n++){var i=e.item(n);if(i instanceof b.interaction.DoubleClickZoom){i.setActive(t);break}}},a=n,r(o,a)}return o(e,t),f(e,[{key:"componentWillReceiveProps",value:function(t){t.selection.geomType&&t.selection.geomType!==this.props.selection.geomType&&this.addDrawInteraction(t),t.selection.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){return null}}]),e}(v.Component),a.propTypes={map:y.object,projection:y.string,selection:y.object,changeSelectionState:y.func},a.defaultProps={selection:{}},s));t.exports=w}).call(this)}finally{}},,,,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={FeatureInfoFormatSelector:{displayName:"FeatureInfoFormatSelector"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(43),w=n(276),x=n(854),_=x.FormControl,E=x.FormGroup,S=x.ControlLabel,C=function(t){return function(e){return m(e,t)}}("FeatureInfoFormatSelector")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.launchChangeInfoFormatAction=function(){var t=b.findDOMNode(o),e=t.getElementsByTagName("select").item(0);o.props.onInfoFormatChange(e.value)},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=Object.keys(this.props.availableInfoFormat).map(function(e){var n=t.props.availableInfoFormat[e],i=e;return v.createElement("option",{value:n,key:n},i)});return v.createElement(E,{bsSize:"small"},v.createElement(S,null,this.props.label),v.createElement(_,{id:this.props.id,value:this.props.infoFormat,componentClass:"select",onChange:this.launchChangeInfoFormatAction},e))}}]),e}(v.Component),a.propTypes={id:y.string,label:y.oneOfType([y.func,y.string,y.object]),availableInfoFormat:y.object,infoFormat:y.string,onInfoFormatChange:y.func},a.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:w.getAvailableInfoFormat(),infoFormat:w.getDefaultInfoFormatValue(),onInfoFormatChange:function(){}},s));t.exports=C}).call(this)}finally{}},,,,,,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y={AeronauticalCoordinateEditor:{displayName:"AeronauticalCoordinateEditor"}},v=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx",components:y,locals:[],imports:[p.default,c.default]}),b=n(0),w=n(4),x=n(428),_=x.compose,E=n(854),S=E.FormGroup,C=E.FormControl,T=n(14),k=T.isNil,O=n(2497),L=n(2709),I=n(2711),A=function(t){return function(e){return v(e,t)}}("AeronauticalCoordinateEditor")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.onChange=function(t,e){var n=a.getUpdatedCoordinateValue(t,e);a.props.onChange(n)},a.getUpdatedCoordinateValue=function(t,e){try{var n=i({degrees:a.props.degrees,minutes:a.props.minutes,seconds:a.props.seconds,direction:a.props.direction},t,"degrees"===t?Math.min(e,a.props.maxDegrees):e),r=n.seconds,o=n.minutes+a.getSexagesimalStep(r),s=Math.min(a.props.maxDegrees,n.degrees+a.getSexagesimalStep(o)),l=n.direction;return r=a.roundToNextSexagesimalStep(r),o=a.roundToNextSexagesimalStep(o),s===a.props.maxDegrees&&(o=0,r=0),l=s<0?l===a.props.directions[0]?a.props.directions[1]:a.props.directions[0]:l,-1===s&&(n.degrees<0&&n.minutes>=0?s=n.degrees:n.minutes<0&&n.degrees<=0?(s=0,o=n.minutes):(s=0,o=0,r=1e-4)),{degrees:s,minutes:o,seconds:r,direction:l}}catch(t){return}},a.getSexagesimalStep=function(t){return t>=60?1:t<0?-1:0},a.getInputStyle=function(t){return isNaN(t)||""===t?{borderColor:"#a94442"}:{}},a.verifyOnKeyDownEvent=function(t){69===t.keyCode&&t.preventDefault()},a.roundToNextSexagesimalStep=function(t){return t<0?60+t:t>=60?t-60:t},a.isValid=function(t){var e=t.minutes,n=t.seconds,i=t.degrees,r=t.direction;return!k(e)&&e>0&&e<60&&!k(n)&&n>0&&n<60&&!k(i)&&i>0&&i<a.props.maxDegrees&&r},s=n,o(a,s)}return a(e,t),m(e,[{key:"render",value:function(){var t=this,e={padding:0,textAlign:"center",borderRight:"none"},n=this.getInputStyle(this.props.degrees),i=this.getInputStyle(this.props.minutes),r=this.getInputStyle(this.props.seconds),o={position:"relative",top:0,overflow:"visible",zIndex:3,left:-23,width:0,height:0},a=this.props.aeronauticalOptions.seconds.step;return b.createElement(S,{style:{display:"inline-flex"}},b.createElement("div",{style:{width:50,display:"flex"}},b.createElement(C,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(e){return t.onChange("degrees",parseInt(e.target.value,10))},step:1,max:this.props.maxDegrees,min:-1,onKeyDown:function(e){t.verifyOnKeyDownEvent(e),t.props.onKeyDown(e)},style:g({width:"100%"},e,n),type:"number"}),b.createElement("span",{style:o},"°")),b.createElement("div",{style:{width:50,display:"flex"}},b.createElement(C,{key:this.props.coordinate+"minutes",placeholder:"m",value:this.props.minutes,onChange:function(e){return t.onChange("minutes",parseInt(e.target.value,10))},max:60,min:-1,onKeyDown:function(e){t.verifyOnKeyDownEvent(e),t.props.onKeyDown(e)},style:g({width:"100%"},e,i),step:1,type:"number"}),b.createElement("span",{style:o},"′")),b.createElement("div",{style:{flex:1,display:"flex"}},b.createElement(C,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(e){return t.onChange("seconds",parseFloat(e.target.value))},step:a,max:60,onKeyDown:function(e){t.verifyOnKeyDownEvent(e),t.props.onKeyDown(e)},min:-1,style:g({width:"100%"},e,r),type:"number"}),b.createElement("span",{style:o},"″")),b.createElement("div",null,b.createElement(C,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(e){return t.onChange("direction",e.target.value)},style:{width:47,paddingLeft:4,paddingRight:4}},this.props.directions.map(function(t){return b.createElement("option",{key:t,value:t},t)}))))}}]),e}(b.Component),s.propTypes={idx:w.number,maxDegrees:w.number,degrees:w.number,minutes:w.number,seconds:w.number,directions:w.array,direction:w.string,aeronauticalOptions:w.object,coordinate:w.string,onChange:w.func,onKeyDown:w.func},s.defaultProps={coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}},l));t.exports=_(L,O,I)(A)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={DecimalCoordinateEditor:{displayName:"DecimalCoordinateEditor"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(854),w=b.FormGroup,x=b.FormControl,_=n(14),E=_.capitalize,S=function(t){return function(e){return m(e,t)}}("DecimalCoordinateEditor")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.verifyOnKeyDownEvent=function(t){69===t.keyCode&&t.preventDefault()},o.validateDecimalLon=function(t){var e=o.props.constraints[o.props.format].lon.min,n=o.props.constraints[o.props.format].lon.max,i=parseFloat(t);return isNaN(i)||i<e||i>n?"error":null},o.validateDecimalLat=function(t){var e=o.props.constraints[o.props.format].lat.min,n=o.props.constraints[o.props.format].lat.max,i=parseFloat(t);return isNaN(i)||i<e||i>n?"error":null},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.coordinate,i=e.value,r=e.onChange,o="validateDecimal"+E(n);return y.createElement(w,{validationState:this[o](i)},y.createElement(x,{key:n,value:i,placeholder:n,onChange:function(e){""===e.target.value&&r(""),null===t[o](e.target.value)&&r(e.target.value)},onKeyDown:function(e){t.verifyOnKeyDownEvent(e),t.props.onKeyDown(e)},step:1,type:"number"}))}}]),e}(y.Component),a.propTypes={idx:v.number,value:v.number,constraints:v.object,format:v.string,coordinate:v.string,onChange:v.func,onKeyDown:v.func},a.defaultProps={format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}},s));t.exports=S}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(428),r=i.branch,o=n(14),a=o.omit,s=n(2173);t.exports=r(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disabled,n=t.noTooltipWhenDisabled;return!(void 0!==n&&n&&e)},s,function(t){return function(n){return e.createElement(t,a(n,["tooltipId","tooltip","noTooltipWhenDisabled"]),n.children)}})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),o=n(428),a=o.compose,s=o.branch,l=n(2472),u=l.DragSource,c=n(2472),h=c.DropTarget,p={beginDrag:function(t){return i({},t)}},d={drop:function(t,e){var n=e.getItem();n.sortId!==t.sortId&&t.onSort(t.sortId,n.sortId)}},f=function(t,e){return{connectDragSource:t.dragSource(),connectDragPreview:t.dragPreview(),isDragging:e.isDragging(),draggingItem:e.getItem()||null}},g=function(t,e){return{connectDropTarget:t.dropTarget(),isOver:e.isOver()}};t.exports=s(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isDraggable},a(u("row",p,f),h("row",d,g),function(t){return function(n){var o=n.connectDragSource,a=n.connectDragPreview,s=n.connectDropTarget,l=n.isDragging,u=n.isOver,c=e(n,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),h=c.draggingItem&&c.draggingItem.sortId<c.sortId;return a(s(r.createElement("div",{className:"ms-dragg "+(l?"ms-dragging ":"")+(u?"ms-over ":"")+" "+(h?"ms-above ":"ms-below ")},r.createElement("div",null,r.createElement(t,i({},c,{connectDragSource:o,isDragging:l,isOver:u}))))))}}))}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(854),r=i.Button,o=i.Glyphicon,a=i.Grid,s=i.Row,l=i.Col,u={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};t.exports=function(t){var n=t.position,i=void 0===n?"right":n,c=t.onClose,h=t.bsStyle,p=void 0===h?"default":h,d=t.title,f=void 0===d?"":d,g=t.fullscreen,m=void 0!==g&&g,y=t.showFullscreen,v=void 0!==y&&y,b=t.glyph,w=void 0===b?"info-sign":b,x=t.additionalRows,_=t.onFullscreen,E=void 0===_?function(){}:_,S=c?e.createElement(r,{key:"ms-header-close",className:"square-button ms-close",onClick:c,bsStyle:p},e.createElement(o,{glyph:"1-close"
})):null,C=v?e.createElement(r,{key:"ms-header-glyph",className:"square-button",bsStyle:p,onClick:function(){return E(!m)}},e.createElement(o,{glyph:u[i]&&u[i][m]||"resize-full"})):e.createElement("div",{key:"ms-header-glyph",className:"square-button bg-"+p,style:{display:"flex"}},e.createElement(o,{glyph:w,className:"default"===p?"text-primary":""})),T="left"===i?[S,C]:[C,S];return e.createElement(a,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+p},e.createElement(s,null,e.createElement(l,{xs:2},T[0]),e.createElement(l,{xs:8},e.createElement("h4",null,f)),e.createElement(l,{xs:2},T[1])),x)}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={GlobalSpinner:{displayName:"GlobalSpinner"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0),b=n(2183);n(3146);var w=function(t){return function(e){return m(e,t)}}("GlobalSpinner")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){return this.props.loading?v.createElement("div",{className:this.props.className,id:this.props.id},v.createElement(b,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}]),e}(v.Component),a.propTypes={id:y.string,loading:y.bool,className:y.string,spinner:y.string},a.defaultProps={id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"},s));t.exports=w}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g=n(4),m=e(g),y=n(2166),v=e(y),b=n(2158),w=e(b),x={SwitchToolbar:{displayName:"SwitchToolbar"}},_=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx",components:x,locals:[],imports:[h.default,u.default]}),E=function(t){return function(e){return _(e,t)}}("SwitchToolbar")((s=a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),f(e,[{key:"render",value:function(){var t=this;return h.default.createElement(v.default,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?h.default.createElement(w.default,{msgId:"collapse"}):h.default.createElement(w.default,{msgId:"expand"}),onClick:function(){return t.props.onClick(!t.props.checked)}}]})}}]),e}(h.default.Component),a.propTypes={checked:m.default.bool,onClick:m.default.func},a.defaultProps={checked:!1,onClick:function(){}},s));t.exports=E}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),o=n(428),a=o.compose,s=n(2158),l=n(14),u=l.omit,c=n(854),h=c.Button,p=c.Glyphicon,d=n(2230),f=n(3027),g=n(2605);t.exports=a(f,g)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.glyph,o=t.loading,a=t.text,l=void 0===a?"":a,c=t.textId,f=t.glyphClassName,g=void 0===f?"":f,m=t.loaderProps,y=void 0===m?{}:m,v=e(t,["glyph","loading","text","textId","glyphClassName","loaderProps"]);return r.createElement(h,u(v,["pullRight"]),n&&!o?r.createElement(p,{glyph:n,className:g}):null,c?r.createElement(s,{msgId:c}):l,o?r.createElement(d,i({className:"ms-loader"+(v.bsStyle&&" ms-loader-"+v.bsStyle||"")+(v.bsSize&&" ms-loader-"+v.bsSize||"")},y)):null)})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(3),o=n(14),a=o.isNaN,s=n(854),l=s.Form,u=s.FormGroup,c=s.ControlLabel,h=s.FormControl,p=s.InputGroup,d=n(2158),f=n(2263),g=n(2565),m=n(2480),y=n(2231),v=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!a(parseInt(t,10))){var i=parseInt(t,10);return e(i<1?1:i)}return n()}catch(t){return n(t)}},b=function(t){var e=t.startPlaybackTime,n=t.endPlaybackTime,i=r(e).diff(n);return{startPlaybackTime:i>=0?n:e,endPlaybackTime:i>=0?e:n}};t.exports=function(t){var n=t.following,r=t.frameDuration,o=t.timeStep,a=t.stepUnit,s=t.onSettingChange,w=void 0===s?function(){}:s,x=t.toggleAnimationMode,_=void 0===x?function(){}:x,E=t.toggleAnimationRange,S=void 0===E?function(){}:E,C=t.fixedStep,T=void 0!==C&&C,k=t.playbackRange,O=void 0===k?{}:k,L=t.setPlaybackRange,I=void 0===L?function(){}:L,A=t.playbackButtons,P=t.dateSelectorStyle,M=void 0===P?{padding:0,margin:0,border:"none"}:P,N=t.style,D=void 0===N?{}:N;return i.createElement("div",{className:"ms-playback-settings",style:D},i.createElement("h4",null,i.createElement(d,{msgId:"timeline.settings.title"})),i.createElement(u,{controlId:"timelineSettings"},i.createElement(l,{componentClass:"fieldset",inline:!0},i.createElement(c,null,i.createElement(d,{msgId:"timeline.settings.snapToGuideLayer"})," ",i.createElement(f,{text:i.createElement(d,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),i.createElement("span",null,i.createElement(m,{checked:!T,onChange:function(){return _()}})))),i.createElement("h4",null,i.createElement(d,{msgId:"playback.settings.title"})),i.createElement(u,{controlId:"frameDuration"},i.createElement(c,null,i.createElement(d,{msgId:"playback.settings.frameDuration"})),i.createElement(p,null,i.createElement(h,{componentClass:"input",type:"number",value:r,onChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target;return v((void 0===e?{}:e).value,function(t){w("frameDuration",t)})}}),i.createElement(p.Addon,null,"s"))),i.createElement(c,null,i.createElement(d,{msgId:"playback.settings.step.label"})," ",i.createElement(f,{text:i.createElement(d,{msgId:"playback.settings.step.tooltip"})})),i.createElement(u,{controlId:"formPlaybackStep"},i.createElement(l,{componentClass:"fieldset",inline:!0},i.createElement(h,{disabled:!T,componentClass:"input",type:"number",style:{maxWidth:120},value:o,onChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.target;return v((void 0===e?{}:e).value,function(t){w("timeStep",t)})}}),i.createElement(h,{disabled:!T,componentClass:"select",value:a,onChange:function(t){var e=t.target;return w("stepUnit",(void 0===e?{}:e).value)}},i.createElement("option",{value:"years"},i.createElement(d,{msgId:"playback.settings.step.year",msgParams:{number:o||1}})),i.createElement("option",{value:"weeks"},i.createElement(d,{msgId:"playback.settings.step.week",msgParams:{number:o||1}})),i.createElement("option",{value:"days"},i.createElement(d,{msgId:"playback.settings.step.day",msgParams:{number:o||1}})),i.createElement("option",{value:"hour"},i.createElement(d,{msgId:"playback.settings.step.hour",msgParams:{number:o||1}})),i.createElement("option",{value:"minutes"},i.createElement(d,{msgId:"playback.settings.step.minute",msgParams:{number:o||1}})),i.createElement("option",{value:"seconds"},i.createElement(d,{msgId:"playback.settings.step.second",msgParams:{number:o||1}}))))),i.createElement(y,{onSwitch:function(t){return S(t)},expanded:O.startPlaybackTime&&O.endPlaybackTime,title:i.createElement(d,{msgId:"playback.settings.range.title"}),buttons:A},i.createElement(u,{controlId:"formPlaybackMode",style:{margin:10}},i.createElement(g,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:O.startPlaybackTime,onUpdate:function(t){return I(b(e({},O,{startPlaybackTime:t})))},style:M,showButtons:!0}),i.createElement(g,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:O.endPlaybackTime,onUpdate:function(t){return I(b(e({},O,{endPlaybackTime:t})))},style:M,showButtons:!0}))),i.createElement(u,{controlId:"formPlaybackFollowingMode"},i.createElement(l,{componentClass:"fieldset",inline:!0},i.createElement(c,null,i.createElement(d,{msgId:"playback.settings.mode.following"})," ",i.createElement(f,{text:i.createElement(d,{msgId:"playback.settings.mode.followingDescription"})})),i.createElement("span",null,i.createElement(m,{checked:n,onChange:function(t){return w("following",t)}})))))}}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={Timeline:{displayName:"Timeline"}},y=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/components/time/TimelineComponent.jsx",components:m,locals:[],imports:[p.default,c.default]}),v=n(0),b=n(4),w=n(3),x=n(3200);x.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n(3174);var _=n(14),E=_.difference,S=_.differenceBy,C=_.keys,T=_.intersection,k=_.intersectionBy,O=_.each,L=_.omit,I=_.assign,A=function(){},P=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],M={},N={};O(P,function(t){return M[t]=b.func,N[t+"Handler"]=A,[M,N]});var D={items:b.array,rangeItems:b.array,groups:b.array,options:b.object,selectionOptions:b.object,selection:b.array,customTimes:b.shape({datetime:b.instanceOf(Date),id:b.string}),animate:b.oneOfType([b.bool,b.object]),currentTime:b.oneOfType([b.string,b.instanceOf(Date),b.number])},R={items:[],groups:[],options:{},selection:[],customTimes:{}},F=function(t){return function(e){return y(e,t)}}("Timeline")((l=s=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setAllItems=function(t){n.$el.setItems([].concat(i(t||[]),i(n.props.rangeItems||[])))},n.setItems=function(t){(t.length||0)+(n.props.rangeItems&&n.props.rangeItems.length||0)>0?n.$el.initialFitDone?n.setAllItems(t):(n.setAllItems(t),n.$el.emit("changed")):n.$el.initialRangeChangeDone&&n.setAllItems(t)},n.state={customTimes:[]},n}return a(e,t),g(e,[{key:"componentDidMount",value:function(){var t=this,e=this.refs.container;this.$el=new x.Timeline(e,void 0,this.props.options),P.forEach(function(e){return t.$el.on(e,t.props[e+"Handler"])}),this.init()}},{key:"shouldComponentUpdate",value:function(t){var e=this.props,n=e.items,i=e.groups,r=e.options,o=e.selection,a=e.customTimes,s=e.readOnly,l=e.rangeItems,u=n!==t.items,c=i!==t.groups,h=r!==t.options,p=a!==t.customTimes,d=o!==t.selection,f=s!==t.readOnly,g=l!==t.rangeItems;return u||c||h||p||d||f||g}},{key:"componentDidUpdate",value:function(t){this.init(t)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return v.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,i=n.items,r=n.rangeItems,o=n.groups,a=n.options,s=n.selection,l=n.selectionOptions,u=void 0===l?{}:l,c=n.customTimes,h=n.animate,p=void 0===h||h,d=n.currentTime,f=a;if(p&&(f=L(a,"start","end"),a.start&&a.end?this.$el.setWindow(a.start,a.end,{animation:p}):this.$el.setWindow(w().subtract(1,"month"),w().add(1,"month"),{animation:p})),this.$el.setOptions(f),o.length>0){var g=new x.DataSet;g.add(o),this.$el.setGroups(g)}if(i&&i!==e.items)this.setItems(i);else if(r!==e.rangeItems){var m=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(m){var y=k(r||[],e.rangeItems||[],"id"),v=S(r||[],e.rangeItems||[],"id"),b=S(e.rangeItems||[],r||[],"id");y.map(function(t){return m.update(t)}),v.map(function(t){return m.add(t)}),b.map(function(t){var e=t.id;return m.remove(e)})}else this.setItems(i)}this.$el.setSelection(s,u),d&&this.$el.setCurrentTime(d);var _=C(this.state.customTimes),I=C(c),A=E(I,_),P=E(_,I),M=T(_,I);O(P,function(e){return t.$el.removeCustomTime(e)}),O(A,function(e){var n=c[e];t.$el.addCustomTime(n,e)}),O(M,function(e){var n=c[e];t.$el.setCustomTime(n,e)}),this.setState({customTimes:c}),(this.props.readOnly!==e.readOnly||this.props.readOnly&&A.length>0)&&O(this.$el.customTimes,function(n){t.props.readOnly?n.hammer.off("panstart panmove panend"):!0===e.readOnly&&(n.hammer.on("panstart",n._onDragStart.bind(n)),n.hammer.on("panmove",n._onDrag.bind(n)),n.hammer.on("panend",n._onDragEnd.bind(n)))})}}]),e}(v.Component),s.propTypes=I(D,M),s.defaultProps=I(R,N),l));t.exports=F}).call(this)}finally{}},,function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(133),r=i.connect,o=n(272),a=o.toggleControl,s=o.setControlProperty,l=n(273),u=l.changeLayerProperties,c=n(195),h=c.createSelector,p=n(429),d=p.layersSelector,f=p.backgroundControlsSelector,g=p.currentBackgroundSelector,m=p.tempBackgroundSelector,y=n(2179),v=y.mapTypeSelector,b=n(109),w=b.invalidateUnsupportedLayer,x=n(858),_=x.mapSelector,E=n(2176),S=E.mapLayoutValuesSelector,C=n(861),T=C.drawerEnabledControlSelector,k=n(858),O=k.projectionSelector,L=n(3187),I=n(3189),A=n(3188),P=n(3182),M=n(3191),N=n(3194),D=n(3193),R=n(3190),F=n(3185),G=n(3183),j=n(3186),z=n(3184),U=n(3192),B={google:{HYBRID:z,ROADMAP:L,TERRAIN:I,SATELLITE:A},bing:{Aerial:P,AerialWithLabels:G},osm:{mapnik:M},mapquest:{osm:U},ol:{undefined:D},nasagibs:{Night2012:F},OpenTopoMap:{OpenTopoMap:j},unknown:R,s2cloudless:{"s2cloudless:s2cloudless":N}},H=h([O,_,d,f,T,v,g,m,function(t){return S(t,{left:!0,bottom:!0})}],function(t,e,n,i,r,o,a,s,l){return{size:e&&e.size||{width:0,height:0},layers:n.filter(function(t){return t&&"background"===t.group}).map(function(t){return w(t,o)})||[],tempLayer:s,currentLayer:a,start:i.start||0,enabled:i.enabled,style:l,projection:t}}),Y=r(H,{onPropertiesChange:u,onToggle:a.bind(null,"backgroundSelector",null),onLayerChange:s.bind(null,"backgroundSelector"),onStartChange:s.bind(null,"backgroundSelector","start")},function(t,n,i){return e({},t,n,i,{thumbs:e({},B,i.thumbs)})})(n(2993));t.exports={BackgroundSelectorPlugin:Y,reducers:{controls:n(880)}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s,l,u=n(71),c=e(u),h=n(0),p=e(h),d=n(70),f=e(d),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={BurgerMenu:{displayName:"BurgerMenu"}},y=(0,f.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/BurgerMenu.jsx",components:m,locals:[],imports:[p.default,c.default]}),v=n(0),b=n(4),w=n(133),x=w.connect,_=n(12),E=n(854),S=E.DropdownButton,C=E.Glyphicon,T=E.MenuItem,k=x(function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:v.createElement(C,{glyph:"menu-hamburger"})}})(S),O=n(2232),L=n(2203),I=n(199),A=I.createPlugin;n(3147);var P=function(t){return function(e){return y(e,t)}}("BurgerMenu")((l=s=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.getPanels=function(){return a.props.items.filter(function(t){return t.panel}).map(function(t){return _({},t,{panel:!0===t.panel?t.plugin:t.panel})}).concat(a.props.items.filter(function(t){return t.tools}).reduce(function(t,e){return t.concat(e.tools.map(function(t,n){return{name:e.name+n,panel:t,cfg:e.cfg.toolsCfg?e.cfg.toolsCfg[n]:{}}}))},[]))},a.getTools=function(){return[{element:v.createElement("span",{key:"burger-menu-title"},a.props.title)}].concat(i(a.props.items.sort(function(t,e){return t.position-e.position})))},s=n,o(a,s)}return a(e,t),g(e,[{key:"render",value:function(){return v.createElement(O,{id:this.props.id,className:"square-button",container:k,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:T,tools:this.getTools(),panels:this.getPanels(),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),e}(v.Component),s.propTypes={id:b.string,dispatch:b.func,items:b.array,title:b.node,onItemClick:b.func,controls:b.object,mapType:b.string,panelStyle:b.object,panelClassName:b.string},s.contextTypes={messages:b.object,router:b.object},s.defaultProps={id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:v.createElement(T,{header:!0},v.createElement(L,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"},l));t.exports=A("BurgerMenu",{component:x(function(t){return{controls:t.controls}})(P),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(854),r=i.Glyphicon,o=n(12),a=n(2158),s=n(2473);t.exports={ExpanderPlugin:o(s,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",icon:e.createElement(r,{glyph:"option-horizontal"}),help:e.createElement(a,{msgId:"helptexts.expandToolbar"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(133),i=e.connect,r=n(2489),o=r.toggleFullscreen,a=n(2719),s=a.toggleFullscreenEpic,l=n(12),u=n(2998),c=i(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.controls,n=void 0===e?{}:e;return{active:n.fullscreen&&n.fullscreen.enabled}},{onClick:function(t,e){return o(t,e.querySelector)}})(u);t.exports={FullScreenPlugin:l(c,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:s}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),o=n(854),a=o.Glyphicon,s=n(133),l=s.connect,u=n(195),c=u.createSelector,h=u.createStructuredSelector,p=n(12),d=n(858),f=d.mapSelector,g=n(429),m=g.layersSelector,y=n(2179),v=y.mapTypeSelector,b=n(865),w=b.generalInfoFormatSelector,x=b.clickPointSelector,_=b.indexSelector,E=b.responsesSelector,S=b.validResponsesSelector,C=b.showEmptyMessageGFISelector,T=b.isHighlightEnabledSelector,k=b.currentFeatureSelector,O=b.currentFeatureCrsSelector,L=n(2187),I=L.hideMapinfoMarker,A=L.showMapinfoRevGeocode,P=L.hideMapinfoRevGeocode,M=L.clearWarning,N=L.toggleMapInfoState,D=L.changeMapInfoFormat,R=L.updateCenterToMarker,F=L.closeIdentify,G=L.purgeMapInfoResults,j=L.featureInfoClick,z=L.changeFormat,U=L.toggleShowCoordinateEditor,B=L.changePage,H=L.toggleHighlightFeature,Y=n(430),V=Y.changeMousePointer,W=Y.zoomToExtent,q=n(864),Z=q.currentLocaleSelector,X=n(2176),K=X.mapLayoutValuesSelector,Q=n(428),J=Q.compose,$=Q.defaultProps,tt=n(276),et=n(2202),nt=n(2678),it=nt.defaultViewerHandlers,rt=nt.defaultViewerDefaultProps,ot=n(2679),at=ot.identifyLifecycle,st=n(2680),lt=n(2729),ut=n(2728),ct=n(2203);n(3148);var ht=h({enabled:function(t){return t.mapInfo&&t.mapInfo.enabled||t.controls&&t.controls.info&&t.controls.info.enabled||!1},responses:E,validResponses:S,requests:function(t){return t.mapInfo&&t.mapInfo.requests||[]},format:w,map:f,layers:m,point:x,showModalReverse:function(t){return t.mapInfo&&t.mapInfo.showModalReverse},reverseGeocodeData:function(t){return t.mapInfo&&t.mapInfo.reverseGeocodeData},warning:function(t){return t.mapInfo&&t.mapInfo.warning},currentLocale:Z,dockStyle:function(t){return K(t,{height:!0})},formatCoord:function(t){return t.mapInfo&&t.mapInfo.formatCoord},showCoordinateEditor:function(t){return t.mapInfo&&t.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(t){return C(t)}}),pt=J(l(c(_,function(t){return{index:t}}),{setIndex:B}),$({index:0})),dt=J(pt,rt,it,et(function(t){return 0===t.responses.length}))(n(3001)),ft=$({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:tt.getDefaultInfoFormatValue(),requests:[],responses:[],viewerOptions:{},viewer:dt,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,position:"right",size:660,getToolButtons:lt,getNavigationButtons:ut,showFullscreen:!1,validResponses:[],validator:tt.getValidator,zIndex:1050}),gt=J(l(ht,{purgeResults:G,closeIdentify:F,onChangeClickPoint:j,onToggleShowCoordinateEditor:U,onChangeFormat:z,changeMousePointer:V,clearWarning:M,hideMarker:I,showRevGeocode:A,hideRevGeocode:P,onEnableCenterToMarker:R.bind(null,"enabled")}),J(l(h({highlight:T,currentFeature:k,currentFeatureCrs:O}),{toggleHighlightFeature:H,zoomToExtent:W}),st),l(c(v,function(t){return{mapType:t}}),{},function(t,n,r){var o=t.mapType,a=r.showHighlightFeatureButton,s=e(r,["showHighlightFeatureButton"]);return i({},s,{showHighlightFeatureButton:"openlayers"===o&&a})}),ft,pt,it,at)(n(3003)),mt=l(function(t){return{infoFormat:w(t)}},{onInfoFormatChange:D})(n(3019));t.exports={IdentifyPlugin:p(gt,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:r.createElement(a,{glyph:"map-marker"}),help:r.createElement(ct,{msgId:"helptexts.infoButton"}),action:N,selector:function(t){return{bsStyle:t.mapInfo&&t.mapInfo.enabled?"success":"primary",active:!(!t.mapInfo||!t.mapInfo.enabled)}}},Settings:{tool:r.createElement(mt,{key:"featureinfoformat",label:r.createElement(ct,{msgId:"infoFormatLbl"})}),position:3}}),reducers:{mapInfo:n(2608)},epics:n(2720)}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l,u,c=n(71),h=e(c),p=n(0),d=e(p),f=n(70),g=e(f),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v={MapPlugin:{displayName:"MapPlugin"}},b=(0,g.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/Map.jsx",components:v,locals:[],imports:[d.default,h.default]}),w=n(4),x=n(0),_=n(199),E=_.connect,S=n(195),C=S.createSelector,T=n(2752),k=T.loadFont,O=n(12),L=n(2183);n(3149);var I=n(2158),A=n(38),P=n(430),M=P.errorLoadingFont,N=P.setMapResolutions,D=n(14),R=D.isString,F=void 0,G=function(t){return function(e){return b(e,t)}}("MapPlugin")((u=l=function(t){function e(){var t,s,l,u;o(this,e);for(var c=arguments.length,h=Array(c),p=0;p<c;p++)h[p]=arguments[p];return s=l=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(h))),l.state={canRender:!0},l.getHighlightLayer=function(t,e){return x.createElement(F.Layer,{type:"vector",srs:t,position:e,key:"highlight",options:{name:"highlight"}},l.props.features.map(function(e){return x.createElement(F.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})}))},l.getTool=function(t){return R(t)?{name:t,impl:F.tools[t]}:t[l.props.mapType]||t},l.getMapOptions=function(){return l.props.mapOptions&&l.props.mapOptions[l.props.mapType]||A.getConfigProp("defaultMapOptions")&&A.getConfigProp("defaultMapOptions")[l.props.mapType]},l.renderLayers=function(){var t=l.props.map.projection||"EPSG:3857";return[].concat(r(l.props.layers),r(l.props.additionalLayers)).filter(l.filterLayer).map(function(e,n){return x.createElement(F.Layer,{type:e.type,srs:t,position:n,key:e.id||e.name,options:e,securityToken:l.props.securityToken},l.renderLayerContent(e,t))}).concat(l.props.features&&l.props.features.length&&l.getHighlightLayer(t,l.props.layers.length)||[])},l.renderLayerContent=function(t,e){return t.features&&"vector"===t.type?t.features.map(function(n){var r;return x.createElement(F.Feature,(r={key:n.id,msId:n.id,type:n.type,crs:e,geometry:n.geometry,features:n.features},i(r,"msId",n.id),i(r,"featuresCrs",t.featuresCrs||"EPSG:4326"),i(r,"layerStyle",t.style),i(r,"style",n.style||t.style||null),i(r,"properties",n.properties),r))}):null},l.renderSupportTools=function(){return l.props.tools.map(function(t){var e=l.getTool(t),n=l.props.toolsOptions[e.name]&&l.props.toolsOptions[e.name][l.props.mapType]||l.props.toolsOptions[e.name]||{};return x.createElement(e.impl,m({key:e.name},n))})},l.filterLayer=function(t){return!t.useForElevation||"cesium"===l.props.mapType||l.props.elevationEnabled},l.updatePlugins=function(t){F=n(2731)(t.mapType,t.actions)},u=s,a(l,u)}return s(e,t),y(e,[{key:"componentWillMount",value:function(){var t=this,e=this.props,n=e.shouldLoadFont,i=e.fonts;n&&i&&(this.setState({canRender:!1}),Promise.all(i.map(function(e){return k(e,{timeoutAfter:5e3}).catch(function(){t.props.onFontError({family:e})})})).then(function(){t.setState({canRender:!0})})),this.updatePlugins(this.props)}},{key:"componentWillReceiveProps",value:function(t){t.mapType===this.props.mapType&&t.actions===this.props.actions||this.updatePlugins(t)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender){var t=this.props.map.mapOptions,e=void 0===t?{}:t;return x.createElement(F.Map,m({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:O({},e,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?x.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},x.createElement(I,{msgId:"map.loadingerror"}),":",this.props.loadingError):x.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"
},this.props.loadingSpinner?x.createElement(L,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,x.createElement(I,{msgId:this.props.mapLoadingMessage}))}}]),e}(x.Component),l.propTypes={mapType:w.string,map:w.object,layers:w.array,additionalLayers:w.array,zoomControl:w.bool,mapLoadingMessage:w.string,loadingSpinner:w.bool,loadingError:w.string,tools:w.array,fonts:w.array,options:w.object,mapOptions:w.object,projectionDefs:w.array,toolsOptions:w.object,onFontError:w.func,onResolutionsChange:w.func,actions:w.object,features:w.array,securityToken:w.string,shouldLoadFont:w.bool,elevationEnabled:w.bool},l.defaultProps={mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){}},u)),j=n(858),z=j.mapSelector,U=j.projectionDefsSelector,B=n(2179),H=B.mapTypeSelector,Y=B.isOpenlayers,V=n(429),W=V.layerSelectorWithMarkers,q=n(2749),Z=q.highlighedFeatures,X=n(869),K=X.securityTokenSelector,Q=C([U,z,H,W,Z,function(t){return t.mapInitialConfig&&t.mapInitialConfig.loadingError&&t.mapInitialConfig.loadingError.data},K,function(t){return t.mousePosition&&t.mousePosition.enabled},Y],function(t,e,n,i,r,o,a,s,l){return{projectionDefs:t,map:e,mapType:n,layers:i,features:r,loadingError:o,securityToken:a,elevationEnabled:s,shouldLoadFont:l}});t.exports={MapPlugin:E(Q,{onFontError:M,onResolutionsChange:N})(G),reducers:{draw:n(2739),highlight:n(2740),maptype:n(2743),additionallayers:n(2737)},epics:n(2721)}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={MapFooter:{displayName:"MapFooter"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/MapFooter.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(0),v=n(4),b=n(2232),w=function(t){return function(e){return m(e,t)}}("MapFooter")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getPanels=function(){return o.props.items.filter(function(t){return t.tools}).reduce(function(t,e){return t.concat(e.tools.map(function(t,n){return{name:e.name+n,panel:t,cfg:e.cfg.toolsCfg?e.cfg.toolsCfg[n]:{}}}))},[])},o.getTools=function(){return o.props.items.sort(function(t,e){return e.position-t.position})},a=n,r(o,a)}return o(e,t),f(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return y.createElement(b,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(t){return y.createElement("div",t,t.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(t){return y.createElement("div",null,t.children)},tools:this.getTools(),panels:this.getPanels()})}}]),e}(y.Component),a.propTypes={className:v.string,style:v.object,items:v.array,id:v.string,mapType:v.string},a.defaultProps={items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"},s));t.exports={MapFooterPlugin:w,reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(133),i=e.connect,r=n(195),o=r.createSelector,a=n(429),s=a.layersSelector,l=n(12),u=o([s],function(t){return{loading:t&&t.some(function(t){return t.loading})}});n(3150);var c=i(u)(n(3030));t.exports={MapLoadingPlugin:l(c,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,s,l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),g={OmniBar:{displayName:"OmniBar"}},m=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/OmniBar.jsx",components:g,locals:[],imports:[h.default,u.default]}),y=n(4),v=n(0);n(3151);var b=n(12),w=n(2232),x=function(t){return function(e){return m(e,t)}}("OmniBar")((s=a=function(t){function e(){var t,n,o,a;i(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getPanels=function(){return o.props.items.filter(function(t){return t.tools}).reduce(function(t,e){return t.concat(e.tools.map(function(t,n){return{name:e.name+n,panel:t,cfg:e.cfg.toolsCfg?e.cfg.toolsCfg[n]:{}}}))},[])},o.getTools=function(){return o.props.items.sort(function(t,e){return t.position-e.position})},a=n,r(o,a)}return o(e,t),f(e,[{key:"render",value:function(){return v.createElement(w,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(t){return v.createElement("div",t,t.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(t){return v.createElement("div",null,t.children)},tools:this.getTools(),panels:this.getPanels()})}}]),e}(v.Component),a.propTypes={className:y.string,style:y.object,items:y.array,id:y.string,mapType:y.string},a.defaultProps={items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"},s));t.exports={OmniBarPlugin:b(x,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}"}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(71),s=e(a),l=n(0),u=e(l),c=n(70),h=e(c),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d={PlaybackPlugin:{displayName:"PlaybackPlugin"}},f=(0,h.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/Playback.jsx",components:d,locals:[],imports:[u.default,s.default]}),g=n(0),m=n(12),y=n(428),v=y.defaultProps,b=y.compose,w=n(195),x=w.createSelector,_=n(2188),E=_.play,S=_.pause,C=_.stop,T=_.STATUS,k=n(862),O=k.currentTimeSelector,L=n(2198),I=L.statusSelector,A=L.loadingSelector,P=n(133),M=P.connect,N=b(v({statusMap:T}),M(x(I,O,A,function(t,e,n){return{loading:n,currentTime:e,status:t}}),{play:E,pause:S,stop:C}))(n(3054)),D=function(t){return function(e){return f(e,t)}}("PlaybackPlugin")(function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"render",value:function(){return g.createElement("div",{className:"playback-plugin"},g.createElement(N,this.props))}}]),e}(g.Component));t.exports={PlaybackPlugin:m(D,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:n(2723),reducers:{playback:n(2744),dimension:n(2502)}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(e){return y(e,t)}}var l=n(71),u=e(l),c=n(0),h=e(c),p=n(70),d=e(p),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),m={Print:{displayName:"Print",isInFunction:!0}},y=(0,d.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/Print.jsx",components:m,locals:[],imports:[h.default,u.default]}),v=n(0),b=n(4),w=n(133),x=w.connect,_=n(108),E=n(80),S=n(196),C=n(2244),T=n(854),k=T.Grid,O=T.Row,L=T.Col,I=T.Panel,A=T.Accordion,P=T.Glyphicon,M=n(272),N=M.toggleControl,D=M.setControlProperty,R=n(875),F=R.printSubmit,G=R.printSubmitting,j=R.configurePrintMap,z=n(858),U=z.mapSelector,B=n(429),H=B.layersSelector,Y=n(195),V=Y.createSelector,W=n(12),q=n(14),Z=q.head,X=n(858),K=X.scalesSelector,Q=n(864),J=Q.currentLocaleSelector,$=n(2179),tt=$.mapTypeSelector,et=n(2158);n(3152),t.exports={PrintPlugin:W({loadPlugin:function(t){n.e(9).then(function(){var e,l,u=n(2607),c=u.Name,h=u.Description,p=u.Resolution,d=u.DefaultBackgroundOption,m=u.Sheet,y=u.LegendOption,w=u.MultiPageOption,T=u.LandscapeOption,M=u.ForceLabelsOption,R=u.AntiAliasingOption,z=u.IconSizeOption,B=u.LegendDpiOption,Y=u.Font,q=u.MapPreview,X=u.PrintSubmit,Q=u.PrintPreview,$=n(2754),nt=s("Print")((l=e=function(t){function e(){var t,n,a,s;r(this,e);for(var l=arguments.length,u=Array(l),g=0;g<l;g++)u[g]=arguments[g];return n=a=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),a.getMapSize=function(t){var e=t||a.getLayout();return{width:a.props.mapWidth,height:e&&e.map.height/e.map.width*a.props.mapWidth||270}},a.getLayout=function(){var t=a.props.getLayoutName(a.props.printSpec);return Z(a.props.capabilities.layouts.filter(function(e){return e.name===t}))},a.renderLayoutsAlternatives=function(){return a.props.alternatives.map(function(t){return v.createElement(t.component,{key:"printoption_"+t.name,label:_.getMessageById(a.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})})},a.renderPreviewPanel=function(){return v.createElement(Q,f({},a.props.previewOptions,{role:"body",prevPage:a.prevPage,nextPage:a.nextPage}))},a.renderError=function(){return a.props.error?v.createElement(O,null,v.createElement(L,{xs:12},v.createElement("div",{className:"print-error"},v.createElement("span",null,a.props.error)))):null},a.renderWarning=function(t){return t?null:v.createElement(O,null,v.createElement(L,{xs:12},v.createElement("div",{className:"print-warning"},v.createElement("span",null,v.createElement(et,{msgId:"print.layoutWarning"})))))},a.renderPrintPanel=function(){var t=a.getLayout(),e=a.props.getLayoutName(a.props.printSpec),n=a.getMapSize(t);return v.createElement(k,{fluid:!0,role:"body"},a.renderError(),a.renderWarning(t),v.createElement(O,null,v.createElement(L,{xs:12,md:6},v.createElement(c,{label:_.getMessageById(a.context.messages,"print.title"),placeholder:_.getMessageById(a.context.messages,"print.titleplaceholder")}),v.createElement(h,{label:_.getMessageById(a.context.messages,"print.description"),placeholder:_.getMessageById(a.context.messages,"print.descriptionplaceholder")}),v.createElement(A,{defaultActiveKey:"1"},v.createElement(I,{className:"print-layout",header:_.getMessageById(a.context.messages,"print.layout"),eventKey:"1",collapsible:!0},v.createElement(m,{key:"sheetsize",layouts:a.props.capabilities.layouts,label:_.getMessageById(a.context.messages,"print.sheetsize")}),a.renderLayoutsAlternatives()),v.createElement(I,{className:"print-legend-options",header:_.getMessageById(a.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},v.createElement(Y,{label:_.getMessageById(a.context.messages,"print.legend.font")}),v.createElement(M,{label:_.getMessageById(a.context.messages,"print.legend.forceLabels")}),v.createElement(R,{label:_.getMessageById(a.context.messages,"print.legend.antiAliasing")}),v.createElement(z,{label:_.getMessageById(a.context.messages,"print.legend.iconsSize")}),v.createElement(B,{label:_.getMessageById(a.context.messages,"print.legend.dpi")})))),v.createElement(L,{xs:12,md:6,style:{textAlign:"center"}},v.createElement(p,{label:_.getMessageById(a.context.messages,"print.resolution")}),v.createElement(q,f({width:n.width,height:n.height,mapType:a.props.mapType,onMapRefresh:function(){return a.configurePrintMap()},layout:e,layoutSize:t&&t.map||{width:10,height:10},resolutions:S.getResolutions(),useFixedScales:a.props.useFixedScales},a.props.mapPreviewOptions)),a.isBackgroundIgnored()?v.createElement(d,{label:_.getMessageById(a.context.messages,"print.defaultBackground")}):null,v.createElement(X,f({},a.props.submitConfig,{disabled:!t,onPrint:a.print})),a.renderDownload())))},a.renderDownload=function(){return a.props.pdfUrl&&!a.props.usePreview?v.createElement("iframe",{src:a.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null},a.renderBody=function(){return a.props.pdfUrl&&a.props.usePreview?a.renderPreviewPanel():a.renderPrintPanel()},a.isAllowed=function(t){return-1===a.props.ignoreLayers.indexOf(t.type)},a.isBackgroundIgnored=function(){return a.props.layers.filter(function(t){return t.visibility&&!a.isAllowed(t)}).length>0},a.filterLayers=function(t){var e=a.props.layers.filter(function(t){return t.visibility&&a.isAllowed(t)});if(a.isBackgroundIgnored()&&a.props.defaultBackground&&t.defaultBackground){var n=a.props.layers.filter(function(t){return t.type===a.props.defaultBackground})[0];return[W({},n,{visibility:!0})].concat(i(e))}return e},a.configurePrintMap=function(t,e){var n=t||a.props.map,i=e||a.props.printSpec;if(n&&n.bbox&&a.props.capabilities){var r=E.reprojectBbox([n.bbox.bounds.minx,n.bbox.bounds.miny,n.bbox.bounds.maxx,n.bbox.bounds.maxy],n.bbox.crs,n.projection),o=a.getMapSize();if(a.props.useFixedScales){var s=a.props.getZoomForExtent(r,o,a.props.minZoom,a.props.maxZoom),l=$.getPrintScales(a.props.capabilities),u=$.getNearestZoom(n.zoom,l);a.props.configurePrintMap(n.center,s,u,l[u],a.filterLayers(i),n.projection,a.props.currentLocale)}else a.props.configurePrintMap(n.center,n.zoom,n.zoom,a.props.scales[n.zoom],a.filterLayers(i),n.projection,a.props.currentLocale)}},a.print=function(){var t=a.props.getPrintSpecification(a.props.printSpec);a.props.setPage(0),a.props.onBeforePrint(),a.props.onPrint(a.props.capabilities.createURL,f({},t,a.props.overrideOptions))},s=n,o(a,s)}return a(e,t),g(e,[{key:"componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var t=document.createElement("script");t.type="text/javascript",t.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(t)}this.configurePrintMap()}},{key:"componentWillReceiveProps",value:function(t){var e=t.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&S.mapUpdated(this.props.map,t.map),i=t.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(e||n||i)&&this.configurePrintMap(t.map,t.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?v.createElement(I,{className:"mapstore-print-panel",header:v.createElement("span",null,v.createElement("span",{className:"print-panel-title"},v.createElement(et,{msgId:"print.paneltitle"})),v.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):v.createElement(C,{id:"mapstore-print-panel",style:f({left:"17%",top:"50px",zIndex:1990},this.props.style)},v.createElement("span",{role:"header"},v.createElement("span",{className:"print-panel-title"},v.createElement(et,{msgId:"print.paneltitle"})),v.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?v.createElement(P,{glyph:this.props.closeGlyph}):v.createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}]),e}(v.Component),e.propTypes={map:b.object,layers:b.array,capabilities:b.object,printSpec:b.object,printSpecTemplate:b.object,withContainer:b.bool,withPanelAsContainer:b.bool,open:b.bool,pdfUrl:b.string,title:b.string,style:b.object,mapWidth:b.number,mapType:b.string,alternatives:b.array,toggleControl:b.func,onBeforePrint:b.func,setPage:b.func,onPrint:b.func,configurePrintMap:b.func,getPrintSpecification:b.func,getLayoutName:b.func,error:b.string,getZoomForExtent:b.func,minZoom:b.number,maxZoom:b.number,usePreview:b.bool,mapPreviewOptions:b.object,syncMapPreview:b.bool,useFixedScales:b.bool,scales:b.array,ignoreLayers:b.array,defaultBackground:b.string,closeGlyph:b.string,submitConfig:b.object,previewOptions:b.object,currentLocale:b.string,overrideOptions:b.object},e.contextTypes={messages:b.object},e.defaultProps={withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},getPrintSpecification:$.getMapfishPrintSpecification,getLayoutName:$.getLayoutName,getZoomForExtent:S.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:y,regex:/legend/},{name:"2pages",component:w,regex:/2_pages/},{name:"landscape",component:T,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}},l)),it=V([function(t){return t.controls.print&&t.controls.print.enabled||t.controls.toolbar&&"print"===t.controls.toolbar.active},function(t){return t.print&&t.print.capabilities},function(t){return t.print&&t.print.spec&&W({},t.print.spec,t.print.map||{})},function(t){return t.print&&t.print.pdfUrl},function(t){return t.print&&t.print.error},U,H,K,function(t){return t.browser&&(!t.browser.ie||t.browser.ie11)},J,tt],function(t,e,n,i,r,o,a,s,l,u,c){return{open:t,capabilities:e,printSpec:n,pdfUrl:i,error:r,map:o,layers:a.filter(function(t){return!t.loadingError}),scales:s,usePreview:l,currentLocale:u,mapType:c}}),rt=x(it,{toggleControl:N.bind(null,"print",null),onPrint:F,onBeforePrint:G,setPage:D.bind(null,"print","currentPage"),configurePrintMap:j})(nt);t(rt)}.bind(null,n)).catch(n.oe)},enabler:function(t){return t.print&&t.print.enabled||t.toolbar&&"print"===t.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"print",position:7,help:v.createElement(et,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:v.createElement(P,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:v.createElement(et,{msgId:"printbutton"}),icon:v.createElement(P,{glyph:"print"}),action:N.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:n(2745)}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(71),s=e(a),l=n(0),u=e(l),c=n(70),h=e(c),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f={ScaleBoxTool:{displayName:"ScaleBoxTool"}},g=(0,h.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/ScaleBox.jsx",components:f,locals:[],imports:[u.default,s.default]}),m=n(0),y=n(199),v=y.connect,b=n(195),w=b.createSelector,x=n(858),_=x.mapSelector,E=x.minZoomSelector,S=n(430),C=S.changeZoomLevel,T=n(2646),k=n(2203),O=n(2640),L=n(196),I=n(12),A=w([_,E],function(t,e){return{minZoom:e,currentZoomLvl:t&&t.zoom,scales:L.getScales(t&&t.projection||"EPSG:3857",t&&t.mapOptions&&t.mapOptions.view&&t.mapOptions.view.DPI||null)}});n(3153);var P=function(t){return function(e){return g(e,t)}}("ScaleBoxTool")(function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),d(e,[{key:"render",value:function(){return m.createElement(T,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:m.createElement(k,{msgId:"helptexts.scaleBox"})},m.createElement(O,p({key:"scaleBox",label:m.createElement(k,{msgId:"mapScale"})},this.props)))}}]),e}(m.Component)),M=v(A,{onChange:C})(P);t.exports={ScaleBoxPlugin:I(M,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:1,tool:!0,priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(133),o=r.connect,a=n(195),s=a.createSelector,l=n(3056),u=n(2565),c=n(2166),h=n(862),p=h.offsetEnabledSelector,d=h.currentTimeSelector,f=n(2185),g=f.currentTimeRangeSelector,m=f.isVisible,y=f.rangeSelector,v=f.timelineLayersSelector,b=f.isMapSync,w=n(2176),x=w.mapLayoutValuesSelector,_=n(428),E=_.withState,S=_.compose,C=_.branch,T=_.renderNothing,k=_.withStateHandlers,O=_.withProps,L=_.defaultProps,I=n(2498),A=n(2180),P=A.selectTime,M=A.enableOffset,N=A.onRangeChanged,D=A.setMapSync,R=n(868),F=R.setCurrentOffset,G=n(2158),j=n(2188),z=j.selectPlaybackRange,U=n(2198),B=U.playbackRangeSelector,H=U.statusSelector,Y=n(854),V=Y.Button,W=Y.Glyphicon,q=n(2173),Z=q(V),X=n(14),K=X.head,Q=X.isString,J=n(3),$=function(t){return Q(t)&&-1!==t.indexOf("%")},tt=function(t){return parseInt(t,10)/100},et=function(t,e){return J(e).diff(t)>0},nt=S(o(s(m,v,d,g,p,B,H,y,function(t,e,n,i,r,o,a,s){return{visible:t,layers:e,currentTime:n,currentTimeRange:i,offsetEnabled:r,playbackRange:o,status:a,viewRange:s}}),{setCurrentTime:P,onOffsetEnabled:M,setOffset:F,setPlaybackRange:z,moveRangeTo:N}),C(function(t){var e=t.visible,n=void 0===e||e,i=t.layers,r=void 0===i?[]:i;return!n||0===Object.keys(r).length},T),E("options","setOptions",{collapsed:!0}),o(s(b,function(t){return{mapSync:t}}),{toggleMapSync:D}),S(S(k(function(){return{}},{onResize:function(){return function(t){return{containerWidth:t.width}}}}),I({querySelector:".ms2",closest:!0,debounceTime:100})),L({style:{marginBottom:35,marginLeft:100,marginRight:80}}),o(s(function(t){return x(t,{right:!0,bottom:!0,left:!0})},function(t){return{mapLayoutStyle:t}})),O(function(t){var n=t.containerWidth,i=t.style,r=t.mapLayoutStyle,o=i||{},a=o.marginLeft,s=o.marginRight,l=r.left,u=void 0===l?0:l,c=r.right,h=void 0===c?0:c;h=$(h)&&tt(h)*n||h,u=$(u)&&tt(u)*n||u;if(n){var p=n-h-u-a-s;return{hide:p<410,compactToolbar:p<880,style:e({},i,r,{minWidth:410})}}return{style:e({},i,r,{minWidth:410})}}),C(function(t){return t.hide},T)))(function(t){var n=t.items,r=t.options,o=t.setOptions,a=t.mapSync,s=t.toggleMapSync,h=void 0===s?function(){}:s,p=t.currentTime,d=t.setCurrentTime,f=t.offsetEnabled,g=t.onOffsetEnabled,m=t.currentTimeRange,y=t.setOffset,v=t.style,b=t.status,w=t.viewRange,x=t.moveRangeTo,_=t.compactToolbar,E=r.hideLayersName,S=r.collapsed,C=K(n&&n.filter(function(t){return"playback"===t.name})),T=C&&C.plugin,k=function(t,e,n,i){var r=J(n.end).diff(n.start)/2;if("time-current"===e&&n)return n.start.toString()!==J(t).add(-1*r).toString()&&n.end.toString()!==J(t).add(r).toString()&&x({start:J(t).add(-1*r),end:J(t).add(r)});if("range-start"===e||"range-end"===e){var o=J(i.end).diff(i.start),a=J(i.start).add(o/2);x(o/2<=r?{start:J(a).add(-1*r),end:J(a).add(r)}:{start:J(a).add(-1*o*5/2),end:J(a).add(5*o/2)})}};return i.createElement("div",{style:e({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},v,{right:S?"auto":v.right||0}),className:"timeline-plugin"+(E?" hide-layers-name":"")+(f?" with-time-offset":"")},f&&i.createElement(u,{clickable:!S,glyph:"range-start",onIconClick:function(t,e){return"PLAY"!==b&&k(t,e,w,m)},tooltip:i.createElement(G,{msgId:"timeline.rangeStart"}),showButtons:!0,date:p||m&&m.start,onUpdate:function(t){return(m&&et(t,m.end)||!m)&&"PLAY"!==b&&d(t)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),i.createElement("div",{className:"timeline-plugin-toolbar"+(_?" ms-collapsed":"")},f&&m?i.createElement(u,{clickable:!S,glyph:"range-end",onIconClick:function(t,e){return"PLAY"!==b&&k(t,e,w,m)},tooltip:i.createElement(G,{msgId:"timeline.rangeEnd"}),date:m.end,showButtons:!0,onUpdate:function(t){return"PLAY"!==b&&et(p,t)&&y(t)}}):i.createElement(u,{clickable:!S,glyph:"time-current",showButtons:!0,onIconClick:function(t,e){return"PLAY"!==b&&k(t,e,w)},tooltip:i.createElement(G,{msgId:"timeline.currentTime"}),date:p||m&&m.start,onUpdate:function(t){return(m&&et(t,m.end)||!m)&&"PLAY"!==b&&d(t)}}),i.createElement("div",{className:"timeline-plugin-btn-group"},i.createElement(c,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:i.createElement(G,{msgId:E?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:E?"primary":"success",visible:!S,active:!E,onClick:function(){return o(e({},r,{hideLayersName:!E}))}},{glyph:"time-offset",bsStyle:f?"success":"primary",active:f,disabled:"PLAY"===b,tooltip:i.createElement(G,{msgId:f?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==b&&g(!f)}},{glyph:"map-synch",tooltip:i.createElement(G,{msgId:a?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:a?"success":"primary",active:a,onClick:function(){return h(!a)}}]}),i.createElement(T,e({},C,{settingsStyle:{right:S||_?40:"unset"}}))),i.createElement(Z,{onClick:function(){return o(e({},r,{collapsed:!S}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:i.createElement(G,{msgId:S?"timeline.expand":"timeline.collapse"})},i.createElement(W,{glyph:S?"chevron-up":"chevron-down"}))),!S&&i.createElement(l,{offsetEnabled:f,playbackEnabled:!0,hideLayersName:E}))}),it=n(12),rt=n(3057);t.exports={TimelinePlugin:it(nt,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:i.createElement(rt,null),position:0}}),reducers:{dimension:n(2502),timeline:n(2747)},epics:n(2724)}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(e){return b(e,t)}}var l,u,c=n(71),h=e(c),p=n(0),d=e(p),f=n(70),g=e(f),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v={AnimatedContainer:{displayName:"AnimatedContainer"},Toolbar:{displayName:"Toolbar"}},b=(0,g.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/Toolbar.jsx",components:v,locals:[],imports:[d.default,h.default]}),w=n(0),x=n(4),_=n(133),E=_.connect;n(3154);var S=n(2649),C=S.CSSTransitionGroup,T=n(2197),k=T.isFeatureGridOpen,O=n(2176),L=O.mapLayoutValuesSelector,I=n(195),A=I.createSelector,P=n(12),M=n(2232),N=s("AnimatedContainer")(function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),y(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=i(t,["children"]);return w.createElement(C,m({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),e)}}]),e}(w.Component)),D=s("Toolbar")((u=l=function(t){function e(){var t,n,i,a;r(this,e)
;for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.getPanel=function(t){return!0===t.panel?t.plugin:t.panel},i.getPanels=function(){return i.getTools().filter(function(t){return t.panel}).map(function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:i.getPanel(t),items:t.items,wrap:t.wrap||!1}})},i.getTools=function(){return i.props.items.filter(function(t){return t.alwaysVisible||i.props.allVisible}).map(function(t,e){return P({},t,{position:t.position||e})}).sort(function(t,e){return t.position-e.position})},a=n,o(i,a)}return a(e,t),y(e,[{key:"render",value:function(){return w.createElement(M,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:N,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),e}(w.Component),l.propTypes={id:x.string,tools:x.array,mapType:x.string,style:x.object,panelStyle:x.object,panelClassName:x.string,active:x.string,items:x.array,allVisible:x.bool,layout:x.string,stateSelector:x.string,buttonStyle:x.string,buttonSize:x.string,pressedButtonStyle:x.string,btnConfig:x.object},l.contextTypes={messages:x.object,router:x.object},l.defaultProps={id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}},u)),R=function(t){return A([function(e){return e.controls&&e.controls[t]&&e.controls[t].active},function(e){return e.controls&&e.controls[t]&&e.controls[t].expanded},k,function(t){return L(t,{right:!0,bottom:!0})}],function(e,n,i,r){return{active:e,allVisible:n,stateSelector:t,layout:i?"horizontal":"vertical",style:r}})};t.exports={ToolbarPlugin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return E(R(t))(D)},reducers:{controls:n(880)}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(71),s=e(a),l=n(0),u=e(l),c=n(70),h=e(c),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f={ZoomAllPlugin:{displayName:"ZoomAllPlugin"}},g=(0,h.default)({filename:"/mnt/d/tmp/geonode-mapstore-client/geonode_mapstore_client/client/MapStore2/web/client/plugins/ZoomAll.jsx",components:f,locals:[],imports:[u.default,s.default]}),m=n(0),y=n(133),v=y.connect,b=n(195),w=b.createSelector,x=n(858),_=x.mapSelector,E=n(854),S=E.Glyphicon,C=w([_,function(t){return t.mapInitialConfig}],function(t,e){return{mapConfig:t,mapInitialConfig:e}}),T=n(430),k=T.changeMapView,O=v(C,{changeMapView:k})(n(3e3)),L=n(2158);n(3155);var I=function(t){return function(e){return g(e,t)}}("ZoomAllPlugin")(function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),d(e,[{key:"render",value:function(){return m.createElement(O,p({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}]),e}(m.Component)),A=n(12);t.exports={ZoomAllPlugin:A(I,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:m.createElement(S,{glyph:"resize-full"}),help:m.createElement(L,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(133),r=i.connect,o=n(195),a=o.createSelector,s=n(858),l=s.mapSelector,u=a([l],function(t){return{currentZoom:t&&t.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}}),c=n(430),h=c.changeZoomLevel,p=n(2158),d=r(u,{onZoom:h})(n(2547));n(2597);var f=n(12);t.exports={ZoomInPlugin:f(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:e.createElement(p,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(133),o=r.connect,a=n(195),s=a.createSelector,l=n(858),u=l.mapSelector,c=l.minZoomSelector,h=s([u,c],function(t,e){return{currentZoom:t&&t.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:e}}),p=n(430),d=p.changeZoomLevel,f=n(2158),g=o(h,{onZoom:d},function(t,n,i){return e({},t,n,i)})(n(2547));n(2597);var m=n(12);t.exports={ZoomOutPlugin:m(g,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:i.createElement(f,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=n(0),i=n(133),r=i.connect,o=n(195),a=o.createSelector,s=n(428),l=s.compose,u=s.withState,c=s.withProps,h=s.withHandlers,p=n(2185),d=p.selectedLayerSelector,f=n(2198),g=f.statusSelector,m=f.hasPrevNextAnimationSteps,y=f.playbackMetadataSelector,v=n(2188),b=v.animationStepMove,w=v.STATUS,x=n(2158),_=n(2166),E=n(3055),S=l(u("showSettings","onShowSettings",!1),u("collapsed","setCollapsed",!0),c(function(t){var e=t.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return e(!0)}}]}})),C=a(g,d,y,m,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];return e?t===w.PLAY||t===w.PAUSE?i:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}}),T=l(r(C,{stepMove:b}),h({forward:function(t){var e=t.stepMove,n=void 0===e?function(){}:e;return function(){return n(1)}},backward:function(t){var e=t.stepMove,n=void 0===e?function(){}:e;return function(){return n(-1)}}})),k=l(S,T);t.exports=k(function(t){var n=t.status,i=t.statusMap,r=t.play,o=void 0===r?function(){}:r,a=t.forward,s=void 0===a?function(){}:a,l=t.backward,u=void 0===l?function(){}:l,c=t.pause,h=void 0===c?function(){}:c,p=t.stop,d=void 0===p?function(){}:p,f=t.hasPrevious,g=t.hasNext,m=t.showSettings,y=t.onShowSettings,v=void 0===y?function(){}:y,b=t.settingsStyle,w=void 0===b?{}:b;return e.createElement("div",{style:{display:"flex"}},n!==i.PLAY&&n!==i.PAUSE&&m&&e.createElement(E,{style:w}),e.createElement(_,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:u,disabled:!f,tooltip:e.createElement(x,{msgId:"playback.backwardStep"})},{glyph:n===i.PLAY?"pause":"play",key:"play",active:n===i.PLAY||n===i.PAUSE,disabled:!g,bsStyle:n===i.PLAY||n===i.PAUSE?"success":"primary",onClick:function(){return n===i.PLAY?h():o()},tooltipId:g&&(n===i.PLAY?"playback.pause":n===i.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:n!==i.PLAY&&n!==i.PAUSE,onClick:d,tooltip:!(n!==i.PLAY&&n!==i.PAUSE)&&e.createElement(x,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:s,disabled:!g,tooltip:g&&e.createElement(x,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:n!==i.PLAY&&n!==i.PAUSE&&m?"success":"primary",active:(n!==i.PLAY||n!==i.PAUSE)&&!!m,disabled:n===i.PLAY||n===i.PAUSE,onClick:function(){return n!==i.PLAY&&v(!m)},tooltip:!(n===i.PLAY||n===i.PAUSE)&&e.createElement(x,{msgId:"playback.settings.tooltip"})}]}))})}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(133),r=i.connect,o=n(195),a=o.createSelector,s=n(3),l=n(428),u=l.compose,c=l.withProps,h=l.withHandlers,p=n(2198),d=p.playbackSettingsSelector,f=p.playbackRangeSelector,g=n(2185),m=g.selectedLayerSelector,y=g.rangeSelector,v=g.selectedLayerDataRangeSelector,b=n(2188),w=b.selectPlaybackRange,x=b.changeSetting,_=b.toggleAnimationMode,E=n(2180),S=E.onRangeChanged;t.exports=u(r(a(d,m,f,function(t,n,i){return e({fixedStep:!n,playbackRange:i},t)}),{setPlaybackRange:w,onSettingChange:x,toggleAnimationMode:_}),u(r(a(y,v,function(t,e){return{layerRange:e,viewRange:t}}),{moveTo:S}),h({toggleAnimationRange:function(t){var e=t.fixedStep,n=t.layerRange,i=t.viewRange,r=void 0===i?{}:i,o=t.setPlaybackRange,a=void 0===o?function(){}:o;return function(t){var i=e?r:n;i={startPlaybackTime:s(i&&i.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:s(i&&i.end||new Date).add(1,"days").toISOString()},a(t?i:void 0)}},setPlaybackToCurrentViewRange:function(t){var e=t.viewRange,n=void 0===e?{}:e,i=t.setPlaybackRange,r=void 0===i?function(){}:i;return function(){n.start&&n.end&&r({startPlaybackTime:s(n.start).toISOString(),endPlaybackTime:s(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(t){var e=t.setPlaybackRange,n=void 0===e?function(){}:e,i=t.layerRange;return function(){return i&&n({startPlaybackTime:i.start,endPlaybackTime:i.end})}}}),c(function(t){var e=t.playbackRange,n=t.fixedStep,i=t.moveTo,r=void 0===i?function(){}:i,o=t.setPlaybackToCurrentViewRange,a=void 0===o?function(){}:o,s=t.setPlaybackToCurrentLayerDataRange,l=void 0===s?function(){}:s;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return r({start:e.startPlaybackTime,end:e.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return a()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return l()}}]}})))(n(3033))}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(133),o=r.connect,a=n(14),s=a.isString,l=a.differenceBy,u=a.isNil,c=n(862),h=c.currentTimeSelector,p=n(2180),d=p.selectTime,f=p.selectLayer,g=p.onRangeChanged,m=n(2185),y=m.itemsSelector,v=m.loadingSelector,b=m.selectedLayerSelector,w=m.currentTimeRangeSelector,x=m.rangeSelector,_=m.timelineLayersSelector,E=n(868),S=E.moveTime,C=E.setCurrentOffset,T=n(2188),k=T.selectPlaybackRange,O=n(2198),L=O.playbackRangeSelector,I=O.statusSelector,A=n(195),P=A.createStructuredSelector,M=A.createSelector,N=n(2461),D=N.createShallowSelectorCreator,R=n(428),F=R.compose,G=R.withPropsOnChange,j=R.defaultProps,z=n(2455),U=n(2158),B=n(2261),H=n(2714),Y=n(2713),V=n(3),W=D(function(t,e){return t===e||!u(t)&&!u(e)&&t.id===e.id&&t.title===e.title&&t.name===e.name})(_,function(t){return t}),q=F(o(M(x,y,W,v,function(t,e,n,i){return{viewRange:t,items:e,layers:n,loading:i}})),G(function(t,e){var n=t.layers,i=void 0===n?[]:n,r=t.loading,o=t.selectedLayer,a=e.layers,s=e.loading,u=e.selectedLayer,c=t.hideLayersName!==e.hideLayersName;return r!==s||o!==u||c||i&&a&&i.length!==a.length||l(i,a||[],function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.id+t.title+t.name}).length>0},function(t){var e=t.layers,n=void 0===e?[]:e,i=t.loading,r=void 0===i?{}:i,o=t.selectedLayer;return{groups:n.map(function(t){return{id:t.id,className:(r[t.id]?"loading":"")+(t.id&&t.id===o?" selected":""),content:'<div class="timeline-layer-label-container">'+(r[t.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'+(t.id&&t.id===o?'<i class="glyphicon glyphicon-time"></i>':"")+"</div>")+'<div class="timeline-layer-title">'+(s(t.title)?t.title:t.name)+"</div></div>"}})}})),Z=F(o(M(h,w,function(t,e){return{currentTime:t,currentTimeRange:e}}),{setCurrentTime:d,moveCurrentRange:S,setOffset:C})),X=F(o(P({playbackRange:L,status:I}),{setPlaybackRange:k})),K=F(o(M(b,function(t){return{selectedLayer:t}}),{selectGroup:f})),Q=F(o(function(){return{}},{rangechangedHandler:g})),J=F(Z,X,K,H,Q,q,j({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(t){return V(t).utc()}}}),G(["viewRange","options"],function(t){var n=t.viewRange,i=void 0===n?{}:n,r=t.options;return{options:e({},r,i)}}),G(["status"],function(t){return{readOnly:"PLAY"===t.status}}),Y,z(function(t){var e=t.loading;return e&&e.timeline},function(){return i.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},i.createElement(B,{style:{display:"inline-block",verticalAlign:"middle"}}),i.createElement(U,{msgId:"loading"}))},{white:!0})),$=n(3035);t.exports=J($)}).call(this)}finally{}},function(t,e,n){try{(function(){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=n(0),r=n(98),o=n(2158),a=n(854),s=a.Button,l=a.Glyphicon,u=n(2180),c=u.setCollapsed,h=n(2185),p=h.isCollapsed,d=h.hasLayers,f=n(428),g=f.compose,m=f.withHandlers,y=f.withProps,v=f.renderNothing,b=f.branch,w=f.mapPropsStream,x=n(2173),_=n(195),E=_.createSelector,S=n(133),C=S.connect,T=n(2604),k=function(t){return t.distinctUntilKeyChanged("collapsed").filter(function(t){return t.collapsed}).take(1).switchMap(function(t){var e=t.collapseHintPopoverOptions;return r.Observable.timer(5e3).startWith({popoverOptions:e}).concat(r.Observable.of({}))}).startWith({})},O=function(){return g(y({collapseHintPopoverOptions:{placement:"top",props:{title:i.createElement("span",null,i.createElement(l,{glyph:"time"})," ",i.createElement("strong",null,i.createElement(o,{msgId:"timeline.collapsed.title"})))},content:i.createElement(o,{msgId:"timeline.collapsed.tooltip"})}}),w(function(t){return t.combineLatest(k(t),function(t,n){return e({},t,n)})}),b(function(t){return t.popoverOptions},T,x))}()(s),L=function(t){return i.createElement(O,e({},t,{bsSize:"xsmall"}),i.createElement(l,{glyph:"time"}))};t.exports=g(C(E(p,d,function(t,e){return{collapsed:t,visible:e}}),{setCollapsed:c}),b(function(t){return!t.visible},v),m({onClick:function(t){var e=t.collapsed,n=t.setCollapsed;return function(){return n(!e)}}}),y(function(t){var e=t.collapsed;return{bsStyle:e?"primary":"success",tooltipId:e?"timeline.show":"timeline.hide"}}))(L)}).call(this)}finally{}},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(2218),u=i(l),c=n(2576),h=i(c),p=n(0),d=i(p),f=n(2248),g=i(f),m=n(2567),y=i(m),v=n(2246),b=i(v),w=n(2247),x=i(w),_=n(2569),E=i(_),S=n(2190),C=i(S),T=n(2570),k=i(T),O=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.state={offsetTop:null,offsetBottom:null,width:null}}return a(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=b.default(k.default(this),"scroll",function(){return t.onWindowScroll()}),this._windowResizeListener=b.default(k.default(this),"resize",function(){return t.onWindowResize()}),this._documentClickListener=b.default(C.default(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},e.prototype.onWindowScroll=function(){this.onUpdate()},e.prototype.onWindowResize=function(){var t=this;this.props.autoWidth&&h.default(function(){return t.onUpdate()})},e.prototype.onDocumentClick=function(){var t=this;h.default(function(){return t.onUpdate()})},e.prototype.onUpdate=function(){if(this._isMounted){var t=u.default(this.refs.positioner),e=t.top,n=t.width,i=x.default(this.props.container),r=void 0;if(i){var o=E.default(C.default(this)),a=u.default(i);r=o-a.top-a.height}else r=null;this.updateState(e,r,n)}},e.prototype.updateState=function(t,e,n){t===this.state.offsetTop&&e===this.state.offsetBottom&&n===this.state.width||this.setState({offsetTop:t,offsetBottom:e,width:n})},e.prototype.render=function(){var t=this.props,e=(t.container,t.autoWidth),n=t.viewportOffsetTop,i=t.children,o=r(t,["container","autoWidth","viewportOffsetTop","children"]),a=this.state,l=a.offsetTop,u=a.offsetBottom,c=a.width,h=Math.max(l,n||0),p=this.props,f=p.affixStyle,g=p.bottomStyle;return e&&(f=s({width:c},f),g=s({width:c},g)),d.default.createElement("div",null,d.default.createElement("div",{ref:"positioner"}),d.default.createElement(y.default,s({},o,{offsetTop:h,viewportOffsetTop:n,offsetBottom:u,affixStyle:f,bottomStyle:g}),i))},e}(d.default.Component);O.propTypes=s({},y.default.propTypes,{container:d.default.PropTypes.oneOfType([g.default,d.default.PropTypes.func]),autoWidth:d.default.PropTypes.bool}),O.defaultProps={viewportOffsetTop:0,autoWidth:!0},e.default=O,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(0),s=i(a),l=n(3088),u=i(l),c=n(2248),h=i(c),p=n(2578),d=i(p),f=n(2438),g=i(f),m=n(3062),y=i(m),v=n(2190),b=i(v),w=n(2246),x=i(w),_=n(3067),E=i(_),S=n(2191),C=i(S),T=n(3072),k=i(T),O=n(2573),L=i(O),I=n(2247),A=i(I),P=new y.default,M=s.default.createClass({displayName:"Modal",propTypes:o({},g.default.propTypes,{show:s.default.PropTypes.bool,container:s.default.PropTypes.oneOfType([h.default,s.default.PropTypes.func]),onShow:s.default.PropTypes.func,onHide:s.default.PropTypes.func,backdrop:s.default.PropTypes.oneOfType([s.default.PropTypes.bool,s.default.PropTypes.oneOf(["static"])]),onEscapeKeyUp:s.default.PropTypes.func,onBackdropClick:s.default.PropTypes.func,backdropStyle:s.default.PropTypes.object,backdropClassName:s.default.PropTypes.string,containerClassName:s.default.PropTypes.string,keyboard:s.default.PropTypes.bool,transition:d.default,dialogTransitionTimeout:s.default.PropTypes.number,backdropTransitionTimeout:s.default.PropTypes.number,autoFocus:s.default.PropTypes.bool,enforceFocus:s.default.PropTypes.bool,onEnter:s.default.PropTypes.func,onEntering:s.default.PropTypes.func,onEntered:s.default.PropTypes.func,onExit:s.default.PropTypes.func,onExiting:s.default.PropTypes.func,onExited:s.default.PropTypes.func}),getDefaultProps:function(){return{show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,onHide:function(){}}},getInitialState:function(){return{exited:!this.props.show}},render:function(){var t=this.props,e=(t.children,t.transition),n=t.backdrop,i=t.dialogTransitionTimeout,o=r(t,["children","transition","backdrop","dialogTransitionTimeout"]),l=o.onExit,u=o.onExiting,c=o.onEnter,h=o.onEntering,p=o.onEntered,d=!!o.show,f=s.default.Children.only(this.props.children);if(!(d||e&&!this.state.exited))return null;var m=f.props,y=m.role,v=m.tabIndex;return void 0!==y&&void 0!==v||(f=a.cloneElement(f,{role:void 0===y?"document":y,tabIndex:null==v?"-1":v})),e&&(f=s.default.createElement(e,{transitionAppear:!0,unmountOnExit:!0,in:d,timeout:i,onExit:l,onExiting:u,onExited:this.handleHidden,onEnter:c,onEntering:h,onEntered:p},f)),s.default.createElement(g.default,{ref:this.setMountNode,container:o.container},s.default.createElement("div",{ref:"modal",role:o.role||"dialog",style:o.style,className:o.className},n&&this.renderBackdrop(),f))},renderBackdrop:function(){var t=this.props,e=t.transition,n=t.backdropTransitionTimeout,i=s.default.createElement("div",{ref:"backdrop",style:this.props.backdropStyle,className:this.props.backdropClassName,onClick:this.handleBackdropClick});return e&&(i=s.default.createElement(e,{transitionAppear:!0,in:this.props.show,timeout:n},i)),i},componentWillReceiveProps:function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})},componentWillUpdate:function(t){t.show&&this.checkForFocus()},componentDidMount:function(){this.props.show&&this.onShow()},componentDidUpdate:function(t){var e=this.props.transition;!t.show||this.props.show||e?!t.show&&this.props.show&&this.onShow():this.onHide()},componentWillUnmount:function(){var t=this.props,e=t.show,n=t.transition;(e||n&&!this.state.exited)&&this.onHide()},onShow:function(){var t=b.default(this),e=A.default(this.props.container,t.body);P.add(this,e,this.props.containerClassName),this._onDocumentKeyupListener=x.default(t,"keyup",this.handleDocumentKeyUp),this._onFocusinListener=E.default(this.enforceFocus),this.focus(),this.props.onShow&&this.props.onShow()},onHide:function(){P.remove(this),this._onDocumentKeyupListener.remove(),this._onFocusinListener.remove(),this.restoreLastFocus()},setMountNode:function(t){this.mountNode=t?t.getMountNode():t},handleHidden:function(){if(this.setState({exited:!0}),this.onHide(),this.props.onExited){var t;(t=this.props).onExited.apply(t,arguments)}},handleBackdropClick:function(t){t.target===t.currentTarget&&(this.props.onBackdropClick&&this.props.onBackdropClick(t),!0===this.props.backdrop&&this.props.onHide())},handleDocumentKeyUp:function(t){this.props.keyboard&&27===t.keyCode&&this.isTopModal()&&(this.props.onEscapeKeyUp&&this.props.onEscapeKeyUp(t),this.props.onHide())},checkForFocus:function(){C.default&&(this.lastFocus=k.default())},focus:function(){var t=this.props.autoFocus,e=this.getDialogElement(),n=k.default(b.default(this)),i=n&&L.default(e,n);e&&t&&!i&&(this.lastFocus=n,e.hasAttribute("tabIndex")||(e.setAttribute("tabIndex",-1),u.default(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".')),e.focus())},restoreLastFocus:function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},enforceFocus:function(){if(this.props.enforceFocus&&this.isMounted()&&this.isTopModal()){var t=k.default(b.default(this)),e=this.getDialogElement();e&&e!==t&&!L.default(e,t)&&e.focus()}},getDialogElement:function(){var t=this.refs.modal;return t&&t.lastChild},isTopModal:function(){return P.isTopModal(this)}});M.manager=P,e.default=M,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=-1;return t.some(function(t,i){if(e(t,i))return n=i,!0}),n}function a(t,e){return o(t,function(t){return-1!==t.modals.indexOf(e)})}e.__esModule=!0;var s=n(2440),l=i(s),u=n(3074),c=i(u),h=n(3087),p=i(h),d=n(3069),f=i(d),g=n(3070),m=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];r(this,t),this.hideSiblingNodes=e,this.modals=[],this.containers=[],this.data=[]}return t.prototype.add=function(t,e,n){var i=this.modals.indexOf(t),r=this.containers.indexOf(e);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&g.hideSiblings(e,t.mountNode),-1!==r)return this.data[r].modals.push(t),i;var o={modals:[t],classes:n?n.split(/\s+/):[],style:{overflow:e.style.overflow,paddingRight:e.style.paddingRight}},a={overflow:"hidden"};return o.overflowing=f.default(e),o.overflowing&&(a.paddingRight=parseInt(l.default(e,"paddingRight")||0,10)+p.default()+"px"),l.default(e,a),o.classes.forEach(c.default.addClass.bind(null,e)),this.containers.push(e),this.data.push(o),i},t.prototype.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=a(this.data,t),i=this.data[n],r=this.containers[n];i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(e,1),0===i.modals.length?(Object.keys(i.style).forEach(function(t){return r.style[t]=i.style[t]}),i.classes.forEach(c.default.removeClass.bind(null,r)),this.hideSiblingNodes&&g.showSiblings(r,t.mountNode),this.containers.splice(n,1),this.data.splice(n,1)):this.hideSiblingNodes&&g.ariaHidden(!1,i.modals[i.modals.length-1].mountNode)}},t.prototype.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();e.default=m,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(0),u=i(l),c=n(2438),h=i(c),p=n(2568),d=i(p),f=n(3064),g=i(f),m=n(2578),y=i(m),v=function(t){function e(n,i){o(this,e),t.call(this,n,i),this.state={exited:!n.show},this.onHiddenListener=this.handleHidden.bind(this)}return a(e,t),e.prototype.componentWillReceiveProps=function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})},e.prototype.render=function(){var t=this.props,e=t.container,n=t.containerPadding,i=t.target,o=t.placement,a=t.shouldUpdatePosition,s=t.rootClose,l=t.children,c=t.transition,p=r(t,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(p.show||c&&!this.state.exited))return null;var f=l;if(f=u.default.createElement(d.default,{container:e,containerPadding:n,target:i,placement:o,shouldUpdatePosition:a},f),c){var m=p.onExit,y=p.onExiting,v=p.onEnter,b=p.onEntering,w=p.onEntered;f=u.default.createElement(c,{in:p.show,transitionAppear:!0,onExit:m,onExiting:y,onExited:this.onHiddenListener,onEnter:v,onEntering:b,onEntered:w},f)}return s&&(f=u.default.createElement(g.default,{onRootClose:p.onHide},f)),u.default.createElement(h.default,{container:e},f)},e.prototype.handleHidden=function(){if(this.setState({exited:!0}),this.props.onExited){var t;(t=this.props).onExited.apply(t,arguments)}},e}(u.default.Component);v.propTypes=s({},h.default.propTypes,d.default.propTypes,{show:u.default.PropTypes.bool,rootClose:u.default.PropTypes.bool,onHide:function(t,e,n){var i=u.default.PropTypes.func;return t.rootClose&&(i=i.isRequired),i(t,e,n)},transition:y.default,onEnter:u.default.PropTypes.func,onEntering:u.default.PropTypes.func,onEntered:u.default.PropTypes.func,onExit:u.default.PropTypes.func,onExiting:u.default.PropTypes.func,onExited:u.default.PropTypes.func}),e.default=v,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return 0===t.button}function s(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l(){var t=b+"_"+w++;return{id:t,suppressRootClose:function(e){e.nativeEvent[t]=!0}}}e.__esModule=!0;var u=n(0),c=i(u),h=n(43),p=i(h),d=n(2246),f=i(d),g=n(3068),m=i(g),y=n(2190),v=i(y),b="__click_was_inside",w=0,x=function(t){function e(n){r(this,e),t.call(this,n),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this);var i=l(),o=i.id,a=i.suppressRootClose;this._suppressRootId=o,this._suppressRootCloseHandler=a}return o(e,t),e.prototype.bindRootCloseHandlers=function(){var t=v.default(this);this._onDocumentClickListener=f.default(t,"click",this.handleDocumentClick),this._onDocumentKeyupListener=f.default(t,"keyup",this.handleDocumentKeyUp)},e.prototype.handleDocumentClick=function(t){t[this._suppressRootId]||!s(t)&&a(t)&&this.props.onRootClose()},e.prototype.handleDocumentKeyUp=function(t){27===t.keyCode&&this.props.onRootClose()},e.prototype.unbindRootCloseHandlers=function(){this._onDocumentClickListener&&this._onDocumentClickListener.remove(),this._onDocumentKeyupListener&&this._onDocumentKeyupListener.remove()},e.prototype.componentDidMount=function(){this.bindRootCloseHandlers()},e.prototype.render=function(){var t=this.props,e=t.noWrap,n=t.children,i=c.default.Children.only(n);return e?c.default.cloneElement(i,{onClick:m.default(this._suppressRootCloseHandler,i.props.onClick)}):c.default.createElement("div",{onClick:this._suppressRootCloseHandler},i)},e.prototype.getWrappedDOMNode=function(){var t=p.default.findDOMNode(this);return this.props.noWrap?t:t.firstChild},e.prototype.componentWillUnmount=function(){this.unbindRootCloseHandlers()},e}(c.default.Component);e.default=x,x.displayName="RootCloseWrapper",x.propTypes={onRootClose:c.default.PropTypes.func.isRequired,noWrap:c.default.PropTypes.bool},t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){}e.__esModule=!0;var l=Object.assign||function(t){
for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=n(0),c=i(u),h=n(43),p=i(h),d=n(3083),f=i(d),g=n(2572),m=i(g),y=n(10),v=i(y),b=f.default.end,w=0;e.UNMOUNTED=w;var x=1;e.EXITED=x;e.ENTERING=2;var _=3;e.ENTERED=_;e.EXITING=4;var E=function(t){function e(n,i){o(this,e),t.call(this,n,i);var r=void 0;r=n.in?n.transitionAppear?x:_:n.unmountOnExit?w:x,this.state={status:r},this.nextCallback=null}return a(e,t),e.prototype.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},e.prototype.componentWillReceiveProps=function(t){t.in&&this.props.unmountOnExit?this.state.status===w&&this.setState({status:x}):this._needsUpdate=!0},e.prototype.componentDidUpdate=function(){var t=this.state.status;if(this.props.unmountOnExit&&t===x)return void(this.props.in?this.performEnter(this.props):this.setState({status:w}));this._needsUpdate&&(this._needsUpdate=!1,this.props.in?4===t?this.performEnter(this.props):t===x&&this.performEnter(this.props):2!==t&&t!==_||this.performExit(this.props))},e.prototype.componentWillUnmount=function(){this.cancelNextCallback()},e.prototype.performEnter=function(t){var e=this;this.cancelNextCallback();var n=p.default.findDOMNode(this);t.onEnter(n),this.safeSetState({status:2},function(){e.props.onEntering(n),e.onTransitionEnd(n,function(){e.safeSetState({status:_},function(){e.props.onEntered(n)})})})},e.prototype.performExit=function(t){var e=this;this.cancelNextCallback();var n=p.default.findDOMNode(this);t.onExit(n),this.safeSetState({status:4},function(){e.props.onExiting(n),e.onTransitionEnd(n,function(){e.safeSetState({status:x},function(){e.props.onExited(n)})})})},e.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.prototype.safeSetState=function(t,e){this.setState(t,this.setNextCallback(e))},e.prototype.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},e.prototype.onTransitionEnd=function(t,e){this.setNextCallback(e),t?(m.default(t,b,this.nextCallback),setTimeout(this.nextCallback,this.props.timeout)):setTimeout(this.nextCallback,0)},e.prototype.render=function(){var t=this.state.status;if(t===w)return null;var n=this.props,i=n.children,o=n.className,a=r(n,["children","className"]);Object.keys(e.propTypes).forEach(function(t){return delete a[t]});var s=void 0;t===x?s=this.props.exitedClassName:2===t?s=this.props.enteringClassName:t===_?s=this.props.enteredClassName:4===t&&(s=this.props.exitingClassName);var u=c.default.Children.only(i);return c.default.cloneElement(u,l({},a,{className:v.default(u.props.className,o,s)}))},e}(c.default.Component);E.propTypes={in:c.default.PropTypes.bool,unmountOnExit:c.default.PropTypes.bool,transitionAppear:c.default.PropTypes.bool,timeout:c.default.PropTypes.number,exitedClassName:c.default.PropTypes.string,exitingClassName:c.default.PropTypes.string,enteredClassName:c.default.PropTypes.string,enteringClassName:c.default.PropTypes.string,onEnter:c.default.PropTypes.func,onEntering:c.default.PropTypes.func,onEntered:c.default.PropTypes.func,onExit:c.default.PropTypes.func,onExiting:c.default.PropTypes.func,onExited:c.default.PropTypes.func},E.displayName="Transition",E.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:s,onEntering:s,onEntered:s,onExit:s,onExiting:s,onExited:s},e.default=E},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(2567),o=i(r);e.Affix=o.default;var a=n(3060),s=i(a);e.AutoAffix=s.default;var l=n(3061),u=i(l);e.Modal=u.default;var c=n(3063),h=i(c);e.Overlay=h.default;var p=n(2438),d=i(p);e.Portal=d.default;var f=n(2568),g=i(f);e.Position=g.default;var m=n(3065),y=i(m);e.Transition=y.default},function(t,e,n){"use strict";function i(t){var e=!document.addEventListener,n=void 0;return e?(document.attachEvent("onfocusin",t),n=function(){return document.detachEvent("onfocusin",t)}):(document.addEventListener("focus",t,!0),n=function(){return document.removeEventListener("focus",t,!0)}),{remove:n}}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return null!=t}).reduce(function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i),e.apply(this,i)}},null)}e.__esModule=!0,e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return t&&"body"===t.tagName.toLowerCase()}function o(t){var e=c.default(t),n=l.default(e),i=n.innerWidth;if(!i){var r=e.documentElement.getBoundingClientRect();i=r.right-Math.abs(r.left)}return e.body.clientWidth<i}function a(t){return l.default(t)||r(t)?o(t):t.scrollHeight>t.clientHeight}e.__esModule=!0,e.default=a;var s=n(2217),l=i(s),u=n(2204),c=i(u);t.exports=e.default},function(t,e,n){"use strict";function i(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function r(t,e){l(t,e,function(t){return i(!0,t)})}function o(t,e){l(t,e,function(t){return i(!1,t)})}e.__esModule=!0,e.ariaHidden=i,e.hideSiblings=r,e.showSiblings=o;var a=["template","script","style"],s=function(t){var e=t.nodeType,n=t.tagName;return 1===e&&-1===a.indexOf(n.toLowerCase())},l=function(t,e,n){e=[].concat(e),[].forEach.call(t.children,function(t){-1===e.indexOf(t)&&s(t)&&n(t)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){var r=f.getContainerDimensions(n),o=r.scroll,a=r.height,s=t-i-o,l=t+i-o+e;return s<0?-s:l>a?a-l:0}function o(t,e,n,i){var r=f.getContainerDimensions(n),o=r.width,a=t-i,s=t+i+e;return a<0?-a:s>o?o-s:0}e.__esModule=!0;var a=n(2190),s=i(a),l=n(2218),u=i(l),c=n(3079),h=i(c),p=n(2439),d=i(p),f={getContainerDimensions:function(t){var e=void 0,n=void 0,i=void 0;if("BODY"===t.tagName)e=window.innerWidth,n=window.innerHeight,i=d.default(s.default(t).documentElement)||d.default(t);else{var r=u.default(t);e=r.width,n=r.height,i=d.default(t)}return{width:e,height:n,scroll:i}},getPosition:function(t,e){return"BODY"===e.tagName?u.default(t):h.default(t,e)},calcOverlayPosition:function(t,e,n,i,a){var s=f.getPosition(n,i),l=u.default(e),c=l.height,h=l.width,p=void 0,d=void 0,g=void 0,m=void 0;if("left"===t||"right"===t){d=s.top+(s.height-c)/2,p="left"===t?s.left-h:s.left+s.width;var y=r(d,c,i,a);d+=y,m=50*(1-2*y/c)+"%",g=void 0}else{if("top"!==t&&"bottom"!==t)throw new Error('calcOverlayPosition(): No such placement of "'+t+'" found.');p=s.left+(s.width-h)/2,d="top"===t?s.top-c:s.top+s.height;var v=o(p,h,i,a);p+=v,g=50*(1-2*v/h)+"%",m=void 0}return{positionLeft:p,positionTop:d,arrowOffsetLeft:g,arrowOffsetTop:m}}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";function i(){var t=void 0===arguments[0]?document:arguments[0];try{return t.activeElement}catch(t){}}var r=n(2219);e.__esModule=!0,e.default=i;var o=n(2204);r.interopRequireDefault(o);t.exports=e.default},function(t,e,n){"use strict";var i=n(2571);t.exports=function(t,e){t.classList?t.classList.add(e):i(t)||(t.className=t.className+" "+e)}},function(t,e,n){"use strict";t.exports={addClass:n(3073),removeClass:n(3075),hasClass:n(2571)}},function(t,e,n){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(t,e,n){"use strict";var i=n(2191),r=function(){};i&&(r=function(){return document.addEventListener?function(t,e,n,i){return t.removeEventListener(e,n,i||!1)}:document.attachEvent?function(t,e,n){return t.detachEvent("on"+e,n)}:void 0}()),t.exports=r},function(t,e,n){"use strict";function i(t){var e=(0,a.default)(t);return e&&e.defaultView||e.parentWindow}var r=n(2219);e.__esModule=!0,e.default=i;var o=n(2204),a=r.interopRequireDefault(o);t.exports=e.default},function(t,e,n){"use strict";var i=n(2218),r=n(2217);t.exports=function(t,e){var n=r(t);return n?n.innerHeight:e?t.clientHeight:i(t).height}},function(t,e,n){"use strict";function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function r(t,e){var n,r={top:0,left:0};return"fixed"===(0,g.default)(t,"position")?n=t.getBoundingClientRect():(e=e||(0,u.default)(t),n=(0,s.default)(t),"html"!==i(e)&&(r=(0,s.default)(e)),r.top+=parseInt((0,g.default)(e,"borderTopWidth"),10)-(0,h.default)(e)||0,r.left+=parseInt((0,g.default)(e,"borderLeftWidth"),10)-(0,d.default)(e)||0),o._extends({},n,{top:n.top-r.top-(parseInt((0,g.default)(t,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,g.default)(t,"marginLeft"),10)||0)})}var o=n(2219);e.__esModule=!0,e.default=r;var a=n(2218),s=o.interopRequireDefault(a),l=n(2574),u=o.interopRequireDefault(l),c=n(2439),h=o.interopRequireDefault(c),p=n(3080),d=o.interopRequireDefault(p),f=n(2440),g=o.interopRequireDefault(f);t.exports=e.default},function(t,e,n){"use strict";var i=n(2217);t.exports=function(t,e){var n=i(t);if(void 0===e)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:t.scrollLeft;n?n.scrollTo(e,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):t.scrollLeft=e}},function(t,e,n){"use strict";var i=n(2219),r=n(2575),o=i.interopRequireDefault(r),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=function(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function(e){var n=t.style;"float"==(e=(0,o.default)(e))&&(e="styleFloat");var i=t.currentStyle[e]||null;if(null==i&&n&&n[e]&&(i=n[e]),s.test(i)&&!a.test(e)){var r=n.left,l=t.runtimeStyle,u=l&&l.left;u&&(l.left=t.currentStyle.left),n.left="fontSize"===e?"1em":i,i=n.pixelLeft+"px",n.left=r,u&&(l.left=u)}return i}}}},function(t,e,n){"use strict";t.exports=function(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)}},function(t,e,n){"use strict";var i,r,o,a,s=n(2191),l=Object.prototype.hasOwnProperty,u="transform",c={};s&&(c=function(){var t,e="",n={O:"otransitionend",Moz:"transitionend",Webkit:"webkitTransitionEnd",ms:"MSTransitionEnd"},i=document.createElement("div");for(var r in n)if(l.call(n,r)&&void 0!==i.style[r+"TransitionProperty"]){e="-"+r.toLowerCase()+"-",t=n[r];break}return t||void 0===i.style.transitionProperty||(t="transitionend"),{end:t,prefix:e}}(),u=c.prefix+u,o=c.prefix+"transition-property",r=c.prefix+"transition-duration",a=c.prefix+"transition-delay",i=c.prefix+"transition-timing-function"),t.exports={transform:u,end:c.end,property:o,timing:i,delay:a,duration:r}},function(t,e,n){"use strict";var i=/-(.)/g;t.exports=function(t){return t.replace(i,function(t,e){return e.toUpperCase()})}},function(t,e,n){"use strict";var i=/([A-Z])/g;t.exports=function(t){return t.replace(i,"-$1").toLowerCase()}},function(t,e,n){"use strict";var i=n(3085),r=/^ms-/;t.exports=function(t){return i(t).replace(r,"-ms-")}},function(t,e,n){"use strict";var i,r=n(2191);t.exports=function(t){if((!i||t)&&r){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return i}},function(t,e,n){"use strict";var i=function(){};t.exports=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(39),o=(function(t){t&&t.__esModule}(r),function(t){var e=(t.index,t.children);i.Children.count(e)});e.default=o},function(t,e,n){"use strict";function i(t){var e=t.children,n=t.startIndex,i=t.startX,o=t.pageX,s=t.viewLength,l=t.resistance,u=r.Children.count(e)-1,c=n+(i-o)/s,h=void 0;return l?c<0?c=Math.exp(c*a.default.RESISTANCE_COEF)-1:c>u&&(c=u+1-Math.exp((u-c)*a.default.RESISTANCE_COEF)):c<0?(c=0,h=(c-n)*s+o):c>u&&(c=u,h=(c-n)*s+o),{index:c,startX:h}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(0),o=n(2581),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){var n=!1;if(t.children.length&&e.children.length){var i=t.children[t.index],r=i?i.key:"empty";if(null!==r){var o=e.children[e.index];r===(o?o.key:"empty")&&(n=!0)}}return n};e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3090);Object.defineProperty(e,"checkIndexBounds",{enumerable:!0,get:function(){return i(r).default}});var o=n(3091);Object.defineProperty(e,"computeIndex",{enumerable:!0,get:function(){return i(o).default}});var a=n(2581);Object.defineProperty(e,"constant",{enumerable:!0,get:function(){return i(a).default}});var s=n(3092);Object.defineProperty(e,"getDisplaySameSlide",{enumerable:!0,get:function(){return i(s).default}});var l=n(3094);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return i(l).default}})},function(t,e,n){"use strict";function i(t,e){var n=t%e;return n<0?n+e:n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){return(0,D.default)(t,e,n,i),{remove:function(){(0,F.default)(t,e,n,i)}}}function o(){if(!j){var t=document.createElement("style");t.innerHTML="\n      .react-swipeable-view-container {\n        display: -webkit-box;\n      }\n    ",document.body&&document.body.appendChild(t),j=!0}}function a(t,e){return t+" "+e.duration+" "+e.easeFunction+" "+e.delay}function s(t,e){var n=U.rotationMatrix[e];return{pageX:n.x[0]*t.pageX+n.x[1]*t.pageY,pageY:n.y[0]*t.pageX+n.y[1]*t.pageY}}function l(t){return t.touches=[{pageX:t.pageX,pageY:t.pageY}],t}function u(t,e){for(var n=[];t&&t!==e&&!t.hasAttribute("data-swipeable");){var i=window.getComputedStyle(t);"absolute"===i.getPropertyValue("position")||"hidden"===i.getPropertyValue("overflow-x")?n=[]:(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push({element:t,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),t=t.parentNode}return n}function c(t){var e=t.domTreeShapes,n=t.indexCurrent,i=t.index,r=t.axis;return e.some(function(t){var e=i<=n;"x"!==r&&"y"!==r||(e=!e);var o=t[U.scrollPosition[r]],a=o>0,s=o+t[U.clientLength[r]]<t[U.scrollLength[r]];return!!(e&&s||!e&&a)&&(B=t.element,!0)})}Object.defineProperty(e,"__esModule",{value:!0});var h=n(5),p=i(h),d=n(444),f=i(d),g=n(9),m=i(g),y=n(2768),v=i(y),b=n(6),w=i(b),x=n(2769),_=i(x),E=n(8),S=i(E),C=n(7),T=i(C);e.getDomTreeShapes=u,e.findNativeHandler=c;var k=n(0),O=i(k),L=n(4),I=i(L),A=n(39),P=(i(A),n(440)),M=i(P),N=n(203),D=i(N),R=n(285),F=i(R),G=n(3093),j=!1,z={container:{direction:"ltr",display:"flex"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},U={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(t){return"translate("+-t+"%, 0)"},"x-reverse":function(t){return"translate("+t+"%, 0)"},y:function(t){return"translate(0, "+-t+"%)"},"y-reverse":function(t){return"translate(0, "+t+"%)"}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}},B=null,H=function(t){function e(){var t,n,i,r;(0,w.default)(this,e);for(var o=arguments.length,a=Array(o),h=0;h<o;h++)a[h]=arguments[h];return n=i=(0,S.default)(this,(t=e.__proto__||(0,v.default)(e)).call.apply(t,[this].concat(a))),i.state={},i.rootNode=null,i.containerNode=null,i.ignoreNextScrollEvents=!1,i.viewLength=0,i.startX=0,i.lastX=0,i.vx=0,i.startY=0,i.isSwiping=void 0,i.started=!1,i.startIndex=0,i.transitionListener=null,i.touchMoveListener=null,i.activeSlide=null,i.handleSwipeStart=function(t){var e=i.props.axis;if(null!==i.rootNode){var n=s(t.touches[0],e);i.viewLength=i.rootNode.getBoundingClientRect()[U.length[e]],i.startX=n.pageX,i.lastX=n.pageX,i.vx=0,i.startY=n.pageY,i.isSwiping=void 0,i.started=!0;var r=window.getComputedStyle(i.containerNode),o=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform");if(o){var a=o.split("(")[1].split(")")[0].split(","),l=window.getComputedStyle(i.rootNode),u=s({pageX:parseInt(a[4],10),pageY:parseInt(a[5],10)},e);i.startIndex=-u.pageX/(i.viewLength-parseInt(l.paddingLeft,10)-parseInt(l.paddingRight,10))}}},i.handleSwipeMove=function(t){if(!i.started)return void i.handleTouchStart(t);if(null!==i.rootNode&&(null===B||B===i.rootNode)){var e=i.props,n=e.axis,r=e.children,o=e.ignoreNativeScroll,a=e.onSwitching,l=e.resistance,h=s(t.touches[0],n);if(void 0===i.isSwiping){var p=Math.abs(i.startX-h.pageX),d=Math.abs(i.startY-h.pageY),f=p>d&&p>G.constant.UNCERTAINTY_THRESHOLD;if(p>d&&t.preventDefault(),!0===f||d>G.constant.UNCERTAINTY_THRESHOLD)return i.isSwiping=f,void(i.startX=h.pageX)}if(!0===i.isSwiping){t.preventDefault(),i.vx=.5*i.vx+.5*(h.pageX-i.lastX),i.lastX=h.pageX;var g=(0,G.computeIndex)({children:r,resistance:l,pageX:h.pageX,startIndex:i.startIndex,startX:i.startX,viewLength:i.viewLength}),m=g.index,y=g.startX;if(null===B&&!o){if(c({domTreeShapes:u(t.target,i.rootNode),indexCurrent:i.state.indexCurrent,index:m,axis:n}))return}y?i.startX=y:null===B&&(B=i.rootNode),i.setState({displaySameSlide:!1,isDragging:!0,indexCurrent:m},function(){a&&a(m,"move")})}}},i.handleSwipeEnd=function(){if(B=null,i.started&&(i.started=!1,!0===i.isSwiping)){var t=i.state.indexLatest,e=i.state.indexCurrent,n=t-e,r=void 0;r=Math.abs(i.vx)>i.props.threshold?i.vx>0?Math.floor(e):Math.ceil(e):Math.abs(n)>i.props.hysteresis?n>0?Math.floor(e):Math.ceil(e):t;var o=k.Children.count(i.props.children)-1;r<0?r=0:r>o&&(r=o),i.setState({indexCurrent:r,indexLatest:r,isDragging:!1},function(){i.props.onSwitching&&i.props.onSwitching(r,"end"),i.props.onChangeIndex&&r!==t&&i.props.onChangeIndex(r,t),e===t&&i.handleTransitionEnd()})}},i.handleTouchStart=function(t){i.props.onTouchStart&&i.props.onTouchStart(t),i.handleSwipeStart(t)},i.handleTouchEnd=function(t){i.props.onTouchEnd&&i.props.onTouchEnd(t),i.handleSwipeEnd(t)},i.handleMouseDown=function(t){i.props.onMouseDown&&i.props.onMouseDown(t),t.persist(),i.handleSwipeStart(l(t))},i.handleMouseUp=function(t){i.props.onMouseUp&&i.props.onMouseUp(t),i.handleSwipeEnd(l(t))},i.handleMouseLeave=function(t){i.props.onMouseLeave&&i.props.onMouseLeave(t),i.started&&i.handleSwipeEnd(l(t))},i.handleMouseMove=function(t){i.props.onMouseMove&&i.props.onMouseMove(t),i.started&&i.handleSwipeMove(l(t))},i.handleScroll=function(t){if(i.props.onScroll&&i.props.onScroll(t),t.target===i.rootNode){if(i.ignoreNextScrollEvents)return void(i.ignoreNextScrollEvents=!1);var e=i.state.indexLatest,n=Math.ceil(t.target.scrollLeft/t.target.clientWidth)+e;i.ignoreNextScrollEvents=!0,t.target.scrollLeft=0,i.props.onChangeIndex&&n!==e&&i.props.onChangeIndex(n,e)}},r=n,(0,S.default)(i,r)}return(0,T.default)(e,t),(0,_.default)(e,[{key:"getChildContext",value:function(){var t=this;return{swipeableViews:{slideUpdateHeight:function(){t.updateHeight()}}}}},{key:"componentWillMount",value:function(){this.setState({indexCurrent:this.props.index,indexLatest:this.props.index,isDragging:!1,isFirstRender:!0,heightLatest:0})}},{key:"componentDidMount",value:function(){var t=this;this.transitionListener=r(this.containerNode,M.default.end,function(){t.handleTransitionEnd()}),this.touchMoveListener=r(this.rootNode,"touchmove",function(e){t.props.disabled||t.handleSwipeMove(e)},{passive:!1}),this.setState({isFirstRender:!1}),o()}},{key:"componentWillReceiveProps",value:function(t){var e=t.index;"number"==typeof e&&e!==this.props.index&&this.setState({displaySameSlide:(0,G.getDisplaySameSlide)(this.props,t),indexCurrent:e,indexLatest:e})}},{key:"componentDidUpdate",value:function(t,e){this.props.animateTransitions||e.indexCurrent===this.state.indexCurrent||this.handleTransitionEnd()}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove()}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"updateHeight",value:function(){if(null!==this.activeSlide){var t=this.activeSlide.children[0];void 0!==t&&void 0!==t.offsetHeight&&this.state.heightLatest!==t.offsetHeight&&this.setState({heightLatest:t.offsetHeight})}}},{key:"render",value:function(){var t=this,e=this.props,n=e.animateHeight,i=e.animateTransitions,r=e.axis,o=e.children,s=e.containerStyle,l=e.disabled,u=e.enableMouseEvents,c=(e.hysteresis,e.ignoreNativeScroll,e.index,e.onChangeIndex,e.onSwitching,e.onTransitionEnd,e.resistance,e.slideStyle),h=e.slideClassName,d=e.springConfig,g=e.style,y=(e.threshold,(0,m.default)(e,["animateHeight","animateTransitions","axis","children","containerStyle","disabled","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),v=this.state,b=v.displaySameSlide,w=v.heightLatest,x=v.indexCurrent,_=v.isDragging,E=v.isFirstRender,S=l?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},C=!l&&u?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},T=(0,f.default)({},z.slide,c),L=void 0,I=void 0;if(_||!i||b)L="all 0s ease 0s",I="all 0s ease 0s";else if(L=a("transform",d),I=a("-webkit-transform",d),0!==w){var A=", "+a("height",d);L+=A,I+=A}var P=U.transform[r](100*x),M={WebkitTransform:P,transform:P,height:null,WebkitFlexDirection:U.flexDirection[r],flexDirection:U.flexDirection[r],WebkitTransition:I,transition:L};return n&&(M.height=w),O.default.createElement("div",(0,p.default)({ref:function(e){t.rootNode=e},style:(0,f.default)({},U.root[r],g)},y,S,C,{onScroll:this.handleScroll}),O.default.createElement("div",{ref:function(e){t.containerNode=e},style:(0,f.default)({},M,z.container,s),className:"react-swipeable-view-container"},k.Children.map(o,function(e,i){if(E&&i>0)return null;var r=void 0,o=!0;return i===t.state.indexLatest&&(o=!1,n&&(r=function(e){t.activeSlide=e,t.updateHeight()},T.overflowY="hidden")),O.default.createElement("div",{ref:r,style:T,className:h,"aria-hidden":o,"data-swipeable":"true"},e)})))}}]),e}(k.Component);H.displayName="ReactSwipableView",H.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},H.childContextTypes={swipeableViews:I.default.shape({slideUpdateHeight:I.default.func})},e.default=H},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3095),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l=n(0),u=i(l),c=n(4),h=i(c),p=n(2582),d=i(p),f=n(3098),g=i(f),m=n(2583),y={transitionName:m.nameShape.isRequired,transitionAppear:h.default.bool,transitionEnter:h.default.bool,transitionLeave:h.default.bool,transitionAppearTimeout:(0,m.transitionTimeout)("Appear"),transitionEnterTimeout:(0,m.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,m.transitionTimeout)("Leave")},v={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},b=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=o(this,t.call.apply(t,[this].concat(l))),i._wrapChild=function(t){return u.default.createElement(g.default,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},t)},a=n,o(i,a)}return a(e,t),e.prototype.render=function(){return u.default.createElement(d.default,s({},this.props,{childFactory:this._wrapChild}))},e}(u.default.Component);b.displayName="CSSTransitionGroup",b.propTypes=y,b.defaultProps=v,e.default=b,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return _.length?_.forEach(function(n){return t.addEventListener(n,e,!1)}):setTimeout(e,0),function(){_.length&&_.forEach(function(n){return t.removeEventListener(n,e,!1)})}}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=n(876),c=i(u),h=n(877),p=i(h),d=n(2468),f=i(d),g=n(440),m=n(0),y=i(m),v=n(4),b=i(v),w=n(43),x=n(2583),_=[];g.transitionEnd&&_.push(g.transitionEnd),g.animationEnd&&_.push(g.animationEnd);var E={children:b.default.node,name:x.nameShape.isRequired,appear:b.default.bool,enter:b.default.bool,leave:b.default.bool,appearTimeout:b.default.number,enterTimeout:b.default.number,leaveTimeout:b.default.number},S=function(t){function e(){var n,i,a;r(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,t.call.apply(t,[this].concat(l))),i.componentWillAppear=function(t){i.props.appear?i.transition("appear",t,i.props.appearTimeout):t()},i.componentWillEnter=function(t){i.props.enter?i.transition("enter",t,i.props.enterTimeout):t()},i.componentWillLeave=function(t){i.props.leave?i.transition("leave",t,i.props.leaveTimeout):t()},a=n,o(i,a)}return a(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,n){var i=(0,w.findDOMNode)(this);if(!i)return void(e&&e());var r=this.props.name[t]||this.props.name+"-"+t,o=this.props.name[t+"Active"]||r+"-active",a=null,l=void 0;(0,c.default)(i,r),this.queueClassAndNode(o,i);var u=function(t){t&&t.target!==i||(clearTimeout(a),l&&l(),(0,p.default)(i,r),(0,p.default)(i,o),l&&l(),e&&e())};n?(a=setTimeout(u,n),this.transitionTimeouts.push(a)):g.transitionEnd&&(l=s(i,u))},e.prototype.queueClassAndNode=function(t,e){var n=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,f.default)(function(){return n.flushClassNameAndNodeQueue()}))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(t){t.node.scrollTop,(0,c.default)(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=l({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,y.default.cloneElement(y.default.Children.only(this.props.children),t)},e}(y.default.Component);S.displayName="CSSTransitionGroupChild",S.propTypes=E,e.default=S,t.exports=e.default},function(t,e,n){"use strict";function i(t){if(!t)return t;var e={};return o.Children.map(t,function(t){return t}).forEach(function(t){e[t.key]=t}),e}function r(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var i={},r=[];for(var o in t)e.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a=void 0,s={};for(var l in e){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var u=i[l][a];s[i[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=r;var o=n(0)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){function n(t){return parseFloat(t)||0}function i(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return e.reduce(function(e,i){return e+n(t["border-"+i+"-width"])},0)}function r(t){for(var e=["top","right","bottom","left"],i={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=t["padding-"+a];i[a]=n(s)}return i}function o(t){var e=t.getBBox();return c(0,0,e.width,e.height)}function a(t){var e=t.clientWidth,o=t.clientHeight;if(!e&&!o)return _;var a=x(t).getComputedStyle(t),l=r(a),u=l.left+l.right,h=l.top+l.bottom,p=n(a.width),d=n(a.height);if("border-box"===a.boxSizing&&(Math.round(p+u)!==e&&(p-=i(a,"left","right")+u),Math.round(d+h)!==o&&(d-=i(a,"top","bottom")+h)),!s(t)){var f=Math.round(p+u)-e,g=Math.round(d+h)-o;1!==Math.abs(f)&&(p-=f),1!==Math.abs(g)&&(d-=g)}return c(l.left,l.top,p,d)}function s(t){return t===x(t).document.documentElement}function l(t){return p?E(t)?o(t):a(t):_}function u(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return w(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function c(t,e,n,i){return{x:t,y:e,width:n,height:i}}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},
e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=null);for(var i=0,r=n.__entries__;i<r.length;i+=1){var o=r[i];t.call(e,o[1],o[0])}},Object.defineProperties(e.prototype,n),e}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,d=function(){return void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),f=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(d):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),g=2,m=function(t,e){function n(){o&&(o=!1,t()),a&&r()}function i(){f(n)}function r(){var t=Date.now();if(o){if(t-s<g)return;a=!0}else o=!0,a=!1,setTimeout(i,e);s=t}var o=!1,a=!1,s=0;return r},y=["top","right","bottom","left","width","height","size","weight"],v="undefined"!=typeof MutationObserver,b=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=m(this.refresh.bind(this),20)};b.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},b.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},b.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},b.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),v?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),y.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null;var w=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n+=1){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},x=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||d},_=c(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof x(t).SVGGraphicsElement}:function(t){return t instanceof x(t).SVGElement&&"function"==typeof t.getBBox}}(),S=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=t};S.prototype.isActive=function(){var t=l(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var C=function(t,e){var n=u(e);w(this,{target:t,contentRect:n})},T=function(t,e,n){if(this.activeObservations_=[],this.observations_=new h,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};T.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof x(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new S(t)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof x(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},T.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new C(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return this.activeObservations_.length>0};var k="undefined"!=typeof WeakMap?new WeakMap:new h,O=function(t){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=b.getInstance(),n=new T(t,e,this);k.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){O.prototype[t]=function(){return(e=k.get(this))[t].apply(e,arguments);var e}});var L=function(){return void 0!==d.ResizeObserver?d.ResizeObserver:O}();e.default=L}).call(e,n(15))},function(t,e){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in e){for(i=0;i<t.length;i++)o[n[0][i]]=t[i];return o}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(t){return new Promise(function(n){var o=r.requestFullscreen,a=function(){this.off("change",a),n()}.bind(this);t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[o]():t[o](i?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",a)}.bind(this))},exit:function(){return new Promise(function(t){var n=function(){this.off("change",n),t()}.bind(this);e[r.exitFullscreen](),this.on("change",n)}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var i=o[t];i&&e.addEventListener(i,n,!1)},off:function(t,n){var i=o[t];i&&e.removeEventListener(i,n,!1)},raw:r};if(!r)return void(n?t.exports=!1:window.screenfull=!1);Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[r.fullscreenEnabled])}}}),n?t.exports=a:window.screenfull=a}()},,,,,function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},e.decode=function(t){return 65<=t&&t<=90?t-65:97<=t&&t<=122?t-97+26:48<=t&&t<=57?t-48+52:43==t?62:47==t?63:-1}},function(t,e){function n(t,i,r,o,a,s){var l=Math.floor((i-t)/2)+t,u=a(r,o[l],!0);return 0===u?l:u>0?i-l>1?n(l,i,r,o,a,s):s==e.LEAST_UPPER_BOUND?i<o.length?i:-1:l:l-t>1?n(t,l,r,o,a,s):s==e.LEAST_UPPER_BOUND?l:t<0?-1:t}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,i,r,o){if(0===i.length)return-1;var a=n(-1,i.length,t,i,r,o||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===r(i[a],i[a-1],!0);)--a;return a}},function(t,e,n){function i(t,e){var n=t.generatedLine,i=e.generatedLine,r=t.generatedColumn,a=e.generatedColumn;return i>n||i==n&&a>=r||o.compareByGeneratedPositionsInflated(t,e)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var o=n(2223);r.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},r.prototype.add=function(t){i(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=r},function(t,e){function n(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function i(t,e){return Math.round(t+Math.random()*(e-t))}function r(t,e,o,a){if(o<a){var s=i(o,a),l=o-1;n(t,s,a);for(var u=t[a],c=o;c<a;c++)e(t[c],u)<=0&&(l+=1,n(t,l,c));n(t,l+1,c);var h=l+1;r(t,e,o,h-1),r(t,e,h+1,a)}}e.quickSort=function(t,e){r(t,e,0,t.length-1)}},function(t,e,n){function i(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,""))),null!=e.sections?new a(e):new r(e)}function r(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=s.getArg(e,"version"),i=s.getArg(e,"sources"),r=s.getArg(e,"names",[]),o=s.getArg(e,"sourceRoot",null),a=s.getArg(e,"sourcesContent",null),l=s.getArg(e,"mappings"),c=s.getArg(e,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(s.normalize).map(function(t){return o&&s.isAbsolute(o)&&s.isAbsolute(t)?s.relative(o,t):t}),this._names=u.fromArray(r.map(String),!0),this._sources=u.fromArray(i,!0),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this.file=c}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=s.getArg(e,"version"),r=s.getArg(e,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new u,this._names=new u;var o={line:-1,column:0};this._sections=r.map(function(t){if(t.url)throw new Error("Support for url field in sections not implemented.");var e=s.getArg(t,"offset"),n=s.getArg(e,"line"),r=s.getArg(e,"column");if(n<o.line||n===o.line&&r<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=e,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new i(s.getArg(t,"map"))}})}var s=n(2223),l=n(3133),u=n(2593).ArraySet,c=n(2594),h=n(3135).quickSort;i.fromSourceMap=function(t){return r.fromSourceMap(t)},i.prototype._version=3,i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),i.prototype._charIsMappingSeparator=function(t,e){var n=t.charAt(e);return";"===n||","===n},i.prototype._parseMappings=function(t,e){throw new Error("Subclasses must implement _parseMappings")},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,i.prototype.eachMapping=function(t,e,n){var r,o=e||null,a=n||i.GENERATED_ORDER;switch(a){case i.GENERATED_ORDER:r=this._generatedMappings;break;case i.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;r.map(function(t){var e=null===t.source?null:this._sources.at(t.source);return null!=e&&null!=l&&(e=s.join(l,e)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}},this).forEach(t,o)},i.prototype.allGeneratedPositionsFor=function(t){var e=s.getArg(t,"line"),n={source:s.getArg(t,"source"),originalLine:e,originalColumn:s.getArg(t,"column",0)};if(null!=this.sourceRoot&&(n.source=s.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var i=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,l.LEAST_UPPER_BOUND);if(r>=0){var o=this._originalMappings[r];if(void 0===t.column)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r];else for(var u=o.originalColumn;o&&o.originalLine===e&&o.originalColumn==u;)i.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++r]}return i},e.SourceMapConsumer=i,r.prototype=Object.create(i.prototype),r.prototype.consumer=i,r.fromSourceMap=function(t){var e=Object.create(r.prototype),n=e._names=u.fromArray(t._names.toArray(),!0),i=e._sources=u.fromArray(t._sources.toArray(),!0);e.sourceRoot=t._sourceRoot,e.sourcesContent=t._generateSourcesContent(e._sources.toArray(),e.sourceRoot),e.file=t._file;for(var a=t._mappings.toArray().slice(),l=e.__generatedMappings=[],c=e.__originalMappings=[],p=0,d=a.length;p<d;p++){var f=a[p],g=new o;g.generatedLine=f.generatedLine,g.generatedColumn=f.generatedColumn,f.source&&(g.source=i.indexOf(f.source),g.originalLine=f.originalLine,g.originalColumn=f.originalColumn,f.name&&(g.name=n.indexOf(f.name)),c.push(g)),l.push(g)}return h(e.__originalMappings,s.compareByOriginalPositions),e},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._sources.toArray().map(function(t){return null!=this.sourceRoot?s.join(this.sourceRoot,t):t},this)}}),r.prototype._parseMappings=function(t,e){for(var n,i,r,a,l,u=1,p=0,d=0,f=0,g=0,m=0,y=t.length,v=0,b={},w={},x=[],_=[];v<y;)if(";"===t.charAt(v))u++,v++,p=0;else if(","===t.charAt(v))v++;else{for(n=new o,n.generatedLine=u,a=v;a<y&&!this._charIsMappingSeparator(t,a);a++);if(i=t.slice(v,a),r=b[i])v+=i.length;else{for(r=[];v<a;)c.decode(t,v,w),l=w.value,v=w.rest,r.push(l);if(2===r.length)throw new Error("Found a source, but no line and column");if(3===r.length)throw new Error("Found a source and line, but no column");b[i]=r}n.generatedColumn=p+r[0],p=n.generatedColumn,r.length>1&&(n.source=g+r[1],g+=r[1],n.originalLine=d+r[2],d=n.originalLine,n.originalLine+=1,n.originalColumn=f+r[3],f=n.originalColumn,r.length>4&&(n.name=m+r[4],m+=r[4])),_.push(n),"number"==typeof n.originalLine&&x.push(n)}h(_,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,h(x,s.compareByOriginalPositions),this.__originalMappings=x},r.prototype._findMapping=function(t,e,n,i,r,o){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return l.search(t,e,r,o)},r.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var e=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(e.generatedLine===n.generatedLine){e.lastGeneratedColumn=n.generatedColumn-1;continue}}e.lastGeneratedColumn=1/0}},r.prototype.originalPositionFor=function(t){var e={generatedLine:s.getArg(t,"line"),generatedColumn:s.getArg(t,"column")},n=this._findMapping(e,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(t,"bias",i.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===e.generatedLine){var o=s.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=s.join(this.sourceRoot,o)));var a=s.getArg(r,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:s.getArg(r,"originalLine",null),column:s.getArg(r,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return null==t}))},r.prototype.sourceContentFor=function(t,e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];var n;if(null!=this.sourceRoot&&(n=s.urlParse(this.sourceRoot))){var i=t.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(t){var e=s.getArg(t,"source");if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),!this._sources.has(e))return{line:null,column:null,lastColumn:null};e=this._sources.indexOf(e);var n={source:e,originalLine:s.getArg(t,"line"),originalColumn:s.getArg(t,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(t,"bias",i.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=r,a.prototype=Object.create(i.prototype),a.prototype.constructor=i,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}}),a.prototype.originalPositionFor=function(t){var e={generatedLine:s.getArg(t,"line"),generatedColumn:s.getArg(t,"column")},n=l.search(e,this._sections,function(t,e){var n=t.generatedLine-e.generatedOffset.generatedLine;return n||t.generatedColumn-e.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:e.generatedLine-(i.generatedOffset.generatedLine-1),column:e.generatedColumn-(i.generatedOffset.generatedLine===e.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(t,e){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],r=i.consumer.sourceContentFor(t,!0);if(r)return r}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(t){for(var e=0;e<this._sections.length;e++){var n=this._sections[e];if(-1!==n.consumer.sources.indexOf(s.getArg(t,"source"))){var i=n.consumer.generatedPositionFor(t);if(i){return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},a.prototype._parseMappings=function(t,e){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],r=i.consumer._generatedMappings,o=0;o<r.length;o++){var a=r[o],l=i.consumer._sources.at(a.source);null!==i.consumer.sourceRoot&&(l=s.join(i.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var u=i.consumer._names.at(a.name);this._names.add(u),u=this._names.indexOf(u);var c={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}h(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),h(this.__originalMappings,s.compareByOriginalPositions)},e.IndexedSourceMapConsumer=a},function(t,e,n){function i(t,e,n,i,r){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==e?null:e,this.source=null==n?null:n,this.name=null==r?null:r,this[s]=!0,null!=i&&this.add(i)}var r=n(2595).SourceMapGenerator,o=n(2223),a=/(\r?\n)/,s="$$$isSourceNode$$$";i.fromStringWithSourceMap=function(t,e,n){function r(t,e){if(null===t||void 0===t.source)s.add(e);else{var r=n?o.join(n,t.source):t.source;s.add(new i(t.originalLine,t.originalColumn,r,e,t.name))}}var s=new i,l=t.split(a),u=0,c=function(){function t(){return u<l.length?l[u++]:void 0}return t()+(t()||"")},h=1,p=0,d=null;return e.eachMapping(function(t){if(null!==d){if(!(h<t.generatedLine)){var e=l[u],n=e.substr(0,t.generatedColumn-p);return l[u]=e.substr(t.generatedColumn-p),p=t.generatedColumn,r(d,n),void(d=t)}r(d,c()),h++,p=0}for(;h<t.generatedLine;)s.add(c()),h++;if(p<t.generatedColumn){var e=l[u];s.add(e.substr(0,t.generatedColumn)),l[u]=e.substr(t.generatedColumn),p=t.generatedColumn}d=t},this),u<l.length&&(d&&r(d,c()),s.add(l.splice(u).join(""))),e.sources.forEach(function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=o.join(n,t)),s.setSourceContent(t,i))}),s},i.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(t){this.add(t)},this);else{if(!t[s]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},i.prototype.prepend=function(t){if(Array.isArray(t))for(var e=t.length-1;e>=0;e--)this.prepend(t[e]);else{if(!t[s]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},i.prototype.walk=function(t){for(var e,n=0,i=this.children.length;n<i;n++)e=this.children[n],e[s]?e.walk(t):""!==e&&t(e,{source:this.source,line:this.line,column:this.column,name:this.name})},i.prototype.join=function(t){var e,n,i=this.children.length;if(i>0){for(e=[],n=0;n<i-1;n++)e.push(this.children[n]),e.push(t);e.push(this.children[n]),this.children=e}return this},i.prototype.replaceRight=function(t,e){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(t,e):"string"==typeof n?this.children[this.children.length-1]=n.replace(t,e):this.children.push("".replace(t,e)),this},i.prototype.setSourceContent=function(t,e){this.sourceContents[o.toSetString(t)]=e},i.prototype.walkSourceContents=function(t){for(var e=0,n=this.children.length;e<n;e++)this.children[e][s]&&this.children[e].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),e=0,n=i.length;e<n;e++)t(o.fromSetString(i[e]),this.sourceContents[i[e]])},i.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},i.prototype.toStringWithSourceMap=function(t){var e={code:"",line:1,column:0},n=new r(t),i=!1,o=null,a=null,s=null,l=null;return this.walk(function(t,r){e.code+=t,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&a===r.line&&s===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:e.line,column:e.column},name:r.name}),o=r.source,a=r.line,s=r.column,l=r.name,i=!0):i&&(n.addMapping({generated:{line:e.line,column:e.column}}),o=null,i=!1);for(var u=0,c=t.length;u<c;u++)10===t.charCodeAt(u)?(e.line++,e.column=0,u+1===c?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:e.line,column:e.column},name:r.name})):e.column++}),this.walkSourceContents(function(t,e){n.setSourceContent(t,e)}),{code:e.code,map:n}},e.SourceNode=i},function(t,e,n){e.SourceMapGenerator=n(2595).SourceMapGenerator,e.SourceMapConsumer=n(3136).SourceMapConsumer,e.SourceNode=n(3137).SourceNode},function(t,e,n){var i=n(2776);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2777);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2778);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2779);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2780);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2781);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2782);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2783);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2784);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2785);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2786);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2787);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2788);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2789);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2790);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2791);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2793);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2794);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2795);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2796);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2797);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},,,function(t,e,n){var i=n(2798);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2799);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2800);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2801);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2802);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2803);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2804);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2805);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2806);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2807);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2808);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2809);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(2810);"string"==typeof i&&(i=[[t.i,i,""]]);n(856)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,n){function i(t,e){var n=new a.io.GeoJSONReader,i=n.read(t.geometry),r=i.buffer(e);return r=(new a.io.GeoJSONWriter).write(r),{type:"Feature",geometry:r,properties:{}}}var r=n(165),o=r.featureCollection,a=n(2469),s=n(2942);t.exports=function(t,e,n){var a=r.distanceToDegrees(e,n),l=s(t),u=s(o(l.features.map(function(t){return i(t,a)})));return u.features.length>1?u:1===u.features.length?u.features[0]:void 0}},function(t,e,n){var i=n(2469);t.exports=function(t,e){var n,r;n="Feature"===t.type?t.geometry:t,r="Feature"===e.type?e.geometry:e;var o=new i.io.GeoJSONReader,a=o.read(JSON.stringify(n)),s=o.read(JSON.stringify(r)),l=a.intersection(s);if(!l.isEmpty()){return{type:"Feature",properties:{},geometry:(new i.io.GeoJSONWriter).write(l)}}}},function(t,e,n){t.exports=n.p+"MapStore2/web/client/components/background/img/dafault.jpg"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},function(t,e,n){t.exports=n.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},function(t,e,n){
t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},function(t,e,n){t.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},function(t,e,n){t.exports=n.p+"node_modules/leaflet-extra-markers/dist/img/markers_default.png"},function(t,e,n){t.exports=n.p+"node_modules/leaflet-extra-markers/dist/img/markers_default@2x.png"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAgCAYAAACvgw7DAAAFhElEQVR42tWZ/0ubVxSHZZQxpJQRwoqEUkJQQhlBCcEiQRGJiKFEQqQ4lKFYLA5FsSjKioqipRutbLJ2f627g+dyDmfvqfetzlLh+aFpcr88+dxzb+7bdwt/33wG974g/rhu+pdzwt86fJdA/82w7Un/18m6kRBXgD+5+4YHDt/fEtImfRppVlJ+MY4QEWEmbyZZUBQVP2TwMJGBDMx7aFP6K4gwJBlBecVYISIDCSJAJm0mUIJH8NhQdqjkh8/SNv2VRB6SjCAtJ2dKMGuFIEIEMHGZ2CAMQdXwxPDjNdQ++f+0Q9tD9F1RkgYYLwlCDmIg19IhJQiRVJToFAlMViYxHBiBOjQyGP0ETzMw76Ed+qC/YSVrSAkqiRySo1IjAnwkKSKlQKMIQQYS4sQZ/Bg0A+MwYZg0TKViPjeh+mjS72iUhKCqyCE5pCZdDEmxUmjwURQSZSCiqSbXCkwHZmAW2g7PEmkbZml/mj6nlKgm42rE9DDushHzQGpNohjefB8pD2NK6GSEjscZ1AyD7QTmAt1AD+YVz/Mjn6e9LswB0pCEICVnhFQPIabEfAoiJj0xkhaWj5LSoNMW39ocA14I/BRYCvwMy58NbdDe4r9twwLCEIUcEoSYCbWkhqk1g0lLyTv92bTQUBkpdZWSDoNbZAKrgbXAy8B64JdE1jN4SVsvAquwokUhaJ70dNTyaiEmLqUaYiqUArZu0qLF+EdjOa/wwWKsK2r5tPiGFhjoGhPcCmwHdgKvEtlRbMNWYDOwQbtIEjlGDIlhKUmNqZOWKuOPW3bRSct1iUGMbM2PabxBp20GtMygt5jkfuAg8DpwaOF1y6+BA9iDXdpDEoKQQ79LLKv5mBZVX8ZZQiO66Nqt2jngISFNTJkoPqXjLoOKUvaY5HHgJHDmcAoncBw4UtIOkLtnxJAapEid6aqkTKliW2f5VOPysXUFjJQ0Mf1KTAXzTb6VeeK8wQQOmeibwNvA7xn8xv+95X3nyIqCDiU9iGFJUXPWkLKo6krbLJ2GpIQdiJoiy8dJyg3E1IjoDDvCCgPfZ3LnCHgf+MNwwevveE+UE1N0RGKilJ0MIUv021Vb86QIYefJJUSkXF1d4eS6rdoXM0uUV5nA6ygFCZeBDxpe+1MEkSBJzbESs6uWzwu+gEWzdFpIidtxzWzHck5h6fgpETHI8cWYGlOMW7VKzEKWGCb/V+Bj4G/4wGtRzDsSc07SjjKSsqaEPFdCpkWIpMQc9UmJCLEXVVaGFXPP4G/XUnybjpg3TPhSS4GPKjHvVVJOY10hJduxyKpa0gt01Nlk3JxkbXEt+j8OBREhpIgRORzw6LiqdqUexXeTb/qUFFzE1MAly4vaQkpYNrHAqh1nSS2Ztl0yJiFsvyYhbh0RHDH+UvJSw7cxqM4xc9SZdbUrnaniewEiRBJyoBKyniGk4y8ZOY+kLhn4z19+MYLcw8ghr0ZqppnEMpPbZUmcIOAMTA1hubDTILenziKT5nBmt92B9G1XhOQQk3iliRgGU+JbqzOBttqdNkUOp1451e5LUWXJSFHtaCHebxunqKZJ4d+3LEZ2JwZWYcCjLKlnTHCZFGwgIB7MYjFdUculJwczKaZquVT9c4gUVKeG9P3fYuS3VPaPyRrf7CQ7Ro/0yDWD+qHn7C5j5ug+aO9m7c2+FZLndv/2xPin4BLJqcZf2wiaMbdxs3KzJncjzlWjFFM5lJl0+A/I7lpMX+bdDHKIe1WlZ0zuddXVIjJMMsr21t6mI+8DsbsXQ2pEDqdhuf+tsHM8YfJgbujZZh0Z/W4xNX9fXoz/+8nKKdlnSYqKTYctplYIfC1i7KFPnhwwUXnMah+dioxCsgyEfD1iIPMxrVAQ0p8ZexLuWsw/8PFSG0HPbPgAAAAASUVORK5CYII="},function(t,e,n){function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}var r=n(902),o=n(901);t.exports=i},function(t,e,n){"use strict";!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=85)}([function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}var o=n(86),a=i(o),s=n(43),l=i(s),u=n(4),c=i(u),h=n(1),p=i(h),d=n(3),f=n(126);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,n,i){if(e==t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(g.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return f.v4()},e.assignAllKeys=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"object"!==(0,p.default)(t[n])&&(t[n]=e)},e.fillIfDefined=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==n[o]&&(null===n[o]||"object"!==(0,p.default)(n[o])?r(t,n,o,i):"object"===(0,p.default)(t[o])&&e.fillIfDefined(t[o],n[o],i))},e.extend=function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},e.selectiveExtend=function(t,e,n){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var r=arguments[i],o=0;o<t.length;o++){var a=t[o];r&&r.hasOwnProperty(a)&&(e[a]=r[a])}return e},e.selectiveDeepExtend=function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var a=0;a<t.length;a++){var s=t[a];if(i.hasOwnProperty(s))if(i[s]&&i[s].constructor===Object)void 0===n[s]&&(n[s]={}),n[s].constructor===Object?e.deepExtend(n[s],i[s],!1,o):r(n,i,s,o);else{if(Array.isArray(i[s]))throw new TypeError("Arrays are not supported by deepExtend");r(n,i,s,o)}}return n},e.selectiveNotDeepExtend=function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var a in i)if(i.hasOwnProperty(a)&&-1===t.indexOf(a))if(i[a]&&i[a].constructor===Object)void 0===n[a]&&(n[a]={}),n[a].constructor===Object?e.deepExtend(n[a],i[a]):r(n,i,a,o);else if(Array.isArray(i[a])){n[a]=[];for(var s=0;s<i[a].length;s++)n[a].push(i[a][s])}else r(n,i,a,o);return n},e.deepExtend=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var a in n)if(n.hasOwnProperty(a)||!0===i)if(n[a]&&n[a].constructor===Object)void 0===t[a]&&(t[a]={}),t[a].constructor===Object?e.deepExtend(t[a],n[a],i):r(t,n,a,o);else if(Array.isArray(n[a])){t[a]=[];for(var s=0;s<n[a].length;s++)t[a].push(n[a][s])}else r(t,n,a,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},e.convert=function(t,n){var i;if(void 0!==t){if(null===t)return null;if(!n)return t;if("string"!=typeof n&&!(n instanceof String))throw new Error("Type must be a string");switch(n){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?d(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(d.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return i=g.exec(t),i?new Date(Number(i[1])):d(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return d(t);if(t instanceof Date)return d(t.valueOf());if(d.isMoment(t))return d(t);if(e.isString(t))return i=g.exec(t),d(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(d.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return i=g.exec(t),i?new Date(Number(i[1])).toISOString():d(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return i=g.exec(t),"/Date("+(i?new Date(Number(i[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+n+'"')}}};var g=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,p.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.push(e),n},e.copyArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.concat(i.filter(function(t){return n.indexOf(t)<0})),t.className=n.join(" ")},e.removeClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.filter(function(t){return i.indexOf(t)<0}),t.className=n.join(" ")},e.forEach=function(t,e){var n,i;if(Array.isArray(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},e.toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.updateProperty=function(t,e,n){return t[e]!==n&&(t[e]=n,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,n,i){t.addEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,n,i)):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,n){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":n||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,i){return e+e+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},e.overrideOpacity=function(t,n){var i;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?(i=t.substr(t.indexOf("(")+1).replace(")","").split(","),"rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"):(i=e.hexToRGB(t),null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+n+")")},e.RGBToHex=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},e.parseColor=function(t){var n;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var i=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(i[0],i[1],i[2])}if(!0===e.isValidHex(t)){var r=e.hexToHSV(t),o={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},a={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},s=e.HSVToHex(a.h,a.s,a.v),l=e.HSVToHex(o.h,o.s,o.v);n={background:t,border:s,highlight:{background:l,border:s},hover:{background:l,border:s}}}else n={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else n={},n.background=t.background||void 0,n.border=t.border||void 0,e.isString(t.highlight)?n.highlight={border:t.highlight,background:t.highlight}:(n.highlight={},n.highlight.background=t.highlight&&t.highlight.background||void 0,n.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?n.hover={border:t.hover,background:t.hover}:(n.hover={},n.hover.background=t.hover&&t.hover.background||void 0,n.hover.border=t.hover&&t.hover.border||void 0);return n},e.RGBToHSV=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),r=Math.max(t,Math.max(e,n));if(i==r)return{h:0,s:0,v:i};var o=t==i?e-n:n==i?t-e:n-t;return{h:60*((t==i?3:n==i?1:5)-o/(r-i))/360,s:(r-i)/r,v:r}};var m={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var n=t.split(":"),i=n[0].trim(),r=n[1].trim();e[i]=r}}),e},join:function(t){return(0,c.default)(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,n){var i=m.split(t.style.cssText),r=m.split(n),o=e.extend(i,r);t.style.cssText=m.join(o)},e.removeCssText=function(t,e){var n=m.split(t.style.cssText),i=m.split(e);for(var r in i)i.hasOwnProperty(r)&&delete n[r];t.style.cssText=m.join(n)},e.HSVToRGB=function(t,e,n){var i,r,o,a=Math.floor(6*t),s=6*t-a,l=n*(1-e),u=n*(1-s*e),c=n*(1-(1-s)*e);switch(a%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}},e.HSVToHex=function(t,n,i){var r=e.HSVToRGB(t,n,i);return e.RGBToHex(r.r,r.g,r.b)},e.hexToHSV=function(t){var n=e.hexToRGB(t);return e.RGBToHSV(n.r,n.g,n.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,n){if(null!==n&&"object"===(void 0===n?"undefined":(0,p.default)(n))){for(var i=(0,l.default)(n),r=0;r<t.length;r++)n.hasOwnProperty(t[r])&&"object"==(0,p.default)(n[t[r]])&&(i[t[r]]=e.bridgeObject(n[t[r]]));return i}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,p.default)(t))){var n=(0,l.default)(t);if(t instanceof Element)n=t;else{n=(0,l.default)(t);for(var i in t)t.hasOwnProperty(i)&&"object"==(0,p.default)(t[i])&&(n[i]=e.bridgeObject(t[i]))}return n}return null},e.insertSort=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n],r=n;r>0&&e(i,t[r-1])<0;r--)t[r]=t[r-1];t[r]=i}return t},e.mergeOptions=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!==t&&void 0!==t},o=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,p.default)(t))};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=e[n],s=o(i)&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(i),u=s?i[n]:void 0,c=u?u.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return o(t[n])||(t[n]={}),void(t[n].enabled=a);if(null===a&&!o(t[n])){if(!r(u))return;t[n]=(0,l.default)(u)}if(o(a)){var h=!0;void 0!==a.enabled?h=a.enabled:void 0!==c&&(h=u.enabled),function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])}(t,e,n),t[n].enabled=h}}},e.binarySearchCustom=function(t,e,n,i){for(var r=0,o=0,a=t.length-1;o<=a&&r<1e4;){var s=Math.floor((o+a)/2),l=t[s],u=void 0===i?l[n]:l[n][i],c=e(u);if(0==c)return s;-1==c?o=s+1:a=s-1,r++}return-1},e.binarySearchValue=function(t,e,n,i,r){var o,a,s,l,u=0,c=0,h=t.length-1;for(r=void 0!=r?r:function(t,e){return t==e?0:t<e?-1:1};c<=h&&u<1e4;){if(l=Math.floor(.5*(h+c)),o=t[Math.max(0,l-1)][n],a=t[l][n],s=t[Math.min(t.length-1,l+1)][n],0==r(a,e))return l;if(r(o,e)<0&&r(a,e)>0)return"before"==i?Math.max(0,l-1):l;if(r(a,e)<0&&r(s,e)>0)return"before"==i?l:Math.min(t.length-1,l+1);r(a,e)<0?c=l+1:h=l-1,u++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i},e.topMost=function(t,e){var n=void 0;Array.isArray(e)||(e=[e]);var i=!0,r=!1,o=void 0;try{for(var s,l=(0,a.default)(t);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u){n=u[e[0]];for(var c=1;c<e.length;c++)n&&(n=n[e[c]]);if(void 0!==n)break}}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(110),o=i(r),a=n(112),s=i(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports="undefined"!=typeof window&&window.moment||n(123)},function(t,e,n){t.exports={default:n(107),__esModule:!0}},function(t,e,n){function i(t,e){this.options=null,this.props=null}var r=n(0);i.prototype.setOptions=function(t){t&&r.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(40)("wks"),r=n(27),o=n(6).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(18),r=n(57),o=n(36),a=Object.defineProperty;e.f=n(9)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var n=0;n<t[e].redundant.length;n++)t[e].redundant[n].parentNode.removeChild(t[e].redundant[n]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,n){var i;return e.hasOwnProperty(t)?e[t].redundant.length>0?(i=e[t].redundant[0],e[t].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",t),n.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},n.appendChild(i)),e[t].used.push(i),i},e.getDOMElement=function(t,e,n,i){var r;return e.hasOwnProperty(t)?e[t].redundant.length>0?(r=e[t].redundant[0],e[t].redundant.shift()):(r=document.createElement(t),void 0!==i?n.insertBefore(r,i):n.appendChild(r)):(r=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==i?n.insertBefore(r,i):n.appendChild(r)),e[t].used.push(r),r},e.drawPoint=function(t,n,i,r,o,a){var s;if("circle"==i.style?(s=e.getSVGElement("circle",r,o),s.setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",n),s.setAttributeNS(null,"r",.5*i.size)):(s=e.getSVGElement("rect",r,o),s.setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",n-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),a){var l=e.getSVGElement("text",r,o);a.xOffset&&(t+=a.xOffset),a.yOffset&&(n+=a.yOffset),a.content&&(l.textContent=a.content),a.className&&l.setAttributeNS(null,"class",a.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",n)}return s},e.drawBar=function(t,n,i,r,o,a,s,l){if(0!=r){r<0&&(r*=-1,n-=r);var u=e.getSVGElement("rect",a,s);u.setAttributeNS(null,"x",t-.5*i),u.setAttributeNS(null,"y",n),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",r),u.setAttributeNS(null,"class",o),l&&u.setAttributeNS(null,"style",l)}}},function(t,e,n){function i(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(e){return{set:t}}}}if("undefined"!=typeof window){var r=n(130),o=window.Hammer||n(131);t.exports=r(o,{preventDefault:"mouse"})}else t.exports=function(){return i()}},function(t,e,n){var i=n(91),r=n(34);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(8),r=n(25);t.exports=n(9)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n=(0,c.default)(this._options.type),i=0,r=n.length;i<r;i++){var o=n[i],a=this._options.type[o];this._type[o]="Date"==a||"ISODate"==a||"ASPDate"==a?"Date":a}this._subscribers={},t&&this.add(t),this.setOptions(e)}var o=n(16),a=i(o),s=n(1),l=i(s),u=n(4),c=i(u),h=n(0),p=n(65);r.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=p.extend(this,{replace:["add","update","remove"]})),"object"===(0,l.default)(t.queue)&&this._queue.setOptions(t.queue)))},r.prototype.on=function(t,e){var n=this._subscribers[t];n||(n=[],this._subscribers[t]=n),n.push({callback:e})},r.prototype.off=function(t,e){var n=this._subscribers[t];n&&(this._subscribers[t]=n.filter(function(t){return t.callback!=e}))},r.prototype._trigger=function(t,e,n){if("*"==t)throw new Error("Cannot trigger event *");var i=[];t in this._subscribers&&(i=i.concat(this._subscribers[t])),"*"in this._subscribers&&(i=i.concat(this._subscribers["*"]));for(var r=0,o=i.length;r<o;r++){var a=i[r];a.callback&&a.callback(t,e,n||null)}},r.prototype.add=function(t,e){var n,i=[],r=this;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n=r._addItem(t[o]),i.push(n);else{if(!t||"object"!==(void 0===t?"undefined":(0,l.default)(t)))throw new Error("Unknown dataType");n=r._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i},r.prototype.update=function(t,e){var n=[],i=[],r=[],o=[],a=this,s=a._fieldId,u=function(t){var e=t[s];if(a._data[e]){var l=h.extend({},a._data[e]);e=a._updateItem(t),i.push(e),o.push(t),r.push(l)}else e=a._addItem(t),n.push(e)};if(Array.isArray(t))for(var c=0,p=t.length;c<p;c++)t[c]&&"object"===(0,l.default)(t[c])?u(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!t||"object"!==(void 0===t?"undefined":(0,l.default)(t)))throw new Error("Unknown dataType");u(t)}if(n.length&&this._trigger("add",{items:n},e),i.length){var d={items:i,oldData:r,data:o};this._trigger("update",d,e)}return n.concat(i)},r.prototype.get=function(t){var e,n,i,r=this,o=h.getType(arguments[0]);"String"==o||"Number"==o?(e=arguments[0],i=arguments[1]):"Array"==o?(n=arguments[0],i=arguments[1]):i=arguments[0];var a;a=i&&i.returnType?-1==["Array","Object"].indexOf(i.returnType)?"Array":i.returnType:"Array";var s,l,u,p,d,f=i&&i.type||this._options.type,g=i&&i.filter,m=[];if(void 0!=e)(s=r._getItem(e,f))&&g&&!g(s)&&(s=null);else if(void 0!=n)for(p=0,d=n.length;p<d;p++)s=r._getItem(n[p],f),g&&!g(s)||m.push(s);else for(l=(0,c.default)(this._data),p=0,d=l.length;p<d;p++)u=l[p],s=r._getItem(u,f),g&&!g(s)||m.push(s);if(i&&i.order&&void 0==e&&this._sort(m,i.order),i&&i.fields){var y=i.fields;if(void 0!=e)s=this._filterFields(s,y);else for(p=0,d=m.length;p<d;p++)m[p]=this._filterFields(m[p],y)}if("Object"==a){var v,b={};for(p=0,d=m.length;p<d;p++)v=m[p],b[v.id]=v;return b}return void 0!=e?s:m},r.prototype.getIds=function(t){var e,n,i,r,o,a=this._data,s=t&&t.filter,l=t&&t.order,u=t&&t.type||this._options.type,h=(0,c.default)(a),p=[];if(s)if(l){for(o=[],e=0,n=h.length;e<n;e++)i=h[e],r=this._getItem(i,u),s(r)&&o.push(r);for(this._sort(o,l),e=0,n=o.length;e<n;e++)p.push(o[e][this._fieldId])}else for(e=0,n=h.length;e<n;e++)i=h[e],r=this._getItem(i,u),s(r)&&p.push(r[this._fieldId]);else if(l){for(o=[],e=0,n=h.length;e<n;e++)i=h[e],o.push(a[i]);for(this._sort(o,l),e=0,n=o.length;e<n;e++)p.push(o[e][this._fieldId])}else for(e=0,n=h.length;e<n;e++)i=h[e],r=a[i],p.push(r[this._fieldId]);return p},r.prototype.getDataSet=function(){return this},r.prototype.forEach=function(t,e){var n,i,r,o,a=e&&e.filter,s=e&&e.type||this._options.type,l=this._data,u=(0,c.default)(l);if(e&&e.order){var h=this.get(e);for(n=0,i=h.length;n<i;n++)r=h[n],o=r[this._fieldId],t(r,o)}else for(n=0,i=u.length;n<i;n++)o=u[n],r=this._getItem(o,s),a&&!a(r)||t(r,o)},r.prototype.map=function(t,e){var n,i,r,o,a=e&&e.filter,s=e&&e.type||this._options.type,l=[],u=this._data,h=(0,c.default)(u);for(n=0,i=h.length;n<i;n++)r=h[n],o=this._getItem(r,s),a&&!a(o)||l.push(t(o,r));return e&&e.order&&this._sort(l,e.order),l},r.prototype._filterFields=function(t,e){if(!t)return t;var n,i,r={},o=(0,c.default)(t),a=o.length;if(Array.isArray(e))for(n=0;n<a;n++)i=o[n],-1!=e.indexOf(i)&&(r[i]=t[i]);else for(n=0;n<a;n++)i=o[n],e.hasOwnProperty(i)&&(r[e[i]]=t[i]);return r},r.prototype._sort=function(t,e){if(h.isString(e)){var n=e;t.sort(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},r.prototype.remove=function(t,e){var n,i,r,o,a=[],s=[],l=[];for(l=Array.isArray(t)?t:[t],n=0,i=l.length;n<i;n++)(o=this._remove(l[n]))&&void 0!=(r=o[this._fieldId])&&(a.push(r),s.push(o));return a.length&&this._trigger("remove",{items:a,oldData:s},e),a},r.prototype._remove=function(t){var e,n;return h.isNumber(t)||h.isString(t)?n=t:t&&"object"===(void 0===t?"undefined":(0,l.default)(t))&&(n=t[this._fieldId]),void 0!==n&&this._data[n]?(e=this._data[n],delete this._data[n],this.length--,e):null},r.prototype.clear=function(t){var e,n,i=(0,c.default)(this._data),r=[];for(e=0,n=i.length;e<n;e++)r.push(this._data[i[e]]);return this._data={},this.length=0,this._trigger("remove",{items:i,oldData:r},t),i},r.prototype.max=function(t){var e,n,i=this._data,r=(0,c.default)(i),o=null,a=null;for(e=0,n=r.length;e<n;e++){var s=r[e],l=i[s],u=l[t];null!=u&&(!o||u>a)&&(o=l,a=u)}return o},r.prototype.min=function(t){var e,n,i=this._data,r=(0,c.default)(i),o=null,a=null;for(e=0,n=r.length;e<n;e++){var s=r[e],l=i[s],u=l[t];null!=u&&(!o||u<a)&&(o=l,a=u)}return o},r.prototype.distinct=function(t){var e,n,i,r=this._data,o=(0,c.default)(r),a=[],s=this._options.type&&this._options.type[t]||null,l=0;for(e=0,i=o.length;e<i;e++){var u=o[e],p=r[u],d=p[t],f=!1;for(n=0;n<l;n++)if(a[n]==d){f=!0;break}f||void 0===d||(a[l]=d,l++)}if(s)for(e=0,i=a.length;e<i;e++)a[e]=h.convert(a[e],s);return a},r.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=h.randomUUID(),t[this._fieldId]=e;var n,i,r={},o=(0,c.default)(t);for(n=0,i=o.length;n<i;n++){var a=o[n],s=this._type[a];r[a]=h.convert(t[a],s)}return this._data[e]=r,this.length++,e},r.prototype._getItem=function(t,e){var n,i,r,o,a=this._data[t];if(!a)return null
;var s={},l=(0,c.default)(a);if(e)for(r=0,o=l.length;r<o;r++)n=l[r],i=a[n],s[n]=h.convert(i,e[n]);else for(r=0,o=l.length;r<o;r++)n=l[r],i=a[n],s[n]=i;return s[this._fieldId]||(s[this._fieldId]=a.id),s},r.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,a.default)(t)+")");var n=this._data[e];if(!n)throw new Error("Cannot update item: no item with id "+e+" found");for(var i=(0,c.default)(t),r=0,o=i.length;r<o;r++){var s=i[r],l=this._type[s];n[s]=h.convert(t[s],l)}return e},t.exports=r},function(t,e,n){t.exports={default:n(128),__esModule:!0}},function(t,e,n){var i=n(6),r=n(2),o=n(92),a=n(14),s=function(t,e,n){var l,u,c,h=t&s.F,p=t&s.G,d=t&s.S,f=t&s.P,g=t&s.B,m=t&s.W,y=p?r:r[e]||(r[e]={}),v=y.prototype,b=p?i:d?i[e]:(i[e]||{}).prototype;p&&(n=e);for(l in n)(u=!h&&b&&void 0!==b[l])&&l in y||(c=u?b[l]:n[l],y[l]=p&&"function"!=typeof b[l]?n[l]:g&&u?o(c,i):m&&b[l]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):f&&"function"==typeof c?o(Function.call,c):c,f&&((y.virtual||(y.virtual={}))[l]=c,t&s.R&&v&&!v[l]&&a(v,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var i=n(24);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){function i(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(t)}var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(15);i.prototype.setData=function(t){var e,n,i,r,o;if(this._data){for(this._data.off&&this._data.off("*",this.listener),e=this._data.getIds({filter:this._options&&this._options.filter}),o=[],i=0,r=e.length;i<r;i++)o.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:o})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),i=0,r=e.length;i<r;i++)n=e[i],this._ids[n]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},i.prototype.refresh=function(){var t,e,n,i=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o.default)(this._ids),a={},s=[],l=[],u=[];for(e=0,n=i.length;e<n;e++)t=i[e],a[t]=!0,this._ids[t]||(s.push(t),this._ids[t]=!0);for(e=0,n=r.length;e<n;e++)t=r[e],a[t]||(l.push(t),u.push(this._data._data[t]),delete this._ids[t]);this.length+=s.length-l.length,s.length&&this._trigger("add",{items:s}),l.length&&this._trigger("remove",{items:l,oldData:u})},i.prototype.get=function(t){var e,n,i,r=this,o=a.getType(arguments[0]);"String"==o||"Number"==o||"Array"==o?(e=arguments[0],n=arguments[1],i=arguments[2]):(n=arguments[0],i=arguments[1]);var s=a.extend({},this._options,n);this._options.filter&&n&&n.filter&&(s.filter=function(t){return r._options.filter(t)&&n.filter(t)});var l=[];return void 0!=e&&l.push(e),l.push(s),l.push(i),this._data&&this._data.get.apply(this._data,l)},i.prototype.getIds=function(t){var e;if(this._data){var n,i=this._options.filter;n=t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,e=this._data.getIds({filter:n,order:t&&t.order})}else e=[];return e},i.prototype.map=function(t,e){var n=[];if(this._data){var i,r=this._options.filter;i=e&&e.filter?r?function(t){return r(t)&&e.filter(t)}:e.filter:r,n=this._data.map(t,{filter:i,order:e&&e.order})}else n=[];return n},i.prototype.getDataSet=function(){for(var t=this;t instanceof i;)t=t._data;return t||null},i.prototype._onEvent=function(t,e,n){var i,r,o,a,s=e&&e.items,l=[],u=[],c=[],h=[],p=[],d=[];if(s&&this._data){switch(t){case"add":for(i=0,r=s.length;i<r;i++)o=s[i],(a=this.get(o))&&(this._ids[o]=!0,l.push(o));break;case"update":for(i=0,r=s.length;i<r;i++)o=s[i],a=this.get(o),a?this._ids[o]?(u.push(o),p.push(e.data[i]),h.push(e.oldData[i])):(this._ids[o]=!0,l.push(o)):this._ids[o]&&(delete this._ids[o],c.push(o),d.push(e.oldData[i]));break;case"remove":for(i=0,r=s.length;i<r;i++)o=s[i],this._ids[o]&&(delete this._ids[o],c.push(o),d.push(e.oldData[i]))}this.length+=l.length-c.length,l.length&&this._trigger("add",{items:l},n),u.length&&this._trigger("update",{items:u,oldData:h,data:p},n),c.length&&this._trigger("remove",{items:c,oldData:d},n)}},i.prototype.on=s.prototype.on,i.prototype.off=s.prototype.off,i.prototype._trigger=s.prototype._trigger,i.prototype.subscribe=i.prototype.on,i.prototype.unsubscribe=i.prototype.off,t.exports=i},function(t,e,n){e.convertHiddenOptions=function(t,n,i){if(i&&!Array.isArray(i))return e.convertHiddenOptions(t,n,[i]);if(n.hiddenDates=[],i&&1==Array.isArray(i)){for(var r=0;r<i.length;r++)if(void 0===i[r].repeat){var o={};o.start=t(i[r].start).toDate().valueOf(),o.end=t(i[r].end).toDate().valueOf(),n.hiddenDates.push(o)}n.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,n,i){if(i&&!Array.isArray(i))return e.updateHiddenDates(t,n,[i]);if(i&&void 0!==n.domProps.centerContainer.width){e.convertHiddenOptions(t,n,i);for(var r=t(n.range.start),o=t(n.range.end),a=n.range.end-n.range.start,s=a/n.domProps.centerContainer.width,l=0;l<i.length;l++)if(void 0!==i[l].repeat){var u=t(i[l].start),c=t(i[l].end);if("Invalid Date"==u._d)throw new Error("Supplied start date is not valid: "+i[l].start);if("Invalid Date"==c._d)throw new Error("Supplied end date is not valid: "+i[l].end);var h=c-u;if(h>=4*s){var p=0,d=o.clone();switch(i[l].repeat){case"daily":u.day()!=c.day()&&(p=1),u.dayOfYear(r.dayOfYear()),u.year(r.year()),u.subtract(7,"days"),c.dayOfYear(r.dayOfYear()),c.year(r.year()),c.subtract(7-p,"days"),d.add(1,"weeks");break;case"weekly":var f=c.diff(u,"days"),g=u.day();u.date(r.date()),u.month(r.month()),u.year(r.year()),c=u.clone(),u.day(g),c.day(g),c.add(f,"days"),u.subtract(1,"weeks"),c.subtract(1,"weeks"),d.add(1,"weeks");break;case"monthly":u.month()!=c.month()&&(p=1),u.month(r.month()),u.year(r.year()),u.subtract(1,"months"),c.month(r.month()),c.year(r.year()),c.subtract(1,"months"),c.add(p,"months"),d.add(1,"months");break;case"yearly":u.year()!=c.year()&&(p=1),u.year(r.year()),u.subtract(1,"years"),c.year(r.year()),c.subtract(1,"years"),c.add(p,"years"),d.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[l].repeat)}for(;u<d;)switch(n.hiddenDates.push({start:u.valueOf(),end:c.valueOf()}),i[l].repeat){case"daily":u.add(1,"days"),c.add(1,"days");break;case"weekly":u.add(1,"weeks"),c.add(1,"weeks");break;case"monthly":u.add(1,"months"),c.add(1,"months");break;case"yearly":u.add(1,"y"),c.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[l].repeat)}n.hiddenDates.push({start:u.valueOf(),end:c.valueOf()})}}e.removeDuplicates(n);var m=e.isHidden(n.range.start,n.hiddenDates),y=e.isHidden(n.range.end,n.hiddenDates),v=n.range.start,b=n.range.end;1==m.hidden&&(v=1==n.range.startToFront?m.startDate-1:m.endDate+1),1==y.hidden&&(b=1==n.range.endToFront?y.startDate-1:y.endDate+1),1!=m.hidden&&1!=y.hidden||n.range._applyRange(v,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,n=[],i=0;i<e.length;i++)for(var r=0;r<e.length;r++)i!=r&&1!=e[r].remove&&1!=e[i].remove&&(e[r].start>=e[i].start&&e[r].end<=e[i].end?e[r].remove=!0:e[r].start>=e[i].start&&e[r].start<=e[i].end?(e[i].end=e[r].end,e[r].remove=!0):e[r].end>=e[i].start&&e[r].end<=e[i].end&&(e[i].start=e[r].start,e[r].remove=!0));for(i=0;i<e.length;i++)!0!==e[i].remove&&n.push(e[i]);t.hiddenDates=n,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,n){for(var i=!1,r=e.current.valueOf(),o=0;o<e.hiddenDates.length;o++){var a=e.hiddenDates[o].start,s=e.hiddenDates[o].end;if(r>=a&&r<s){i=!0;break}}if(1==i&&r<e._end.valueOf()&&r!=n){var l=t(n),u=t(s);l.year()!=u.year()?e.switchedYear=!0:l.month()!=u.month()?e.switchedMonth=!0:l.dayOfYear()!=u.dayOfYear()&&(e.switchedDay=!0),e.current=u}},e.toScreen=function(t,n,i){var r;if(0==t.body.hiddenDates.length)return r=t.range.conversion(i),(n.valueOf()-r.offset)*r.scale;var o=e.isHidden(n,t.body.hiddenDates);1==o.hidden&&(n=o.startDate);var a=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(n<t.range.start){r=t.range.conversion(i,a);var s=e.getHiddenDurationBeforeStart(t.body.hiddenDates,n,r.offset);return n=t.options.moment(n).toDate().valueOf(),n+=s,-(r.offset-n.valueOf())*r.scale}if(n>t.range.end){var l={start:t.range.start,end:n};return n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,l,n),r=t.range.conversion(i,a),(n.valueOf()-r.offset)*r.scale}return n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,n),r=t.range.conversion(i,a),(n.valueOf()-r.offset)*r.scale},e.toTime=function(t,n,i){if(0==t.body.hiddenDates.length){var r=t.range.conversion(i);return new Date(n/r.scale+r.offset)}var o=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),a=t.range.end-t.range.start-o,s=a*n/i,l=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(l+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,n){for(var i=0,r=0;r<t.length;r++){var o=t[r].start,a=t[r].end;o>=e&&a<n&&(i+=a-o)}return i},e.getHiddenDurationBeforeStart=function(t,e,n){for(var i=0,r=0;r<t.length;r++){var o=t[r].start,a=t[r].end;o>=e&&a<=n&&(i+=a-o)}return i},e.correctTimeForHidden=function(t,n,i,r){return r=t(r).toDate().valueOf(),r-=e.getHiddenDurationBefore(t,n,i,r)},e.getHiddenDurationBefore=function(t,e,n,i){var r=0;i=t(i).toDate().valueOf();for(var o=0;o<e.length;o++){var a=e[o].start,s=e[o].end;a>=n.start&&s<n.end&&i>=s&&(r+=s-a)}return r},e.getAccumulatedHiddenDuration=function(t,e,n){for(var i=0,r=0,o=e.start,a=0;a<t.length;a++){var s=t[a].start,l=t[a].end;if(s>=e.start&&l<e.end){if(r+=s-o,o=l,r>=n)break;i+=l-s}}return i},e.snapAwayFromHidden=function(t,n,i,r){var o=e.isHidden(n,t);return 1==o.hidden?i<0?1==r?o.startDate-(o.endDate-n)-1:o.startDate-1:1==r?o.endDate+(n-o.startDate)+1:o.endDate+1:n},e.isHidden=function(t,e){for(var n=0;n<e.length;n++){var i=e[n].start,r=e[n].end;if(t>=i&&t<r)return{hidden:!0,startDate:i,endDate:r}}return{hidden:!1,startDate:i,endDate:r}}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}var o=n(1),a=i(o),s=n(4),l=i(s),u=n(12),c=n(0),h=n(3);r.prototype.stack=!0,r.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setData=function(t){void 0!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),void 0!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},r.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},r.prototype.isVisible=function(t){return!1},r.prototype.show=function(){return!1},r.prototype.hide=function(){return!1},r.prototype.redraw=function(){},r.prototype.repositionX=function(){},r.prototype.repositionY=function(){},r.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var n=new u(e);n.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),n.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},r.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var n=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete",i.title="Delete this item",new u(i).on("tap",function(t){t.stopPropagation(),n.parent.removeFromDataSet(n)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},r.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",t.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var i,r=this.parent.itemSet.body.domProps.scrollTop;i="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height,i+this.parent.top-50<-r?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var o,a;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(a=this.options.tooltipOnItemUpdateTime.template.bind(this),o=a(this.data)):(o="start: "+h(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(o+="<br> end: "+h(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=o}}},r.prototype._updateContents=function(t){var e,n,i,r,o=this.parent.itemSet.itemsData.get(this.id),a=this.dom.box||this.dom.point,s=a.getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(r=this.options.visibleFrameTemplate.bind(this),i=r(o,a)):i="",s)if(i instanceof Object&&!(i instanceof Element))r(o,s);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(i)){if(i instanceof Element)s.innerHTML="",s.appendChild(i);else if(void 0!=i)s.innerHTML=i;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=i}if(this.options.template?(n=this.options.template.bind(this),e=n(o,t,this.data)):e=this.data.content,e instanceof Object&&!(e instanceof Element))n(o,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},r.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,l.default)(this.data)}for(var n=0;n<e.length;n++){var i=e[n],r=this.data[i];null!=r?t.setAttribute("data-"+i,r):t.removeAttribute("data-"+i)}}},r.prototype._updateStyle=function(t){this.style&&(c.removeCssText(t,this.style),this.style=null),this.data.style&&(c.addCssText(t,this.data.style),this.style=this.data.style)},r.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},r.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,a.default)(this.options.editable)&&(this.editable={},c.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,a.default)(this.data.editable)&&(this.editable={},c.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},r.prototype.getWidthLeft=function(){return 0},r.prototype.getWidthRight=function(){return 0},r.prototype.getTitle=function(){return this.data.title},t.exports=r},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(60),r=n(41);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){function i(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:l.FORMAT,moment:c,timeAxis:null},this.options=a.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(5),l=n(49),u=n(21),c=n(3);i.prototype=new s,i.prototype.setOptions=function(t){t&&(a.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),a.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof c.locale?c.locale(t.locale):c.lang(t.locale)))},i.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},i.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},i.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,n=this.dom.background,i="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,r=e.parentNode!==i;this._calculateCharSize();var o=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,a=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=o?t.minorCharHeight:0,t.majorLabelHeight=a?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,l=n.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n),e.style.height=this.props.height+"px",this._repaintLabels(),s?i.insertBefore(e,s):i.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(n,l):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||r},i.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=a.convert(this.body.range.start,"Number"),n=a.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),r=i-u.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,i);r-=this.body.util.toTime(0).valueOf();var o=new l(new Date(e),new Date(n),r,this.body.hiddenDates,this.options);o.setMoment(this.options.moment),this.options.format&&o.setFormat(this.options.format),this.options.timeAxis&&o.setScale(this.options.timeAxis),this.step=o;var s=this.dom;s.redundant.lines=s.lines,s.redundant.majorTexts=s.majorTexts,s.redundant.minorTexts=s.minorTexts,s.lines=[],s.majorTexts=[],s.minorTexts=[];var c,p,d,f,g,m,y,v,b,w=0,x=void 0,_=0;for(o.start(),c=o.getCurrent(),d=this.body.util.toScreen(c);o.hasNext()&&_<1e3;){switch(_++,f=o.isMajor(),b=o.getClassName(),v=o.getLabelMinor(),p=d,o.next(),c=o.getCurrent(),o.isMajor(),d=this.body.util.toScreen(c),m=w,w=d-p,o.scale){case"week":g=!0;break;default:g=w>=.4*m}if(this.options.showMinorLabels&&g){var E=this._repaintMinorText(p,v,t,b);E.style.width=w+"px"}f&&this.options.showMajorLabels?(p>0&&(void 0==x&&(x=p),E=this._repaintMajorText(p,o.getLabelMajor(),t,b)),y=this._repaintMajorLine(p,w,t,b)):g?y=this._repaintMinorLine(p,w,t,b):y&&(y.style.width=parseInt(y.style.width)+w+"px")}if(1e3!==_||h||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),h=!0),this.options.showMajorLabels){var S=this.body.util.toTime(0),C=o.getLabelMajor(S),T=C.length*(this.props.majorCharWidth||10)+10;(void 0==x||T<x)&&this._repaintMajorText(0,C,t,b)}a.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},i.prototype._repaintMinorText=function(t,e,n,i){var r=this.dom.redundant.minorTexts.shift();if(!r){var o=document.createTextNode("");r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return this.dom.minorTexts.push(r),r.innerHTML=e,r.style.top="top"==n?this.props.majorLabelHeight+"px":"0",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",r.className="vis-text vis-minor "+i,r},i.prototype._repaintMajorText=function(t,e,n,i){var r=this.dom.redundant.majorTexts.shift();if(!r){var o=document.createElement("div");r=document.createElement("div"),r.appendChild(o),this.dom.foreground.appendChild(r)}return r.childNodes[0].innerHTML=e,r.className="vis-text vis-major "+i,r.style.top="top"==n?"0":this.props.minorLabelHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t+"px"):r.style.left=t+"px",this.dom.majorTexts.push(r),r},i.prototype._repaintMinorLine=function(t,e,n,i){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==n?o.majorLabelHeight+"px":this.body.domProps.top.height+"px",r.style.height=o.minorLineHeight+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-minor "+i):(r.style.left=t-o.minorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-minor "+i),r.style.width=e+"px",r},i.prototype._repaintMajorLine=function(t,e,n,i){var r=this.dom.redundant.lines.shift();r||(r=document.createElement("div"),this.dom.background.appendChild(r)),this.dom.lines.push(r);var o=this.props;return r.style.top="top"==n?"0":this.body.domProps.top.height+"px",this.options.rtl?(r.style.left="",r.style.right=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical-rtl vis-major "+i):(r.style.left=t-o.majorLineWidth/2+"px",r.className="vis-grid vis-vertical vis-major "+i),r.style.height=o.majorLineHeight+"px",r.style.width=e+"px",r},i.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var h=!1;t.exports=i},function(t,e,n){function i(t,e){this.body=t,this.defaultOptions={moment:s,locales:l,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var r=n(12),o=n(0),a=n(5),s=n(3),l=n(69);i.prototype=new a,i.prototype.setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},i.prototype._create=function(){function t(t){this.body.range._onMouseWheel(t)}var e=document.createElement("div");e["custom-time"]=this,e.className="vis-custom-time "+(this.options.id||""),e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;var n=document.createElement("div");n.style.position="relative",n.style.top="0px",n.style.left="-10px",n.style.height="100%",n.style.width="20px",n.addEventListener?(n.addEventListener("mousewheel",t.bind(this),!1),n.addEventListener("DOMMouseScroll",t.bind(this),!1)):n.attachEvent("onmousewheel",t.bind(this)),e.appendChild(n),this.hammer=new r(n),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL})},i.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},i.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var i=this.options.title;return void 0===i?(i=n.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),i=i.charAt(0).toUpperCase()+i.substring(1)):"function"==typeof i&&(i=i.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=i,!1},i.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},i.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},i.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},i.prototype.setCustomTitle=function(t){this.options.title=t},i.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},i.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,n=this.body.util.toTime(e);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},i.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},i.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=i},function(t,e,n){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e.__esModule=!0;var i=n(134),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var r=n(16),o=i(r),a=n(1),s=i(a),l=n(4),u=i(l),c=n(30),h=i(c),p=n(31),d=i(p),f=n(0),g=!1,m=void 0,y="background: #FFeeee; color: #dd0000",v=function(){function t(){(0,h.default)(this,t)}return(0,d.default)(t,null,[{key:"validate",value:function(e,n,i){g=!1,m=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),g}},{key:"parse",value:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,n,i)}},{key:"check",value:function(e,n,i,r){if(void 0===i[e]&&void 0===i.__any__)return void t.getSuggestion(e,i,r);var o=e,a=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",a="object"===t.getType(n[e]));var s=i[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,i,o,s,r)}},{key:"checkFields",value:function(e,n,i,r,o,a){var s=function(n){console.log("%c"+n+t.printLocation(a,e),y)},l=t.getType(n[e]),c=o[l];void 0!==c?"array"===t.getType(c)&&-1===c.indexOf(n[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+n[e]+'". '),g=!0):"object"===l&&"__any__"!==r&&(a=f.copyAndExtendArray(a,e),t.parse(n[e],i[r],a)):void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+t.print((0,u.default)(o))+". Received ["+l+'] "'+n[e]+'"'),g=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,s.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var r=t.findInOptions(e,n,i,!1),o=t.findInOptions(e,m,[],!0),a=void 0
;a=void 0!==r.indexMatch?" in "+t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':o.distance<=4&&r.distance>o.distance?" in "+t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(o.path,o.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,e):". Did you mean one of these: "+t.print((0,u.default)(n))+t.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+a,y),g=!0}},{key:"findInOptions",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,a="",s=[],l=e.toLowerCase(),u=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&!0===r){var p=t.findInOptions(e,n[c],f.copyAndExtendArray(i,c));o>p.distance&&(a=p.closestMatch,s=p.path,o=p.distance,u=p.indexMatch)}else-1!==c.toLowerCase().indexOf(l)&&(u=c),h=t.levenshteinDistance(e,c),o>h&&(a=c,s=f.copyArray(i),o=h)}return{closestMatch:a,path:s,distance:o,indexMatch:u}}},{key:"printLocation",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",r=0;r<t.length;r++){for(var o=0;o<r+1;o++)i+="  ";i+=t[r]+": {\n"}for(var a=0;a<t.length+1;a++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var l=0;l<t.length-s;l++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return(0,o.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i=[];for(n=0;n<=e.length;n++)i[n]=[n];var r;for(r=0;r<=t.length;r++)i[0][r]=r;for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)e.charAt(n-1)==t.charAt(r-1)?i[n][r]=i[n-1][r-1]:i[n][r]=Math.min(i[n-1][r-1]+1,Math.min(i[n][r-1]+1,i[n-1][r]+1));return i[e.length][t.length]}}]),t}();e.default=v,e.printStyle=y},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var i=n(24);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(18),r=n(95),o=n(41),a=n(39)("IE_PROTO"),s=function(){},l=function(){var t,e=n(58)("iframe"),i=o.length;for(e.style.display="none",n(99).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(40)("keys"),r=n(27);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(6),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(8).f,r=n(10),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){t.exports={default:n(105),__esModule:!0}},function(t,e,n){e.f=n(7)},function(t,e,n){var i=n(6),r=n(2),o=n(35),a=n(44),s=n(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=d().hours(0).minutes(0).seconds(0).milliseconds(0),i=n.clone().add(-3,"days").valueOf(),r=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=i,this.end=r):(this.start=e.start||i,this.end=e.end||r),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:d,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=p.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function o(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var a=n(4),s=i(a),l=n(16),u=i(l),c=n(1),h=i(c),p=n(0),d=n(3),f=n(5),g=n(21);r.prototype=new f,r.prototype.setOptions=function(t){if(t){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];p.selectiveExtend(e,this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},r.prototype.startRolling=function(){function t(){e.stopRolling(),e.rolling=!0;var n=e.end-e.start,i=p.convert(new Date,"Date").valueOf(),r=i-n*e.options.rollingMode.offset,o=i+n*(1-e.options.rollingMode.offset),a={animation:!1};e.setRange(r,o,a),n=1/e.conversion(e.body.domProps.center.width).scale/10,n<30&&(n=30),n>1e3&&(n=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,n)}var e=this;t()},r.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},r.prototype.setRange=function(t,e,n,i,r){n||(n={}),!0!==n.byUser&&(n.byUser=!1);var o=this,a=void 0!=t?p.convert(t,"Date").valueOf():null,l=void 0!=e?p.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){var c=this.start,d=this.end,f="object"===(0,h.default)(n.animation)&&"duration"in n.animation?n.animation.duration:500,m="object"===(0,h.default)(n.animation)&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",y=p.easingFunctions[m];if(!y)throw new Error("Unknown easing function "+(0,u.default)(m)+". Choose from: "+(0,s.default)(p.easingFunctions).join(", "));var v=(new Date).valueOf(),b=!1;return function t(){if(!o.props.touch.dragging){var e=(new Date).valueOf(),s=e-v,u=y(s/f),h=s>f,p=h||null===a?a:c+(a-c)*u,m=h||null===l?l:d+(l-d)*u;w=o._applyRange(p,m),g.updateHiddenDates(o.options.moment,o.body,o.options.hiddenDates),b=b||w;var x={start:new Date(o.start),end:new Date(o.end),byUser:n.byUser,event:n.event};if(r&&r(u,w,h),w&&o.body.emitter.emit("rangechange",x),h){if(b&&(o.body.emitter.emit("rangechanged",x),i))return i()}else o.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(a,l);if(g.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var x={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",x),clearTimeout(o.timeoutID),o.timeoutID=setTimeout(function(){o.body.emitter.emit("rangechanged",x)},200),i)return i()}},r.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},r.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},r.prototype._applyRange=function(t,e){var n,i=null!=t?p.convert(t,"Date").valueOf():this.start,r=null!=e?p.convert(e,"Date").valueOf():this.end,o=null!=this.options.max?p.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?p.convert(this.options.min,"Date").valueOf():null;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(r)||null===r)throw new Error('Invalid end "'+e+'"');if(r<i&&(r=i),null!==a&&i<a&&(n=a-i,i+=n,r+=n,null!=o&&r>o&&(r=o)),null!==o&&r>o&&(n=r-o,i-=n,r-=n,null!=a&&i<a&&(i=a)),null!==this.options.zoomMin){var s=parseFloat(this.options.zoomMin);s<0&&(s=0),r-i<s&&(this.end-this.start===s&&i>=this.start-.5&&r<=this.end?(i=this.start,r=this.end):(n=s-(r-i),i-=n/2,r+=n/2))}if(null!==this.options.zoomMax){var l=parseFloat(this.options.zoomMax);l<0&&(l=0),r-i>l&&(this.end-this.start===l&&i<this.start&&r>this.end?(i=this.start,r=this.end):(n=r-i-l,i+=n/2,r-=n/2))}var u=this.start!=i||this.end!=r;return i>=this.start&&i<=this.end||r>=this.start&&r<=this.end||this.start>=i&&this.start<=r||this.end>=i&&this.end<=r||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=r,u},r.prototype.getRange=function(){return{start:this.start,end:this.end}},r.prototype.conversion=function(t,e){return r.conversion(this.start,this.end,t,e)},r.conversion=function(t,e,n,i){return void 0===i&&(i=0),0!=n&&e-t!=0?{offset:t,scale:n/(e-t-i)}:{offset:0,scale:1}},r.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},r.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;o(e);var n="horizontal"==e?t.deltaX:t.deltaY;n-=this.deltaDifference;var i=this.props.touch.end-this.props.touch.start;i-=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r,a="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;r=this.options.rtl?n/a*i:-n/a*i;var s=this.props.touch.start+r,l=this.props.touch.end+r,u=g.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-n,!0),c=g.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-n,!0);if(u!=s||c!=l)return this.deltaDifference+=n,this.props.touch.start=u,this.props.touch.end=c,void this._onDrag(t);this.previousDelta=n,this._applyRange(s,l);var h=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:h,end:p,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},r.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},r.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var n;n=e<0?1-e/5:1/(1+e/5);var i;if(this.rolling)i=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var r=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);i=this._pointerToDate(r)}this.zoom(n,i,e,t),t.preventDefault()}},r.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,p.preventDefault(t)},r.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){p.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),i=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=g.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n),o=i-r,a=n-r+(this.props.touch.start-(n-r))*e,s=n+o+(this.props.touch.end-(n+o))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var l=g.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),u=g.snapAwayFromHidden(this.body.hiddenDates,s,e-1,!0);l==a&&u==s||(this.props.touch.start=l,this.props.touch.end=u,this.scaleOffset=1-t.scale,a=l,s=u);var c={animation:!1,byUser:!0,event:t};this.setRange(a,s,c),this.startToFront=!1,this.endToFront=!0}},r.prototype._isInsideRange=function(t){var e,n=t.center?t.center.x:t.clientX;e=this.options.rtl?n-p.getAbsoluteLeft(this.body.dom.centerContainer):p.getAbsoluteRight(this.body.dom.centerContainer)-n;var i=this.body.util.toTime(e);return i>=this.start&&i<=this.end},r.prototype._pointerToDate=function(t){var e,n=this.options.direction;if(o(n),"horizontal"==n)return this.body.util.toTime(t.x).valueOf();var i=this.body.domProps.center.height;return e=this.conversion(i),t.y/e.scale+e.offset},r.prototype.getPointer=function(t,e){return this.options.rtl?{x:p.getAbsoluteRight(e)-t.x,y:t.y-p.getAbsoluteTop(e)}:{x:t.x-p.getAbsoluteLeft(e),y:t.y-p.getAbsoluteTop(e)}},r.prototype.zoom=function(t,e,n,i){null==e&&(e=(this.start+this.end)/2);var r=g.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=g.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),a=r-o,s=e-o+(this.start-(e-o))*t,l=e+a+(this.end-(e+a))*t;this.startToFront=!(n>0),this.endToFront=!(-n>0);var u=g.snapAwayFromHidden(this.body.hiddenDates,s,n,!0),c=g.snapAwayFromHidden(this.body.hiddenDates,l,-n,!0);u==s&&c==l||(s=u,l=c);var h={animation:!1,byUser:!0,event:i};this.setRange(s,l,h),this.startToFront=!1,this.endToFront=!0},r.prototype.move=function(t){var e=this.end-this.start,n=this.start+e*t,i=this.end+e*t;this.start=n,this.end=i},r.prototype.moveTo=function(t){var e=(this.start+this.end)/2,n=e-t,i=this.start-n,r=this.end-n,o={animation:!1,byUser:!0,event:null};this.setRange(i,r,o)},t.exports=r},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(){}var o=n(16),a=i(o),s=n(1),l=i(s),u=n(66),c=n(12),h=n(67),p=n(0),d=n(28),f=n(132),g=n(21),m=n(29);u(r.prototype),r.prototype._create=function(t){function e(t){this.isActive()&&this.emit("mousewheel",t);var e=0,n=0;if("detail"in t&&(n=-1*t.detail),"wheelDelta"in t&&(n=t.wheelDelta),"wheelDeltaY"in t&&(n=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*n,n=0),"deltaY"in t&&(n=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(n)>=Math.abs(e)){var i=this.props.scrollTop,r=i+n;this.isActive()&&(this._setScrollTop(r),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=Math.abs(e)>=Math.abs(n)?e:n,a=o/120*(this.range.end-this.range.start)/20,s=this.range.start+a,l=this.range.end+a,u={animation:!1,byUser:!0,event:t};this.range.setRange(s,l,u)}}function n(t){if(o.options.verticalScroll&&(t.preventDefault(),o.isActive())){var e=-t.target.scrollTop;o._setScrollTop(e),o._redraw(),o.emit("scrollSide",t)}}function i(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||s))return t.dataTransfer.dropEffect="move",s=!0,!1}function r(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var e=JSON.parse(t.dataTransfer.getData("text"));if(!e||!e.content)return}catch(t){return!1}return s=!1,t.center={x:t.clientX,y:t.clientY},"item"!==e.target?o.itemSet._onAddItem(t):o.itemSet._onDropObjectOnItem(t),o.emit("drop",o.getEventProperties(t)),!1}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var o=this;this._origRedraw=this._redraw.bind(this),this._redraw=p.throttle(this._origRedraw),this.on("_change",function(t){o.itemSet&&o.itemSet.initialItemSetDrawn&&t&&1==t.queue?o._redraw():o._origRedraw()}),this.hammer=new c(this.dom.root);var a=this.hammer.get("pinch").set({enable:!0});h.disablePreventDefaultVertically(a),this.hammer.get("pan").set({threshold:5,direction:c.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var e=function(e){o.isActive()&&o.emit(t,e)};o.hammer.on(t,e),o.listeners[t]=e}),h.onTouch(this.hammer,function(t){o.emit("touch",t)}.bind(this)),h.onRelease(this.hammer,function(t){o.emit("release",t)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",e.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",e.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",e.bind(this)),this.dom.left.parentNode.addEventListener("scroll",n.bind(this)),this.dom.right.parentNode.addEventListener("scroll",n.bind(this));var s=!1;if(this.dom.center.addEventListener("dragover",i.bind(this),!1),this.dom.center.addEventListener("drop",r.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},r.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(p.selectiveExtend(e,this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,l.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,l.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var n=this.timeAxis2=new d(this.body);n.setOptions=function(t){var e=t?p.extend({},t):{};e.orientation="top",d.prototype.setOptions.call(n,e)},this.components.push(n)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&g.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new f(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var r=p.deepExtend({},this.options);this.components.forEach(function(t){p.deepExtend(r,t.options)}),this.configurator.setModuleOptions({global:r})}this._redraw()},r.prototype.isActive=function(){return!this.activator||this.activator.active},r.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},r.prototype.setCustomTime=function(t,e){var n=this.customTimes.filter(function(t){return e===t.options.id});if(0===n.length)throw new Error("No custom time bar found with id "+(0,a.default)(e));n.length>0&&n[0].setCustomTime(t)},r.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,a.default)(t));return e[0].getCustomTime()},r.prototype.setCustomTimeTitle=function(t,e){var n=this.customTimes.filter(function(t){return t.options.id===e});if(0===n.length)throw new Error("No custom time bar found with id "+(0,a.default)(e));if(n.length>0)return n[0].setCustomTitle(t)},r.prototype.getEventProperties=function(t){return{event:t}},r.prototype.addCustomTime=function(t,e){var n=void 0!==t?p.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,a.default)(e)+" already exists");var i=new m(this.body,p.extend({},this.options,{time:n,id:e}));return this.customTimes.push(i),this.components.push(i),this._redraw(),e},r.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,a.default)(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},r.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},r.prototype.fit=function(t,e){var n=this.getDataRange();if(null!==n.min||null!==n.max){var i=n.max-n.min,r=new Date(n.min.valueOf()-.01*i),o=new Date(n.max.valueOf()+.01*i),a=!t||void 0===t.animation||t.animation;this.range.setRange(r,o,{animation:a},e)}},r.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},r.prototype.setWindow=function(t,e,n,i){"function"==typeof arguments[2]&&(i=arguments[2],n={});var r,o;1==arguments.length?(o=arguments[0],r=void 0===o.animation||o.animation,this.range.setRange(o.start,o.end,{animation:r})):2==arguments.length&&"function"==typeof arguments[1]?(o=arguments[0],i=arguments[1],r=void 0===o.animation||o.animation,this.range.setRange(o.start,o.end,{animation:r},i)):(r=!n||void 0===n.animation||n.animation,this.range.setRange(t,e,{animation:r},i))},r.prototype.moveTo=function(t,e,n){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.range.end-this.range.start,r=p.convert(t,"Date").valueOf(),o=r-i/2,a=r+i/2,s=!e||void 0===e.animation||e.animation;this.range.setRange(o,a,{animation:s},n)},r.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},r.prototype.zoomIn=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),r=i.start.valueOf(),o=i.end.valueOf(),a=o-r,s=a/(1+t),l=(a-s)/2,u=r+l,c=o-l;this.setWindow(u,c,e,n)}},r.prototype.zoomOut=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),r=i.start.valueOf(),o=i.end.valueOf(),a=o-r,s=r-a*t/2,l=o+a*t/2;this.setWindow(s,l,e,n)}},r.prototype.redraw=function(){this._redraw()},r.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,n=this.props,i=this.dom;if(i&&i.container&&0!=i.root.offsetWidth){g.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(p.addClassName(i.root,"vis-top"),p.removeClassName(i.root,"vis-bottom")):(p.removeClassName(i.root,"vis-top"),p.addClassName(i.root,"vis-bottom")),i.root.style.maxHeight=p.option.asSize(e.maxHeight,""),i.root.style.minHeight=p.option.asSize(e.minHeight,""),i.root.style.width=p.option.asSize(e.width,""),n.border.left=(i.centerContainer.offsetWidth-i.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(i.centerContainer.offsetHeight-i.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=i.root.offsetHeight-i.root.clientHeight,n.borderRootWidth=i.root.offsetWidth-i.root.clientWidth,0===i.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===i.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=i.center.offsetHeight,n.left.height=i.left.offsetHeight,n.right.height=i.right.offsetHeight,n.top.height=i.top.clientHeight||-n.border.top,n.bottom.height=i.bottom.clientHeight||-n.border.bottom;var r=Math.max(n.left.height,n.center.height,n.right.height),o=n.top.height+r+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom;i.root.style.height=p.option.asSize(e.height,o+"px"),n.root.height=i.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight;var a=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight;n.centerContainer.height=a,n.leftContainer.height=a,n.rightContainer.height=n.leftContainer.height,n.root.width=i.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=p.getScrollBarWidth()),e.verticalScroll?e.rtl?(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),i.center.style.top=s+"px";var l=0==n.scrollTop?"hidden":"",u=n.scrollTop==n.scrollTopMin?"hidden":"";i.shadowTop.style.visibility=l,i.shadowBottom.style.visibility=u,i.shadowTopLeft.style.visibility=l,i.shadowBottomLeft.style.visibility=u,i.shadowTopRight.style.visibility=l,i.shadowBottomRight.style.visibility=u,e.verticalScroll&&(i.rightContainer.className="vis-panel vis-right vis-vertical-scroll",i.leftContainer.className="vis-panel vis-left vis-vertical-scroll",i.shadowTopRight.style.visibility="hidden",i.shadowBottomRight.style.visibility="hidden",i.shadowTopLeft.style.visibility="hidden",i.shadowBottomLeft.style.visibility="hidden",i.left.style.top="0px",i.right.style.top="0px"),(!e.verticalScroll||n.center.height<n.centerContainer.height)&&(i.left.style.top=s+"px",i.right.style.top=s+"px",i.rightContainer.className=i.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.leftContainer.className=i.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right,this._setDOM());var h=n.center.height>n.centerContainer.height;if(this.hammer.get("pan").set({direction:h?c.DIRECTION_ALL:c.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t}),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},r.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var n=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=n,t.centerContainer.width=n,t.top.width=n,t.bottom.width=n,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",
e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},r.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},r.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},r.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},r.prototype._toTime=function(t){return g.toTime(this,t,this.props.center.width)},r.prototype._toGlobalTime=function(t){return g.toTime(this,t,this.props.root.width)},r.prototype._toScreen=function(t){return g.toScreen(this,t,this.props.center.width)},r.prototype._toGlobalScreen=function(t){return g.toScreen(this,t,this.props.root.width)},r.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},r.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){if(1!=t.options.autoResize)return void t._stopAutoResize();t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=p.getScrollBarWidth(),t.body.emitter.emit("_change")))},p.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},r.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(p.removeEventListener(window,"resize",this._onResize),this._onResize=null)},r.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},r.prototype._onPinch=function(t){this.touch.allowDragging=!1},r.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,n=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=n&&this.emit("verticalDrag")}},r.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},r.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},r.prototype._getScrollTop=function(){return this.props.scrollTop},r.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=r},function(t,e,n){function i(t,e,n,o,a){this.moment=r,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(o)?this.hiddenDates=o:this.hiddenDates=void 0!=o?[o]:[],this.format=i.FORMAT,this.options=a||{}}var r=n(3),o=n(21),a=n(0);i.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},i.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},i.prototype.setFormat=function(t){var e=a.deepExtend({},i.FORMAT);this.format=a.deepExtend(e,t)},i.prototype.setRange=function(t,e,n){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},i.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},i.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},i.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},i.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},i.prototype.getCurrent=function(){return this.current},i.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},i.prototype.setAutoScale=function(t){this.autoScale=t},i.prototype.setMinimumStep=function(t){void 0!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},i.snap=function(t,e,n){var i=r(t);if("year"==e){var o=i.year()+Math.round(i.month()/12);i.year(Math.round(o/n)*n),i.month(0),i.date(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("month"==e)i.date()>15?(i.date(1),i.add(1,"month")):i.date(1),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("week"==e)i.weekday()>2?(i.weekday(0),i.add(1,"week")):i.weekday(0),i.hours(0),i.minutes(0),i.seconds(0),i.milliseconds(0);else if("day"==e){switch(n){case 5:case 2:i.hours(24*Math.round(i.hours()/24));break;default:i.hours(12*Math.round(i.hours()/12))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("weekday"==e){switch(n){case 5:case 2:i.hours(12*Math.round(i.hours()/12));break;default:i.hours(6*Math.round(i.hours()/6))}i.minutes(0),i.seconds(0),i.milliseconds(0)}else if("hour"==e){switch(n){case 4:i.minutes(60*Math.round(i.minutes()/60));break;default:i.minutes(30*Math.round(i.minutes()/30))}i.seconds(0),i.milliseconds(0)}else if("minute"==e){switch(n){case 15:case 10:i.minutes(5*Math.round(i.minutes()/5)),i.seconds(0);break;case 5:i.seconds(60*Math.round(i.seconds()/60));break;default:i.seconds(30*Math.round(i.seconds()/30))}i.milliseconds(0)}else if("second"==e)switch(n){case 15:case 10:i.seconds(5*Math.round(i.seconds()/5)),i.milliseconds(0);break;case 5:i.milliseconds(1e3*Math.round(i.milliseconds()/1e3));break;default:i.milliseconds(500*Math.round(i.milliseconds()/500))}else if("millisecond"==e){var a=n>5?n/2:1;i.milliseconds(Math.round(i.milliseconds()/a)*a)}return i},i.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},i.prototype.getLabelMinor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},i.prototype.getLabelMajor=function(t){if(void 0==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},i.prototype.getClassName=function(){function t(t){return t/s%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(r().add(1,"day"),"day")?" vis-tomorrow":t.isSame(r().add(-1,"day"),"day")?" vis-yesterday":""}function n(t){return t.isSame(new Date,"week")?" vis-current-week":""}function i(t){return t.isSame(new Date,"month")?" vis-current-month":""}var r=this.moment,o=this.moment(this.current),a=o.locale?o.locale("en"):o.lang("en"),s=this.step,l=[];switch(this.scale){case"millisecond":l.push(e(a)),l.push(t(a.milliseconds()));break;case"second":l.push(e(a)),l.push(t(a.seconds()));break;case"minute":l.push(e(a)),l.push(t(a.minutes()));break;case"hour":l.push("vis-h"+a.hours()+(4==this.step?"-h"+(a.hours()+4):"")),l.push(e(a)),l.push(t(a.hours()));break;case"weekday":l.push("vis-"+a.format("dddd").toLowerCase()),l.push(e(a)),l.push(n(a)),l.push(t(a.date()));break;case"day":l.push("vis-day"+a.date()),l.push("vis-"+a.format("MMMM").toLowerCase()),l.push(e(a)),l.push(i(a)),l.push(this.step<=2?e(a):""),l.push(this.step<=2?"vis-"+a.format("dddd").toLowerCase():""),l.push(t(a.date()-1));break;case"week":l.push("vis-week"+a.format("w")),l.push(n(a)),l.push(t(a.week()));break;case"month":l.push("vis-"+a.format("MMMM").toLowerCase()),l.push(i(a)),l.push(t(a.month()));break;case"year":l.push("vis-year"+a.year()),l.push(function(t){return t.isSame(new Date,"year")?" vis-current-year":""}(a)),l.push(t(a.year()))}return l.filter(String).join(" ")},t.exports=i},function(t,e,n){function i(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:a,locales:s,locale:"en"},this.options=r.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var r=n(0),o=n(5),a=n(3),s=n(69);i.prototype=new o,i.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},i.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},i.prototype.setOptions=function(t){t&&r.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},i.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),n=this.body.util.toScreen(e),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var r=i.current+" "+i.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");r=r.charAt(0).toUpperCase()+r.substring(1),this.options.rtl?this.bar.style.right=n+"px":this.bar.style.left=n+"px",this.bar.title=r}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},i.prototype.start=function(){function t(){e.stop();var n=e.body.range.conversion(e.body.domProps.center.width).scale,i=1/n/10;i<30&&(i=30),i>1e3&&(i=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,i)}var e=this;t()},i.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},i.prototype.setCurrentTime=function(t){var e=r.convert(t,"Date").valueOf(),n=(new Date).valueOf();this.offset=e-n,this.redraw()},i.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=i},function(t,e,n){function i(t,e,n){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var i in e.subgroupStack)this.subgroupStack[i]=e.subgroupStack[i],this.doInnerStack=this.doInnerStack||e.subgroupStack[i];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var r=this;this.itemSet.body.emitter.on("checkRangedItems",function(){r.checkRangedItems=!0}),this._create(),this.setData(e)}var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(71);i.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var n=document.createElement("div");n.className="vis-group",n["timeline-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},i.prototype.setData=function(t){var e,n;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this),e=n(t,this.dom.inner)):e=t&&t.content,e instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?a.removeClassName(this.dom.inner,"vis-hidden"):a.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),a.addClassName(this.dom.label,"vis-nesting-group");var i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(a.removeClassName(this.dom.label,i),a.addClassName(this.dom.label,"expanded")):(a.removeClassName(this.dom.label,"expanded"),a.addClassName(this.dom.label,i))}else this.nestedGroups&&(this.nestedGroups=null,i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed",a.removeClassName(this.dom.label,i),a.removeClassName(this.dom.label,"expanded"),a.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(a.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var r=t&&t.className||null;r!=this.className&&(this.className&&(a.removeClassName(this.dom.label,this.className),a.removeClassName(this.dom.foreground,this.className),a.removeClassName(this.dom.background,this.className),a.removeClassName(this.dom.axis,this.className)),a.addClassName(this.dom.label,r),a.addClassName(this.dom.foreground,r),a.addClassName(this.dom.background,r),a.addClassName(this.dom.axis,r),this.className=r),this.style&&(a.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(a.addCssText(this.dom.label,t.style),this.style=t.style)},i.prototype.getLabelWidth=function(){return this.props.label.width},i.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},n=0;if(a.forEach(this.items,function(t,i){t.dirty=!0,t.displayed&&(e[i]=t.redraw(!0),n=e[i].length)}),n>0)for(var i=0;i<n;i++)a.forEach(e,function(t){t[i]()});return!0}},i.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop,e=this.dom.foreground.offsetLeft,n=this.dom.foreground.offsetWidth;this.top=t,this.right=e,this.width=n},i.prototype._redrawItems=function(t,e,n,i){if(t||this.stackDirty||this.isVisible&&!e){var r={},o=null;if("function"==typeof this.itemSet.options.order){var l=this,u={},c=0;if(a.forEach(this.items,function(t,e){t.displayed||(u[e]=t.redraw(!0),c=u[e].length,l.visibleItems.push(t))}),c>0)for(var h=0;h<c;h++)a.forEach(u,function(t){t[h]()});if(a.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)r[o]=this.subgroups[o].items.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stackSubgroupsWithInnerStack(r,n,this.subgroups)}else{var p=this.orderedItems.byStart.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stack(p,n,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(o in this.subgroups)r[o]=this.subgroups[o].items;s.stackSubgroupsWithInnerStack(r,n,this.subgroups)}else s.stack(this.visibleItems,n,!0);else s.nostack(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},i.prototype._didResize=function(t,e){t=a.updateProperty(this,"height",e)||t;var n=this.dom.inner.clientWidth,i=this.dom.inner.clientHeight;return t=a.updateProperty(this.props.label,"width",n)||t,t=a.updateProperty(this.props.label,"height",i)||t},i.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},i.prototype._updateItemsVerticalPosition=function(t){for(var e=0,n=this.visibleItems.length;e<n;e++){var i=this.visibleItems[e];i.repositionY(t),this.isVisible||"__background__"==this.groupId||i.displayed&&i.hide()}},i.prototype.redraw=function(t,e,n,i){var r,o=!1,a=this.isVisible,s=[function(){n=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(n,a,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){r=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){o=this._didResize.bind(this)(o,r)}.bind(this),function(){this._applyGroupHeight.bind(this)(r)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){return!this.isVisible&&this.height&&(o=!1),o}];if(i)return s;var l;return s.forEach(function(t){l=t()}),l},i.prototype._updateSubGroupHeights=function(t){if((0,o.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),a.forEach(this.visibleItems,function(n){void 0!==n.data.subgroup&&(e.subgroups[n.data.subgroup].height=Math.max(e.subgroups[n.data.subgroup].height,n.height+t.item.vertical),e.subgroups[n.data.subgroup].visible=!0)})}},i.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},i.prototype._calculateHeight=function(t){var e,n=this.visibleItems;if(n.length>0){var i=n[0].top,r=n[0].top+n[0].height;if(a.forEach(n,function(t){i=Math.min(i,t.top),r=Math.max(r,t.top+t.height)}),i>t.axis){var o=i-t.axis;r-=o,a.forEach(n,function(t){t.top-=o})}e=r+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},i.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},i.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)},i.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},i.prototype._addToSubgroup=function(t,e){e=e||t.data.subgroup,void 0!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var n=t.data.end||t.data.start;new Date(n)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=n),this.subgroups[e].items.push(t)},i.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var n=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start,i=t.subgroups[e].items[0].data.start,r=n-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(i)&&(i=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(r)&&(r=e)}),t.subgroups[e].start=i,t.subgroups[e].end=new Date(r-1)}},i.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var n=0;n<e.length;n++)this.subgroups[e[n].subgroup].index=n}},i.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},i.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},i.prototype._removeFromSubgroup=function(t,e){if(void 0!=(e=e||t.data.subgroup)){var n=this.subgroups[e];if(n){var i=n.items.indexOf(t);i>=0&&(n.items.splice(i,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},i.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},i.prototype.order=function(){for(var t=a.toArray(this.items),e=[],n=[],i=0;i<t.length;i++)void 0!==t[i].data.end&&n.push(t[i]),e.push(t[i]);this.orderedItems={byStart:e,byEnd:n},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},i.prototype._updateItemsInRange=function(t,e,n){var i=[],r={},o=(n.end-n.start)/4,s=n.start-o,l=n.end+o,u=function(t){return t<s?-1:t<=l?0:1};if(e.length>0)for(var c=0;c<e.length;c++)this._checkIfVisibleWithReference(e[c],i,r,n);var h=a.binarySearchCustom(t.byStart,u,"data","start");if(this._traceVisible(h,t.byStart,i,r,function(t){return t.data.start<s||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,c=0;c<t.byEnd.length;c++)this._checkIfVisibleWithReference(t.byEnd[c],i,r,n);else{var p=a.binarySearchCustom(t.byEnd,u,"data","end");this._traceVisible(p,t.byEnd,i,r,function(t){return t.data.end<s||t.data.end>l})}var d={},f=0;for(c=0;c<i.length;c++){var g=i[c];g.displayed||(d[c]=g.redraw(!0),f=d[c].length)}if(f>0)for(var m=0;m<f;m++)a.forEach(d,function(t){t[m]()});for(c=0;c<i.length;c++)i[c].repositionX();return i},i.prototype._traceVisible=function(t,e,n,i,r){if(-1!=t){var o,a;for(o=t;o>=0&&(a=e[o],!r(a));o--)void 0===i[a.id]&&(i[a.id]=!0,n.push(a));for(o=t+1;o<e.length&&(a=e[o],!r(a));o++)void 0===i[a.id]&&(i[a.id]=!0,n.push(a))}},i.prototype._checkIfVisible=function(t,e,n){t.isVisible(n)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},i.prototype._checkIfVisibleWithReference=function(t,e,n,i){t.isVisible(i)?void 0===n[t.id]&&(n[t.id]=!0,e.push(t)):t.displayed&&t.hide()},i.prototype.changeSubgroup=function(t,e,n){this._removeFromSubgroup(t,e),this._addToSubgroup(t,n),this.orderSubgroups()},t.exports=i},function(t,e,n){function i(t,e,n){a.call(this,t,e,n),this.width=0,this.height=0,this.top=0,this.left=0}var r=n(43),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(51);i.prototype=(0,o.default)(a.prototype),i.prototype.redraw=function(t,e,n){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var i=0,r=this.visibleItems.length;i<r;i++)this.visibleItems[i].repositionY(e);return!1},i.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,this.options=n,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}r.call(this,t,e,n)}var r=n(22);i.prototype=new r(null,null,null),i.prototype.baseClassName="vis-item vis-range",i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}},i.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},
i.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},i.prototype.redraw=function(t){var e,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return n;var i;return n.forEach(function(t){i=t()}),i},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},i.prototype.repositionX=function(t){var e,n,i=this.parent.width,r=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),a=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(r<-i&&(r=-i),o>2*i&&(o=2*i));var s=Math.max(o-r+.5,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=s+this.props.content.width,n=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=s,n=Math.min(o-r,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=s+"px",a){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(s-n,0)+"px":this.dom.content.style.left=Math.max(s-n,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((s-n)/2,0)+"px":this.dom.content.style.left=Math.max((s-n)/2,0)+"px";break;default:e=this.overflow?o>0?Math.max(-r,0):-n:r<0?-r:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},i.prototype.repositionY=function(){var t=this.options.orientation.item;this.dom.box.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},i.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=i},function(t,e,n){function i(t,e){}function r(t,e){return e=void 0===e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function o(t,e){var n=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(n=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(n=e.group.options.drawPoints.onRender),n}var a=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(11);i.draw=function(t,e,n,i){i=i||0;for(var a=o(n,e),u=0;u<t.length;u++)if(a){var c=a(t[u],e);!0!==c&&"object"!==(void 0===c?"undefined":(0,s.default)(c))||l.drawPoint(t[u].screen_x+i,t[u].screen_y,r(e,c),n.svgElements,n.svg,t[u].label)}else l.drawPoint(t[u].screen_x+i,t[u].screen_y,r(e),n.svgElements,n.svg,t[u].label)},i.drawIcon=function(t,e,n,i,o,a){var s=.5*o,u=l.getSVGElement("rect",a.svgElements,a.svg);u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",n-s),u.setAttributeNS(null,"width",i),u.setAttributeNS(null,"height",2*s),u.setAttributeNS(null,"class","vis-outline"),l.drawPoint(e+.5*i,n,r(t),a.svgElements,a.svg)},t.exports=i},function(t,e,n){n(88);for(var i=n(6),r=n(14),o=n(23),a=n(7)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},function(t,e,n){var i=n(35),r=n(17),o=n(59),a=n(14),s=n(10),l=n(23),u=n(94),c=n(42),h=n(100),p=n(7)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,g,m,y,v){u(n,e,g);var b,w,x,_=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==m,C=!1,T=t.prototype,k=T[p]||T["@@iterator"]||m&&T[m],O=k||_(m),L=m?S?_("entries"):O:void 0,I="Array"==e?T.entries||k:k;if(I&&(x=h(I.call(new t)))!==Object.prototype&&x.next&&(c(x,E,!0),i||s(x,p)||a(x,p,f)),S&&k&&"values"!==k.name&&(C=!0,O=function(){return k.call(this)}),i&&!v||!d&&!C&&T[p]||a(T,p,O),l[e]=O,l[E]=f,m)if(b={values:S?O:_("values"),keys:y?O:_("keys"),entries:L},v)for(w in b)w in T||o(T,w,b[w]);else r(r.P+r.F*(d||C),e,b);return b}},function(t,e,n){t.exports=!n(9)&&!n(19)(function(){return 7!=Object.defineProperty(n(58)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(24),r=n(6).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){t.exports=n(14)},function(t,e,n){var i=n(10),r=n(13),o=n(96)(!1),a=n(39)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(34);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(101)(!0);n(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(60),r=n(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var n=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){n.flush()};var r=[{name:"flush",original:void 0}];if(e&&e.replace)for(var o=0;o<e.replace.length;o++){var a=e.replace[o];r.push({name:a,original:t[a]}),n.replace(t,a)}return n._extended={object:t,methods:r},n},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}},i.prototype.replace=function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.queue({args:t,fn:i,context:this})}},i.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e){function n(t){if(t)return i(t)}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,n){var i,r,o;!function(n,a){r=[],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(){function t(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,r={},o={keydown:{},keyup:{}},a={};for(e=97;e<=122;e++)a[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)a[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)a[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)a["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)a["num"+e]={code:96+e,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var s=function(t){u(t,"keydown")},l=function(t){u(t,"keyup")},u=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)void 0===i[r].shift?i[r].fn(t):1==i[r].shift&&1==t.shiftKey?i[r].fn(t):0==i[r].shift&&0==t.shiftKey&&i[r].fn(t);1==n&&t.preventDefault()}};return r.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);void 0===o[n][a[t].code]&&(o[n][a[t].code]=[]),o[n][a[t].code].push({fn:e,shift:a[t].shift})},r.bindAll=function(t,e){void 0===e&&(e="keydown");for(var n in a)a.hasOwnProperty(n)&&r.bind(n,t,e)},r.getKey=function(t){for(var e in a)if(a.hasOwnProperty(e)){if(1==t.shiftKey&&1==a[e].shift&&t.keyCode==a[e].code)return e;if(0==t.shiftKey&&0==a[e].shift&&t.keyCode==a[e].code)return e;if(t.keyCode==a[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===a[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=o[n][a[t].code];if(void 0!==r)for(var s=0;s<r.length;s++)r[s].fn==e&&r[s].shift==a[t].shift||i.push(o[n][a[t].code][s]);o[n][a[t].code]=i}else o[n][a[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",s,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",s,!0),i.addEventListener("keyup",l,!0),r}return t})},function(t,e,n){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,n){var i=e.order;e.order=t.order,t.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onDropObjectOnItem:function(t,e,n){n(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=c.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){if(n._onAddGroups(e.items),n.groupsData&&n.groupsData.length>0){var r=n.groupsData.getDataSet();r.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(n){var i=r.get(n);i&&(i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),e=e.concat(i))}),r.update(e,i)}})}},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var o=n(43),a=i(o),s=n(1),l=i(s),u=n(12),c=n(0),h=n(15),p=n(20),d=n(49),f=n(5),g=n(51),m=n(52),y=n(72),v=n(73),b=n(53),w=n(74),x=n(133).default,_="__ungrouped__",E="__background__";r.prototype=new f,r.types={background:w,box:y,range:b,point:v},r.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var n=document.createElement("div");n.className="vis-foreground",t.appendChild(n),this.dom.foreground=n;var i=document.createElement("div");i.className="vis-axis",this.dom.axis=i;var r=document.createElement("div");r.className="vis-labelset",this.dom.labelSet=r,this._updateUngrouped();var o=new m(E,null,this);o.show(),this.groups[E]=o,this.hammer=new u(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:u.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new u(this.body.dom.rightContainer):this.groupHammer=new u(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:u.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},r.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];c.selectiveExtend(e,this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,l.default)(t.itemsAlwaysDraggable)&&(c.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,l.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,l.default)(t.margin)&&(c.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,l.default)(t.margin.item)&&c.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,l.default)(t.editable)&&c.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,l.default)(t.groupEditable)&&c.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable)),["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(function(e){var n=t[e];if(n){if(!(n instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=n}}.bind(this)),this.markDirty()}},r.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&c.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},r.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},r.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},r.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},r.prototype.setSelection=function(t){var e,n,i,r;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,n=this.selection.length;e<n;e++)i=this.selection[e],(r=this.items[i])&&r.unselect();for(this.selection=[],e=0,n=t.length;e<n;e++)i=t[e],(r=this.items[i])&&(this.selection.push(i),r.select())},r.prototype.getSelection=function(){return this.selection.concat([])},r.prototype.getVisibleItems=function(){var t,e,n=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end));var i=[];for(var r in this.groups)if(this.groups.hasOwnProperty(r))for(var o=this.groups[r],a=o.isVisible?o.visibleItems:[],s=0;s<a.length;s++){var l=a[s];this.options.rtl?l.right<e&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>e&&i.push(l.id)}return i},r.prototype._deselect=function(t){for(var e=this.selection,n=0,i=e.length;n<i;n++)if(e[n]==t){e.splice(n,1);break}},r.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,n=c.option.asSize,i=this.options,r=i.orientation.item,o=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",o=this._orderGroups()||o;var s=e.end-e.start,l=s!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,u=e.start!=this.lastRangeStart,h=i.stack!=this.lastStack,p=i.stackSubgroups!=this.lastStackSubgroups,d=l||u||h||p;this.lastVisibleInterval=s,this.lastRangeStart=e.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;var f=this._firstGroup(),g={item:t.item,axis:t.axis},m={item:t.item,axis:t.item.vertical/2},y=0,v=t.axis+t.item.vertical;this.groups[E].redraw(e,m,d);var b={},w=0;if(c.forEach(this.groups,function(t,n){if(n!==E){var i=t==f?g:m;b[n]=t.redraw(e,i,d,!0),w=b[n].length}}),w>0){for(var x={},_=0;_<w;_++)c.forEach(b,function(t,e){x[e]=t[_]()});c.forEach(this.groups,function(t,e){if(e!==E){var n=x[e];o=n||o,y+=t.height}}),y=Math.max(y,v)}return y=Math.max(y,v),a.style.height=n(y),this.props.width=a.offsetWidth,this.props.height=y,this.dom.axis.style.top=n("top"==r?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,o=this._isResized()||o},r.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups[_]||null},r.prototype._updateUngrouped=function(){var t,e,n=this.groups[_];if(this.groupsData){if(n){n.hide(),delete this.groups[_];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var i=this._getGroupId(t.data),r=this.groups[i];r&&r.add(t)||t.hide()}}}else if(!n){n=new g(null,null,this),this.groups[_]=n;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],n.add(t));n.show()}},r.prototype.getLabelSet=function(){return this.dom.labelSet},r.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof h||t instanceof p))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(c.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;c.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,r)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},r.prototype.getItems=function(){return this.itemsData},r.prototype.setGroups=function(t){var e,n=this;if(this.groupsData&&(c.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof h||t instanceof p))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var i=this.groupsData;this.groupsData instanceof p&&(i=this.groupsData.getDataSet()),i.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var n=i.get(e);n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),i.update(n)})});var r=this.id;c.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,r)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},r.prototype.getGroups=function(){return this.groupsData},r.prototype.removeItem=function(t){var e=this.itemsData.get(t),n=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&n.remove(t)})},r.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},r.prototype._getGroupId=function(t){return"background"==this._getType(t)&&void 0==t.group?E:this.groupsData?t.group:_},r.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var n,i=e.itemsData.get(t,e.itemOptions),o=e.items[t],a=i?e._getType(i):null,s=r.types[a];if(o&&(s&&o instanceof s?e._updateItem(o,i):(n=o.selected,e._removeItem(o),o=null)),!o&&i){if(!s)throw"rangeoverflow"==a?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+a+'"');o=new s(i,e.conversion,e.options),o.id=t,e._addItem(o),n&&(this.selection.push(t),o.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},r.prototype._onAdd=r.prototype._onUpdate,r.prototype._onRemove=function(t){var e=0,n=this;t.forEach(function(t){var i=n.items[t];i&&(e++,n._removeItem(i))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},r.prototype._order=function(){c.forEach(this.groups,function(t){t.order()})},r.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},r.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var n=e.groupsData.get(t),i=e.groups[t];if(i)i.setData(n);else{if(t==_||t==E)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,a.default)(e.options);c.extend(r,{height:null}),i=new g(t,n,e),e.groups[t]=i;for(var o in e.items)if(e.items.hasOwnProperty(o)){var s=e.items[o];s.data.group==t&&i.add(s)}i.order(),i.show()}}),this.body.emitter.emit("_change",{queue:!0})},r.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var n=e[t];n&&(n.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},r.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!c.equalArray(t,this.groupIds);if(e){var n=this.groups;t.forEach(function(t){n[t].hide()}),t.forEach(function(t){n[t].show()}),this.groupIds=t}return e}return!1},r.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var n=this.groupsData.get(t);if(n.nestedInGroup||e.push(t),n.nestedGroups){var i=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}),r=i.map(function(t){return t.id});e=e.concat(r)}},this),e},r.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),n=this.groups[e];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,n&&n.add(t)},r.prototype._updateItem=function(t,e){t.setData(e);var n=this._getGroupId(t.data),i=this.groups[n];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},r.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},r.prototype._constructByEndArray=function(t){for(var e=[],n=0;n<t.length;n++)t[n]instanceof b&&e.push(t[n]);return e},r.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},r.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},r.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,n=this.touchParams.item||null,i=this;if(n&&(n.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=n.editable&&!n.editable.updateTime&&!n.editable.updateGroup&&!this.options.editable.overrideItems)return;var r=this.touchParams.dragLeftItem,o=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=n,r)e={item:r,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(o)e={item:o,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var a=this._getGroupIndex(n.data.group),s=this.options.itemsAlwaysDraggable.item&&!n.selected?[n.id]:this.getSelection();this.touchParams.itemProps=s.map(function(e){var n=i.items[e],r=i._getGroupIndex(n.data.group);return{item:n,initialX:t.center.x,groupOffset:a-r,data:this._cloneItemData(n.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},r.prototype._onDragStartAddItem=function(t){var e,n,i=this.options.snap||null;this.options.rtl?(e=c.getAbsoluteRight(this.dom.frame),n=e-t.center.x+10):(e=c.getAbsoluteLeft(this.dom.frame),n=t.center.x-e-10);var r=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),s=i?i(r,o,a):r,l=s,u={type:"range",start:s,end:l,content:"new item"},h=c.randomUUID();u[this.itemsData._fieldId]=h;var p=this.groupFromTarget(t);p&&(u.group=p.groupId);var d=new b(u,this.conversion,this.options);d.id=h,d.data=this._cloneItemData(u),this._addItem(d),this.touchParams.selectedItem=d;var f={item:d,initialX:t.center.x,data:d.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},r.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,n=this,i=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var r=this.body.util.getScale(),o=this.body.util.getStep(),a=this.touchParams.selectedItem,s=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateGroup,l=null
;if(s&&a&&void 0!=a.data.group){var u=n.groupFromTarget(t);u&&(l=this._getGroupIndex(u.groupId))}this.touchParams.itemProps.forEach(function(u){var h,p,d,f,g,m=n.body.util.toTime(t.center.x-e),y=n.body.util.toTime(u.initialX-e);h=this.options.rtl?-(m-y):m-y;var v=this._cloneItemData(u.item.data);if(null==u.item.editable||u.item.editable.updateTime||u.item.editable.updateGroup||n.options.editable.overrideItems){if((this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateTime)if(u.dragLeft)this.options.rtl?void 0!=v.end&&(d=c.convert(u.data.end,"Date"),g=new Date(d.valueOf()+h),v.end=i?i(g,r,o):g):void 0!=v.start&&(p=c.convert(u.data.start,"Date"),f=new Date(p.valueOf()+h),v.start=i?i(f,r,o):f);else if(u.dragRight)this.options.rtl?void 0!=v.start&&(p=c.convert(u.data.start,"Date"),f=new Date(p.valueOf()+h),v.start=i?i(f,r,o):f):void 0!=v.end&&(d=c.convert(u.data.end,"Date"),g=new Date(d.valueOf()+h),v.end=i?i(g,r,o):g);else if(void 0!=v.start)if(p=c.convert(u.data.start,"Date").valueOf(),f=new Date(p+h),void 0!=v.end){d=c.convert(u.data.end,"Date");var b=d.valueOf()-p.valueOf();v.start=i?i(f,r,o):f,v.end=new Date(v.start.valueOf()+b)}else v.start=i?i(f,r,o):f;if(s&&!u.dragLeft&&!u.dragRight&&null!=l&&void 0!=v.group){var w=l-u.groupOffset;w=Math.max(0,w),w=Math.min(n.groupIds.length-1,w),v.group=n.groupIds[w]}v=this._cloneItemData(v),n.options.onMoving(v,function(t){t&&u.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},r.prototype._moveToGroup=function(t,e){var n=this.groups[e];if(n&&n.groupId!=t.data.group){var i=t.parent;i.remove(t),i.order(),t.data.group=n.groupId,n.add(t),n.order()}},r.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,n=this.itemsData.getDataSet(),i=this.touchParams.itemProps;this.touchParams.itemProps=null,i.forEach(function(t){var i=t.item.id;if(null!=e.itemsData.get(i,e.itemOptions)){var r=this._cloneItemData(t.item.data);e.options.onMove(r,function(r){r?(r[n._fieldId]=i,n.update(r)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(n){e._removeItem(t.item),n&&e.itemsData.getDataSet().add(n),e.body.emitter.emit("_change")})}.bind(this))}},r.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var n=this.groupsData.getDataSet(),i=n.get(e.groupId);void 0==i.showNested&&(i.showNested=!0),i.showNested=!i.showNested;var r=n.get(e.nestedGroups).map(function(t){return t.visible=i.showNested,t});if(n.update(r.concat(i)),i.showNested)c.removeClassName(e.dom.label,"collapsed"),c.addClassName(e.dom.label,"expanded");else{c.removeClassName(e.dom.label,"expanded");var o=this.options.rtl?"collapsed-rtl":"collapsed";c.addClassName(e.dom.label,o)}}},r.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},r.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof p&&(e=this.groupsData.getDataSet());var n=this.groupFromTarget(t);if(n&&n.height!=this.groupTouchParams.group.height){var i=n.top<this.groupTouchParams.group.top,r=t.center?t.center.y:t.clientY,o=c.getAbsoluteTop(n.dom.foreground),a=this.groupTouchParams.group.height;if(i){if(o+a<r)return}else if(o+n.height-a>r)return}if(n&&n!=this.groupTouchParams.group){var s=e.get(n.groupId),l=e.get(this.groupTouchParams.group.groupId);l&&s&&(this.options.groupOrderSwap(l,s,e),e.update(l),e.update(s));var u=e.getIds({order:this.options.groupOrder});if(!c.equalArray(u,this.groupTouchParams.originalOrder))for(var h=this.groupTouchParams.originalOrder,d=this.groupTouchParams.group.groupId,f=Math.min(h.length,u.length),g=0,m=0,y=0;g<f;){for(;g+m<f&&g+y<f&&u[g+m]==h[g+y];)g++;if(g+m>=f)break;if(u[g+m]==d)m=1;else if(h[g+y]==d)y=1;else{var v=u.indexOf(h[g+y]),b=e.get(u[g+m]),w=e.get(h[g+y]);this.options.groupOrderSwap(b,w,e),e.update(b),e.update(w);var x=u[g+m];u[g+m]=h[g+y],u[v]=x,g++}}}}},r.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,n=e.groupTouchParams.group.groupId,i=e.groupsData.getDataSet(),r=c.extend({},i.get(n));e.options.onMoveGroup(r,function(t){if(t)t[i._fieldId]=n,i.update(t);else{var r=i.getIds({order:e.options.groupOrder});if(!c.equalArray(r,e.groupTouchParams.originalOrder))for(var o=e.groupTouchParams.originalOrder,a=Math.min(o.length,r.length),s=0;s<a;){for(;s<a&&r[s]==o[s];)s++;if(s>=a)break;var l=r.indexOf(o[s]),u=i.get(r[s]),h=i.get(o[s]);e.options.groupOrderSwap(u,h,i),i.update(u),i.update(h);var p=r[s];r[s]=o[s],r[l]=p,s++}}}),e.body.emitter.emit("groupDragged",{groupId:n})}},r.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),n=t.srcEvent&&t.srcEvent.shiftKey;if(e||n)return void this._onMultiSelectItem(t);var i=this.getSelection(),r=this.itemFromTarget(t),o=r?[r.id]:[];this.setSelection(o);var a=this.getSelection();(a.length>0||i.length>0)&&this.body.emitter.emit("select",{items:a,event:t})}},r.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var n=e.getTitle();if(this.options.showTooltips&&n){null==this.popup&&(this.popup=new x(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);var i=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-c.getAbsoluteLeft(i)+i.offsetLeft,t.clientY-c.getAbsoluteTop(i)+i.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},r.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},r.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-c.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-c.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},r.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},r.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var n=e.itemsData.get(t.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}}},r.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),n=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,e)},r.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,n,i=this,r=this.options.snap||null;this.options.rtl?(e=c.getAbsoluteRight(this.dom.frame),n=e-t.center.x):(e=c.getAbsoluteLeft(this.dom.frame),n=t.center.x-e);var o,a,s=this.body.util.toTime(n),l=this.body.util.getScale(),u=this.body.util.getStep();"drop"==t.type?(a=JSON.parse(t.dataTransfer.getData("text")),a.content=a.content?a.content:"new item",a.start=a.start?a.start:r?r(s,l,u):s,a.type=a.type||"box",a[this.itemsData._fieldId]=a.id||c.randomUUID(),"range"!=a.type||a.end||(o=this.body.util.toTime(n+this.props.width/5),a.end=r?r(o,l,u):o)):(a={start:r?r(s,l,u):s,content:"new item"},a[this.itemsData._fieldId]=c.randomUUID(),"range"===this.options.type&&(o=this.body.util.toTime(n+this.props.width/5),a.end=r?r(o,l,u):o));var h=this.groupFromTarget(t);h&&(a.group=h.groupId),a=this._cloneItemData(a),this.options.onAdd(a,function(e){e&&(i.itemsData.getDataSet().add(e),"drop"==t.type&&i.setSelection([e.id]))})}},r.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var n=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var i=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&n.length>0&&(o=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&void 0!=o&&o!=i||n.push(e.id);var a=r._getItemRange(this.itemsData.get(n,this.itemOptions));if(!this.options.multiselectPerGroup||o==i){n=[];for(var s in this.items)if(this.items.hasOwnProperty(s)){var l=this.items[s],u=l.data.start,c=void 0!==l.data.end?l.data.end:u;!(u>=a.min&&c<=a.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(l.id).group||l instanceof w||n.push(l.id)}}}else{var h=n.indexOf(e.id);-1==h?n.push(e.id):n.splice(h,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},r._getItemRange=function(t){var e=null,n=null;return t.forEach(function(t){(null==n||t.start<n)&&(n=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:n,max:e}},r.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},r.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},r.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},r.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(var i=0;i<n.length;i++){var r=n[i],o=this.groups[r],a=o.dom.foreground,s=c.getAbsoluteTop(a);if(e>s&&e<s+a.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>s)return o}else if(0===i&&e<s+a.offset)return o}return null},r.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},r.prototype._cloneItemData=function(t,e){var n=c.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=n.start&&(n.start=c.convert(n.start,e&&e.start||"Date")),void 0!=n.end&&(n.end=c.convert(n.end,e&&e.end||"Date")),n},t.exports=r},function(t,e,n){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,n,i){if(i)for(var r=0;r<t.length;r++)t[r].top=null;for(var r=0;r<t.length;r++){var o=t[r];if(o.stack&&null===o.top){o.top=n.axis;do{for(var a=null,s=0,l=t.length;s<l;s++){var u=t[s];if(null!==u.top&&u!==o&&u.stack&&e.collision(o,u,n.item,u.options.rtl)){a=u;break}}null!=a&&(o.top=a.top+a.height+n.item.vertical)}while(a)}}},e.substack=function(t,n,i){for(var r=0;r<t.length;r++)t[r].top=null;var o=i.height;for(r=0;r<t.length;r++){var a=t[r];if(a.stack&&null===a.top){a.top=a.baseTop;do{for(var s=null,l=0,u=t.length;l<u;l++){var c=t[l];if(null!==c.top&&c!==a&&e.collision(a,c,n.item,c.options.rtl)){s=c;break}}null!=s&&(a.top=s.top+s.height+n.item.vertical),a.top+a.height>o&&(o=a.top+a.height)}while(s)}}i.height=o-i.top+.5*n.item.vertical},e.nostack=function(t,n,i,r){for(var o=0;o<t.length;o++)if(void 0==t[o].data.subgroup)t[o].top=n.item.vertical;else if(void 0!==t[o].data.subgroup&&r){var a=0;for(var s in i)i.hasOwnProperty(s)&&1==i[s].visible&&i[s].index<i[t[o].data.subgroup].index&&(a+=i[s].height,i[t[o].data.subgroup].top=a);t[o].top=a+.5*n.item.vertical}r||e.stackSubgroups(t,n,i)},e.stackSubgroups=function(t,n,i){for(var r in i)if(i.hasOwnProperty(r)){i[r].top=0;do{var o=null;for(var a in i)if(null!==i[a].top&&a!==r&&i[r].index>i[a].index&&e.collisionByTimes(i[r],i[a])){o=i[a];break}null!=o&&(i[r].top=o.top+o.height)}while(o)}for(var s=0;s<t.length;s++)void 0!==t[s].data.subgroup&&(t[s].top=i[t[s].data.subgroup].top+.5*n.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,n,i){var r=!1,o=[];for(var a in i)i[a].hasOwnProperty("index")?o[i[a].index]=a:o.push(a);for(var s=0;s<o.length;s++)if(a=o[s],i.hasOwnProperty(a)){r=r||i[a].stack,i[a].top=0;for(var l in i)i[l].visible&&i[a].index>i[l].index&&(i[a].top+=i[l].height);for(var u=t[a],c=0;c<u.length;c++)void 0!==u[c].data.subgroup&&(u[c].top=i[u[c].data.subgroup].top+.5*n.item.vertical,i[a].stack&&(u[c].baseTop=u[c].top));r&&i[a].stack&&e.substack(t[a],n,i[a])}},e.collision=function(t,e,n,i){return i?t.right-n.horizontal+.001<e.right+e.width&&t.right+t.width+n.horizontal-.001>e.right&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top:t.left-n.horizontal+.001<e.left+e.width&&t.left+t.width+n.horizontal-.001>e.left&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,n){function i(t,e,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=n,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);r.call(this,t,e,n)}var r=n(22);i.prototype=new r(null,null,null),i.prototype.isVisible=function(t){var e=this.options.align,n=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==e?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var n=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(this.dom.dot)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e,this.dom.line.className="vis-item vis-line"+e,this.dom.dot.className="vis-item vis-dot"+e}},i.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},i.prototype.redraw=function(t){var e,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return n;var i;return n.forEach(function(t){i=t()}),i},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},i.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,n=this.dom.line,i=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",n.style.top="0",n.style.height=this.parent.top+this.top+1+"px",n.style.bottom="";else{var r=this.parent.itemSet.props.height,o=r-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",n.style.top=r-o+"px",n.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},i.prototype.getWidthLeft=function(){return this.width/2},i.prototype.getWidthRight=function(){return this.width/2},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=n,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);r.call(this,t,e,n)}var r=n(22);i.prototype=new r(null,null,null),i.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e,this.dom.dot.className="vis-item vis-dot"+e}},i.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},i.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},i.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},i.prototype.redraw=function(t){var e,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return n;var i;return n.forEach(function(t){i=t()}),i},i.prototype.show=function(){this.displayed||this.redraw()},i.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},i.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},i.prototype.repositionY=function(){var t=this.options.orientation.item;this.dom.point.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},i.prototype.getWidthLeft=function(){return this.props.dot.width},i.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=i},function(t,e,n){function i(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}r.call(this,t,e,n)}var r=n(22),o=n(52),a=n(53);i.prototype=new r(null,null,null),i.prototype.baseClassName="vis-item vis-background",i.prototype.stack=!1,i.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},i.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},i.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},i.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}},i.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},i.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},i.prototype._repaintDomAdditionals=function(){},i.prototype.redraw=function(t){var e,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return n;var i;return n.forEach(function(t){i=t()}),i},i.prototype.show=a.prototype.show,i.prototype.hide=a.prototype.hide,i.prototype.repositionX=a.prototype.repositionX,i.prototype.repositionY=function(t){var e,n=this.options.orientation.item;if(void 0!==this.data.subgroup){var i=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[i].height+"px",this.dom.box.style.top="top"==n?this.parent.top+this.parent.subgroups[i].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="object",s={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:r,function:"function"}},align:{string:i},rtl:{boolean:r,undefined:"undefined"},rollingMode:{follow:{boolean:r},offset:{number:o,undefined:"undefined"},__type__:{object:a}},verticalScroll:{boolean:r,undefined:"undefined"},horizontalScroll:{boolean:r,undefined:"undefined"},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},updateGroup:{boolean:r,undefined:"undefined"},updateTime:{boolean:r,undefined:"undefined"},overrideItems:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:a}},end:{number:o,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a,function:"function"}},__type__:{object:a}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:r,undefined:"undefined"},remove:{boolean:r,undefined:"undefined"},order:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:a}},groupOrderSwap:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:"date",number:o,string:i,moment:"moment"},end:{date:"date",number:o,string:i,moment:"moment"},repeat:{string:i},__type__:{object:a,array:"array"}},itemsAlwaysDraggable:{item:{boolean:r,undefined:"undefined"},range:{boolean:r,undefined:"undefined"},__type__:{boolean:r,object:a}},limitSize:{boolean:r},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:a}},margin:{axis:{number:o},item:{horizontal:{number:o,undefined:"undefined"},vertical:{number:o,undefined:"undefined"},__type__:{object:a,number:o}},__type__:{object:a,number:o}},max:{date:"date",number:o,string:i,moment:"moment"},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:"date",number:o,string:i,moment:"moment"},minHeight:{number:o,string:i},moveable:{boolean:r},multiselect:{boolean:r},multiselectPerGroup:{boolean:r},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{boolean:r},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},stack:{boolean:r},stackSubgroups:{boolean:r},snap:{function:"function",null:"null"},start:{date:"date",number:o,string:i,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:r},tooltip:{followMouse:{boolean:r},overflowMethod:{string:["cap","flip"]},__type__:{object:a}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:r,object:a}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},__type__:{object:a}},l={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=s,e.configureOptions=l},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=i(r),a=n(1),s=i(a),l=n(30),u=i(l),c=n(31),h=i(c),p=n(0),d=n(137).default,f=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,u.default)(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},p.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new d(r),this.wrapper=void 0}return(0,h.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0
;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,s.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,n=0,i=!1;for(var r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,i=!1,"function"==typeof e?(i=e(r,[]),i=i||this._handleObject(this.configureOptions[r],[r],!0)):!0!==e&&-1===e.indexOf(r)||(i=!0),!1!==i&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),n++);if(!0===this.options.showButton){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerHTML="generate options",o.onclick=function(){t._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+e.length,i.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==t.indexOf(e)&&(r=t.indexOf(e));for(var o=0;o<t.length;o++){var a=document.createElement("option");a.value=t[o],o===r&&(a.selected="selected"),a.innerHTML=t[o],i.appendChild(a)}var s=this;i.onchange=function(){s._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=r,s.max=o}catch(t){}s.step=a;var l="",u=0;void 0!==e?(e<0&&1.2*e<r?(s.min=Math.ceil(1.2*e),u=s.min,l="range increased"):e/1.2<r&&(s.min=Math.ceil(e/1.2),u=s.min,l="range increased"),1.2*e>o&&1!==o&&(s.max=Math.ceil(1.2*e),u=s.max,l="range increased"),s.value=e):s.value=i;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=s.value;var h=this;s.onchange=function(){c.value=this.value,h._update(Number(this.value),n)},s.oninput=function(){c.value=this.value};var p=this._makeLabel(n[n.length-1],n),d=this._makeItem(n,p,s,c);""!==l&&this.popupHistory[d]!==u&&(this.popupHistory[d]=u,this._setupPopup(l,d))}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],n=e.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,s.default)(t))?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");e=void 0===e?r:e,"none"!==e?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){i._showColorPicker(t,e,n)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=this.options.filter,o=!1;for(var a in t)if(t.hasOwnProperty(a)){i=!0;var s=t[a],l=p.copyAndExtendArray(e,a);if("function"==typeof r&&!1===(i=r(a,e))&&!(s instanceof Array)&&"string"!=typeof s&&"boolean"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,i=this._handleObject(s,l,!0),this.allowCreation=!1===n),!1!==i){o=!0;var u=this._getValue(l);if(s instanceof Array)this._handleArray(s,u,l);else if("string"==typeof s)this._makeTextInput(s,u,l);else if("boolean"==typeof s)this._makeCheckbox(s,u,l);else if(s instanceof Object){var c=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(c=!1),!0===c)if(void 0!==s.enabled){var h=p.copyAndExtendArray(l,"enabled"),d=this._getValue(h);if(!0===d){var f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(s,l)||o}else this._makeCheckbox(s,d,l)}else{var g=this._makeLabel(a,l,!0);this._makeItem(l,g),o=this._handleObject(s,l)||o}}else console.error("dont know how to handle",s,a,l)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="true"===t||t,t="false"!==t&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r!==e.length-1?i=i[e[r]]:i[e[r]]=t);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,o.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=f},function(t,e,n){function i(t,e){this.id=a.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=a.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){n._onAddGroups(e.items)},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){n.lastStart=n.body.range.start,n.svg.style.left=a.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(11),l=n(15),u=n(20),c=n(5),h=n(78),p=n(80),d=n(83),f=n(81),g=n(82),m=n(54);i.prototype=new c,i.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new h(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new d(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new d(this.body,this.options.legend,"right",this.options.groups),this.show()},i.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),a.selectiveDeepExtend(e,this.options,t),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),a.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},i.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof l||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(a.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var r=this.id;a.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,r)}),e=this.itemsData.getIds(),this._onAdd(e)}},i.prototype.setGroups=function(t){var e,n=this;if(this.groupsData){a.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<e.length;i++)this._removeGroup(e[i])}if(t){if(!(t instanceof l||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var r=this.id;a.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,r)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},i.prototype._onUpdate=function(t){this._updateAllGroupData(t)},i.prototype._onAdd=function(t){this._onUpdate(t)},i.prototype._onRemove=function(t){this._onUpdate(t)},i.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},i.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},i.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},i.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},i.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new p(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},i.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var n={},i=this.itemsData.get(),r=this.itemsData._fieldId,o={};t&&t.map(function(t){o[t]=t});for(var s={},l=0;l<i.length;l++){var u=i[l],c=u.group;null!==c&&void 0!==c||(c="__ungrouped__"),s.hasOwnProperty(c)?s[c]++:s[c]=1}var h={};if(!e&&t)for(c in this.groups)if(this.groups.hasOwnProperty(c)){m=this.groups[c];var p=m.getItems();n[c]=p.filter(function(t){return h[t[r]]=t[r],t[r]!==o[t[r]]});var d=s[c];s[c]-=n[c].length,n[c].length<d&&(n[c][d-1]={})}for(l=0;l<i.length;l++)if(u=i[l],c=u.group,null!==c&&void 0!==c||(c="__ungrouped__"),e||!t||u[r]===o[u[r]]||!h.hasOwnProperty(u[r])){n.hasOwnProperty(c)||(n[c]=new Array(s[c]));var f=a.bridgeObject(u);f.x=a.convert(u.x,"Date"),f.end=a.convert(u.end,"Date"),f.orginalY=u.y,f.y=Number(u.y),f[r]=u[r];var g=n[c].length-s[c]--;n[c][g]=f}for(c in this.groups)this.groups.hasOwnProperty(c)&&(n.hasOwnProperty(c)||(n[c]=new Array(0)));for(c in n)if(n.hasOwnProperty(c))if(0==n[c].length)this.groups.hasOwnProperty(c)&&this._removeGroup(c);else{var m=void 0;void 0!=this.groupsData&&(m=this.groupsData.get(c)),void 0==m&&(m={id:c,content:this.options.defaultGroup+c}),this._updateGroup(m,c),this.groups[c].setItems(n[c])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},i.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,n=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=a.option.asSize(3*this.props.width),this.svg.style.left=a.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var i=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(0!=this.props.width){var o=this.props.width/r,s=i*o;this.svg.style.left=-this.props.width-s+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},i.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var n=this.groups[e];1!=n.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:n.options.zIndex})}a.insertSort(t,function(t,e){var n=t.zIndex,i=e.zIndex;return void 0===n&&(n=0),void 0===i&&(i=0),n==i?0:n<i?-1:1});for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=t[r].id;return i},i.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,n={},i=this.body.util.toGlobalTime(-this.body.domProps.root.width),r=this.body.util.toGlobalTime(2*this.body.domProps.root.width),o=this._getSortedGroupIds();if(o.length>0){var a={};for(this._getRelevantData(o,a,i,r),this._applySampling(o,a),e=0;e<o.length;e++)this._convertXcoordinates(a[o[e]]);if(this._getYRanges(o,a,n),1==this._updateYAxis(o,n))return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<o.length;e++)t=this.groups[o[e]],!0===this.options.stack&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=l&&(this._stack(a[t.id],a[l.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==l.options.shaded.orientation?(l.options.shaded.orientation="group",l.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=l.id))),l=t)),this._convertYcoordinates(a[o[e]],t);var u={};for(e=0;e<o.length;e++)if(t=this.groups[o[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var c=a[o[e]];if(null==c||0==c.length)continue;if(u.hasOwnProperty(o[e])||(u[o[e]]=g.calcPath(c,t)),"group"===t.options.shaded.orientation){var h=t.options.shaded.groupId;if(-1===o.indexOf(h)){console.log(t.id+": Unknown shading group target given:"+h);continue}u.hasOwnProperty(h)||(u[h]=g.calcPath(a[h],this.groups[h])),g.drawShading(u[o[e]],t,u[h],this.framework)}else g.drawShading(u[o[e]],t,void 0,this.framework)}for(f.draw(o,a,this.framework),e=0;e<o.length;e++)if(t=this.groups[o[e]],a[o[e]].length>0)switch(t.options.style){case"line":u.hasOwnProperty(o[e])||(u[o[e]]=g.calcPath(a[o[e]],t)),g.draw(u[o[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(a[o[e]],t,this.framework)}}}return s.cleanupElements(this.svgElements),!1},i.prototype._stack=function(t,e){var n,i,r,o,a;n=0;for(var s=0;s<t.length;s++){o=void 0,a=void 0;for(var l=n;l<e.length;l++){if(e[l].x===t[s].x){o=e[l],a=e[l],n=l;break}if(e[l].x>t[s].x){a=e[l],o=0==l?a:e[l-1],n=l;break}}void 0===a&&(o=e[e.length-1],a=e[e.length-1]),i=a.x-o.x,r=a.y-o.y,t[s].y=0==i?t[s].orginalY+a.y:t[s].orginalY+r/i*(t[s].x-o.x)+o.y}},i.prototype._getRelevantData=function(t,e,n,i){var r,o,s,l;if(t.length>0)for(o=0;o<t.length;o++){r=this.groups[t[o]];var u=r.getItems();if(1==r.options.sort){var c=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},h=Math.max(0,a.binarySearchValue(u,n,"x","before",c)),p=Math.min(u.length,a.binarySearchValue(u,i,"x","after",c)+1);p<=0&&(p=u.length);var d=new Array(p-h);for(s=h;s<p;s++)l=r.itemsData[s],d[s-h]=l;e[t[o]]=d}else e[t[o]]=r.itemsData}},i.prototype._applySampling=function(t,e){var n;if(t.length>0)for(var i=0;i<t.length;i++)if(n=this.groups[t[i]],1==n.options.sampling){var r=e[t[i]];if(r.length>0){var o=1,a=r.length,s=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x),l=a/s;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(l)));for(var u=new Array(a),c=0;c<a;c+=o){var h=Math.round(c/o);u[h]=r[c]}e[t[i]]=u.splice(0,Math.round(a/o))}}},i.prototype._getYRanges=function(t,e,n){var i,r,o,a,s=[],l=[];if(t.length>0){for(o=0;o<t.length;o++)i=e[t[o]],a=this.groups[t[o]].options,i.length>0&&(r=this.groups[t[o]],!0===a.stack&&"bar"===a.style?"left"===a.yAxisOrientation?s=s.concat(i):l=l.concat(i):n[t[o]]=r.getYRange(i,t[o]));f.getStackedYRange(s,n,t,"__barStackLeft","left"),f.getStackedYRange(l,n,t,"__barStackRight","right")}},i.prototype._updateYAxis=function(t,e){var n,i,r=!1,o=!1,a=!1,s=1e9,l=1e9,u=-1e9,c=-1e9;if(t.length>0){for(var h=0;h<t.length;h++){var p=this.groups[t[h]];p&&"right"!=p.options.yAxisOrientation?(o=!0,s=1e9,u=-1e9):p&&p.options.yAxisOrientation&&(a=!0,l=1e9,c=-1e9)}for(h=0;h<t.length;h++)e.hasOwnProperty(t[h])&&!0!==e[t[h]].ignore&&(n=e[t[h]].min,i=e[t[h]].max,"right"!=e[t[h]].yAxisOrientation?(o=!0,s=s>n?n:s,u=u<i?i:u):(a=!0,l=l>n?n:l,c=c<i?i:c));1==o&&this.yAxisLeft.setRange(s,u),1==a&&this.yAxisRight.setRange(l,c)}r=this._toggleAxisVisiblity(o,this.yAxisLeft)||r,r=this._toggleAxisVisiblity(a,this.yAxisRight)||r,1==a&&1==o?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!o,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==a?this.yAxisRight.width:0,r=this.yAxisLeft.redraw()||r,r=this.yAxisRight.redraw()||r):r=this.yAxisRight.redraw()||r;var d=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<d.length;h++)-1!=t.indexOf(d[h])&&t.splice(t.indexOf(d[h]),1);return r},i.prototype._toggleAxisVisiblity=function(t,e){var n=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),n=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),n=!0),n},i.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,n=0;n<t.length;n++)t[n].screen_x=e(t[n].x)+this.props.width,t[n].screen_y=t[n].y,void 0!=t[n].end?t[n].screen_end=e(t[n].end)+this.props.width:t[n].screen_end=void 0},i.prototype._convertYcoordinates=function(t,e){var n=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(n=this.yAxisRight);for(var r=0;r<t.length;r++)t[r].screen_y=Math.round(n.convertValue(t[r].y));e.setZeroPosition(Math.min(i,n.convertValue(0)))},t.exports=i},function(t,e,n){function i(t,e,n,i){this.id=a.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=a.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var r=this;this.body.emitter.on("verticalDrag",function(){r.dom.lineContainer.style.top=r.body.domProps.scrollTop+"px"})}var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(11),l=n(5),u=n(79);i.prototype=new l,i.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},i.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},i.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},i.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var n=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];a.selectiveDeepExtend(n,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},i.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var t,e=this.options.iconWidth,n=11.5;t="left"===this.options.orientation?4:this.width-e-4;var i=(0,o.default)(this.groups);i.sort(function(t,e){return t<e?-1:1});for(var r=0;r<i.length;r++){var a=i[r];!0!==this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&!0!==this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(e,15,this.framework,t,n),n+=19)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},i.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},i.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},i.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},i.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},i.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var n in this.groups)this.groups.hasOwnProperty(n)&&(!0!==this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&!0!==this.linegraphOptions.visibility[n]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var i=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();var o=this.options.orientation,a=this.options.showMinorLabels,s=this.options.showMajorLabels;i.minorLabelHeight=a?i.minorCharHeight:0,i.majorLabelHeight=s?i.majorCharHeight:0,i.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,"left"===o?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=this.width+"px",r.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return t},i.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var n=this.options.orientation,i=void 0!=this.options[n].range?this.options[n].range:{},r=!0;void 0!=i.max&&(this.range.end=i.max,r=!1);var o=!0;void 0!=i.min&&(this.range.start=i.min,o=!1),this.scale=new u(this.range.start,this.range.end,o,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var i=e.y,r=e.major;t.options.showMinorLabels&&!1===r&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-minor",t.props.minorCharHeight),r&&i>=0&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(r?t._redrawLine(i,n,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(i,n,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var a=0;void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(a=this.props.titleCharHeight);var l=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15
;return this.maxLabelSize>this.width-l&&!0===this.options.visible?(this.width=this.maxLabelSize+l,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},i.prototype.convertValue=function(t){return this.scale.convertValue(t)},i.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},i.prototype._redrawLabel=function(t,e,n,i,r){var o=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);o.className=i,o.innerHTML=e,"left"===n?(o.style.left="-"+this.options.labelOffsetX+"px",o.style.textAlign="right"):(o.style.right="-"+this.options.labelOffsetX+"px",o.style.textAlign="left"),o.style.top=t-.5*r+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},i.prototype._redrawLine=function(t,e,n,i,r){if(!0===this.master){var o=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);o.className=n,o.innerHTML="","left"===e?o.style.left=this.width-i+"px":o.style.right=this.width-i+"px",o.style.width=r+"px",o.style.top=t+"px"}},i.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&a.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},i.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),i=document.createElement("div");i.className="vis-y-axis vis-major vis-measure",i.appendChild(n),this.dom.frame.appendChild(i),this.props.majorCharHeight=i.clientHeight,this.props.majorCharWidth=i.clientWidth,this.dom.frame.removeChild(i)}if(!("titleCharHeight"in this.props)){var r=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-title vis-measure",o.appendChild(r),this.dom.frame.appendChild(o),this.props.titleCharHeight=o.clientHeight,this.props.titleCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}},t.exports=i},function(t,e,n){function i(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=r,this.majorCharHeight=o,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=a,this.autoScaleStart=n,this.autoScaleEnd=i,this.formattingFunction=s,n||i){var l=this,u=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=u(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=u(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,n=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);var i=0;n<0&&(i=n);for(var r=!1,o=i;Math.abs(o)<=Math.abs(n);o++){this.magnitudefactor=Math.pow(10,o);for(var a=0;a<this.minorSteps.length;a++)if(this.magnitudefactor*this.minorSteps[a]>=e){r=!0,this.minorStepIdx=a;break}if(!0===r)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),n=(e-this._start%e)%e,i=this._start+n;this._end-i>1e-5;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,n=this._start,i=this._end,r=this,o=function(){r.magnitudefactor*=2},a=function(){r.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?o():(o(),o())):(this.minorStepIdx=2,1==e?a():(a(),a())));for(var s=t.convertValue(0),l=t.getStep()*t.scale,u=!1,c=0;!u&&c++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var h=this.containerHeight/this.scale;this._start=n,this._end=this._start+h;var p=this._end*this.scale,d=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var g=s-p;this._end+=g/this.scale,this._start=this._end-h}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+h):(this._start+=d-f/this.scale,this._end=this._start+h);if(!this.autoScaleEnd&&this._end>i+1e-5)a(),u=!1;else{if(!this.autoScaleStart&&this._start<n-1e-5){if(!(this.zeroAlign&&n>=0)){a(),u=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&h<i-n?(o(),u=!1):u=!0}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,n){function i(t,e,n,i){this.id=e;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=a.selectiveBridgeObject(r,n),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(81),l=n(82),u=n(54);i.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&a.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},i.prototype.getItems=function(){return this.itemsData},i.prototype.setZeroPosition=function(t){this.zeroPosition=t},i.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];a.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),a.mergeOptions(this.options,t,"interpolation"),a.mergeOptions(this.options,t,"drawPoints"),a.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},i.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},i.prototype.getLegend=function(t,e,n,i,r){switch(void 0!=n&&null!=n||(n={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),void 0!=i&&null!=i||(i=0),void 0!=r&&null!=r||(r=.5*e),this.options.style){case"line":l.drawIcon(this,i,r,t,e,n);break;case"points":case"point":u.drawIcon(this,i,r,t,e,n);break;case"bar":s.drawIcon(this,i,r,t,e,n)}return{icon:n.svg,label:this.content,orientation:this.options.yAxisOrientation}},i.prototype.getYRange=function(t){for(var e=t[0].y,n=t[0].y,i=0;i<t.length;i++)e=e>t[i].y?t[i].y:e,n=n<t[i].y?t[i].y:n;return{min:e,max:n,yAxisOrientation:this.options.yAxisOrientation}},t.exports=i},function(t,e,n){function i(t,e){}var r=n(11),o=n(54);i.drawIcon=function(t,e,n,i,o,a){var s=.5*o,l=r.getSVGElement("rect",a.svgElements,a.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",n-s),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",2*s),l.setAttributeNS(null,"class","vis-outline");var u=Math.round(.3*i),c=t.options.barChart.width,h=c/u,p=Math.round(.4*o),d=Math.round(.75*o),f=Math.round((i-2*u)/3);if(r.drawBar(e+.5*u+f,n+s-p-1,u,p,t.className+" vis-bar",a.svgElements,a.svg,t.style),r.drawBar(e+1.5*u+f+2,n+s-d-1,u,d,t.className+" vis-bar",a.svgElements,a.svg,t.style),1==t.options.drawPoints.enabled){var g={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/h,className:t.className};r.drawPoint(e+.5*u+f,n+s-p-1,g,a.svgElements,a.svg),r.drawPoint(e+1.5*u+f+2,n+s-d-1,g,a.svgElements,a.svg)}},i.draw=function(t,e,n){var a,s,l,u,c,h,p=[],d={},f=0;for(c=0;c<t.length;c++)if(u=n.groups[t[c]],"bar"===u.options.style&&!0===u.visible&&(void 0===n.options.groups.visibility[t[c]]||!0===n.options.groups.visibility[t[c]]))for(h=0;h<e[t[c]].length;h++)p.push({screen_x:e[t[c]][h].screen_x,screen_end:e[t[c]][h].screen_end,screen_y:e[t[c]][h].screen_y,x:e[t[c]][h].x,end:e[t[c]][h].end,y:e[t[c]][h].y,groupId:t[c],label:e[t[c]][h].label}),f+=1;if(0!==f)for(p.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),i._getDataIntersections(d,p),c=0;c<p.length;c++){u=n.groups[p[c].groupId];var g=void 0!=u.options.barChart.minWidth?u.options.barChart.minWidth:.1*u.options.barChart.width;s=p[c].screen_x;var m=0;if(void 0===d[s])c+1<p.length&&(a=Math.abs(p[c+1].screen_x-s)),l=i._getSafeDrawData(a,u,g);else{var y=c+(d[s].amount-d[s].resolved);y<p.length&&(a=Math.abs(p[y].screen_x-s)),l=i._getSafeDrawData(a,u,g),d[s].resolved+=1,!0===u.options.stack&&!0!==u.options.excludeFromStacking?p[c].screen_y<u.zeroPosition?(m=d[s].accumulatedNegative,d[s].accumulatedNegative+=u.zeroPosition-p[c].screen_y):(m=d[s].accumulatedPositive,d[s].accumulatedPositive+=u.zeroPosition-p[c].screen_y):!0===u.options.barChart.sideBySide&&(l.width=l.width/d[s].amount,l.offset+=d[s].resolved*l.width-.5*l.width*(d[s].amount+1))}var v=l.width,b=p[c].screen_x;if(void 0!=p[c].screen_end?(v=p[c].screen_end-p[c].screen_x,b+=.5*v):b+=l.offset,r.drawBar(b,p[c].screen_y-m,v,u.zeroPosition-p[c].screen_y,u.className+" vis-bar",n.svgElements,n.svg,u.style),!0===u.options.drawPoints.enabled){var w={screen_x:p[c].screen_x,screen_y:p[c].screen_y-m,x:p[c].x,y:p[c].y,groupId:p[c].groupId,label:p[c].label};o.draw([w],u,n,l.offset)}}},i._getDataIntersections=function(t,e){for(var n,i=0;i<e.length;i++)i+1<e.length&&(n=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(n=Math.min(n,Math.abs(e[i-1].screen_x-e[i].screen_x))),0===n&&(void 0===t[e[i].screen_x]&&(t[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[i].screen_x].amount+=1)},i._getSafeDrawData=function(t,e,n){var i,r;return t<e.options.barChart.width&&t>0?(i=t<n?n:t,r=0,"left"===e.options.barChart.align?r-=.5*t:"right"===e.options.barChart.align&&(r+=.5*t)):(i=e.options.barChart.width,r=0,"left"===e.options.barChart.align?r-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(r+=.5*e.options.barChart.width)),{width:i,offset:r}},i.getStackedYRange=function(t,e,n,r,o){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var a={};i._getDataIntersections(a,t),e[r]=i._getStackedYRange(a,t),e[r].yAxisOrientation=o,n.push(r)}},i._getStackedYRange=function(t,e){for(var n,i=e[0].screen_y,r=e[0].screen_y,o=0;o<e.length;o++)n=e[o].screen_x,void 0===t[n]?(i=i>e[o].screen_y?e[o].screen_y:i,r=r<e[o].screen_y?e[o].screen_y:r):e[o].screen_y<0?t[n].accumulatedNegative+=e[o].screen_y:t[n].accumulatedPositive+=e[o].screen_y;for(var a in t)t.hasOwnProperty(a)&&(i=i>t[a].accumulatedNegative?t[a].accumulatedNegative:i,i=i>t[a].accumulatedPositive?t[a].accumulatedPositive:i,r=r<t[a].accumulatedNegative?t[a].accumulatedNegative:r,r=r<t[a].accumulatedPositive?t[a].accumulatedPositive:r);return{min:i,max:r}},t.exports=i},function(t,e,n){function i(t,e){}var r=n(11);i.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?i._catmullRom(t,e):i._linear(t)},i.drawIcon=function(t,e,n,i,o,a){var s,l,u=.5*o,c=r.getSVGElement("rect",a.svgElements,a.svg);if(c.setAttributeNS(null,"x",e),c.setAttributeNS(null,"y",n-u),c.setAttributeNS(null,"width",i),c.setAttributeNS(null,"height",2*u),c.setAttributeNS(null,"class","vis-outline"),s=r.getSVGElement("path",a.svgElements,a.svg),s.setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+n+" L"+(e+i)+","+n),1==t.options.shaded.enabled&&(l=r.getSVGElement("path",a.svgElements,a.svg),"top"==t.options.shaded.orientation?l.setAttributeNS(null,"d","M"+e+", "+(n-u)+"L"+e+","+n+" L"+(e+i)+","+n+" L"+(e+i)+","+(n-u)):l.setAttributeNS(null,"d","M"+e+","+n+" L"+e+","+(n+u)+" L"+(e+i)+","+(n+u)+"L"+(e+i)+","+n),l.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&l.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var h={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};r.drawPoint(e+.5*i,n,h,a.svgElements,a.svg)}},i.drawShading=function(t,e,n,i){if(1==e.options.shaded.enabled){var o=Number(i.svg.style.height.replace("px","")),a=r.getSVGElement("path",i.svgElements,i.svg),s="L";1==e.options.interpolation.enabled&&(s="C");var l,u=0;u="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?o:Math.min(Math.max(0,e.zeroPosition),o),l="group"==e.options.shaded.orientation&&null!=n&&void 0!=n?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1)+" L"+n[n.length-1][0]+","+n[n.length-1][1]+" "+this.serializePath(n,s,!0)+n[0][0]+","+n[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1)+" V"+u+" H"+t[0][0]+" Z",a.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&a.setAttributeNS(null,"style",e.options.shaded.style),a.setAttributeNS(null,"d",l)}},i.draw=function(t,e,n){if(null!=t&&void 0!=t){var i=r.getSVGElement("path",n.svgElements,n.svg);i.setAttributeNS(null,"class",e.className),void 0!==e.style&&i.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),i.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},i.serializePath=function(t,e,n){if(t.length<2)return"";var i,r=e;if(n)for(i=t.length-2;i>0;i--)r+=t[i][0]+","+t[i][1]+" ";else for(i=1;i<t.length;i++)r+=t[i][0]+","+t[i][1]+" ";return r},i._catmullRomUniform=function(t){var e,n,i,r,o,a,s=[];s.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,u=0;u<l-1;u++)e=0==u?t[0]:t[u-1],n=t[u],i=t[u+1],r=u+2<l?t[u+2]:i,o={screen_x:(-e.screen_x+6*n.screen_x+i.screen_x)*(1/6),screen_y:(-e.screen_y+6*n.screen_y+i.screen_y)*(1/6)},a={screen_x:(n.screen_x+6*i.screen_x-r.screen_x)*(1/6),screen_y:(n.screen_y+6*i.screen_y-r.screen_y)*(1/6)},s.push([o.screen_x,o.screen_y]),s.push([a.screen_x,a.screen_y]),s.push([i.screen_x,i.screen_y]);return s},i._catmullRom=function(t,e){var n=e.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(t);var i,r,o,a,s,l,u,c,h,p,d,f,g,m,y,v,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var E=t.length,S=0;S<E-1;S++)i=0==S?t[0]:t[S-1],r=t[S],o=t[S+1],a=S+2<E?t[S+2]:o,u=Math.sqrt(Math.pow(i.screen_x-r.screen_x,2)+Math.pow(i.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),h=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),m=Math.pow(h,n),v=Math.pow(h,2*n),y=Math.pow(c,n),b=Math.pow(c,2*n),x=Math.pow(u,n),w=Math.pow(u,2*n),p=2*w+3*x*y+b,d=2*v+3*m*y+b,f=3*x*(x+y),f>0&&(f=1/f),g=3*m*(m+y),g>0&&(g=1/g),s={screen_x:(-b*i.screen_x+p*r.screen_x+w*o.screen_x)*f,screen_y:(-b*i.screen_y+p*r.screen_y+w*o.screen_y)*f},l={screen_x:(v*r.screen_x+d*o.screen_x-b*a.screen_x)*g,screen_y:(v*r.screen_y+d*o.screen_y-b*a.screen_y)*g},0==s.screen_x&&0==s.screen_y&&(s=r),0==l.screen_x&&0==l.screen_y&&(l=o),_.push([s.screen_x,s.screen_y]),_.push([l.screen_x,l.screen_y]),_.push([o.screen_x,o.screen_y]);return _},i._linear=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n].screen_x,t[n].screen_y]);return e},t.exports=i},function(t,e,n){function i(t,e,n,i){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=n,this.options=a.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(r),a=n(0),s=n(11),l=n(5);i.prototype=new l,i.prototype.clear=function(){this.groups={},this.amountOfGroups=0},i.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},i.prototype.updateGroup=function(t,e){this.groups[t]=e},i.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},i.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},i.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},i.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},i.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];a.selectiveDeepExtend(e,this.options,t)},i.prototype.redraw=function(){var t=0,e=(0,o.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var n=0;n<e.length;n++){var i=e[n];1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var a="";for(n=0;n<e.length;n++)i=e[n],1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||(a+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=a,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},i.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,o.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(e.replace("px","")),i=n,r=this.options.iconSize,a=.75*this.options.iconSize,l=n+.5*a+3;this.svg.style.width=r+5+n+"px";for(var u=0;u<t.length;u++){var c=t[u];1!=this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&1!=this.linegraphOptions.visibility[c]||(this.groups[c].getLegend(r,a,this.framework,i,l),l+=a+this.options.iconSpacing)}}},t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",r="boolean",o="number",a="object",s={configure:{enabled:{boolean:r},filter:{boolean:r,function:"function"},container:{dom:"dom"},__type__:{object:a,boolean:r,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:r},sampling:{boolean:r},stack:{boolean:r},graphHeight:{string:i,number:o},shaded:{enabled:{boolean:r},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{boolean:r,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:o},minWidth:{number:o},sideBySide:{boolean:r},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{boolean:r},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:o},__type__:{object:a,boolean:r}},drawPoints:{enabled:{boolean:r},onRender:{function:"function"},size:{number:o},style:{string:["square","circle"]},__type__:{object:a,boolean:r,function:"function"}},dataAxis:{showMinorLabels:{boolean:r},showMajorLabels:{boolean:r},icons:{boolean:r},width:{string:i,number:o},visible:{boolean:r},alignZeros:{boolean:r},left:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:o,undefined:"undefined"},max:{number:o,undefined:"undefined"},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:o,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{boolean:r},icons:{boolean:r},left:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{boolean:r},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,boolean:r}},groups:{visibility:{any:"any"},__type__:{object:a}},autoResize:{boolean:r},throttleRedraw:{number:o},clickToUse:{boolean:r},end:{number:o,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},height:{string:i,number:o},hiddenDates:{start:{date:"date",number:o,string:i,moment:"moment"},end:{date:"date",number:o,string:i,moment:"moment"},repeat:{string:i},__type__:{object:a,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:a}},max:{date:"date",number:o,string:i,moment:"moment"},maxHeight:{number:o,string:i},maxMinorChars:{number:o},min:{date:"date",number:o,string:i,moment:"moment"},minHeight:{number:o,string:i},moveable:{boolean:r},multiselect:{boolean:r},orientation:{string:i},showCurrentTime:{boolean:r},showMajorLabels:{boolean:r},showMinorLabels:{boolean:r},start:{date:"date",number:o,string:i,moment:"moment"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:o,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:o},zoomable:{boolean:r},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:o},zoomMin:{number:o},zIndex:{number:o},__type__:{object:a}},l={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=s,e.configureOptions=l},function(t,e,n){e.util=n(0),e.DOMutil=n(11),e.DataSet=n(15),e.DataView=n(20),e.Queue=n(65),e.Timeline=n(129),e.Graph2d=n(138),e.timeline={Core:n(48),DateUtil:n(21),Range:n(47),stack:n(71),TimeStep:n(49),components:{items:{Item:n(22),BackgroundItem:n(74),BoxItem:n(72),PointItem:n(73),RangeItem:n(53)},BackgroundGroup:n(52),Component:n(5),CurrentTime:n(50),CustomTime:n(29),DataAxis:n(78),DataScale:n(79),GraphGroup:n(80),Group:n(51),ItemSet:n(70),Legend:n(83),LineGraph:n(77),TimeAxis:n(28)}},e.moment=n(3),e.Hammer=n(12),e.keycharm=n(68)},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e,n){n(55),n(62),t.exports=n(102)},function(t,e,n){var i=n(89),r=n(90),o=n(23),a=n(13);t.exports=n(56)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(93);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(37),r=n(25),o=n(42),a={};n(14)(a,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(8),r=n(18),o=n(26);t.exports=n(9)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(13),r=n(97),o=n(98);t.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(38),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(38),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(6).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(10),r=n(61),o=n(39)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(38),r=n(34);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var i=n(18),r=n(103);t.exports=n(2).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(104),r=n(7)("iterator"),o=n(23);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(33),r=n(7)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){n(106);var i=n(2).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(17);i(i.S,"Object",{create:n(37)})},function(t,e,n){n(108),t.exports=n(2).Object.keys},function(t,e,n){var i=n(61),r=n(26);n(109)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){
var i=n(17),r=n(2),o=n(19);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){t.exports={default:n(111),__esModule:!0}},function(t,e,n){n(62),n(55),t.exports=n(44).f("iterator")},function(t,e,n){t.exports={default:n(113),__esModule:!0}},function(t,e,n){n(114),n(120),n(121),n(122),t.exports=n(2).Symbol},function(t,e,n){var i=n(6),r=n(10),o=n(9),a=n(17),s=n(59),l=n(115).KEY,u=n(19),c=n(40),h=n(42),p=n(27),d=n(7),f=n(44),g=n(45),m=n(116),y=n(117),v=n(18),b=n(13),w=n(36),x=n(25),_=n(37),E=n(118),S=n(119),C=n(8),T=n(26),k=S.f,O=C.f,L=E.f,I=i.Symbol,A=i.JSON,P=A&&A.stringify,M=d("_hidden"),N=d("toPrimitive"),D={}.propertyIsEnumerable,R=c("symbol-registry"),F=c("symbols"),G=c("op-symbols"),j=Object.prototype,z="function"==typeof I,U=i.QObject,B=!U||!U.prototype||!U.prototype.findChild,H=o&&u(function(){return 7!=_(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=k(j,e);i&&delete j[e],O(t,e,n),i&&t!==j&&O(j,e,i)}:O,Y=function(t){var e=F[t]=_(I.prototype);return e._k=t,e},V=z&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},W=function(t,e,n){return t===j&&W(G,e,n),v(t),e=w(e,!0),v(n),r(F,e)?(n.enumerable?(r(t,M)&&t[M][e]&&(t[M][e]=!1),n=_(n,{enumerable:x(0,!1)})):(r(t,M)||O(t,M,x(1,{})),t[M][e]=!0),H(t,e,n)):O(t,e,n)},q=function(t,e){v(t);for(var n,i=m(e=b(e)),r=0,o=i.length;o>r;)W(t,n=i[r++],e[n]);return t},Z=function(t,e){return void 0===e?_(t):q(_(t),e)},X=function(t){var e=D.call(this,t=w(t,!0));return!(this===j&&r(F,t)&&!r(G,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,M)&&this[M][t])||e)},K=function(t,e){if(t=b(t),e=w(e,!0),t!==j||!r(F,e)||r(G,e)){var n=k(t,e);return!n||!r(F,e)||r(t,M)&&t[M][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=L(b(t)),i=[],o=0;n.length>o;)r(F,e=n[o++])||e==M||e==l||i.push(e);return i},J=function(t){for(var e,n=t===j,i=L(n?G:b(t)),o=[],a=0;i.length>a;)!r(F,e=i[a++])||n&&!r(j,e)||o.push(F[e]);return o};z||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===j&&e.call(G,n),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),H(this,t,x(1,n))};return o&&B&&H(j,t,{configurable:!0,set:e}),Y(t)},s(I.prototype,"toString",function(){return this._k}),S.f=K,C.f=W,n(64).f=E.f=Q,n(46).f=X,n(63).f=J,o&&!n(35)&&s(j,"propertyIsEnumerable",X,!0),f.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!z,{Symbol:I});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)d($[tt++]);for(var et=T(d.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=I(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!z,"Object",{create:Z,defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),A&&a(a.S+a.F*(!z||u(function(){var t=I();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!V(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return e=i[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!V(e))return e}),i[1]=e,P.apply(A,i)}}}),I.prototype[N]||n(14)(I.prototype,N,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(27)("meta"),r=n(24),o=n(10),a=n(8).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(19)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},p=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},d=function(t){return u&&f.NEED&&l(t)&&!o(t,i)&&c(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:p,onFreeze:d}},function(t,e,n){var i=n(26),r=n(63),o=n(46);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var i=n(33);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(13),r=n(64).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},function(t,e,n){var i=n(46),r=n(25),o=n(13),a=n(36),s=n(10),l=n(57),u=Object.getOwnPropertyDescriptor;e.f=n(9)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(45)("asyncIterator")},function(t,e,n){n(45)("observable")},function(t,e,n){(function(t){!function(e,n){t.exports=function(){function e(){return ki.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Se(t,e,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=p()),t._pf}function f(t){if(null==t._isValid){var e=d(t),n=Oi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=h(NaN);return null!=t?c(d(e),t):d(e).userInvalidated=!0,e}function m(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),Li.length>0)for(n=0;n<Li.length;n++)i=Li[n],r=e[i],o(r)||(t[i]=r);return t}function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ii&&(Ii=!0,e.updateOffset(this),Ii=!1)}function v(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&a++;return a+o}function _(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,n){var i=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}_(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Ai[t]||(_(n),Ai[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(t,e){var n,r=c({},t);for(n in e)u(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},c(r[n],t[n]),c(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&i(t[n])&&(r[n]=c({},r[n]));return r}function O(t){null!=t&&this.set(t)}function L(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i}function I(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function A(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function M(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)}function N(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function D(t,e){var n=t.toLowerCase();Fi[n]=Fi[n+"s"]=Fi[e]=t}function R(t){return"string"==typeof t?Fi[t]||Fi[t.toLowerCase()]:void 0}function F(t){var e,n,i={};for(n in t)u(t,n)&&(e=R(n))&&(i[e]=t[n]);return i}function G(t,e){Gi[t]=e}function j(t){var e=[];for(var n in t)e.push({unit:n,priority:Gi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function z(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function U(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Bi[t]=r),e&&(Bi[e[0]]=function(){return z(r.apply(this,arguments),e[1],e[2])}),n&&(Bi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t){var e,n,i=t.match(ji);for(e=0,n=i.length;e<n;e++)Bi[i[e]]?i[e]=Bi[i[e]]:i[e]=B(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=C(i[r])?i[r].call(e,t):i[r];return o}}function Y(t,e){return t.isValid()?(e=V(e,t.localeData()),Ui[e]=Ui[e]||H(e),Ui[e](t)):t.localeData().invalidDate()}function V(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zi.lastIndex=0;i>=0&&zi.test(t);)t=t.replace(zi,n),zi.lastIndex=0,i-=1;return t}function W(t,e,n){ar[t]=C(e)?e:function(t,i){return t&&n?n:e}}function q(t,e){return u(ar,t)?ar[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)sr[t[n]]=i}function Q(t,e){K(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function J(t,e,n){null!=e&&u(sr,t)&&sr[t](e,n._a,n,t)}function $(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(t,n){return function(i){return null!=i?(rt(this,t,i),e.updateOffset(this,n),this):it(this,t)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return t=R(t),C(this[t])?this[t]():this}function at(t,e){if("object"==typeof t){t=F(t);for(var n=j(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=R(t),C(this[t]))return this[t](e);return this}function st(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=st(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ut(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||br).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ct(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[br.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ht(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=yr.call(this._shortMonthsParse,a),-1!==r?r:null):(r=yr.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?-1!==(r=yr.call(this._shortMonthsParse,a))?r:(r=yr.call(this._longMonthsParse,a),-1!==r?r:null):-1!==(r=yr.call(this._longMonthsParse,a))?r:(r=yr.call(this._shortMonthsParse,a),-1!==r?r:null)}function pt(t,e,n){var i,r,o;if(this._monthsParseExact)return ht.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ft(t){return null!=t?(dt(this,t),e.updateOffset(this,!0),this):it(this,"Month")}function gt(){return lt(this.year(),this.month())}function mt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=_r),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function yt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Er),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function vt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=X(i[e]),r[e]=X(r[e]);for(e=0;e<24;e++)o[e]=X(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function bt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xt(t,e,n){var i=7+e-n;return-(7+wt(t,0,i).getUTCDay()-e)%7+i-1}function _t(t,e,n,i,r){var o,a,s=(7+n-i)%7,l=xt(t,i,r),u=1+7*(e-1)+s+l;return u<=0?(o=t-1,a=$(o)+u):u>$(t)?(o=t+1,a=u-$(t)):(o=t,a=u),{year:o,dayOfYear:a}}function Et(t,e,n){var i,r,o=xt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+St(r,e,n)):a>St(t.year(),e,n)?(i=a-St(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function St(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return($(t)-i+r)/7}function Ct(t){return Et(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function kt(){return this._week.doy}function Ot(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Lt(t){var e=Et(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function It(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function At(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Nt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Dt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=yr.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=yr.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=yr.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?-1!==(r=yr.call(this._weekdaysParse,a))?r:-1!==(r=yr.call(this._shortWeekdaysParse,a))?r:(r=yr.call(this._minWeekdaysParse,a),-1!==r?r:null):"ddd"===e?-1!==(r=yr.call(this._shortWeekdaysParse,a))?r:-1!==(r=yr.call(this._weekdaysParse,a))?r:(r=yr.call(this._minWeekdaysParse,a),-1!==r?r:null):-1!==(r=yr.call(this._minWeekdaysParse,a))?r:-1!==(r=yr.call(this._weekdaysParse,a))?r:(r=yr.call(this._shortWeekdaysParse,a),-1!==r?r:null)}function Rt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Dt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=It(t,this.localeData()),this.add(t-e,"d")):e}function Gt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function jt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=At(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function zt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Or),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ut(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ir),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ht(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=X(s[e]),l[e]=X(l[e]),u[e]=X(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Yt(){return this.hours()%12||12}function Vt(){return this.hours()||24}function Wt(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qt(t,e){return e._meridiemParse}function Zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Kt(t[o]).split("-"),e=r.length,n=Kt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Jt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function Jt(e){var n=null;if(!Dr[e]&&void 0!==t&&t&&t.exports)try{n=Ar._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),$t(n)}catch(t){}return Dr[e]}function $t(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&(Ar=n),Ar._abbr}function te(t,e){if(null!==e){var n=Nr;if(e.abbr=t,null!=Dr[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Dr[t]._config;else if(null!=e.parentLocale){if(null==Dr[e.parentLocale])return Rr[e.parentLocale]||(Rr[e.parentLocale]=[]),Rr[e.parentLocale].push({name:t,config:e}),null;n=Dr[e.parentLocale]._config}return Dr[t]=new O(k(n,e)),Rr[t]&&Rr[t].forEach(function(t){te(t.name,t.config)}),$t(t),Dr[t]}return delete Dr[t],null}function ee(t,e){if(null!=e){var n,i=Nr;null!=Dr[t]&&(i=Dr[t]._config),e=k(i,e),n=new O(e),n.parentLocale=Dr[t],Dr[t]=n,$t(t)}else null!=Dr[t]&&(null!=Dr[t].parentLocale?Dr[t]=Dr[t].parentLocale:null!=Dr[t]&&delete Dr[t]);return Dr[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ar;if(!n(t)){if(e=Jt(t))return e;t=[t]}return Qt(t)}function ie(){return Pi(Dr)}function re(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[ur]<0||n[ur]>11?ur:n[cr]<1||n[cr]>lt(n[lr],n[ur])?cr:n[hr]<0||n[hr]>24||24===n[hr]&&(0!==n[pr]||0!==n[dr]||0!==n[fr])?hr:n[pr]<0||n[pr]>59?pr:n[dr]<0||n[dr]>59?dr:n[fr]<0||n[fr]>999?fr:-1,d(t)._overflowDayOfYear&&(e<lr||e>cr)&&(e=cr),d(t)._overflowWeeks&&-1===e&&(e=gr),d(t)._overflowWeekday&&-1===e&&(e=mr),d(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,i,r,o=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[cr]&&null==t._a[ur]&&le(t),null!=t._dayOfYear&&(r=oe(t._a[lr],i[lr]),(t._dayOfYear>$(r)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=wt(r,0,t._dayOfYear),t._a[ur]=n.getUTCMonth(),t._a[cr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[hr]&&0===t._a[pr]&&0===t._a[dr]&&0===t._a[fr]&&(t._nextDay=!0,t._a[hr]=0),t._d=(t._useUTC?wt:bt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hr]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(d(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,a,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[lr],Et(Ce(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=Et(Ce(),o,a);n=oe(e.gg,t._a[lr],u.year),i=oe(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>St(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=_t(n,i,r,o,a),t._a[lr]=s.year,t._dayOfYear=s.dayOfYear)}function ue(t){var e,n,i,r,o,a,s=t._i,l=Fr.exec(s)||Gr.exec(s);if(l){for(d(t).iso=!0,e=0,n=zr.length;e<n;e++)if(zr[e][1].exec(l[1])){r=zr[e][0],i=!1!==zr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ur.length;e<n;e++)if(Ur[e][1].exec(l[3])){o=(l[2]||" ")+Ur[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!jr.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),ye(t)}else t._isValid=!1}function ce(t,e,n,i,r,o){var a=[he(t),xr.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function he(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function de(t,e,n){return!t||Tr.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}function fe(t,e,n){if(t)return Yr[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function ge(t){var e=Hr.exec(pe(t._i));if(e){var n=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!de(e[1],n,t))return;t._a=n,t._tzm=fe(e[8],e[9],e[10]),t._d=wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function me(t){var n=Br.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ue(t),!1===t._isValid&&(delete t._isValid,ge(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function ye(t){if(t._f===e.ISO_8601)return void ue(t);if(t._f===e.RFC_2822)return void ge(t);t._a=[],d(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,u=0;for(r=V(t._f,t._locale).match(ji)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(q(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Bi[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),J(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),t._a[hr]<=12&&!0===d(t).bigHour&&t._a[hr]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[hr]=ve(t._locale,t._a[hr],t._meridiem),se(t),re(t)}function ve(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function be(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ye(e),f(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));c(t,n||e)}function we(t){if(!t._d){var e=F(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function xe(t){var e=new y(re(_e(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function _e(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new y(re(e)):(s(e)?t._d=e:n(i)?be(t):i?ye(t):Ee(t),f(t)||(t._d=null),t))}function Ee(t){var r=t._i;o(r)?t._d=new Date(e.now()):s(r)?t._d=new Date(r.valueOf()):"string"==typeof r?me(t):n(r)?(t._a=l(r.slice(0),function(t){return parseInt(t,10)}),se(t)):i(r)?we(t):a(r)?t._d=new Date(r):e.createFromInputFallback(t)}function Se(t,e,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=t,l._f=e,l._strict=a,xe(l)}function Ce(t,e,n,i){return Se(t,e,n,i,!1)}function Te(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ce();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function ke(){return Te("isBefore",[].slice.call(arguments,0))}function Oe(){return Te("isAfter",[].slice.call(arguments,0))}function Le(t){for(var e in t)if(-1===yr.call(Zr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Zr.length;++i)if(t[Zr[i]]){if(n)return!1;parseFloat(t[Zr[i]])!==w(t[Zr[i]])&&(n=!0)}return!0}function Ie(){return this._isValid}function Ae(){return Ke(NaN)}function Pe(t){var e=F(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Le(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Me(t){return t instanceof Pe}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+z(~~(t/60),2)+e+z(~~t%60,2)})}function Re(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Xr)||["-",0,0],o=60*r[1]+w(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Fe(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(t)||s(t)?t.valueOf():Ce(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):Ce(t).local()}function Ge(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(t,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Re(ir,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(r=Ge(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!n||this._changeInProgress?en(this,Ke(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ge(this)}function ze(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ue(t){return this.utcOffset(0,t)}function Be(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ge(this),"m")),this}function He(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(nr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ye(t){return!!this.isValid()&&(t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=_e(t),t._a){var e=t._isUTC?h(t._a):Ce(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qe(){return!!this.isValid()&&!this._isUTC}function Ze(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ke(t,e){var n,i,r,o=t,s=null;return Me(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=Kr.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[cr])*n,h:w(s[hr])*n,m:w(s[pr])*n,s:w(s[dr])*n,ms:w(Ne(1e3*s[fr]))*n}):(s=Qr.exec(t))?(n="-"===s[1]?-1:(s[1],1),o={y:Qe(s[2],n),M:Qe(s[3],n),w:Qe(s[4],n),d:Qe(s[5],n),h:Qe(s[6],n),m:Qe(s[7],n),s:Qe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=$e(Ce(o.from),Ce(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Pe(o),Me(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}
function Je(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $e(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Je(t,e):(n=Je(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Ke(n,i),en(this,r,t),this}}function en(t,n,i,r){var o=n._milliseconds,a=Ne(n._days),s=Ne(n._months);t.isValid()&&(r=null==r||r,s&&dt(t,it(t,"Month")+s*i),a&&rt(t,"Date",it(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&e.updateOffset(t,a||s))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var i=t||Ce(),r=Fe(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,Ce(i)))}function on(){return new y(this)}function an(t,e){var n=v(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=R(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function sn(t,e){var n=v(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=R(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function un(t,e){var n,i=v(t)?t:Ce(t);return!(!this.isValid()||!i.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function cn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function hn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function pn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(i=Fe(t,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=R(e)){case"year":o=dn(this,i)/12;break;case"month":o=dn(this,i);break;case"quarter":o=dn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:b(o)}function dn(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function fn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gn(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function yn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Y(this,t);return this.localeData().postformat(n)}function vn(t,e){return this.isValid()&&(v(t)&&t.isValid()||Ce(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(Ce(),t)}function wn(t,e){return this.isValid()&&(v(t)&&t.isValid()||Ce(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xn(t){return this.to(Ce(),t)}function _n(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function En(){return this._locale}function Sn(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Cn(t){return void 0===(t=R(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function kn(){return Math.floor(this.valueOf()/1e3)}function On(){return new Date(this.valueOf())}function Ln(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function In(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function Pn(){return f(this)}function Mn(){return c({},d(this))}function Nn(){return d(this).overflow}function Dn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Rn(t,e){U(0,[t,t.length],0,e)}function Fn(t){return Un.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gn(t){return Un.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function jn(){return St(this.year(),1,4)}function zn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Un(t,e,n,i,r){var o;return null==t?Et(this,i,r).year:(o=St(t,i,r),e>o&&(e=o),Bn.call(this,t,e,n,i,r))}function Bn(t,e,n,i,r){var o=_t(t,e,n,i,r),a=wt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Hn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Yn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Vn(t,e){e[fr]=w(1e3*("0."+t))}function Wn(){return this._isUTC?"UTC":""}function qn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(t){return Ce(1e3*t)}function Xn(){return Ce.apply(null,arguments).parseZone()}function Kn(t){return t}function Qn(t,e,n,i){var r=ne(),o=h().set(i,e);return r[n](o,t)}function Jn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return Qn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Qn(t,i,n,"month");return r}function $n(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var r=ne(),o=t?r._week.dow:0;if(null!=n)return Qn(e,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Qn(e,(s+o)%7,i,"day");return l}function ti(t,e){return Jn(t,e,"months")}function ei(t,e){return Jn(t,e,"monthsShort")}function ni(t,e,n){return $n(t,e,n,"weekdays")}function ii(t,e,n){return $n(t,e,n,"weekdaysShort")}function ri(t,e,n){return $n(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=lo(this._milliseconds),this._days=lo(this._days),this._months=lo(this._months),t.milliseconds=lo(t.milliseconds),t.seconds=lo(t.seconds),t.minutes=lo(t.minutes),t.hours=lo(t.hours),t.months=lo(t.months),t.years=lo(t.years),this}function ai(t,e,n,i){var r=Ke(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function si(t,e){return ai(this,t,e,1)}function li(t,e){return ai(this,t,e,-1)}function ui(t){return t<0?Math.floor(t):Math.ceil(t)}function ci(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ui(pi(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=b(n/24),r=b(hi(a)),s+=r,a-=ui(pi(r)),i=b(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function hi(t){return 4800*t/146097}function pi(t){return 146097*t/4800}function di(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=R(t))||"year"===t)return e=this._days+i/864e5,n=this._months+hi(e),"month"===t?n:n/12;switch(e=this._days+Math.round(pi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function fi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function gi(t){return function(){return this.as(t)}}function mi(){return Ke(this)}function yi(t){return t=R(t),this.isValid()?this[t+"s"]():NaN}function vi(t){return function(){return this.isValid()?this._data[t]:NaN}}function bi(){return b(this.days()/7)}function wi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function xi(t,e,n){var i=Ke(t).abs(),r=Co(i.as("s")),o=Co(i.as("m")),a=Co(i.as("h")),s=Co(i.as("d")),l=Co(i.as("M")),u=Co(i.as("y")),c=r<=To.ss&&["s",r]||r<To.s&&["ss",r]||o<=1&&["m"]||o<To.m&&["mm",o]||a<=1&&["h"]||a<To.h&&["hh",a]||s<=1&&["d"]||s<To.d&&["dd",s]||l<=1&&["M"]||l<To.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,wi.apply(null,c)}function _i(t){return void 0===t?Co:"function"==typeof t&&(Co=t,!0)}function Ei(t,e){return void 0!==To[t]&&(void 0===e?To[t]:(To[t]=e,"s"===t&&(To.ss=e-1),!0))}function Si(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=xi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Ci(t){return(t>0)-(t<0)||+t}function Ti(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=ko(this._milliseconds)/1e3,r=ko(this._days),o=ko(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(o/12),o%=12;var a=n,s=o,l=r,u=e,c=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var d=p<0?"-":"",f=Ci(this._months)!==Ci(p)?"-":"",g=Ci(this._days)!==Ci(p)?"-":"",m=Ci(this._milliseconds)!==Ci(p)?"-":"";return d+"P"+(a?f+a+"Y":"")+(s?f+s+"M":"")+(l?g+l+"D":"")+(u||c||h?"T":"")+(u?m+u+"H":"")+(c?m+c+"M":"")+(h?m+h+"S":"")}var ki,Oi;Oi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Li=e.momentProperties=[],Ii=!1,Ai={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pi;Pi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var Mi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ni={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Di=/\d{1,2}/,Ri={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fi={},Gi={},ji=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ui={},Bi={},Hi=/\d/,Yi=/\d\d/,Vi=/\d{3}/,Wi=/\d{4}/,qi=/[+-]?\d{6}/,Zi=/\d\d?/,Xi=/\d\d\d\d?/,Ki=/\d\d\d\d\d\d?/,Qi=/\d{1,3}/,Ji=/\d{1,4}/,$i=/[+-]?\d{1,6}/,tr=/\d+/,er=/[+-]?\d+/,nr=/Z|[+-]\d\d:?\d\d/gi,ir=/Z|[+-]\d\d(?::?\d\d)?/gi,rr=/[+-]?\d+(\.\d{1,3})?/,or=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ar={},sr={},lr=0,ur=1,cr=2,hr=3,pr=4,dr=5,fr=6,gr=7,mr=8;U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),D("year","y"),G("year",1),W("Y",er),W("YY",Zi,Yi),W("YYYY",Ji,Wi),W("YYYYY",$i,qi),W("YYYYYY",$i,qi),K(["YYYYY","YYYYYY"],lr),K("YYYY",function(t,n){n[lr]=2===t.length?e.parseTwoDigitYear(t):w(t)}),K("YY",function(t,n){n[lr]=e.parseTwoDigitYear(t)}),K("Y",function(t,e){e[lr]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var yr,vr=nt("FullYear",!0);yr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),G("month",8),W("M",Zi),W("MM",Zi,Yi),W("MMM",function(t,e){return e.monthsShortRegex(t)}),W("MMMM",function(t,e){return e.monthsRegex(t)}),K(["M","MM"],function(t,e){e[ur]=w(t)-1}),K(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ur]=r:d(n).invalidMonth=t});var br=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,wr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_r=or,Er=or;U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),G("week",5),G("isoWeek",5),W("w",Zi),W("ww",Zi,Yi),W("W",Zi),W("WW",Zi,Yi),Q(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var Sr={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),W("d",Zi),W("e",Zi),W("E",Zi),W("dd",function(t,e){return e.weekdaysMinRegex(t)}),W("ddd",function(t,e){return e.weekdaysShortRegex(t)}),W("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),Q(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Tr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Or=or,Lr=or,Ir=or;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Yt),U("k",["kk",2],0,Vt),U("hmm",0,0,function(){return""+Yt.apply(this)+z(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Yt.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),Wt("a",!0),Wt("A",!1),D("hour","h"),G("hour",13),W("a",qt),W("A",qt),W("H",Zi),W("h",Zi),W("k",Zi),W("HH",Zi,Yi),W("hh",Zi,Yi),W("kk",Zi,Yi),W("hmm",Xi),W("hmmss",Ki),W("Hmm",Xi),W("Hmmss",Ki),K(["H","HH"],hr),K(["k","kk"],function(t,e,n){var i=w(t);e[hr]=24===i?0:i}),K(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),K(["h","hh"],function(t,e,n){e[hr]=w(t),d(n).bigHour=!0}),K("hmm",function(t,e,n){var i=t.length-2;e[hr]=w(t.substr(0,i)),e[pr]=w(t.substr(i)),d(n).bigHour=!0}),K("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[hr]=w(t.substr(0,i)),e[pr]=w(t.substr(i,2)),e[dr]=w(t.substr(r)),d(n).bigHour=!0}),K("Hmm",function(t,e,n){var i=t.length-2;e[hr]=w(t.substr(0,i)),e[pr]=w(t.substr(i))}),K("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[hr]=w(t.substr(0,i)),e[pr]=w(t.substr(i,2)),e[dr]=w(t.substr(r))});var Ar,Pr=/[ap]\.?m?\.?/i,Mr=nt("Hours",!0),Nr={calendar:Mi,longDateFormat:Ni,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Di,relativeTime:Ri,months:wr,monthsShort:xr,week:Sr,weekdays:Cr,weekdaysMin:kr,weekdaysShort:Tr,meridiemParse:Pr},Dr={},Rr={},Fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/Z|[+-]\d\d(?::?\d\d)?/,zr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ur=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Br=/^\/?Date\((\-?\d+)/i,Hr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Vr=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Wr=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}),qr=function(){return Date.now?Date.now():+new Date},Zr=["year","quarter","month","week","day","hour","minute","second","millisecond"];De("Z",":"),De("ZZ",""),W("Z",ir),W("ZZ",ir),K(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Re(ir,t)});var Xr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Kr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Qr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=Pe.prototype,Ke.invalid=Ae;var Jr=tn(1,"add"),$r=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var to=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rn("gggg","weekYear"),Rn("ggggg","weekYear"),Rn("GGGG","isoWeekYear"),Rn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),W("G",er),W("g",er),W("GG",Zi,Yi),W("gg",Zi,Yi),W("GGGG",Ji,Wi),W("gggg",Ji,Wi),W("GGGGG",$i,qi),W("ggggg",$i,qi),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),Q(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),D("quarter","Q"),G("quarter",7),W("Q",Hi),K("Q",function(t,e){e[ur]=3*(w(t)-1)}),U("D",["DD",2],"Do","date"),D("date","D"),G("date",9),W("D",Zi),W("DD",Zi,Yi),W("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),K(["D","DD"],cr),K("Do",function(t,e){e[cr]=w(t.match(Zi)[0],10)});var eo=nt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),G("dayOfYear",4),W("DDD",Qi),W("DDDD",Vi),K(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),U("m",["mm",2],0,"minute"),D("minute","m"),G("minute",14),W("m",Zi),W("mm",Zi,Yi),K(["m","mm"],pr);var no=nt("Minutes",!1);U("s",["ss",2],0,"second"),D("second","s"),G("second",15),W("s",Zi),W("ss",Zi,Yi),K(["s","ss"],dr);var io=nt("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),G("millisecond",16),W("S",Qi,Hi),W("SS",Qi,Yi),W("SSS",Qi,Vi);var ro;for(ro="SSSS";ro.length<=9;ro+="S")W(ro,tr);for(ro="S";ro.length<=9;ro+="S")K(ro,Vn);var oo=nt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var ao=y.prototype;ao.add=Jr,ao.calendar=rn,ao.clone=on,ao.diff=pn,ao.endOf=Cn,ao.format=yn,ao.from=vn,ao.fromNow=bn,ao.to=wn,ao.toNow=xn,ao.get=ot,ao.invalidAt=Nn,ao.isAfter=an,ao.isBefore=sn,ao.isBetween=ln,ao.isSame=un,ao.isSameOrAfter=cn,ao.isSameOrBefore=hn,ao.isValid=Pn,ao.lang=to,ao.locale=_n,ao.localeData=En,ao.max=Wr,ao.min=Vr,ao.parsingFlags=Mn,ao.set=at,ao.startOf=Sn,ao.subtract=$r,ao.toArray=Ln,ao.toObject=In,ao.toDate=On,ao.toISOString=gn,ao.inspect=mn,ao.toJSON=An,ao.toString=fn,ao.unix=kn,ao.valueOf=Tn,ao.creationData=Dn,ao.year=vr,ao.isLeapYear=et,ao.weekYear=Fn,ao.isoWeekYear=Gn,ao.quarter=ao.quarters=Hn,ao.month=ft,ao.daysInMonth=gt,ao.week=ao.weeks=Ot,ao.isoWeek=ao.isoWeeks=Lt,ao.weeksInYear=zn,ao.isoWeeksInYear=jn,ao.date=eo,ao.day=ao.days=Ft,ao.weekday=Gt,ao.isoWeekday=jt,ao.dayOfYear=Yn,ao.hour=ao.hours=Mr,ao.minute=ao.minutes=no,ao.second=ao.seconds=io,ao.millisecond=ao.milliseconds=oo,ao.utcOffset=je,ao.utc=Ue,ao.local=Be,ao.parseZone=He,ao.hasAlignedHourOffset=Ye,ao.isDST=Ve,ao.isLocal=qe,ao.isUtcOffset=Ze,ao.isUtc=Xe,ao.isUTC=Xe,ao.zoneAbbr=Wn,ao.zoneName=qn,ao.dates=E("dates accessor is deprecated. Use date instead.",eo),ao.months=E("months accessor is deprecated. Use month instead",ft),ao.years=E("years accessor is deprecated. Use year instead",vr),ao.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ze),ao.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",We);var so=O.prototype;so.calendar=L,so.longDateFormat=I,so.invalidDate=A,so.ordinal=P,so.preparse=Kn,so.postformat=Kn,so.relativeTime=M,so.pastFuture=N,so.set=T,so.months=ut,so.monthsShort=ct,so.monthsParse=pt,so.monthsRegex=yt,so.monthsShortRegex=mt,so.week=Ct,so.firstDayOfYear=kt,so.firstDayOfWeek=Tt,so.weekdays=Pt,so.weekdaysMin=Nt,so.weekdaysShort=Mt,so.weekdaysParse=Rt,so.weekdaysRegex=zt,so.weekdaysShortRegex=Ut,so.weekdaysMinRegex=Bt,so.isPM=Zt,so.meridiem=Xt,$t("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",$t),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",ne);var lo=Math.abs,uo=gi("ms"),co=gi("s"),ho=gi("m"),po=gi("h"),fo=gi("d"),go=gi("w"),mo=gi("M"),yo=gi("y"),vo=vi("milliseconds"),bo=vi("seconds"),wo=vi("minutes"),xo=vi("hours"),_o=vi("days"),Eo=vi("months"),So=vi("years"),Co=Math.round,To={ss:44,s:45,m:45,h:22,d:26,M:11},ko=Math.abs,Oo=Pe.prototype;return Oo.isValid=Ie,Oo.abs=oi,Oo.add=si,Oo.subtract=li,Oo.as=di,Oo.asMilliseconds=uo,Oo.asSeconds=co,Oo.asMinutes=ho,Oo.asHours=po,Oo.asDays=fo,Oo.asWeeks=go,Oo.asMonths=mo,Oo.asYears=yo,Oo.valueOf=fi,Oo._bubble=ci,Oo.clone=mi,Oo.get=yi,Oo.milliseconds=vo,Oo.seconds=bo,Oo.minutes=wo,Oo.hours=xo,Oo.days=_o,Oo.weeks=bi,Oo.months=Eo,Oo.years=So,Oo.humanize=Si,Oo.toISOString=Ti,Oo.toString=Ti,Oo.toJSON=Ti,Oo.locale=_n,Oo.localeData=En,Oo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),Oo.lang=to,U("X",0,0,"unix"),U("x",0,0,"valueOf"),W("x",er),W("X",rr),K("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),K("x",function(t,e,n){n._d=new Date(w(t))}),e.version="2.19.1",function(t){ki=t}(Ce),e.fn=ao,e.min=ke,e.max=Oe,e.now=qr,e.utc=h,e.unix=Zn,e.months=ti,e.isDate=s,e.locale=$t,e.invalid=g,e.duration=Ke,e.isMoment=v,e.weekdays=ni,e.parseZone=Xn,e.localeData=ne,e.isDuration=Me,e.monthsShort=ei,e.weekdaysMin=ri,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=ii,e.normalizeUnits=R,e.relativeTimeRounding=_i,e.relativeTimeThreshold=Ei,e.calendarFormat=nn,e.prototype=ao,e}()}()}).call(e,n(124)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=125},function(t,e,n){(function(e){function n(t,e,n){var i=e&&n||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){r<16&&(e[i+r++]=h[t])});r<16;)e[i+r++]=0;return e}function i(t,e){var n=e||0,i=c;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}function r(t,e,n){var r=e&&n||0,o=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:g,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),l=void 0!==t.nsecs?t.nsecs:y+1,u=s-m+(l-y)/1e4;if(u<0&&void 0===t.clockseq&&(a=a+1&16383),(u<0||s>m)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=s,y=l,g=a,s+=122192928e5;var c=(1e4*(268435455&s)+l)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var h=s/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var p=t.node||f,d=0;d<6;d++)o[r+d]=p[d];return e||i(o)}function o(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[r+s]=o[s];return e||i(o)}var a,s="undefined"!=typeof window?window:void 0!==e?e:null;if(s&&s.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);a=function(){return crypto.getRandomValues(l),l}}if(!a){var u=new Array(16);a=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),u[e]=t>>>((3&e)<<3)&255;return u}}for(var c=[],h={},p=0;p<256;p++)c[p]=(p+256).toString(16).substr(1),h[c[p]]=p;var d=a(),f=[1|d[0],d[1],d[2],d[3],d[4],d[5]],g=16383&(d[6]<<8|d[7]),m=0,y=0,v=o;v.v1=r,v.v4=o,v.parse=n,v.unparse=i,t.exports=v}).call(e,n(127))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(2),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){function i(t,e,n,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof u||n instanceof c)&&n instanceof Object){var o=r;r=n,n=o}r&&r.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var a=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:s,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),!r||r&&void 0===r.rtl){this.dom.root.style.visibility="hidden";for(var p,g=this.dom.root;!p&&g;)p=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=p&&"rtl"==p.toLowerCase()}else this.options.rtl=r.rtl;this.options.rollingMode=r&&r.rollingMode,this.options.onInitialDrawComplete=r&&r.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return a.timeAxis.step.scale},getStep:function(){return a.timeAxis.step.step},toScreen:a._toScreen.bind(a),toGlobalScreen:a._toGlobalScreen.bind(a),toTime:a._toTime.bind(a),toGlobalTime:a._toGlobalTime.bind(a)}},this.range=new h(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new f(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new m(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){a.emit("click",a.getEventProperties(t))},this.dom.root.ondblclick=function(t){a.emit("doubleClick",a.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){a.emit("contextmenu",a.getEventProperties(t))},this.dom.root.onmouseover=function(t){a.emit("mouseOver",a.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){a.emit("mouseDown",a.getEventProperties(t))},this.dom.root.onpointermove=function(t){a.emit("mouseMove",a.getEventProperties(t))},this.dom.root.onpointerup=function(t){a.emit("mouseUp",a.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){a.emit("mouseMove",a.getEventProperties(t))},this.dom.root.onmousedown=function(t){a.emit("mouseDown",a.getEventProperties(t))},this.dom.root.onmouseup=function(t){a.emit("mouseUp",a.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!a.initialFitDone)if(a.initialFitDone=!0,void 0!=a.options.start||void 0!=a.options.end){if(void 0==a.options.start||void 0==a.options.end)var t=a.getItemRange();var e=void 0!=a.options.start?a.options.start:t.min,n=void 0!=a.options.end?a.options.end:t.max;a.setWindow(e,n,{animation:!1})}else a.fit({animation:!1});!a.initialDrawDone&&a.initialRangeChangeDone&&(a.initialDrawDone=!0,a.dom.root.style.visibility="visible",a.options.onInitialDrawComplete&&setTimeout(function(){return a.options.onInitialDrawComplete()},0))}}),r&&this.setOptions(r),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}function r(t){return l.convert(t.data.start,"Date").valueOf()}function o(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return l.convert(e,"Date").valueOf()}function a(t,e){var n=t.props.leftContainer.height,i=t.props.left.height,r=e.parent,o=r.top,a=!0,s=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==s?r.height-e.top-e.height:e.top},u=-1*t._getScrollTop(),c=o+l(),h=e.height;return c<u?o+n<=o+l()+h&&(o+=l()-t.itemSet.options.margin.item.vertical):c+h>u+n?o+=l()+h-n+t.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,i-n),{shouldScroll:a,scrollOffset:o,itemTop:c}}var s=n(3),l=n(0),u=n(15),c=n(20),h=n(47),p=n(48),d=n(28),f=n(50),g=n(29),m=n(70),y=n(32).printStyle,v=n(75).allOptions,b=n(75).configureOptions,w=n(76).default,x=n(32).default;i.prototype=new p,i.prototype._createConfigurator=function(){return new w(this,this.dom.container,b)},i.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},i.prototype.setOptions=function(t){if(!0===x.validate(t,v)&&console.log("%cErrors have been found in the supplied options object.",y),p.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){
var n=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(n)}}},i.prototype.setItems=function(t){var e;e=t?t instanceof u||t instanceof c?t:new u(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},i.prototype.setGroups=function(t){var e;if(t){var n=function(t){return!1!==t.visible};e=t instanceof u||t instanceof c?new c(t,{filter:n}):new u(t.filter(n))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},i.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},i.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},i.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},i.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var n=Array.isArray(t)?t:[t],i=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),r=null,o=null;if(i.forEach(function(t){var e=t.start.valueOf(),n="end"in t?t.end.valueOf():t.start.valueOf();(null===r||e<r)&&(r=e),(null===o||n>o)&&(o=n)}),null!==r&&null!==o){var s=this,l=this.itemSet.items[n[0]],u=-1*this._getScrollTop(),c=null,h=function(t,e,n){var i=a(s,l);if(c||(c=i),c.itemTop!=i.itemTop||c.shouldScroll){c.itemTop!=i.itemTop&&i.shouldScroll&&(c=i,u=-1*s._getScrollTop());var r=u,o=c.scrollOffset,h=n?o:r+(o-r)*t;s._setScrollTop(-h),e||s._redraw()}},p=function(){var t=a(s,l);t.shouldScroll&&t.itemTop!=c.itemTop&&(s._setScrollTop(-t.scrollOffset),s._redraw())},d=function(){p(),setTimeout(p,100)},f=(r+o)/2,g=Math.max(this.range.end-this.range.start,1.1*(o-r)),m=!e||void 0===e.animation||e.animation;m||(c={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(f-g/2,f+g/2,{animation:m},d,h)}}},i.prototype.fit=function(t,e){var n,i=!t||void 0===t.animation||t.animation,r=this.itemsData&&this.itemsData.getDataSet();1===r.length&&void 0===r.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:i},e)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:i},e))},i.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,n=null!==t.max?t.max.valueOf():null,i=null,a=null;if(null!=e&&null!=n){var s=n-e;s<=0&&(s=10);var u=s/this.props.center.width,c={},h=0;if(l.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(c[e]=t.redraw(!0),h=c[e].length)}),h>0)for(var p=0;p<h;p++)l.forEach(c,function(t){t[p]()});if(l.forEach(this.itemSet.items,function(t){var s,l,c=r(t),h=o(t);this.options.rtl?(s=c-(t.getWidthRight()+10)*u,l=h+(t.getWidthLeft()+10)*u):(s=c-(t.getWidthLeft()+10)*u,l=h+(t.getWidthRight()+10)*u),s<e&&(e=s,i=t),l>n&&(n=l,a=t)}.bind(this)),i&&a){var d=i.getWidthLeft()+10,f=a.getWidthRight()+10,g=this.props.center.width-d-f;g>0&&(this.options.rtl?(e=r(i)-f*s/g,n=o(a)+d*s/g):(e=r(i)-d*s/g,n=o(a)+f*s/g))}}return{min:null!=e?new Date(e):null,max:null!=n?new Date(n):null}},i.prototype.getDataRange=function(){var t=null,e=null,n=this.itemsData&&this.itemsData.getDataSet();return n&&n.forEach(function(n){var i=l.convert(n.start,"Date").valueOf(),r=l.convert(void 0!=n.end?n.end:n.start,"Date").valueOf();(null===t||i<t)&&(t=i),(null===e||r>e)&&(e=r)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},i.prototype.getEventProperties=function(t){var e,n=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;e=this.options.rtl?l.getAbsoluteRight(this.dom.centerContainer)-n:n-l.getAbsoluteLeft(this.dom.centerContainer);var r=i-l.getAbsoluteTop(this.dom.centerContainer),o=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),s=g.customTimeFromTarget(t),u=this.itemSet.options.snap||null,c=this.body.util.getScale(),h=this.body.util.getStep(),p=this._toTime(e),d=u?u(p,c,h):p,f=l.getTarget(t),m=null;return null!=o?m="item":null!=s?m="custom-time":l.hasParent(f,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&l.hasParent(f,this.timeAxis2.dom.foreground)?m="axis":l.hasParent(f,this.itemSet.dom.labelSet)?m="group-label":l.hasParent(f,this.currentTime.bar)?m="current-time":l.hasParent(f,this.dom.center)&&(m="background"),{event:t,item:o?o.id:null,group:a?a.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:r,time:p,snappedTime:d}},i.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(void 0==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=i},function(t,e,n){var i,r,o;!function(n){r=[],i=n,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(){var t=null;return function e(n,i){function r(t){return t.match(/[^ ]+/g)}function o(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var i=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof i&&(e.srcEvent.stopPropagation=function(){i(),e.stopPropagation()}),e.firstTarget=t;for(var r=t;r&&!n;){var o=r.hammer;if(o)for(var a,s=0;s<o.length;s++)if(a=o[s]._handlers[e.type])for(var l=0;l<a.length&&!n;l++)a[l](e);r=r.parentNode}}var a=i||{preventDefault:!1};if(n.Manager){var s=n,l=function(t,n){var i=Object.create(a);return n&&s.assign(i,n),e(new s(t,i),i)};return s.assign(l,s),l.Manager=function(t,n){var i=Object.create(a);return n&&s.assign(i,n),e(new s.Manager(t,i),i)},l}var u=Object.create(n),c=n.element;return c.hammer||(c.hammer=[]),c.hammer.push(u),n.on("hammer.input",function(e){!0!==a.preventDefault&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),u._handlers={},u.on=function(t,e){return r(t).forEach(function(t){var i=u._handlers[t];i||(u._handlers[t]=i=[],n.on(t,o)),i.push(e)}),u},u.off=function(t,e){return r(t).forEach(function(t){var i=u._handlers[t];i&&(i=e?i.filter(function(t){return t!==e}):[],i.length>0?u._handlers[t]=i:(n.off(t,o),delete u._handlers[t]))}),u},u.emit=function(e,i){t=i.target,n.emit(e,i)},u.destroy=function(){var t=n.element.hammer,e=t.indexOf(u);-1!==e&&t.splice(e,1),t.length||delete n.element.hammer,u._handlers={},n.destroy()},u}})},function(t,e,n){var i;!function(r,o,a,s){function l(t,e,n){return setTimeout(d(t,n),e)}function u(t,e,n){return!!Array.isArray(t)&&(c(t,n[e],n),!0)}function c(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}function p(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ft(i,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==yt?t.apply(e?e[0]||s:s,e):t}function g(t,e){return t===s?e:t}function m(t,e,n){c(w(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){c(w(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function E(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];x(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function S(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<gt.length;){if(n=gt[o],(i=n?n+r:e)in t)return i;o++}return s}function C(){return Et++}function T(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function k(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&n.handler(e)},this.init()}function O(t){return new(t.options.inputClass||(Tt?B:kt?V:Ct?q:U))(t,L)}function L(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Lt&&i-r==0,a=e&(At|Pt)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,I(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function I(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=M(e)),r>1&&!n.firstMultiple?n.firstMultiple=M(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=e.center=N(i);e.timeStamp=wt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=G(s,l),e.distance=F(s,l),A(n,e),e.offsetDirection=R(e.deltaX,e.deltaY);var u=D(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=bt(u.x)>bt(u.y)?u.x:u.y,e.scale=a?z(a.pointers,i):1,e.rotation=a?j(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var c=t.element;v(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function A(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Lt&&o.eventType!==At||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,i,r,o,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Pt&&(l>Ot||a.velocity===s)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=D(l,u,c);i=h.x,r=h.y,n=bt(h.x)>bt(h.y)?h.x:h.y,o=R(u,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:vt(t.pointers[n].clientX),clientY:vt(t.pointers[n].clientY)},n++;return{timeStamp:wt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:vt(t[0].clientX),y:vt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:vt(n/e),y:vt(i/e)}}function D(t,e,n){return{x:e/t||0,y:n/t||0}}function R(t,e){return t===e?Mt:bt(t)>=bt(e)?t<0?Nt:Dt:e<0?Rt:Ft}function F(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function G(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function j(t,e){return G(e[1],e[0],Bt)+G(t[1],t[0],Bt)}function z(t,e){return F(e[0],e[1],Bt)/F(t[0],t[1],Bt)}function U(){this.evEl=Yt,this.evWin=Vt,this.pressed=!1,k.apply(this,arguments)}function B(){this.evEl=Zt,this.evWin=Xt,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Qt,this.evWin=Jt,this.started=!1,k.apply(this,arguments)}function Y(t,e){var n=_(t.touches),i=_(t.changedTouches);return e&(At|Pt)&&(n=E(n.concat(i),"identifier",!0)),[n,i]}function V(){this.evTarget=te,this.targetIds={},k.apply(this,arguments)}function W(t,e){var n=_(t.touches),i=this.targetIds;if(e&(Lt|It)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=_(t.changedTouches),s=[],l=this.target;if(o=n.filter(function(t){return v(t.target,l)}),e===Lt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(At|Pt)&&delete i[a[r].identifier],r++;return s.length?[E(o.concat(s),"identifier",!0),s]:void 0}function q(){k.apply(this,arguments);var t=d(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new U(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Z(t,e){t&Lt?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(At|Pt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,ee)}}function K(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=ne&&a<=ne)return!0}return!1}function Q(t,e){this.manager=t,this.set(e)}function J(t){if(b(t,se))return se;var e=b(t,le),n=b(t,ue);return e&&n?se:e||n?e?le:ue:b(t,ae)?ae:oe}function $(t){this.options=ft({},this.defaults,t||{}),this.id=C(),this.manager=null,this.options.enable=g(this.options.enable,!0),this.state=he,this.simultaneous={},this.requireFail=[]}function tt(t){return t&me?"cancel":t&fe?"end":t&de?"move":t&pe?"start":""}function et(t){return t==Ft?"down":t==Rt?"up":t==Nt?"left":t==Dt?"right":""}function nt(t,e){var n=e.manager;return n?n.get(t):t}function it(){$.apply(this,arguments)}function rt(){it.apply(this,arguments),this.pX=null,this.pY=null}function ot(){it.apply(this,arguments)}function at(){$.apply(this,arguments),this._timer=null,this._input=null}function st(){it.apply(this,arguments)}function lt(){it.apply(this,arguments)}function ut(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ct(t,e){return e=e||{},e.recognizers=g(e.recognizers,ct.defaults.preset),new ht(t,e)}function ht(t,e){this.options=ft({},ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=O(this),this.touchAction=new Q(this,this.options.touchAction),pt(this,!0),c(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function pt(t,e){var n=t.element;if(n.style){var i;c(t.options.cssProps,function(r,o){i=S(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ft,gt=["","webkit","Moz","MS","ms","o"],mt=o.createElement("div"),yt="function",vt=Math.round,bt=Math.abs,wt=Date.now;ft="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var xt=h(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),_t=h(function(t,e){return xt(t,e,!0)},"merge","Use `assign`."),Et=1,St=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in r,Tt=S(r,"PointerEvent")!==s,kt=Ct&&St.test(navigator.userAgent),Ot=25,Lt=1,It=2,At=4,Pt=8,Mt=1,Nt=2,Dt=4,Rt=8,Ft=16,Gt=Nt|Dt,jt=Rt|Ft,zt=Gt|jt,Ut=["x","y"],Bt=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(T(this.element),this.evWin,this.domHandler)}};var Ht={mousedown:Lt,mousemove:It,mouseup:At},Yt="mousedown",Vt="mousemove mouseup";p(U,k,{handler:function(t){var e=Ht[t.type];e&Lt&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=At),this.pressed&&(e&At&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Wt={pointerdown:Lt,pointermove:It,pointerup:At,pointercancel:Pt,pointerout:Pt},qt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Zt="pointerdown",Xt="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Zt="MSPointerDown",Xt="MSPointerMove MSPointerUp MSPointerCancel"),p(B,k,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Wt[i],o=qt[t.pointerType]||t.pointerType,a="touch"==o,s=x(e,t.pointerId,"pointerId");r&Lt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(At|Pt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Kt={touchstart:Lt,touchmove:It,touchend:At,touchcancel:Pt},Qt="touchstart",Jt="touchstart touchmove touchend touchcancel";p(H,k,{handler:function(t){var e=Kt[t.type];if(e===Lt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(At|Pt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var $t={touchstart:Lt,touchmove:It,touchend:At,touchcancel:Pt},te="touchstart touchmove touchend touchcancel";p(V,k,{handler:function(t){var e=$t[t.type],n=W.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var ee=2500,ne=25;p(q,k,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Z.call(this,e,n);else if(r&&K.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ie=S(mt.style,"touchAction"),re=ie!==s,oe="auto",ae="manipulation",se="none",le="pan-x",ue="pan-y",ce=function(){if(!re)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();Q.prototype={set:function(t){"compute"==t&&(t=this.compute()),re&&this.manager.element.style&&ce[t]&&(this.manager.element.style[ie]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return c(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=b(i,se)&&!ce[se],o=b(i,ue)&&!ce[ue],a=b(i,le)&&!ce[le];if(r){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}return a&&o?void 0:r||o&&n&Gt||a&&n&jt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var he=1,pe=2,de=4,fe=8,ge=fe,me=16;$.prototype={defaults:{},set:function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=nt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=nt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=nt(t,this),-1===x(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=nt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<fe&&e(n.options.event+tt(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=fe&&e(n.options.event+tt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|he)))return!1;t++}return!0},recognize:function(t){var e=ft({},t);if(!f(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ge|me|32)&&(this.state=he),this.state=this.process(e),this.state&(pe|de|fe|me)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},p(it,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(pe|de),r=this.attrTest(t);return i&&(n&Pt||!r)?e|me:i||r?n&At?e|fe:e&pe?e|de:pe:32}}),p(rt,it,{defaults:{event:"pan",threshold:10,pointers:1,direction:zt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Gt&&e.push(ue),t&jt&&e.push(le),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&Gt?(r=0===o?Mt:o<0?Nt:Dt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Mt:a<0?Rt:Ft,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return it.prototype.attrTest.call(this,t)&&(this.state&pe||!(this.state&pe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(ot,it,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&pe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(at,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(At|Pt)&&!r)this.reset();else if(t.eventType&Lt)this.reset(),this._timer=l(function(){this.state=ge,this.tryEmit()},e.time,this);else if(t.eventType&At)return ge;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ge&&(t&&t.eventType&At?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=wt(),this.manager.emit(this.options.event,this._input)))}}),p(st,it,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&pe)}}),p(lt,it,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Gt|jt,pointers:1},getTouchAction:function(){return rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Gt|jt)?e=t.overallVelocity:n&Gt?e=t.overallVelocityX:n&jt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&At},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(ut,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Lt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=At)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||F(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=ge,this.tryEmit()},e.interval,this),pe):ge}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ge&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ct.VERSION="2.0.7",ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[ot,{enable:!1},["rotate"]],[lt,{direction:Gt}],[rt,{direction:Gt},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ht.prototype={set:function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ge)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(pe|de|fe)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return c(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return c(w(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ft(ct,{INPUT_START:Lt,INPUT_MOVE:It,INPUT_END:At,INPUT_CANCEL:Pt,STATE_POSSIBLE:he,STATE_BEGAN:pe,STATE_CHANGED:de,STATE_ENDED:fe,STATE_RECOGNIZED:ge,STATE_CANCELLED:me,STATE_FAILED:32,DIRECTION_NONE:Mt,DIRECTION_LEFT:Nt,DIRECTION_RIGHT:Dt,DIRECTION_UP:Rt,DIRECTION_DOWN:Ft,DIRECTION_HORIZONTAL:Gt,DIRECTION_VERTICAL:jt,DIRECTION_ALL:zt,Manager:ht,Input:k,TouchAction:Q,TouchInput:V,MouseInput:U,PointerEventInput:B,TouchMouseInput:q,SingleTouchInput:H,Recognizer:$,AttrRecognizer:it,Tap:ut,Pan:rt,Swipe:lt,Pinch:ot,Rotate:st,Press:at,on:m,off:y,each:c,merge:_t,extend:xt,assign:ft,inherit:p,bindFn:d,prefixed:S}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=ct,(i=function(){return ct}.call(e,n,e,t))!==s&&(t.exports=i)}(window,document)},function(t,e,n){function i(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=s(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(n){r(n.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=o(),this.escListener=this.deactivate.bind(this)}function r(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var o=n(68),a=n(66),s=n(12),l=n(0);a(i.prototype),i.current=null,i.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},i.prototype.activate=function(){i.current&&i.current.deactivate(),i.current=this,this.active=!0,this.dom.overlay.style.display="none",l.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},i.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",l.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},i.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=i},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=i(r),a=n(31),s=i(a),l=function(){function t(e,n){(0,o.default)(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,s.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>r-this.padding&&(s=!0),o=s?this.x-n:this.x,a=l?this.y-e:this.y}else a=this.y-e,a+e+this.padding>i&&(a=i-e-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=l},function(t,e,n){t.exports={default:n(135),__esModule:!0}},function(t,e,n){n(136);var i=n(2).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(17);i(i.S+i.F*!n(9),"Object",{defineProperty:n(8).f})},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=i(r),a=n(30),s=i(a),l=n(31),u=i(l),c=n(12),h=n(67),p=n(0),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,s.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,u.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",
olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof t)return e[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n=void 0,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===p.isString(t)){if(!0===p.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===p.isValidRGBA(t)){var a=t.substr(5).substr(0,t.length-6).split(",");n={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(!0===p.isValidHex(t)){var s=p.hexToRGB(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,o.default)(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=p.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=p.extend({},t)),this.color=t;var e=p.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,i=this.r*e.s,r=this.centerCoordinates.x+i*Math.sin(n*e.h),o=this.centerCoordinates.y+i*Math.cos(n*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=p.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=p.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=p.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new c(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),h.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,n);var i=void 0,r=void 0,o=void 0,a=void 0;this.centerCoordinates={x:.5*e,y:.5*n},this.r=.49*e;var s=2*Math.PI/360,l=1/this.r,u=void 0;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(s*o),r=this.centerCoordinates.y+a*Math.cos(s*o),u=p.HSVToRGB(o*(1/360),a*l,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(i-.5,r-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,n)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,s=i-r,l=Math.atan2(a,s),u=.98*Math.min(Math.sqrt(a*a+s*s),o),c=Math.cos(l)*u+r,h=Math.sin(l)*u+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var f=u/this.r,g=p.RGBToHSV(this.color.r,this.color.g,this.color.b);g.h=d,g.s=f;var m=p.HSVToRGB(g.h,g.s,g.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=d},function(t,e,n){function i(t,e,n,i){if(!(Array.isArray(n)||n instanceof a||n instanceof s)&&n instanceof Object){var u=i;i=n,n=u}i&&i.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:r,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new l(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new c(this.body),this.components.push(this.timeAxis),this.currentTime=new h(this.body),this.components.push(this.currentTime),this.linegraph=new d(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){p.emit("click",p.getEventProperties(t))}),this.on("doubletap",function(t){p.emit("doubleClick",p.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},i&&this.setOptions(i),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}var r=n(3),o=n(0),a=n(15),s=n(20),l=n(47),u=n(48),c=n(28),h=n(50),p=n(29),d=n(77),f=n(32).printStyle,g=n(84).allOptions,m=n(84).configureOptions,y=n(76).default,v=n(32).default;i.prototype=new u,i.prototype.setOptions=function(t){!0===v.validate(t,g)&&console.log("%cErrors have been found in the supplied options object.",f),u.prototype.setOptions.call(this,t)},i.prototype.setItems=function(t){var e,n=null==this.itemsData;if(e=t?t instanceof a||t instanceof s?t:new a(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),n)if(void 0!=this.options.start||void 0!=this.options.end){var i=void 0!=this.options.start?this.options.start:null,r=void 0!=this.options.end?this.options.end:null;this.setWindow(i,r,{animation:!1})}else this.fit({animation:!1})},i.prototype.setGroups=function(t){var e;e=t?t instanceof a||t instanceof s?t:new a(t):null,this.groupsData=e,this.linegraph.setGroups(e)},i.prototype.getLegend=function(t,e,n){return void 0===e&&(e=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,n):"cannot find group:'"+t+"'"},i.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},i.prototype.getDataRange=function(){var t=null,e=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var i=0;i<this.linegraph.groups[n].itemsData.length;i++){var r=this.linegraph.groups[n].itemsData[i],a=o.convert(r.x,"Date").valueOf();t=null==t?a:t>a?a:t,e=null==e?a:e<a?a:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},i.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY,i=e-o.getAbsoluteLeft(this.dom.centerContainer),r=n-o.getAbsoluteTop(this.dom.centerContainer),a=this._toTime(i),s=p.customTimeFromTarget(t),l=o.getTarget(t),u=null;o.hasParent(l,this.timeAxis.dom.foreground)?u="axis":this.timeAxis2&&o.hasParent(l,this.timeAxis2.dom.foreground)?u="axis":o.hasParent(l,this.linegraph.yAxisLeft.dom.frame)?u="data-axis":o.hasParent(l,this.linegraph.yAxisRight.dom.frame)?u="data-axis":o.hasParent(l,this.linegraph.legendLeft.dom.frame)?u="legend":o.hasParent(l,this.linegraph.legendRight.dom.frame)?u="legend":null!=s?u="custom-time":o.hasParent(l,this.currentTime.bar)?u="current-time":o.hasParent(l,this.dom.center)&&(u="background");var c=[],h=this.linegraph.yAxisLeft,d=this.linegraph.yAxisRight;return!h.hidden&&this.itemsData.length>0&&c.push(h.screenToValue(r)),!d.hidden&&this.itemsData.length>0&&c.push(d.screenToValue(r)),{event:t,what:u,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:r,time:a,value:c}},i.prototype._createConfigurator=function(){return new y(this,this.dom.container,m)},t.exports=i}])})}]));