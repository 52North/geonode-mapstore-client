(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9193],{55927:(t,e,r)=>{"use strict";r.d(e,{BJ:()=>n,_y:()=>o,vk:()=>i,uI:()=>a,mg:()=>c,aR:()=>u,SW:()=>l,$l:()=>s,zX:()=>f,R4:()=>p,E9:()=>y,CP:()=>d,s6:()=>m,E5:()=>b,CF:()=>g,B_:()=>v,js:()=>h,TA:()=>O,D_:()=>w,Nl:()=>S,G9:()=>P,gE:()=>j,pB:()=>A,GD:()=>E,sA:()=>D,o2:()=>C,rR:()=>x,vM:()=>T,AN:()=>I,tH:()=>k,kk:()=>R,ak:()=>Z,qY:()=>N});var n="DASHBOARD:SET_AVAILABLE",o="DASHBOARD:SET_EDITING",i="DASHBOARD:SHOW_CONNECTIONS",a="DASHBOARD:TRIGGER_SAVE_MODAL",c="DASHBOARD:TRIGGER_SAVE_AS_MODAL",u="DASHBOARD:SAVE_DASHBOARD",l="DASHBOARD:SAVE_ERROR",s="DASHBOARD:DASHBOARD_SAVED",f="DASHBOARD:LOAD_DASHBOARD",p="DASHBOARD:DASHBOARD_RESET",y="DASHBOARD:DASHBOARD_LOADED",d="DASHBOARD:DASHBOARD_LOADING",m="DASHBOARD:UPDATE_SERVICES",b="DASHBOARD:SET_SELECTED_SERVICE",g="DASHBOARD:ADD_NEW_SERVICE",v="DASHBOARD:CATALOG_MODE",h="DASHBOARD:DELETE_SERVICE",O="DASHBOARD:SAVE_SERVICE_LOADING",w=function(t){return{type:o,editing:t}},S=function(t){return{type:n,available:t}},P=function(t){return{type:i,show:t}},j=function(t){return{type:a,show:t}},A=function(t){return{type:c,show:t}},E=function(t){return{type:l,error:t}},D=function(t){return{type:s,id:t}},C=function(t){return{type:f,id:t}},x=function(t,e){return{type:y,resource:t,data:e}},T=function(t){return{type:d,name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading",value:t}},I=function(t){return{type:"DASHBOARD:DASHBOARD_LOAD_ERROR",error:t}},k=function(t,e){return{type:b,service:t,services:e}},R=function(t,e,r){return{type:g,service:t,services:e,isNew:r}},Z=function(t,e){return{type:v,mode:t,isNew:e}},N=function(t,e){return{type:h,service:t,services:e}}},47361:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i),c=r(14293),u=r.n(c),l=r(68195);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function m(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,t);var e,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(n);if(o){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(l.FormattedNumber,f({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!u()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(a().Component);m(g,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),m(g,"contextTypes",{intl:o().object});const v=g},62770:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n=r(24852),o=r.n(n),i=r(45697),a=r.n(i),c=r(41609),u=r.n(c),l=r(81763),s=r.n(l),f=r(90079);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===p(e)?e:String(e)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,r,n,i,a=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(i){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),v(b(e=a.call(this,t)),"state",{containerWidth:0,legendContainerStyle:{overflowX:"auto"}}),v(b(e),"canShow",(function(t){return t.visibility||!e.props.showOnlyIfVisible})),v(b(e),"useLegendOptions",(function(){return!u()(e.props.node.legendOptions)&&s()(e.props.node.legendOptions.legendHeight)&&s()(e.props.node.legendOptions.legendWidth)})),v(b(e),"setOverflow",(function(){return e.useLegendOptions()&&e.props.node.legendOptions.legendWidth>e.state.containerWidth})),e.containerRef=o().createRef(),e}return e=c,r=[{key:"componentDidMount",value:function(){var t=this.containerRef.current&&this.containerRef.current.clientWidth;this.setState(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({containerWidth:t},this.state))}},{key:"render",value:function(){var t=this.props.node||{},e=this.canShow(t)&&"wms"===t.type&&"background"!==t.group,r=e&&this.useLegendOptions();return e?o().createElement("div",{style:this.setOverflow()?this.state.legendContainerStyle:this.props.legendContainerStyle,ref:this.containerRef},o().createElement(f.Z,{style:this.setOverflow()?{}:this.props.legendStyle,layer:t,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,legendHeight:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendHeight||this.props.legendHeight||void 0,legendWidth:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendWidth||this.props.legendWidth||void 0,legendOptions:this.props.WMSLegendOptions,scaleDependent:this.props.scaleDependent,language:this.props.language})):null}}],r&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(o().Component);v(O,"propTypes",{node:a().object,legendContainerStyle:a().object,legendStyle:a().object,showOnlyIfVisible:a().bool,currentZoomLvl:a().number,scales:a().array,WMSLegendOptions:a().string,scaleDependent:a().bool,language:a().string,legendWidth:a().number,legendHeight:a().number}),v(O,"defaultProps",{legendContainerStyle:{},showOnlyIfVisible:!1,scaleDependent:!0});const w=O},90079:(t,e,r)=>{"use strict";r.d(e,{Z:()=>P});var n=r(72500),o=r.n(n),i=r(1469),a=r.n(i),c=r(27418),u=r.n(c),l=r(45697),s=r.n(l),f=r(24852),p=r.n(f),y=r(33044),d=r(5346);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function O(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(l,t);var e,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(i){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return O(v(t=c.call.apply(c,[this].concat(r))),"state",{error:!1}),O(v(t),"onImgError",(function(){t.setState((function(){return{error:!0}}))})),O(v(t),"getUrl",(function(t,e){if(t.layer&&"wms"===t.layer.type&&t.layer.url){var r=t.layer,n=e||a()(r.url)&&Math.floor(Math.random()*r.url.length),i=a()(r.url)?r.url[n]:r.url.replace(/[?].*$/g,""),c=o().parse(i),l=(0,y.clearNilValuesForParams)(r.params),s=u()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:t.legendHeight,width:t.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:t.legendOptions},r.legendParams||{},t.language&&r.localizedLayerStyles?{LANGUAGE:t.language}:{},(0,y.addAuthenticationToSLD)(l||{},t.layer),l&&l.SLD_BODY?{SLD_BODY:l.SLD_BODY}:{},t.scales&&t.currentZoomLvl&&t.scaleDependent?{SCALE:Math.round(t.scales[t.currentZoomLvl])}:{});return(0,y.addAuthenticationParameter)(i,s),o().format({host:c.host,protocol:c.protocol,pathname:c.pathname,query:s})}return""})),O(v(t),"validateImg",(function(e){e.height<=1&&e.width<=2&&t.onImgError()})),t}return e=l,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.state.error&&this.getUrl(t,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var t=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?p().createElement("img",{onError:this.onImgError,onLoad:function(e){return t.validateImg(e.target)},src:this.getUrl(this.props),style:this.props.style}):p().createElement(d.Z,{msgId:"layerProperties.legenderror"})}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(p().Component);O(S,"propTypes",{layer:s().object,legendHeight:s().number,legendWidth:s().number,legendOptions:s().string,style:s().object,currentZoomLvl:s().number,scales:s().array,scaleDependent:s().bool,language:s().string}),O(S,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const P=S},51990:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=r(53391).ZP},53391:(t,e,r)=>{"use strict";r.d(e,{HC:()=>k,ZP:()=>L});var n=r(24852),o=r.n(n),i=r(43143),a=r(12226),c=r(82110),u=r(711),l=r.n(u),s=r(64721),f=r.n(s),p=r(81763),y=r.n(p),d=r(47037),m=r.n(d),b=r(93386),g=r.n(b),v=r(75472),h=r.n(v);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}var w=["base","range"],S=["onInitialized"];function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===O(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var T=o().lazy((function(){return Promise.all([r.e(7042),r.e(6111)]).then(r.bind(r,36111))})),I={base:190,range:0,s:.95,v:.63},k=function(t,e){var r=e.base,n=e.range,o=x(e,w);return((0,i.qH)(r,n,t+1,o)||[0]).slice(1)},R=function(t,e,r,n){var o=r;return f()(e.map((function(t){return t.value})),t)&&(o=(o=e.filter((function(e){return e.value===t}))[0].title)||("pie"===n?"":t)),o.trim()},Z=function(t,e,r,n,o){var i,a,c=e.filter((function(e){return t>=e.min&&t<e.max}))[0];if(c&&!c.title)return"".concat(c.min," - ").concat(c.max);if(!c)return r||n;var u=(null==c?void 0:c.title)||r;return u?u.trim().replace("${minValue}",null!==(i=c.min)&&void 0!==i?i:"").replace("${maxValue}",null!==(a=c.max)&&void 0!==a?a:"").replace("${legendValue}",o||""):""},N=function(t,e){return e.map((function(e){var r=e;try{return(0,a.B)(t,{value:r})}catch(t){return e}}))};function _(t){var e=t.type,r=t.isModeBarVisible;return"pie"===e?{t:r?20:5,b:5,l:2,r:2,pad:4}:{l:5,r:5,b:30,t:r?20:5,pad:4}}function F(t){var e=t.series,r=void 0===e?[]:e,n=t.cartesian,o=t.type,i=t.yAxis,a=t.xAxisAngle,c=t.xAxisOpts,u=void 0===c?{}:c,l=t.yAxisOpts,s=void 0===l?{}:l,f=t.data,p=void 0===f?[]:f,y=t.autoColorOptions,d=void 0===y?I:y,m=t.customColorEnabled,b=t.barChartType,g=void 0===b?"stack":b,v={colorway:m?[null==d?void 0:d.defaultCustomColor]||0:k(r.length,d),yaxis:{type:null==s?void 0:s.type,automargin:!0,tickformat:null==s?void 0:s.format,tickprefix:null==s?void 0:s.tickPrefix,ticksuffix:null==s?void 0:s.tickSuffix,showticklabels:!0===i,showgrid:n},xaxis:{showgrid:n,type:null==u?void 0:u.type,showticklabels:!(null!=u&&u.hide),nticks:u.nTicks,automargin:!0,tickangle:null!=a?a:"auto"}};switch(o){case"pie":return j({},!m&&{colorway:k(p.length,d)});case"bar":return j({barmode:g},v);default:return v}}var B=function(t){var e=t.xAxis,r=t.series,n=void 0===r?[]:r,o=t.yAxisLabel,i=t.type,a=void 0===i?"line":i,c=t.height,u=t.width,s=t.legend,f=t.classifications,p=t.autoColorOptions,d=void 0===p?I:p,b=null==e?void 0:e.dataKey,v=u>350,O=null==f?void 0:f.dataKey,w=(t.options||{}).classificationAttributeType,S="global.colors.custom"===d.name,P=function(t,e,r,n){return l()([t,(null==r?void 0:r.classification)||(null==r?void 0:r.rangeClassification),n],Boolean)?"string"===e?"value":"range":"default"}(O,w,d,S);return{layout:j(j(j({showlegend:s},F(j(j({},t),{},{customColorEnabled:S,classificationAttr:O}))),{},{margin:_(j(j({},t),{},{isModeBarVisible:v})),autosize:!1,height:c,width:u},"pie"===a&&v&&{legend:{x:1.05,y:.5}}),{},{hovermode:"x unified"}),data:n.map((function(e){var r,n=e.dataKey,i=function(t){var e,r,n,o,i,a,c,u,l,s,f=t.type,p=t.xDataKey,d=t.yDataKey,b=t.data,v=t.formula,h=t.yAxisOpts,O=t.classificationAttr,w=t.yAxisLabel,S=t.autoColorOptions,P=t.customColorEnabled,A=t.classficationType,C=b.map((function(t){return t[p]})),x=b.map((function(t){return t[d]})),T=O?b.map((function(t){return t[O]})):[],_=function(t,e,r,n){var o="value"===t?(null==r?void 0:r.classification)||[]:"range"===t&&(null==r?void 0:r.rangeClassification)||[],i="value"===t&&o.length?function(t,e,r,n){return t.map((function(t){if(m()(t)||y()(t)){var o=e.filter((function(e){return e.value===t}))[0];return o?o.color:r&&n.defaultCustomColor?n.defaultCustomColor:k(1,I)[0]}return k(1,n)[0]}))}(e,o,n,r)||[]:"range"===t&&o.length&&function(t,e,r,n){return t.map((function(t){if(!y()(t))return k(1,I)[0];var o=e.filter((function(e){return t>=e.min&&t<e.max}))[0];return o?o.color:r&&n.defaultCustomColor?n.defaultCustomColor:k(1,I)[0]}))}(e,o,n,r)||[];return{colorCategories:o,classificationColors:i}}(A,T,S,P),F=_.classificationColors,B=_.colorCategories,L=S.defaultClassLabel,M=void 0===L?"":L;switch(f){case"pie":var G={name:w||d,hovertemplate:"%{label}<br>".concat(d,"<br>%{value}<br>%{percent}<extra></extra>"),type:f,textposition:"inside",values:x,pull:.005};if("default"!==A&&F.length){var H=T.map((function(t,e){var r=C[e],n="value"===A?R(t,B,M,f):Z(t,B,M,r,O);return n?n.replace("${groupByValue}",r):r}));return j(j({},G),{},{labels:H,marker:{colors:F}})}return j(j(j({},d&&{legendgroup:d}),G),{},{labels:C},P?{marker:{colors:C.reduce((function(t){return[].concat(E(t),[(null==S?void 0:S.defaultCustomColor)||"#0888A1"])}),[])}}:{});case"bar":v&&(x=N(v,x));var U={type:f};if("default"!==A&&F.length){var V="value"===A?T.map((function(t){return R(t,B,M,f)})):T.map((function(t){return Z(t,B,M,w||d,O)})),z=g()(V),W=z.reduce((function(t,e){return[].concat(E(t),[e?e.replace("${legendValue}",w||d||""):w||d])}),[]),$=(l=V,s=z,c=[F,C,x].map((function(t){return s.map((function(e){return l.reduce((function(r,n,o){return n===e?[].concat(E(r),[t[o]]):r}),[])}))})),u=3,function(t){if(Array.isArray(t))return t}(c)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(c,u)||D(c,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),q=$[0],K=$[1],X=$[2];return W.map((function(t,e){var r,n,o;return j(j({},U),{},{x:K[e],y:X[e],name:t,marker:{color:q[e]},hovertemplate:"".concat(null!==(r=null==h?void 0:h.tickPrefix)&&void 0!==r?r:"","%{y:").concat(null!==(n=null==h?void 0:h.format)&&void 0!==n?n:"g","}").concat(null!==(o=null==h?void 0:h.tickSuffix)&&void 0!==o?o:"","<extra>").concat(t,"</extra>")})}))}return U=j(j({},U),{},{x:C,y:x,name:w||d,hovertemplate:"".concat(null!==(e=null==h?void 0:h.tickPrefix)&&void 0!==e?e:"","%{y:").concat(null!==(r=null==h?void 0:h.format)&&void 0!==r?r:"g","}").concat(null!==(n=null==h?void 0:h.tickSuffix)&&void 0!==n?n:"","<extra></extra>")},F&&F.length&&P?{marker:{color:F}}:{});default:return v&&(x=N(v,x)),{hovertemplate:"".concat(null!==(o=null==h?void 0:h.tickPrefix)&&void 0!==o?o:"","%{y:").concat(null!==(i=null==h?void 0:h.format)&&void 0!==i?i:"d","}").concat(null!==(a=null==h?void 0:h.tickSuffix)&&void 0!==a?a:"","<extra></extra>"),x:C,y:x,name:w||d}}}(j(j({},t),{},{xDataKey:b,yDataKey:n,classificationAttr:O,type:a,yAxisLabel:o,autoColorOptions:d,customColorEnabled:S,classficationType:P})),c=i?null==i||null===(r=i.x)||void 0===r?void 0:r.map((function(t,e){return{xAxis:t,yAxis:i.y[e]}})):{},u=h()(c,["xAxis"],["asc"]);return i.x=null==u?void 0:u.map((function(t){return t.xAxis})),i.y=null==u?void 0:u.map((function(t){return t.yAxis})),i})),config:{displayModeBar:v,modeBarButtonsToRemove:["lasso2d","select2d","hoverCompareCartesian","hoverClosestCartesian","hoverClosestPie"],displaylogo:!1}}};function L(t){var e=t.onInitialized,r=x(t,S),i=B(r),a=i.data,u=i.layout,l=i.config;return o().createElement(n.Suspense,{fallback:o().createElement(c.Z,null)},o().createElement(T,{onInitialized:e,data:a.flat(),layout:u,config:l}))}},71231:(t,e,r)=>{"use strict";r.d(e,{Q:()=>m});var n=r(1469),o=r.n(n),i=r(24852),a=r.n(i),c=r(67076),u=r(28878),l=r(49902);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(0,c.setObservableConfig)(u.Z);var d=(0,c.mapPropsStreamWithConfig)(u.Z)((function(t){return t.take(1).switchMap((function(e){return e.autocompleteStreamFactory(t)})).combineLatest(t,(function(t,e){return{data:o()(t&&t.fetchedData&&t.fetchedData.values)?t.fetchedData.values.map((function(t){return{label:t,value:t}})):[],valuesCount:t&&t.fetchedData&&t.fetchedData.size,currentPage:e&&e.currentPage,maxFeatures:e&&e.maxFeatures,select:e&&e.select,focus:e&&e.focus,loadNextPage:e&&e.loadNextPage,loadPrevPage:e&&e.loadPrevPage,toggle:e&&e.toggle,change:e.change,open:e.open,selected:e&&e.selected,value:e.value,busy:t.busy,dropUp:e.dropUp,attribute:e.column&&e.column.key,changeAttribute:e.changeAttribute}}))}))((function(t){var e=t.open,r=t.toggle,n=t.select,o=t.focus,i=t.change,c=t.value,u=t.valuesCount,s=t.loadNextPage,f=t.loadPrevPage,p=t.maxFeatures,y=t.currentPage,d=t.busy,m=t.data,b=t.loading,g=void 0!==b&&b,v=t.dropUp,h=void 0!==v&&v,O=t.attribute,w=t.changeAttribute,S=Math.ceil(u/p);return a().createElement(l.Z,{pagination:{firstPage:1===y,lastPage:y===S,paginated:!0,loadPrevPage:f,loadNextPage:s},busy:d,dropUp:h,data:m,attribute:O,open:e,onFocus:o,onToggle:r,onChange:i,onSelect:n,onChangeAttribute:w,selectedValue:c,loading:g})})),m=(0,c.compose)((0,c.withStateHandlers)((function(t){return{delayDebounce:0,performFetch:!1,open:!1,openOnFocus:t.openOnFocus,currentPage:1,maxFeatures:5,url:t.url,typeName:t.typeName,value:t.value,attribute:t.column&&t.column.key,autocompleteStreamFactory:t.autocompleteStreamFactory,onChange:t.onChange}}),{select:function(t){return function(){return p(p({},t),{},{selected:!0})}},change:function(t){return function(e){if(t.selected&&t.changingPage)return p(p({},t),{},{delayDebounce:t.selected?0:500,selected:!1,changingPage:!1,performFetch:!(t.selected&&!t.changingPage),value:t.value,currentPage:t.changingPage?t.currentPage:1});var r="string"==typeof e?e:e.value;return t.onChange&&t.onChange(r),p(p({},t),{},{delayDebounce:t.selected?0:500,selected:!1,changingPage:!1,performFetch:!(t.selected&&!t.changingPage),value:r,currentPage:t.changingPage?t.currentPage:1})}},focus:function(t){return function(e){return e&&0===e.length&&""===t.value?p(p({},t),{},{delayDebounce:0,currentPage:1,performFetch:!0,isToggled:!1},t.openOnFocus?{open:!0}:{}):t}},toggle:function(t){return function(){return p(p({},t),{},{open:!!t.changingPage||!t.open})}},loadNextPage:function(t){return function(){return p(p({},t),{},{currentPage:t.currentPage+1,performFetch:!0,changingPage:!0,delayDebounce:0,value:t.value})}},loadPrevPage:function(t){return function(){return p(p({},t),{},{currentPage:t.currentPage-1,performFetch:!0,changingPage:!0,delayDebounce:0,value:t.value})}},changeAttribute:function(t){return function(e){return p(p({},t),{},{attribute:e})}}}))(d)},43614:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(27418),o=r.n(n),i=r(80681),a=r(61365);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(o)?o:String(o)),n)}var o}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(o){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"handleDialogClick",value:function(t){t.target===t.currentTarget&&this.props.onHide(t)}}])&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.Modal);const p=o()((0,a.Z)(f),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},1036:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(18446),o=r.n(n);const i=(0,r(67076).shouldUpdate)((function(t,e){return!o()(t.start,e.start)||t.disabled!==e.disabled}))(r(85552))},76424:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(24852),o=r.n(n),i=r(13218),a=r.n(i),c=r(32425);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var l=["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.body,r=t.caption,n=t.infoExtra,i=t.className,u=void 0===i?"":i,p=t.description,y=t.fullText,d=t.onClick,m=void 0===d?function(){}:d,b=t.onMouseEnter,g=void 0===b?function(){}:b,v=t.onMouseLeave,h=void 0===v?function(){}:v,O=t.preview,w=t.selected,S=t.size,P=t.style,j=void 0===P?{}:P,A=t.stylePreview,E=void 0===A?{}:A,D=t.styleTools,C=void 0===D?{}:D,x=t.title,T=t.loading,I=t.dragSymbol,k=void 0===I?"+":I,R=t.tools,Z=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,l);return o().createElement("div",{className:"mapstore-side-card".concat(w?" selected":"").concat(S?" ms-"+S:"").concat(u?" ".concat(u):"").concat(y?" full-text":""),onClick:function(t){return m(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({title:x,preview:O,description:p,caption:r,tools:R},Z),t)},onMouseEnter:g,onMouseLeave:h,style:j},o().createElement("div",{className:"ms-head"},Z.isDraggable&&Z.connectDragSource&&Z.connectDragSource(o().createElement("div",{className:"mapstore-side-card-tool text-center"},o().createElement("div",{style:{width:10,overflow:"hidden"}},k))),O&&o().createElement("div",{className:"mapstore-side-preview",style:E},O),o().createElement("div",{className:"mapstore-side-card-container"},o().createElement("div",{className:"mapstore-side-card-inner"},o().createElement("div",{className:"mapstore-side-card-left-container"},o().createElement("div",{className:"mapstore-side-card-info"},x&&o().createElement("div",{className:"mapstore-side-card-title"},o().createElement("span",null,x)),p&&o().createElement("div",{className:"mapstore-side-card-desc"},a()(p)?p:o().createElement("span",null,p)),r&&o().createElement("div",{className:"mapstore-side-card-caption"},o().createElement("span",null,r))),n),o().createElement("div",{className:"mapstore-side-card-right-container"},o().createElement("div",{className:"mapstore-side-card-tool text-center",style:C},R),"sm"!==S&&o().createElement("div",{className:"mapstore-side-card-loading"},o().createElement(c.Z,{className:"mapstore-side-card-loader",size:12,hidden:!T})))))),e&&o().createElement("div",{className:"ms-body"},e))}},38064:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i),c=r(80681),u=r(76424);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(this,arguments)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function d(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(d,t);var e,r,n,o,i=(n=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(n);if(o){var r=y(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),i.apply(this,arguments)}return e=d,(r=[{key:"render",value:function(){var t=this.props,e=t.cardComponent,r=t.items,n=t.colProps,o=t.onItemClick,i=t.size,l=e||u.Z;return a().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},a().createElement(c.Row,{className:"items-list"},r.map((function(t,e){return a().createElement(c.Col,s({key:t.id||e},n),a().createElement(l,s({onClick:function(){return o(t)},size:i},t)))}))))}}])&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(a().Component);d(b,"propTypes",{size:o().string,onItemClick:o().func,colProps:o().object,items:o().array,cardComponent:o().oneOfType([o().string,o().func]),className:o().string}),d(b,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]});const g=b},73849:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(67076),o=r(28878),i=r(49977),a=r.n(i);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=(0,n.mapPropsStreamWithConfig)(o.Z);const p=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),f((function(t){return t.take(1).switchMap((function(e){return e.dataStreamFactory(t.startWith(e),e)})).combineLatest(t,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(l({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t)}))})))},12425:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=(0,r(67076).withState)("confirmDelete","toggleDeleteConfirm",!1)},30881:(t,e,r)=>{"use strict";r.d(e,{Z:()=>P});var n=r(13311),o=r.n(n),i=r(41609),a=r.n(i),c=r(67076),u=r(86267),l=r(47805),s=r(89291),f=r(2245),p=r.n(f),y=r(89737),d=r(70956);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(t,e){var r=(0,d.Z5)(t,e),n=o()(Object.keys(r||{}),(function(){return"cql_filter"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()}));return r&&n&&r[n]},S=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerFilter};const P=(0,c.compose)((0,c.withPropsOnChange)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=t.dependencies,o=void 0===n?{}:n,i=t.layer,a=t.quickFilters,c=t.options,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return e!==u.mapSync||o.viewport!==(u.dependencies&&u.dependencies.viewport)||o.quickFilters!==(u.dependencies&&u.dependencies.quickFilters)||o.options!==(u.dependencies&&u.dependencies.options)||r!==u.geomProp||l!==u.filter||c!==u.options||a!==u.quickFilters||w(i,o)!==w(u.layer,u.dependencies)||S(i)!==S(u.layer)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=void 0===r?"the_geom":r,o=t.dependencies,i=void 0===o?{}:o,c=t.filter,f=t.layer,m=t.quickFilters,b=t.options,O=i.viewport,S=p()({gmlVersion:"3.1.1"}),P=(0,y.Z)(S),j=S.filter,A=S.property,E=S.and,D=(f||{}).layerFilter,C={},x={},T=(0,d.r$)(c,m,b);if(!e)return{filter:!a()(T)||D?j(E.apply(void 0,h(D&&!D.disabled?(0,l.toOGCFilterParts)(D,"1.1.0","ogc"):[]).concat(h(T?(0,l.toOGCFilterParts)(T,"1.1.0","ogc"):[])))):void 0};if(f&&i&&i.quickFilters&&i.layer&&f.name===i.layer.name&&(T=g(g({},T),(0,d.r$)(T,i.quickFilters,i.options))),f&&i&&i.filter&&i.layer&&f.name===i.layer.name&&(T=g(g({},T),(0,l.composeAttributeFilters)([T,i.filter]))),i.viewport){var I=Object.keys(O.bounds).reduce((function(t,e){return g(g({},t),{},v({},e,parseFloat(O.bounds[e])))}),{});C=(0,u.getViewportGeometry)(I,O.crs);var k=w(f,i);return x=k?[P((0,s.read)(k))]:[],{filter:j(E.apply(void 0,h(x).concat(h(D&&!D.disabled?(0,l.toOGCFilterParts)(D,"1.1.0","ogc"):[]),h(T?(0,l.toOGCFilterParts)(T,"1.1.0","ogc"):[]),[A(n).intersects(C)])))}}return{filter:j(E.apply(void 0,h(D?(0,l.toOGCFilterParts)(D,"1.1.0","ogc"):[]).concat(h(T?(0,l.toOGCFilterParts)(T,"1.1.0","ogc"):[]))))}})))},8488:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(67076),o=r(70956),i=r(13311),a=r.n(i);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const f=(0,n.compose)((0,n.withPropsOnChange)(["dependencies","options"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dependencies,r=void 0===e?{}:e,n=t.options,i=t.layer,c=void 0===i?{}:i,u=(0,o.Z5)(c,r),s=a()(Object.keys(u||{}),(function(){return"viewparams"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()})),f=u&&s&&u[s];return{options:f?l(l({},n),{},{viewParams:f}):n}})))},73339:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(67076),o=r(78718),i=r.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function t(e,r,n){return e?Object.keys(e).reduce((function(o,a){return"dependenciesMap"===a&&r[e[a]]&&r[e.mapSync]&&r[e[a]][a]&&-1===r[e[a]][a].indexOf(n)&&!o.mapSync?u(u({},o),i()(t(r[e[a]],r,n),["options","layer","quickFilters","filter","dependenciesMap"])):u(u({},o),{},l({},a,r[e[a]]))}),{}):r};const f=(0,n.withProps)((function(t){var e=t.dependenciesMap,r=t.dependencies,n=t.id;return{dependencies:e?s(e,r,n):r,dependenciesMap:e}}))},39837:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(82030),o=r(99707);const i=(0,n.Z)((function(t){var e=t.data,r=void 0===e?[]:e;return!r||0===r.length}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync;return{iconFit:t.iconFit,messageId:e?"widgets.errors.nodatainviewport":"widgets.errors.nodata",glyph:"stats"}}),o.Z)},46173:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(24852),o=r.n(n),i=r(82030),a=r(5346);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l=function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.Z)((function(t){var e=t.layers;return 0===(void 0===e?[]:e).length}),(u(t={},e?"tooltip":"title",o().createElement(a.Z,{msgId:"widgets.errors.noLegend"})),u(t,"description",!e&&o().createElement(a.Z,{msgId:"widgets.errors.noLegendDescription"})),t))}},42415:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(24852),o=r.n(n),i=r(5346),a=r(82030),c=r(99707),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===t.code?o().createElement(i.Z,{msgId:"widgets.errors.timeoutExpired"}):t.message?o().createElement(i.Z,{msgId:"widgets.errors.genericErrorWithMessage",msgParams:{message:t.message}}):o().createElement(i.Z,{msgId:"widgets.errors.genericError"})};const l=(0,a.Z)((function(t){return!!t.error}),(function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.error,i=r.layer,a=-1!==(null==n||null===(t=n.message)||void 0===t?void 0:t.indexOf("Could not locate"))?o().createElement(c.Z,{glyph:"stats",messageId:"widgets.errors.layerNotAvailable",msgParams:{layerName:null==i?void 0:i.name}}):u(n);return{glyph:-1!==(null==n||null===(e=n.message)||void 0===e?void 0:e.indexOf("Could not locate"))?null:"warning-sign",iconFit:!1,content:a}}))},13314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(67076),o=r(27361),i=r.n(o),a=r(12425),c=r(39860),u=r(52259);const l=(0,n.compose)((0,n.withProps)((function(t){var e=t.dependencies,r=void 0===e?{}:e,n=t.dependenciesMap;return{layers:r[(void 0===n?{}:n).layers]||r.layers||[],scales:(0,u.getScales)(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",i()(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),(0,n.withProps)((function(t){var e=t.layers;return{layers:(void 0===e?[]:e).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==t.group&&!1!==t.visibility&&"vector"!==t.type}))}})),a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)())},87017:(t,e,r)=>{"use strict";r.d(e,{Z:()=>T});var n=r(14293),o=r.n(n),i=r(13218),a=r.n(i),c=r(67076),u=r(49977),l=r.n(u),s=r(65633),f=r(24262),p=r(73849);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,i=void 0===n?[]:n,c=t.AggregationAttribute,u=t.AggregationFunctions;return r.map((function(t){return m(m({},i.reduce((function(e,r,n){var i=t[n];if(a()(i)){if(o()(i.time))throw new Error("Unknown response format from server");i=new Date(i.time).toISOString()}return m(m({},e),{},b({},r,i))}),{})),{},b({},"".concat(u[0],"(").concat(c,")"),t[t.length-1]))})).sort((function(t,e){var r=parseFloat(t[i]),n=parseFloat(e[i]);return isNaN(r)||isNaN(n)?t<e?-1:t>e?1:0:r-n}))},v=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes||n.classificationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.classificationAttribute===e.classificationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,c=t.onLoadError,u=void 0===c?function(){}:c;return(0,s.Z)((0,f.ZA)(r),m(m({featureType:r.name},n),{},{filter:o}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:g(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}],classifications:{dataKey:n.classificationAttribute},xAxis:{dataKey:t.GroupByAttributes[0]}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(u)})).startWith({loading:!0})}))};const h=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:v}})),p.Z);var O=r(84596),w=r.n(O),S=r(89734),P=r.n(S),j=r(86850);function A(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).features,e=(arguments.length>1?arguments[1]:void 0).groupByAttributes;return P()(t.map((function(t){return t.properties})),e)},C=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.Tt)(r)&&n&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.classificationAttribute===e.classificationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,c=t.onLoadError,u=void 0===c?function(){}:c;return(0,j.Mc)(r,o,{propertyName:n.classificationAttribute?[].concat(A(w()(n.aggregationAttribute)),A(w()(n.groupByAttributes)),A(w()(n.classificationAttribute))):[].concat(A(w()(n.aggregationAttribute)),A(w()(n.groupByAttributes)))}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:D(t,n),series:[{dataKey:n.aggregationAttribute}],classifications:{dataKey:n.classificationAttribute},xAxis:{dataKey:n.groupByAttributes}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(u)})).startWith({loading:!0})}))};const x=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:C}})),p.Z),T=(0,c.branch)((function(t){var e=t.options,r=void 0===e?{}:e;return!r.aggregateFunction||"None"===r.aggregateFunction}),x,h)},39860:(t,e,r)=>{"use strict";r.d(e,{E6:()=>I,tR:()=>x,AV:()=>T,G5:()=>C,um:()=>k});var n=r(67076);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,a=void 0===o?[]:o,c=t.toggleMaximize,u=void 0===c?function(){}:c,l=t.dataGrid,s=void 0===l?{}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showMaximize?[].concat((e=a,function(t){if(Array.isArray(t))return i(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:n.widget?"resize-small":"resize-full",target:"icons",tooltipId:"widgets.widget.menu.".concat(n.widget?"minimize":"maximize"),tooltipPosition:"right",visible:!s.static,onClick:function(){return u()}}]):a}})));function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=r(24852),p=r.n(f),y=r(80717),d=function(t){return"icons"===t.target},m=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(d).length>0},b=r(27244);function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=r(80681),h=r(5346),O=r(15135);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S=function(t){var e=t.target,r=t.visible;return(void 0===r||r)&&"menu"===e},P=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(S).length>0},j=(0,O.Z)(v.MenuItem);function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){return"tools"===t.target},D=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(E).length>0},C=function(){return(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,c=void 0===a?{}:a,u=t.canEdit,s=t.updateProperty,f=void 0===s?function(){}:s,p=t.hide,y=void 0!==p&&p;return{widgetTools:c.showHide?[].concat((e=i,function(t){if(Array.isArray(t))return l(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"lock",target:"menu",active:y,textId:y?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:y?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:!n.widget&&u,onClick:function(){return f("hide",!y)}}]):i}})))},x=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.dataGrid,i=void 0===o?{}:o,a=t.canEdit,u=t.onEdit,l=void 0===u?function(){}:u,s=t.toggleDeleteConfirm,f=void 0===s?function(){}:s;return{widgetTools:a?[].concat((e=n,function(t){if(Array.isArray(t))return c(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pencil",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return f(!0)}}]):n}}))},T=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.data,i=t.title,a=t.exportCSV,c=void 0===a?function(){}:a;return{widgetTools:[].concat((e=n,function(t){if(Array.isArray(t))return u(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return c({data:o,title:i})}}])}}))},I=function(){return(0,n.compose)((0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,c=void 0===a?{}:a,u=t.updateProperty,l=void 0===u?function(){}:u,f=t.dataGrid,p=void 0===f?{}:f;return{widgetTools:c.showPin?[].concat((e=i,function(t){if(Array.isArray(t))return s(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pushpin",bsStyle:p.static&&"primary",glyphClassName:p.static?"active":void 0,tooltipId:p.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",visible:!n.widget,onClick:function(){return l("dataGrid.static",!p.static)}}]):i}}))),(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,i=t.widgetTools,a=void 0===i?[]:i,c=t.dataGrid,u=void 0===c?{}:c,l=t.toggleCollapse,s=void 0===l?function(){}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showCollapse?[].concat((e=a,function(t){if(Array.isArray(t))return o(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!n.widget&&!u.static,onClick:function(){return s()}}]):a}}))),a,(0,n.compose)((0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.title,i=t.description,a=t.widgetType;return{widgetTools:i&&"text"!==a?[].concat((e=n,function(t){if(Array.isArray(t))return g(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i,id:(0,b.slug)(o)},target:"icons"}]):n}}))))},k=function(){return(0,n.compose)((0,n.compose)((0,n.withPropsOnChange)(["topLeftItems","widgetTools"],(function(t){var e,r=t.topLeftItems,n=void 0===r?[]:r,o=t.widgetTools;return{topLeftItems:D(o)?[].concat((e=n,function(t){if(Array.isArray(t))return A(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(y.Z,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(E)})]):n}}))),(0,n.compose)((0,n.withPropsOnChange)(["icons","widgetTools"],(function(t){var e=t.icons,r=void 0===e?[]:e,n=t.widgetTools;return{icons:m(n)?p().createElement(y.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:n.filter(d)}):r}}))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.className,r=void 0===e?"widget-menu":e,o=t.menuIcon,i=void 0===o?"option-vertical":o;return(0,n.withProps)((function(t){var e,n=t.widgetTools,o=t.topRightItems,a=void 0===o?[]:o;return{topRightItems:P(n)?[].concat((e=a,function(t){if(Array.isArray(t))return w(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(v.ButtonToolbar,null,p().createElement(v.DropdownButton,{pullRight:!0,bsStyle:"default",className:r,title:p().createElement(v.Glyphicon,{glyph:i}),noCaret:!0,id:"dropdown-no-caret"},n.filter(S).map((function(t,e){var r=t.onClick,n=void 0===r?function(){}:r,o=t.disabled,i=void 0!==o&&o,a=t.glyph,c=t.glyphClassName,u=t.text,l=t.textId,s=t.tooltipId,f=t.active;return p().createElement(j,{active:f,tooltipId:s,onSelect:n,disabled:i,eventKey:e},p().createElement(v.Glyphicon,{className:c,glyph:a}),l?p().createElement(h.Z,{msgId:l}):u)}))))]):a}}))}())}},70956:(t,e,r)=>{"use strict";r.d(e,{Z5:()=>g,r$:()=>v});var n=r(13311),o=r.n(n),i=r(27361),a=r.n(i),c=r(41609),u=r.n(c),l=r(54061),s=r.n(l),f=r(96958),p=r(47805);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=function(t,e){return t&&t.id&&a()(o()(e.layers||[],{id:t.id}),"params",{})},v=function(t,e,r){var n=e&&r&&Object.keys(e).filter((function(t){return o()(r.propertyName,(function(e){return e===t}))})).reduce((function(t,r){return m(m({},t),{},b({},r,e[r]))}),{}),i=s()(n,(function(t,e,r){return(0,f.dJ)(m({attribute:r},e),t)}),{});if(!u()(t)||!u()(i)){var a=(0,p.composeAttributeFilters)([t,i],void 0,null==t?void 0:t.spatialFieldOperator);return m(m({},t),a)}return{}}},39589:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(67076),o=r(65633),i=r(73849),a=r(49977),c=r.n(a),u=r(24262);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,o=void 0===n?[]:n,i=t.AggregationAttribute,a=t.AggregationFunctions;return r.map((function(t){return f(f({},o.reduce((function(e,r,n){return f(f({},e),{},p({},r,t[n]))}),{})),{},p({},"".concat(a[0],"(").concat(i,")"),t[t.length-1]))}))},d=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,u.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,i=t.filter,a=t.onLoad,l=void 0===a?function(){}:a,s=t.onLoadError,p=void 0===s?function(){}:s;return(0,o.Z)((0,u.ZA)(r),f(f({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:y(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}]}})).do(l).catch((function(t){return c().Observable.of({loading:!1,error:t,data:[]}).do(p)})).startWith({loading:!0})}))};const m=(0,n.compose)((0,n.withProps)((function(){return{dataStreamFactory:d}})),i.Z)},80844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n=r(73014),o=r(42415),i=r(39837),a=r(47361),c=r(67076),u=r(27361),l=r.n(u),s=r(90253),f=r(24852),p=r.n(f);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}var d=["value","uom"];function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(){return v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v.apply(this,arguments)}var h=(0,n.Z)(),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.value,r=void 0===e?"":e,n=t.uom,o=void 0===n?"":n,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,d);return p().createElement(s.iF,v({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},i),p().createElement(a.Z,{value:r}),p().createElement("span",{style:{fontSize:"75%"}},o))};const w=(0,c.compose)(h,o.Z,i.Z)((function(t){var e=t.series,r=void 0===e?[]:e,n=t.data,o=void 0===n?[]:n,i=t.options,a=void 0===i?{}:i,c=t.style,u=void 0===c?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:c;return p().createElement("div",{className:"counter-widget-view"},r.map((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dataKey,e=arguments.length>1?arguments[1]:void 0;return p().createElement(O,{key:t,uom:l()(a,"seriesOptions[".concat(e,"].uom")),value:o[0][t],style:b({textAlign:"center"},u)})})))}))},70919:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n=r(24852),o=r.n(n),i=r(14293),a=r.n(i),c=r(13218),u=r.n(c),l=r(38064),s=r(80681),f=r(1036),p=r(62770);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d.apply(this,arguments)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const v=function(t){var e=t.layers,r=void 0===e?[]:e,n=t.onChange,i=void 0===n?function(){}:n,c=t.legendProps,y=void 0===c?{}:c,m=t.currentZoomLvl,g=t.disableOpacitySlider,v=void 0===g||g,h=t.disableVisibility,O=void 0===h||h,w=t.scales,S=t.language,P=t.currentLocale;return o().createElement(l.Z,{className:"compact-legend-grid",size:"sm",items:r.map((function(t){return{title:t.title&&u()(t.title)&&(t.title[P]||t.title.default)||t.title,preview:O?null:o().createElement(s.Glyphicon,{className:"text-primary",glyph:t.visibility?"eye-open":"eye-close"}),style:{opacity:t.visibility?1:.4},body:t.visibility?o().createElement("div",null,o().createElement(s.Grid,{fluid:!0},o().createElement(s.Row,null,o().createElement(s.Col,{xs:12,className:"ms-legend-container"},o().createElement(p.Z,d({node:b({},t),currentZoomLvl:m,scales:w,language:S},y))))),!v&&o().createElement("div",{className:"mapstore-slider",onClick:function(t){t.stopPropagation()}},o().createElement(f.Z,{disabled:!t.visibility,start:[a()(t.opacity)?100:Math.round(100*t.opacity)],range:{min:0,max:100},onChange:function(e){return i(t.id,"layers",{opacity:parseFloat((e[0]/100).toFixed(2))})}}))):null}}))})}},92936:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r(67076),o=r(7848),i=r(91812),a=r(37981),c=r(57068),u=r(19180),l=r(69705),s=r(1979),f=r(61928),p=r(19983);const y=(0,n.compose)(l.Z,(0,i.Z)(0),o.Z,p.Z,u.Z,s.dY,s.yM,a.Z,c.e)(f.Z)},99707:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(24852),o=r.n(n),i=r(80681),a=r(45697),c=r(5346);function u(t){var e=t.glyph,r=void 0===e?"info-sign":e,n=t.messageId,a=t.msgParams,u=void 0===a?{}:a;return o().createElement("div",{className:"ms-widget-empty-message"},o().createElement(i.Glyphicon,{glyph:r})," ",o().createElement(c.Z,{msgId:n,msgParams:u}))}u.propTypes={messageId:a.PropTypes.string,glyph:a.PropTypes.string};const l=u},65633:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(84596),o=r.n(n),i=r(99767),a=r(27835);function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l=function(t){var e=t.featureType,r=t.aggregationAttribute,n=t.classificationAttribute,u=void 0===n?[]:n,l=t.groupByAttributes,s=void 0===l?[]:l,f=t.aggregateFunction,p=t.viewParams,y=t.filter,d=void 0===y?"":y,m="<wfs:GetFeature ".concat(p?'viewParams="'.concat(p,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">')+'<wfs:Query typeName="'.concat(e,'">').concat(d,"</wfs:Query></wfs:GetFeature>");return(0,a.Uh)("gs:Aggregate",[(0,i.qP)("features",(0,i.fA)("text/xml","http://geoserver/wfs","POST",m)),(0,i.qP)("aggregationAttribute",(0,i.XA)((0,i.gN)(r)))].concat(c(o()(f).map((function(t){return(0,i.qP)("function",(0,i.XA)((0,i.gN)(t)))}))),[(0,i.qP)("singlePass",(0,i.XA)((0,i.gN)("false")))],c(o()(s).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))}))),c(o()(u).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))})))),(0,i.DK)((0,i.En)("result","application/json")))};const s=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.mG)(t,l(e),{},r)}},12226:(t,e,r)=>{"use strict";r.d(e,{B:()=>o});var n=r(62651);function o(t,e){return(0,n.U)(t)(e)}},12993:()=>{},78699:()=>{},1386:()=>{}}]);